(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{426:function(e,t,n){},432:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(33),s=n.n(r),i=n(9),o=n.n(i),l=n(15),d=n(3),u=n(4),j=n(22),b=n(16),p=n(13),m=n(7),h=n.n(m),O=n(8),x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAxCAYAAADUQffnAAAHCElEQVR4Xu1bzVIbRxDuXiHsW0hVkH2L/QQmT2A4ICon4ycIPiD7ZvkJLJ4AfLOXQ+AJAqeU5QPyE1g8QeSbLVIV+WYW2E71ales9me6R6wUy9m5UZqd7umvu+eb7gGhHHNrAZxbzUvFoQRvjp2gBK8Eb44tMMeql5FXgjfHFphj1cvIK8GbYwvMsepl5JXgzYcFlrZOlhaqFw8qDi4RwUpSa0ToXvk0+Hu//r7IHS1vt1ccgIeEuMTrEtEqOtADwh7/zXLPzxfeDw7WBjZy/5PIqzXaZKNk1ty+W1fpzoAtLl4+B6AmAATGU44uAXUqjnP86fV6R/nNaNrdZ3/e86nyEgg2LeR2AfDI8xZeaYBUGcBWcWn+LMCb0Hh5qveI4PHZfr0r7S1wllsXu0CwJc01/D4AwL2+u75jWuO7BG95u72FCLsWHi/a2XFwTYpATo+IcFKYXIQD77z6Ii8KvzvwQuB+F9GwnCCBV2u83QRAlmuTmjVadD2vupYF4HcFXpAq/coHjQERYERKCOAeAPxssqQJPBu5AUEBeK+Rea0PHvXd9ccpgqWBftpz7j57t+r7xOkmc0heH31Ua7QPAOA3g76nANTquxtHWXOGevirAMjn1RiYJh1qjTY7TIq9JmQcEsFe/Nzk87FavdhEhJbkPAj44rO7vhdfUx15SbobX8Qn6tyEXhcI3j95Ucfe/tmtr2odkdMgAjYJ4CF/kweeJk0TwZOz/To7VuYYMuILBsbkeAPPq96Pp08jeNaMDeGAfHilYWXxXRQBnrQGAO303Q32cKtxp/GuSUAtx8HNLMJSa7T/gmHazRl6ubVGm9nsA+1aueAtN97usudZ7XQ0GVsSzZ09eHDYd+s3oe8pU8gOAx/7bt0A7PiSivV6fbd+P/oqBV4Ywnz+SDnciCshvDp7U1eBLymtOfNCms5nj2Fgy3EuDz+9/jWobNx01BpvWwD4Mm+drHNKkilFn+Nc3Y/0T4G3vN0+QQTj2RCyJQb3B7My9DiPHBQdebyexeU/qJ446HQQL08nBfNOo92JzsQsO8QNLYEW/S45RPz8HAPP9CED5hM04+dZcCZeOXuA+ChHubEwz9tAEZEXgscRZaT8OTpwRaODRB2sXB1rwRScxSplRnpJtoif3SPwwnTJh2/qkikxNVOoE8EvEoGRFNakTd68tI7W+4mgU6ngjlRRMYEn2SxPlxAHZs2ZI77uCLyQVXFJKTUkAMLqwh/Z4mS2JRldCx7Ll1KZFsBwXm5N08bIljKN6T8TPNNFU6rgm4yv8cAiwVPemWzsOQCgJ8mzW9JZs+88JbQRPYo8wwcDIhCr6XkkR7MJyRA2kZc4+JntCqRKh2OSfHwzkaej2bpNZswa9N36j6avpwEey7MpPyl2l7onaiNEsfZoiuQUQHTc39/gHuHwxbRkPBvhWXNvknZ5vUkiL6kHM2PyFzYJiK84fBWyZqXJfQhsU3TaLFvJWFxziP8NeElDsYffvn25Ehai2ZMNZanh10knksjRTO55AtoDx8FUO8ImGiXKLXlbEZEn6WtmzNHX40UH6UI9ST1VqpVmVlhMKWASD5KMFf+9CPC4ug9IDy68xR3N+48s/ZaftveQ4Hme7kknUnAFVZEikifZAWC8Vhpnm7nVCamlYQPUJHleE3mxKOg5Dj6Roj0TvOHzidwufJYeUurURl9IVLg2m1vITuIwAk/wOr4urEmVkvFo4q72wi4RHZt6WRrCZAleoAZXSRwH9z6/WT/WOpdQ1/3Sd+up6pMm3UrOr2wGpOSPwAtb+VweyxsDAmqeuRuHJmMEqcSB59evp9IVlp+220GDMxoVgBVCGOsSx39HguYVjN81k81fw/nTI6AjLkLnvY288/TdI9+npqkgb+qSyNGX7UwBA76qPKJhJ9349iXLAcYK01LODw0aFHEhNCYSDYLHpEj3gAIKngj7NHgW1f9cP0nTdnN7JrFQUHiQuiexbz56XnUl7ywNI4ePnUIKAhmbzuxFjoEXKsHAiLRZm4qycv43AJ5efYAvRLAqHRkheWHbFQ3gqedVV1Wvx4oH8JuMPC14KuCixUIA+a1KUc5v7P7nPoOQ7zC6/Wd1k6cReaHhuJbJF+4bez+fcRfn1ZbttWPo/F4Thk9IJtXjIz/PlxrZxgdIrMitxcstAuK3H2pvGr6JxCN0Lo+yGpvTAC9ypdB4/HyPQbQtg50i4EGe3jp3Hc6Kgaiq3vA3YcP7QGLnkR7qp38RpScfVgj8FDMiwl6lgr2vXxe6tt5qY5RJ5obvMVnn1LucSO9J7oVaXa4dKuM/k8AZoAPdSeRbgadVtpw3GwuU4M3GzlORUoI3FbPOZtESvNnYeSpSSvCmYtbZLFqCNxs7T0VKCd5UzDqbRUvwZmPnqUj5F5DmUW7R2BkgAAAAAElFTkSuQmCC",v=n(188),f=n(1),g=function(e){var t=e.title;return Object(f.jsxs)(v.a,{children:[Object(f.jsx)("meta",{charSet:"utf-8"}),Object(f.jsx)("title",{children:t||"eISO System"})]})},_={baseUrl:"http://3.136.78.128:8000/api/v1",toastTiming:2e3},A=n(74),y=function(){var e=null,t="";return{getToken:function(){return e},getDecodedToken:function(){return e?Object(A.a)(e):null},setToken:function(t){return e=t,!0},removeToken:function(){return e=null,!0},logout:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/logout"),{},{withCredentials:!0});case 3:return window.localStorage.setItem("logout",Date.now()),e=null,t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.response),t.abrupt("return",!1);case 13:case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),getMessage:function(){return t},setMessage:function(e){return t=e,!0}}}(),N=function(){var e=Object(j.g)(),t=_.toastTiming,n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)({username:"",password:""}),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(a.useState)(!1),v=Object(d.a)(m,2),A=v[0],N=v[1];Object(a.useEffect)((function(){""!==l.username&&""!==l.password?s((function(){return!0})):s((function(){return!1}))}),[l]);var D=function(e){b((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsx)("div",{className:"c-Login__Card",children:Object(f.jsxs)("form",{onSubmit:function(t){var n=t.target.username.value,a=t.target.password.value;t.preventDefault(),N((function(){return!0})),h.a.defaults.withCredentials=!0,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/login"),{username:n,password:a}).then((function(t){var n=t.data.results;console.log(n);var a=t.data.results.token;y.setToken(a),console.log(y.getToken()),h.a.defaults.headers.common.Authorization="bearer ".concat(a),N((function(){return!1})),e.push("/dashboard")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),N((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:l.username||"",onChange:D,placeholder:"Username"})]}),Object(f.jsxs)("div",{className:"c-Card__Password",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",value:l.password||"",onChange:D,placeholder:"Password"}),Object(f.jsx)("a",{href:"/forgot-password",className:"c-Card__Forgot-password",children:"Forgot password?"})]}),r?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:A?"Loading...":"Login"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Login"})]})})})})]})},D=function(e){var t=e.isValid,n=e.text,a=t?"text-success":"text-danger";return Object(f.jsx)("li",{className:a,children:n})},T=function(e){var t=e.validity,n=t.minChar,a=t.number,c=t.specialChar,r=t.match;return Object(f.jsxs)("div",{className:"c-Card__Password-criteria",children:[Object(f.jsx)("div",{className:"c-Password-criteria__Header",children:Object(f.jsx)("b",{children:"Password Criteria"})}),Object(f.jsxs)("ul",{children:[Object(f.jsx)(D,{isValid:n,text:"Have at least 8 characters"}),Object(f.jsx)(D,{isValid:a,text:"Have at least 1 number"}),Object(f.jsx)(D,{isValid:c,text:"Have at least 1 special character"}),Object(f.jsx)(D,{isValid:r,text:"Passwords must match"})]})]})},S=function(e){e.match;var t=y.getToken(),n=y.getDecodedToken();console.log("------------Decoded Token-------------"),console.log(n);var c=n.company_name,r=n.admin_level,s=_.toastTiming,i=/\d/,o=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,l=Object(j.g)(),b=Object(a.useState)(!1),m=Object(d.a)(b,2),v=m[0],A=m[1],N=Object(a.useState)({firstName:"",lastName:"",username:"",password:"",confirmPassword:"",addressLineOne:"",addressLineTwo:"",city:"",state:"",country:"",postalCode:""}),D=Object(d.a)(N,2),S=D[0],I=D[1],C=Object(a.useState)(!1),M=Object(d.a)(C,2),F=M[0],E=M[1],w=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),k=Object(d.a)(w,2),B=k[0],P=k[1],q=Object(a.useState)(!1),R=Object(d.a)(q,2),H=R[0],Y=R[1];Object(a.useEffect)((function(){""!==S.firstName&&""!==S.lastName&&""!==S.username&&""!==S.password&&""!==S.confirmPassword?A((function(){return!0})):A((function(){return!1})),P((function(){return{minChar:S.password.length>=8,number:!!i.test(S.password),specialChar:!!o.test(S.password),match:S.password===S.confirmPassword}}))}),[S]);var L=function(e,a,c,r,s,i,o,d,u,j,b,p){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:a,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:u,country:j,postal_code:b},title:p}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),Y((function(){return!1}))}))},U=function(e,a,c,r,s,i,o,d,u,j,b,p){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:a,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:u,country:j,postal_code:b},title:p}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),Y((function(){return!1}))}))},z=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Create Account"}),Object(f.jsx)("div",{className:"c-Create-account",children:Object(f.jsx)("div",{className:"l-Create-account__Card",children:Object(f.jsx)("div",{className:"c-Create-account__Card",children:Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.firstName.value,a=e.target.lastName.value,c=e.target.username.value,s=n.email,i=e.target.password.value,o=e.target.addressLineOne.value,l=e.target.addressLineTwo.value,d=e.target.city.value,u=e.target.state.value,j=e.target.country.value,b=e.target.postalCode.value,p="placeholder";e.preventDefault(),Y((function(){return!0})),2===r?U(t,a,c,s,i,o,l,d,u,j,b,p):0===r&&L(t,a,c,s,i,o,l,d,u,j,b,p)},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsxs)("div",{className:"c-Card__Form-title",children:[Object(f.jsx)("h5",{children:Object(f.jsx)("b",{children:"Create Your Account"})}),Object(f.jsxs)("p",{children:["Hello, ",n.name,"! You are invited to eISO as a ",2===r?"super admin":"normal user"," by ",2===r?"the platform admin":c||"Error","."]})]}),Object(f.jsx)("div",{className:"c-Card__Form-input-title",children:Object(f.jsx)("b",{children:"Basic Details"})}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-first-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{type:"text",name:"firstName",value:S.firstName||"",onChange:z,placeholder:"First Name"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{type:"text",name:"lastName",value:S.lastName||"",onChange:z,placeholder:"Last Name"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-second-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"addressLineOne",children:"Address Line One"}),Object(f.jsx)("input",{type:"text",name:"addressLineOne",value:S.addressLineOne||"",onChange:z,placeholder:"Address Line One"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"addressLineTwo",children:"Address Line Two"}),Object(f.jsx)("input",{type:"text",name:"addressLineTwo",value:S.addressLineTwo||"",onChange:z,placeholder:"Address Line Two"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-third-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{type:"text",name:"city",value:S.city||"",onChange:z,placeholder:"City"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{type:"text",name:"state",value:S.state||"",onChange:z,placeholder:"State"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-fourth-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{type:"text",name:"country",value:S.country||"",onChange:z,placeholder:"Country"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{type:"text",name:"postalCode",value:S.postalCode||"",onChange:z,placeholder:"Postal Code"})]})]}),Object(f.jsx)("div",{className:"c-Card__Basic-details-fifth-row row",children:Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:S.username||"",onChange:z,placeholder:"Username"})]})}),Object(f.jsx)("div",{className:"c-Card__Form-input-title",children:Object(f.jsx)("b",{children:"Password Info"})}),Object(f.jsxs)("div",{className:"c-Card__Password-info row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{onFocus:function(){return E(!0)},type:"password",name:"password",value:S.password||"",onChange:z,placeholder:"Password"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",name:"confirmPassword",value:S.confirmPassword||"",onChange:z,placeholder:"confirmPassword"})]})]}),F&&Object(f.jsx)(T,{validity:B}),Object(f.jsx)("div",{className:"c-Card__Submit-btn",children:v&&!0===B.minChar&&!0===B.number&&!0===B.specialChar&&!0===B.match?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:H?"Loading...":"Create Account"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Create Account"})}),Object(f.jsx)("div",{className:"c-Card__Terms-message",children:Object(f.jsxs)("p",{children:["By creating an account, you agree to our ",Object(f.jsx)("a",{href:"#",children:"Terms of Service"})," and ",Object(f.jsx)("a",{href:"#",children:"Privacy Policy"})]})})]})})})})]})},I=n(10),C=n.n(I),M=n(437),F=n(438),E=n(439),w=function(e){var t=e.username,n=e.date,a=e.title,c=e.content,r=e.link;return t&&(t="@"+t),Object(f.jsxs)("div",{className:"l-Announcements-bento-box",children:[Object(f.jsx)("div",{className:"l-Announcements-bento-box__Top-line"}),Object(f.jsxs)("div",{className:"c-Announcements-bento-box",children:[Object(f.jsxs)("div",{className:"c-Announcements-bento-box__Account",children:[Object(f.jsx)("h1",{children:t}),Object(f.jsx)("p",{children:n})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"c-Announcements-bento-box__Content",children:[Object(f.jsx)("h1",{children:a}),Object(f.jsx)("p",{children:c})]}),Object(f.jsx)("div",{className:"c-Announcements-bento-box__Link",children:Object(f.jsx)(b.b,{to:"/".concat(r),children:"View more"})})]})]})},k=function(e){localStorage.setItem("sideNavStatus",e)},B=function(e){var t=e.isEditor,n=e.organisationContent,c=e.heading,r=e.type,s=y.getToken(),i=y.getDecodedToken(),o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(void 0),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)(void 0),g=Object(d.a)(v,2),_=g[0],A=g[1];Object(a.useEffect)((function(){void 0!==n[r]&&null!==n[r]?(x((function(){return n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):n[r]})),A((function(){return n[r]}))):null===n[r]&&(x((function(){})),A((function(){})))}),[n]);var N=function(e){A((function(){return e.target.value})),x((function(){return e.target.value.split("\n").length>1?e.target.value.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e.target.value}))},D=function(e){if("cancel"===e)A((function(){return n[r]})),x((function(){return void 0!==n[r]&&n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):n[r]}));else if("save"===e){var t;"companyScope"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/scopes"):"companyReferences"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/references"):"companyTerms"===r&&(t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/terms")),h.a.post(t,{content:_},{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:[c," has been updated!"]})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),A((function(){return n[r]})),x((function(){return void 0!==n[r]&&n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):n[r]})),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}j((function(e){return!e}))};return console.log(t),Object(f.jsx)("div",{className:"l-Dashboard-Info-Cards",children:Object(f.jsxs)("div",{className:"c-Dashboard-Info-Cards",children:[Object(f.jsxs)("div",{className:"c-Dashboard-Info-Cards__Heading",children:[c||"Data not found!",t?u?null:Object(f.jsx)("button",{type:"button",onClick:function(){return D("edit")},className:"c-Btn c-Btn--link",children:"Edit"}):null]}),Object(f.jsx)("div",{className:"c-Dashboard-Info-Cards__Content",children:u?Object(f.jsx)("textarea",{className:"c-Content__Textarea",value:_,onChange:N}):m||"Data not found!"}),Object(f.jsx)("div",{className:"c-Dashboard-Info-Cards__Btn",children:u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",onClick:function(){return D("save")},className:"c-Btn c-Btn--primary",children:"Save"}),Object(f.jsx)("button",{type:"button",onClick:function(){return D("cancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]}):null})]})})},P="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAGfAZ8DAREAAhEBAxEB/8QAhQABAAIDAQEBAAAAAAAAAAAAAAYHAwQFCAIBAQEAAAAAAAAAAAAAAAAAAAAAEAEAAQMCAgUIBQkHAgcAAAAAAQIDBBEFMQYhQVESB2FxgaEiMhMUkbFCYiPB0VJygpKishXhwkNTcyQXM5Njg8M0VCVVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBl5mHh2vi5d+3j2/07tUURPm14gi24+KnKOHM02btzNrjqsUz3f3qtIBHczxpvzMxhbZTTHVXfuTM/u0xp6wci/wCLfNtyfY+WsR1dyzMz/FVINX/k/nT/AOZT/wBq3+YH7HihznExPzdE+SbVvT1QDbx/Fzmq3MfEoxr1PX3rdVM/TTV+QHYwvGmdYjO2vo66rFzWf3a4j6wSXbfE3lHNmKasqrEuT9nIpmmNezvRrAJNYv2Mi1F2xdovWp4XLdUVU/TGoMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOVv3M+y7FZ+JuGRFFcxrRYp9q9V5qI6QVrvvi5u2V3rW1WowbM9EXa9K70x/LT6wQjMzs7OvTezL9zIuzxru1TVPrBrAAAAAAAA3du3fc9tuxdwMm5jVx126piJ88cJBO9h8YMu1NNre8eL9vhOTYiKbkeWqj3Z9GgLI2ffdp3fH+Pt2TRfo+1THRXT5KqZ6YBvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Lt21ZtV3btdNu1biaq7lU6U0xHXMyCsubPFiqZrxNg6I6Yqz6o6f8AyqZ/mkFbZGRfyL1d/IuVXr1c613K5mqqZntmQYQAAAAAAAAAAAbODuGbt+TTk4V6vHv0e7ctzpP9oLS5S8VcfKqow987uPkTpTRmUxpaqn78fYny8PMCxImJiJiYmJjWJjpiYnsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABp7pu2BtWDczc67FjHt8ap4zPVTTHXM9gKU5x553LmK9NqJnH2yifwsWJ97ThVd04z5OEAi4AAAAAAAAAAAAAAAJpyR4iZeyVUYWfNWRtMzpEca7OvXR20/d+gFy4eVjZeNbysa5Tex71MVW7lM6xMSDMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV3PcsPbcG7nZlyLWPZjWuqfVER1zPUCiObebM7mPP+NembeJamYxcWJ9miO2e2qeuQcEAAAAAAAAAAAAAAAAAEr5H53yOXsv4V6aru03p/Gs669yf8yiO3tjrBd+PkWMqxbyMeuLti7TFdu5TOsVUzwmAZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAflVVNFM11zFNFMTNVU9EREdMzIKO8QOcrm/7h8DHqmNqxapixT/mVcJu1f3fICJAAAAAAAAAAAAAAAAAAAAnvhnzpO25VO0Z1z/6/Iq/Arqnos3Z/u1fWC4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAV14sc1zjY8bFiV6X8imK82qJ921PCj9vr8gKlAAAAAAAAAAAAAAAAAAAAABdnhnzXO77V8jlV97cMGIpmZ43LXCmrzxwkEzAAAAAAAAAAAAAAAAAAAAAAAAAABp7tumPtW25O4ZH/AEsaia5jrmeFNMeeegHnbcc/J3HPv52TV3r+RXNyuezXhEeSI6IBqgAAAAAAAAAAAAAAAAAAAAA6nLe9Xtk3nG3C1rpaq0vUR9q1V0V0/R6weh7F+1kWLd+zVFdm7TFduuOE01RrEgyAAAAAAAAAAAAAAAAAAAAAAAAAArPxi32aaMXZLVXTV/uMqI7OFumfXIKsAAAAAAAAAAAAAAAAAAAAAAABcnhJvs5mx3Ntu1a3tvq/D14zZuTrH7tWsAnYAAAAAAAAAAAAAAAAAAAAAAAAGsR0zOkR0zPkB535q3WrdeYs7OmdaLl6abXkt0ezTp6I1ByAAAAAAAAAAAAAAAAAAAAAAAASnw33b+nc24venSzl6413s9v3Z/e0BewAAAAAAAAAAAAAAAAAAAAAAAAOPzhuM7dyzuOXTOldFmqm3PZXX7FPrqB54iNI07AAAAAAAAAAAAAAAAAAAAAAAAAZLdy5auUXbc6XLdUV0T2VUzrE/SD0lt2ZRm7fjZtHu5Fqi7H7dMSDZAAAAAAAAAAAAAAAAAAAAAAABBvF3Lm1yxbsRPTk5FFMx92iJqn1xAKZAAAAAAAAAAAAAAAAAAAAAAAAABfPhtmTlcnbfMzrVZ79mr9iudP4ZgEmAAAAAAAAAAAAAAAAAAAAAAABWXjVen4W02Y66r1c/RREAq0AAAAAAAAAAAAAAAAAAAAAAAAAFyeD16a+W8i1M6/CyqpjzVUU/mBOwAAAAAAAAAAAAAAAAAAAAAAAVV40/wDu9r/07n80ArUAAAAAAAAAAAAAAAAAAAAAAAAAFt+DFcztO409VN+iY9NE/mBYgAAAAAAAAAAAAAAAAAAAAAAAKt8arc/G2m51TTdp+iaZ/KCsgAAAAAAAAAAAAAAAAAAAAAAAAAW/4N29Nhzq9PfyIjXt7tH9oLAAAAAAAAAAAAAAAAAAAAAAAABXnjNjzVtO35GnRav10TP+pRr/AOmCowAAAAAAAAAAAAAAAAAAAAAAAAAXb4T4/wALlGivT/r37tyJ8kaUf3ATIAAAAAAAAAAAAAAAAAAAAAAAEV8TML5rk/LmI1qx5ov0/sVaVT+7MgooAAAAAAAAAAAAAAAAAAAAAAAAAHoflDCnB5Y23GmNKqbFNVcdlVft1euoHYAAAAAAAAAAAAAAAAAAAAAAABgzcO3mYV/EuRrbyLdVqqPJXEwDzbkY93GyLuNdjS7Yrqt1+eidJ+oGEAAAAAAAAAAAAAAAAAAAAAAAHR5f22rc97wsCI1jIvU01x9yJ1r/AIYkHo6IimIpjhHRHmgAAAAAAAAAAAAAAAAAAAAAAAAAFKeKmzTt/M1WXRTpY3GmL0T1fEj2a4/KCFgAAAAAAAAAAAAAAAAAAAAAAAsXwd2abu45W7Xafw8Wj4Fmf/Eue99FMAtoAAAAAAAAAAAAAAAAAAAAAAAAAEW8RtgneOW7s2qe9l4MzfsRHGdI9umPPT64gFEgAAAAAAAAAAAAAAAAAAAAAA+6KK7ldNuimaq65imimOMzM6REA9C8pbFTsewY2DpHx4j4mVVHXer6avo4egHXAAAAAAAAAAAAAAAAAAAAAAAAAABRniLyxOyb9Xcs06YGbM3caeqmqZ9u36J4eQETAAAAAAAAAAAAAAAAAAAAABPfCrlidw3Wd3yKNcPBn8HXhXf6v3I6QXEAAAAAAAAAAAAAAAAAAAAAAAAAAADkc0cvYu/7PdwL2lNc+3j3f0Lke7Pm6pBQGdhZWDm3sPKom3kWKpouUT1TH5J6gawAAAAAAAAAAAAAAAAAAAOjsWy5u87pZ2/Ep1uXZ9qvqooj3q6vJAPQOz7VibVttjb8WnSzYp0ieuqftVVeWqQboAAAAAAAAAAAAAAAAAAAAAAAAAAAAIZ4icjxveJ89hUxG7Y9OkUx0fGoj7E/ej7P0ApaqmqmqaaommqmZiqmeiYmOMTAPgAAAAAAAAAAAAAAAAAGbGxsjKyLePj26rt+7VFNu3TGs1TPVAL05H5Pscu7fpXpc3HIiJyr0dMR2W6Z/Rp9YJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB+IHh5TusV7ptVEUblEa3rEdEX4jrj7/1gqC5buW7lVu5TNFyiZproqjSYmOMTEgxgAAAAAAAAAAAAAAAz4eJk5mTbxsW1VeyLs923bojWZmQXVyLyHY2CzGVk6X91u06V1x002onjRR+WQS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEU5y8P8Df6asmzMYu6RHs39PZuadVyI/m4gprdtn3LaM2rE3CxVZvR7uvTTVHbTVwqgGgAAAAAAAAAAAAADq8v8t7rvuX8vgWu9ET+Lfq6LduO2qr8nEF0cp8l7Vy9Y1tR8fOrjS9l1x7U/doj7NIJEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS3XZtt3bEnF3CxTfszw73vUz201R00z5gVbzJ4TbliTXf2Wqc7Hjp+Xq0i9THk6q/rBBL1m7Zu1Wr1FVq7T0VW64mmqPRIMQAAAAAAAAANjEw8vMv04+JZryL9XRTbt0zVV9EAsLlrwjv3JoyN/ufCo4/J2p1rn9euOiPNALNwdvwtvxqMXCs0Y+PR7tu3GkefyyDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzt45e2beLfc3HEovzwpuTGlynzVx0ggm7+DduZmvaM2aOyxkxrHorp6fpiQQ/cfD/m7AmZu7fXetx/iWNLtOnb7PTHpgHBu2b1mqabtuq3VHRMV0zT9YMWsTwAAAmYjjIM1jGyciuKLFmu7VVwiimatfoBItu8OObs6YmMKca3P+JkzFvT9mda/UCY7P4OYNuabm7ZdWRPXYsfh0eaap9qfUCc7Xs+1bVZ+Dt+LbxrfCe5Gkz+tVxkG6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmZnMuw4eVbxMncbNrJuVRTTamqNYmeHe0930g6YAAAAAAAMV/Hx8iNMizbvR2XKKa/wCaJBzL/J/Kt+db21Y1X7Hd/lmAav8Ax7yV/wDl2vpq/OBHh7yVExP9KtTp1TNUx9YNzH5T5XxZibG141Exw9iKv5tQdSzas2ae7Zt0Wqf0bdMUR9FMQD6AAAAAAB+V10UUVV11RTRTGtVUzpERHXMgwYedhZtmL2Fft5Fqft2qorj1A2AAAAAAAAAAAAAAAAAAAAAAAAAAR/mXnjY9hpmjIufGzNNacS1pNfk708KI84Kt5h8SeYt2mq1aufIYc9EWbEzFUx96570+gETnpmZnpmemZBNeT/ErcNnijD3DvZm2x0UzM63bUfdmfej7sgt3a9227dsWMrAv037M8Zp40z2VRxpnzg3AAAAAAAAAAAAAAAAAAc3fOYdp2PG+Y3C/FuJ1+HajpuVzHVTT1gp3m/xA3XmCqrHo1xNsifZxqZ6a/Ldq6/NwBHtv3PcNvvxfwci5jXo+3bqmNfPHCfSCw+XPF65TNGPv9nv08PnbMaVR5a7fX6AWTt+5YO4Y1OThX6MixVwronWPNPZPkkGyAAAAAAAAAAAAAAAAAAAAADFfv2MezXfv3KbVm3E1XLlc6U0xHXMyCrOb/FW/fmvC2CZs2PdrzpjS5V/pxPux5eIK7rrruVTXXVNVdU61VVTMzMz1zMg+AAAb217xuW05UZO35FePfjjNM+zVHZVTwqjzgs/lnxcwMruY++2/lL89HzVETNmqfvR71HrBPsfIx8i1Tex7lN+xX003LdUVUz5pgGQAAAAAAAAAAAAAGvnZ2FgWKsjMv0Y9injcuTFMf2grvmXxdt0xVj7Da79XCc29GlMfqUdfnkFa5udmZ+TXk5l6vIyK/euXJ1nzeSPJANYAAHR2Xf8Adtmyoyduv1Wq/t0caK4jqrp4SC4uUPEDbd/inHu6Ym56dOPM+zX2zbqnj5uIJYAAAAAAAAAAAAAAAAAAADT3Xd8DasK5m512LVi31zxqnqppjrmQUjzfzvuHMV+aJ1x9uonWziRPHsquae9V9QI0AAAAAADo7Tv28bRd+Jt2VXjzM61UROtFX61E60yCf7L4yzHdt7zh69uXjfXNur8kgm+1c38tbrEfJ59uq5P+DXPw7nm7tWmvoB2AAAAAAAAAJ6I1nhHGQcLdueOV9riYyM+iu7H+DY/Gr/h6I9Mggu9eMWbdiq1s2JTj0z0RkX/br9FEezHpBA9x3Xctyv8Ax8/JuZN3qmudYj9WOEegGmAAAAAD7pqqoqiuiqaa6Z1pqpnSYmOExMAtTkPxLjIm3tW/XIi/OlGLnVdEVzwim52VfeBZAAAAAAAAAAAAAAAAAANLd92wdpwLufnXPh49qOn9KqeqmmOuZBRXNfNefzFnzfv/AIeNbmYxsaJ9mintntqnrkHCAAAAAAAAAAB1tt5p5j26IjD3C9aop4W5q79EfsV96n1AkmD4vczWdIyLOPlUx20zbqn00zMeoHaxvGnHnT5raq4nr+Dcif5ogHRteMHLNUfiWcm1PZ3Iq+qQZ/8Alrk3/Myf+xP5wP8Alrk39PJ/7E/nBr3vGLlqiPwsfJuz2d2mj65Bzcrxqo0n5Tapmer492I/kiQcPN8Wuar8TFiLGJTPCaKO/VHprmY9QI3uHMO+bjrGdn3r9M8aKq5ij9yNKfUDmgAAAAAAAAAAs7w68QJiq3s28XtaZ0pwsuuemJ6rVdU/wyC0QAAAAAAAAAAAAAAAY8rJx8XHuZORci1YsUzXduVdERTHGQURzrzfkcx7h3o1t7fYmYxLE9n6dX3qvUCNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt3w154nOop2Xc7mubbjTEvVT03aI+xMz9uPXALCAAAAAAAAAAAAAABT/ifzlOflVbNhXP9jj1f7mumei7dp6v1aPrBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZLV27Zu0XrNc27tuqKrddM6TTVHTEwC9uRebbfMW1RVcmKdxxtKMu3HXPVcpjsq+sElAAAAAAAAAAAABDvEnmz+ibV8ri16bjnRNNuY427fCq55+qAUiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq8tb9lbFu1nPsazTTPdv2uqu3PvUz+Tyg9BYObjZ2DZzMWv4mPkURXbqjsnt8sdYNgAAAAAAAAAAGDNzcfCxL2Zk1dyxYom5cqnqiAeeuYt6yN73e/uF/om7Olqj9C3HuUx5oBzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWT4S80fBv1bBk1/hXpm5hTPVc410ftcYBawAAAAAAAAAAKy8XuY5pps7Bj1+9pfzdOz/Don6wVaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLYv3se/bv2apov2qort1xxiqmdYkHoXljfbW+bHjbjRpFdyO7foj7N2norj6ekHVAAAAAAAABrbln2NvwMjNvzpZx7dVyvy92OEeWeEA867puORuW45GfkTreya5rq8mvCmPJEdANMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+8JeYZw92ubTeq/wBvn9NrXhTeoj+9T0AuEAAAAAAAAFceMG+/BwsbZrVXt5M/GydP8uifYj01dPoBU4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM2Pfu49+3fs1TRdsVU126o4xVTOsT9IPRWxbra3XaMTcbemmRbiqqmPs18K6fRUDfAAAAAAA6I6Z4RxB555u3id45hzM2KtbU1/Dx/9K37NOnn4g4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALU8G9671nM2a5V025+ZxYnsq6K4j06SCywAAAAAAR/nzd52zlbNv01d2/dp+Xszwnv3ujo81OsgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHa5O3f8ApXM2DmzV3bUXIt3+z4dz2atfNrr6AehQAAAAAAVb4zbprc27aqZ6KYqyLseWfZoifomQVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0Pyhun9T5Z2/Lme9cqtRRdnr79v2KtfPpqDsAAAAAAoLn/AHH+oc3bhcidbdquLFv9W1Gn16gjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALc8G9w+JtGbgVT0416LtEfduxpPrpBYYAAAAMWTfox8e7frnSm1RVXVPZFMag81X79d+/cv1+/erquVeeuZqn6wYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATjwizfgcz148zpTl49VPnqomKqfygucAAAAHG5yuXrfK26VWaaqrvy9dMRREzPtR3Zno7I6QeeQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDkO7dtc37XXapqr/ABtKqaYmZ7tVM0zOkdUcQX+AAD//2Q==",q=n(191),R=n(0),H=function(e){var t=e.sideNavStatus,n=e.setSideNavStatus,c=Object(j.g)(),r=y.getDecodedToken(),s=r.display_name,i=r.username,u=r.email,b=(r.company_alias,r.company_name),p=Object(a.useState)(!1),m=Object(d.a)(p,2),h=m[0],v=m[1],g=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.logout();case 2:e.sent?(Object(O.b)("Logged out successfully"),c.push("/login")):Object(O.b)("Logged out failed");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{className:"l-left",children:[Object(f.jsx)("div",{className:"c-Hamburger",children:Object(f.jsx)("button",{onClick:function(){k(!t),n((function(e){return!e}))},children:Object(f.jsx)(R.b.Provider,{value:{color:"#1666BA",size:"21px"},children:Object(f.jsx)(q.a,{})})})}),Object(f.jsxs)("div",{className:"c-Logo",children:[Object(f.jsx)("a",{href:"/dashboard",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)("p",{children:b||""})]})]}),Object(f.jsx)("div",{className:"l-right",children:Object(f.jsxs)("div",{className:"l-Profile",children:[Object(f.jsxs)("div",{className:"c-Profile",children:[Object(f.jsx)("button",{onClick:function(){v((function(e){return!e}))},children:Object(f.jsx)("img",{src:P,alt:"Profile img"})}),h?Object(f.jsx)("div",{className:"l-ProfilePopUp",children:Object(f.jsxs)("div",{className:"c-ProfilePopUp",children:[Object(f.jsxs)("div",{className:"c-ProfilePopUp__top",children:[Object(f.jsx)("img",{src:P,alt:"Profile img"}),Object(f.jsx)("h1",{children:s||"Error"}),Object(f.jsxs)("h2",{children:["@",i||"Error"]}),Object(f.jsx)("h2",{children:u||"Error"})]}),Object(f.jsxs)("div",{className:"c-ProfilePopUp__bottom",children:[Object(f.jsx)("a",{href:"/settings/manage-account",children:"Manage Account"}),Object(f.jsx)("hr",{}),Object(f.jsx)("button",{onClick:g,children:"Log Out"})]})]})}):null]}),Object(f.jsx)("div",{className:"c-ProfileName",children:Object(f.jsx)("h1",{children:s||"Error"})})]})})]})},Y=function(){return Object(f.jsx)(M.a,{className:"l-Footer",children:Object(f.jsxs)("footer",{className:"c-Footer",children:[Object(f.jsxs)(F.a,{className:"c-Footer__top",children:[Object(f.jsx)(E.a,{md:12,xl:4,className:"c-Footer__img",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAABhCAYAAAC5+x8XAAANcElEQVR4Xu1di7EltRGVIjBEYBOB1xEYIjBEYIjAEIEhAkMEhggMERgiMERgE4EhArnOs0SJuTNS/zSS3u2perVbdTX6HPXpbrVamhj8cQQcgdsRiLe36A06Ao5AcOK5EDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4TygDKaW3Qgi/r4b+Q4zxp9cIRUrpTQjhNydj+znG+P2sMT8N8VJKf5wFct1ujPG7O/qRxwuhq/+oTf8nhIA/CCYI+W0IYaqg9jqex/tuCKH89V45/o6xYpzfxhi/4b7MLf9MxEtccEaUjzEOwTxbsT+FED7Mwjei+4WEENDvZlqMPN4/V0SDFbd8XkgYQvgqxgglZPoMEQLTHhpVllJ6lcRLKUHDQwBBuBnP1yGEr2OMX93ReCbcX0IIH4cQrMl2NYQvQwifWRLQiXeHtFRtWFm8lNLvQgh/H2jduMjAGoKEX4ywhJMId8TAjIBOPK54KctriVcJ4KfKrox6HZbBtG8pJVjzv91o4XrYfB5j/KRXqPW7E0+DnuBdDfFyhA5WDgGTVR9T4qWUMN5ZbnQLY6z/PpBGg514N4uvlHiZdP9cSOtfIWdCvGzZ/7GQK302XgRdQD72toQTbwPiLehqtVBTEy8rGZAO69jVH6xtP4oxYn1Lfpx4ZKhsCnItXg6i/GsDS1cAUhEvWzqMdwfS1ULxB47lc+LZ8Ilci4B4EMKV13THsWuJB3caWyS7PXA7QT5SBpAT7+bp5RAvpfR5CAF7VlbPj4eMlFIvrEuxMFcpVtQ+iImXUkI09K/Uhojlfs4ZOCgOcpRx4t/fEuugFkPWy3uUws9EPIoWRfQMm9GSBxvI2OdpPjFGRMO6T3a5/tst2C+AFDX0C5vcJG2c236/ygrhCKiIeCkltId1ncUDspUxX+Kd15KQC2zGc8bY6iP2MVFfWw56BZ7pd6XGFQncFb4pJUwe9q6kD6zbh1SitxrJAgpioE9nCcf162wcMtH/bbSOhQL8mKpkSsfz3FPGR5mP93q432bxjhnxdyULU1A6gC91ddgC1xF2CKI0wADSveEKHwWrHGGFS3hlIdg4KBVe6TasHAjX9Toayg5uNt6vT25QYDmW6bqc5sQ7ZIljIJR8OvjeJSkVR1TY+yISdI7vKAWALXAdAUBQRfp0Na604kpJwUXDGvQopCwcjKwdSPeuhdzk/kAWteRrzoGaeIOy4rEWwaQOyQxvCLxmcc8SuI61g1Ajuid6OAEcUQPVSyfKioWDUtmVnmATm7WP1sEfngaUf8+tblXTtHpi4t2YtGqWmNoTMqUQsASuM/Ga9d1PMca3e2O1/D2vAYuLxsIhpaRxqTEMUjCDO16jYM87VycaRMRLKWEddOexDFjATzT+OwX4hYinsbwY6uWEU3C4q0xeLyIXU/oMW8uiQyklWFGccZQ+8NhO80xZxFsgf06dFd6xNBqBZ2n6gf0YZgWk0nf1XkoJVlK6fYNqzTA/62M+6yh2+bFvGGN856xuMvEWyp/DftQH1kKQNdxrIR6GgwjfFyNwsqrTwM0cbtlTSljraQItp30kEc+A+VZzVeoZoulekatZcEK0+NO7TodzJjnnoGJ9J32+iTFib3HoY+AOI4H6YYujS7yFj6OYRrIWs3iWWRxFMMt2DQR2ynZNzZBRAm3NQoMMotN1XpN4uVH4uNokXaQtIUACDYy6LPLkUB/MOCkNijIhC1k87H1apIu1hg0igoD4w8VF5hf6dNax2vXdcDez9F/pbp5GmXvE02SKI3UHbs7lhOa0KKyrpPslp2acQrKLxfQSa7xsfbVrCy4M5Qaxl2vuRmcWpZQ0py5w1SAlMYOLwWl5gyDQg5K4JJ5iXQfrhhxBkgbNVhXaTxK2vYwaSRBfxeIZuL2S4R/fKURESN3cIipvfbtlfVdZPGwJaLY9HrJYWsSTaCTRvkomHzStJEPczOotRrw73E0OQU2v8VMSb0hw7QoMhREqVdKIp1j4sk7hGi22zbTfSsTLVs/6PB6HaFdlSzofMkbE6+snI95DIPDU4gn3V9SpO8JFrFmK1ILEg9WTegIWJGvV8ULAGONn3IYMLAiymKCUbnkMtj4eLPQD8RSNqDPiFSeuTSJcqxEvWz1EgRGBlAagRgsn+gZ3n7Smz2NSJYGHENSyxgXF2kKfEU+UoGuREa8QfJN1nqJ9zOOwdUfeS12ZfLB+IANpf9DA4r1K4kkSQ3GGTrvXh6RUqSY0EfpViVdZCczNqpaPTD7FPF8GK7gWjFv+DouHjVvuHgncDPHJ3woEbKxLbg1Wry8NQvgm5G8JhHLrhStrkvKkpAYnXgi/cjUNAJFMlsU72GeiXGbUbGtli3eIAF+d/rbAUltHN4ndQM5eV3DFABDtpEnffyriFZDytg88hCU+ullNXncNZu26SQWH8p4BL9r7eAYNUMYxosxTEq8iYHHRQUJJEoL1nFweAK36rPle4XC3/sTD0JzL6xJPk6toPXmc+p6aeAchAQlxugF/0yxhL8qttHhmSRMUITO4atGJ1wleaBTPrVqYIjA5YFS+gY51If6vOdRJbRblmu6mMFmitG+WNEEZ0PAkaWVwgTKGUWXc4jGQzUuKmpAj3NOmIhohzAwIWEWVJyl+jDE+3I96jGpqND5rMMaFnXgKQHO2ElxTrBGtLGJznafIBy4jNUma6MF2y0FYBRj1hyF6Yxnx+/eU++p7DSst/pKuZm/Mx9+zDCAPUrtR31SGBgLdva2ZO/az8gbru/7VD4qoponFsQBKU4cT7//oKY9plSnoyoRynYd2THJ0O+t+7b2f/cuOFMS7dbGrIVcHZI2rbWbx8r2lwHTaLWE5P1RzjTyFeNpjTyYZS1cyoeBDqfJ0fYcfj2s8LAKlNz8N1z6jCFfqXcXiVaF2JB3DVSElH1vjk1JCKqA08NJVRAa3NSNFDWdAyScjOBgpgypoin6hrcL8D9U+HMCkZRckXhkK7q5hn3uT4lApIpyIkO4FdomX3VoNuVHFkLWeUhYKhPQr3BVn4kgJslphGPm+EmySoFH6f7G5fLv1U2p80vWLioBeDaVp7qaBm920dg+uZtZA0qM53cYoQkctk8HBNxzeon7+tlf34sQr3YcVAslJX5btjbmxvtEsO1Dt29SrIZQubRmCyfaC4T2yzaXX1dUPsF7ScLIJAA2BwJElfBccgZCXp5eeRBW+TYhXhjPslmiDb2SwUrqMrB5wUV1bn4Mp+Bw091jcUcS6uapXxNNE99CJL2OMH1EFnlKu+iwYNnl/lQnwpMQrsEFJ4iwkLCAiieILiCqPB5+A1hxsJrmZ9bwbWT1UyfYIcgIBvCfJWdAz8e0GGq+IB8ZDo0qtHjpjopGz6YeFuwSFQrz8pdoex9GGFHwIf/cwMOWiWGUCMdaCOKkOAUQ4uxvxy9iAaMhe0Z5rvAyht8AfcL0Fxg8cYH0fMKg+qFrGrLVyLJe3da+m6O6VE3ChgV/uZAwh4IqIpiBUgEAAAEoXECLxNMdQeoQl/z6xryDk0RpSP5VNHl8vObpDPu3Fsa3qIXf4gzxprHmrja6L+cvyqAOENtR7Vf1ZYECsaScKM0cgyetRpcVj98nwBfWWkiKqbjgMUVU/5O+wk1z93rcTVr9abjth3klJMMWPJXgdhX/3dyOYQ30ojlzlNz1vrn6L+pmula+WI0U1V7Eir5R4ZqTLAR64g1iaSDfvtUTivI/PFrzPzS7qEi8DsbTl20mYd+orUfpMSVe3aXBmjzgEcTHx2EnEy+TDGgxRO2nunnh0vRd3Euad+trDvZWLSHiXVMRwj4/UHqMQOZByVieZeJULgD0+hPeXeXYSZmJfJZcK3zkfcK/wKbah2TNlQHmrAZisoPSxnsNGfXfrqDUhLOJVQKxk/UhZEjut8bKSK5cWWZ4K15ITQocPlfySNaStkPN+tn5oewYBX8aex0+KXJoTryJguS5A8lFJDubHsvCtoXFweWp3gzgL8jb7eMfBZo1fbg6zupqBgz/whtABb7XQcRo+K3szAU0JV8YjsngngjH6SjkMHm7NSzYClWx1P3ezeFfCmRMMSnLByFvD8GVf4I30P5Jy0xKK+37OrSyZJ5YKCa50yXzBsSNzZWNCvAsNDaGAgICUCA9TgYF2LZ8BxoTjPpUpB0G5gjCrfLaIwLncHFZn+7RC8iBXeSBo2+JdKaRyjSHGBTx6aY8FA4z9RbnfoWiGEI8igFlb4XoDJxUFMC+jQiAnQkM5LSFz04inQtFfdgQ2R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R+B/Ko8pvJqFIPEAAAAASUVORK5CYII=",alt:"eISO Logo"})}),Object(f.jsxs)(E.a,{md:12,xl:4,className:"c-Footer__company",children:[Object(f.jsx)("h1",{children:"Company"}),Object(f.jsxs)("p",{children:["78B Telok Blangah Street 32,",Object(f.jsx)("br",{})," #03-06, Singapore 102078"]}),Object(f.jsx)("a",{href:"#",children:"Contact Us"})]}),Object(f.jsxs)(E.a,{md:12,xl:4,className:"c-Footer__legal",children:[Object(f.jsx)("h1",{children:"Legal"}),Object(f.jsx)("a",{href:"#",children:"Privacy Policy"}),Object(f.jsx)("a",{href:"#",children:"Terms Of Service"})]})]}),Object(f.jsx)("hr",{className:"c-Footer__hr"}),Object(f.jsx)(F.a,{className:"c-Footer__caption",children:Object(f.jsx)("p",{children:"Copyright \xa9 2021 Associates Consulting Pte Ltd. All rights reserved."})})]})})},L=n(19),U=function(e){var t=e.sideNavListObj,n=e.index,c=e.activeLink,r=(y.getToken(),y.getDecodedToken()),s=r.employee_id,i=r.company_id,u=Object(a.useState)(null),j=Object(d.a)(u,2),p=j[0],m=j[1],O=Object(a.useState)([]),x=Object(d.a)(O,2),v=x[0],g=x[1],_=Object(a.useState)((function(){return c===t.link})),A=Object(d.a)(_,2),N=A[0],D=A[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function n(){var a,c,r,l,d,u,j;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/employees/").concat(s));case 3:if(a=n.sent,!e){n.next=20;break}if(m((function(){return a.data.results.admin_level})),"/training"!==t.link){n.next=20;break}return n.next=9,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/edit/m07_03a/employees"));case 9:return c=n.sent,n.next=12,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/approve/m07_03a/employees"));case 12:r=n.sent,l=c.data.results,d=r.data.results,u=!1,j=!1,void 0!==l&&l.every((function(e){return e.employee_id!==s||(u=!0,!1)})),void 0!==d&&d.every((function(e){return e.employee_id!==s||(j=!0,!1)})),g((function(e){return[{"7.3a":{edit:u,approve:j}}]}));case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(0),m((function(){return null})),console.log(n.t0);case 26:case"end":return n.stop()}}),n,null,[[0,22]])})))(),function(){e=!1}}),[]);var T=function(){D((function(){return!N}))};return Object(f.jsxs)(f.Fragment,{children:[t.link===c?Object(f.jsxs)("div",{className:"c-Sidenav__Links-header--active c-Sidenav__Links-header",onClick:T,children:[Object(f.jsx)("p",{children:t.display}),N?Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(L.b,{})}):Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(L.a,{})})]},""+n):Object(f.jsxs)("div",{className:"c-Sidenav__Links-header ",onClick:T,children:[Object(f.jsx)("p",{children:t.display}),N?Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(L.b,{})}):Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(L.a,{})})]},""+n),Object(f.jsx)("div",{className:"l-Sidenav__Sub-links--outer",children:N?Object(f.jsx)("div",{className:"l-Sidenav__Sub-links--inner",children:t.subLinksArr.map((function(e,n){var a=!1;if("Organisation Settings"===e.header&&3===p)a=!0;else if("Organisation Settings"===e.header&&2!==p)return null;if("Training Pages"===e.header){var c=!1,r=!1;if(v.every((function(e){var t=Object.keys(e)[0];return"7.3a"!==t||(c=e[t].edit,r=e[t].approve,!1)})),!c&&!r)return"You do not have access to this section."}return Object(f.jsxs)("div",{className:"c-Sidenav__Sub-links",children:[Object(f.jsx)("h2",{className:"c-Sub-links__Header",children:e.header},""+n),e.subLinks.map((function(n){if("Training Pages"===e.header){var c=!1,r=!1;if(v.every((function(e){var t=Object.keys(e)[0];return"7.3a"!==t||(c=e[t].edit,r=e[t].approve,!1)})),("/requests"===n.link||"/records"===n.link)&&!c)return null;if(("/manage/requests"===n.link||"/manage/records"===n.link)&&!r)return null}return!a||"/manage-users"!==n.link&&"/manage-organization"!==n.link?Object(f.jsx)(b.b,{to:t.link+n.link,className:"c-Sub-links__Links",children:n.display},""+n.link):null})),t.subLinksArr.length-1!==n?Object(f.jsx)("hr",{className:"c-Sub-links__HR"}):null]},n)}))}):null})]})},z=[{link:"/dashboard",display:"Dashboard"},{link:"/announcements",display:"Announcements"},{link:"/swot",display:"4.1 SWOT"},{link:"/interested-party",display:"4.2 Interested Party"},{link:"/scope-of-qms",display:"4.3 Scope of QMS"},{link:"/company-policy",display:"5.2 Company Policy"},{link:"/responsibility-n-authority",display:"5.3 Resp. & Authority"},{link:"/risk-n-opportunity",display:"6.1 Risk & Opp."},{link:"/objective-achievement-program",display:"6.2 Obj. Achiv. Program"},{link:"/equipment-maintenance",display:"7.1 Equipment Maintenance Program"},{link:"/licenses",display:"7.2 Permits Licenses"},{link:"/training",display:"7.3 Training",subLinksArr:[{header:"Training Pages",subLinks:[{link:"/requests",display:"My Requests"},{link:"/records",display:"My Records"},{link:"/manage/requests",display:"Incoming Requests"},{link:"/manage/records",display:"Assigned Records"},{link:"/post-evaluation-templates",display:"Manage Post Evaluation Templates"}]}]},{link:"/settings",display:"Settings",minHeight:"380.8px",subLinksArr:[{header:"Overview",subLinks:[{link:"",display:"Settings Overview"}]},{header:"User Settings",subLinks:[{link:"/manage-account",display:"Manage Account"},{link:"/notifications",display:"Notifications"}]},{header:"Organisation Settings",subLinks:[{link:"/manage-organization",display:"Manage Organization"},{link:"/manage-users",display:"Manage Users"},{link:"/manage-invites",display:"Manage Invites"},{link:"/induction-templates",display:"Manage Induction Templates"}]}]}],Q=function(e){var t=e.sideNavStatus,n=e.activeLink,a="100%";return!1===t&&(a="0px"),Object(f.jsx)("div",{className:"c-Sidenav",style:{width:a},children:z.map((function(e,t){return"subLinksArr"in e?Object(f.jsx)(U,{activeLink:n,index:t,sideNavListObj:e},t):e.link===n?Object(f.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header--active c-Sidenav__Links-header ",children:e.display},""+t):Object(f.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header ",children:e.display},""+t)}))})},V=function(e){var t=e.sideNavStatus,n=e.setSideNavStatus,a=e.title,c=e.activeLink,r=e.children;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{title:a}),Object(f.jsx)(H,{sideNavStatus:t,setSideNavStatus:n}),Object(f.jsxs)("main",{className:"l-Main__Outer",children:[Object(f.jsx)(Q,{sideNavStatus:t,activeLink:c}),Object(f.jsxs)("div",{className:t?"l-Main__Inner l-Main__Inner--uncollapsed":"l-Main__Inner l-Main__Inner--collapsed",children:[r,Object(f.jsx)(Y,{})]})]})]})},W=function(){var e=localStorage.getItem("sideNavStatus")||null;return null==e||"true"===e?(k(!0),!0):(k(!1),!1)},J=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.display_name,c=t.company_id,r=t.employee_id,s=_.toastTiming,i={headers:{Authorization:"Bearer ".concat(e)}},o=["companyScope","companyReferences","companyTerms"],l=[h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/scopes"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/references"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/terms"),i)],j=[h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m01_01/employees"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m02_01/employees"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m03_01/employees"),i)],m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({companyScope:void 0,companyReferences:void 0,companyTerms:void 0}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({companyScope:!1,companyReferences:!1,companyTerms:!1}),I=Object(d.a)(S,2),k=I[0],P=I[1];return Object(a.useEffect)((function(){Promise.all(l).then((function(e){e.forEach((function(e,t){200===e.status&&T((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(p.a)({},o[t],e.data.content))}))}))})).catch((function(e){console.log(e)})),Promise.all(j).then((function(e){e.forEach((function(e,t){if(200===e.status){var n=!1;e.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),!0===n&&P((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(p.a)({},o[t],!0))}))}}))})).catch((function(e){console.log(e)}))}),[]),console.log(k),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Dashboard",activeLink:"/dashboard",children:Object(f.jsxs)(M.a,{className:"c-Dashboard",children:[Object(f.jsxs)(F.a,{className:"c-Dashboard__Welcome",children:[Object(f.jsx)("h1",{children:"Welcome!"}),Object(f.jsx)("h2",{children:n||"Error in retrieving name"})]}),Object(f.jsxs)(F.a,{className:"c-Dashboard__Latest-announcements",children:[Object(f.jsx)("div",{className:"c-Latest-announcements__Heading",children:Object(f.jsx)("h1",{children:"Latest Announcements"})}),Object(f.jsxs)(F.a,{className:"c-Latest-announcements__Content",children:[Object(f.jsx)(E.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(f.jsx)(w,{username:"BobSong",date:C()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly."})}),Object(f.jsx)(E.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(f.jsx)(w,{username:"BobSong",date:C()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n"})})]}),Object(f.jsx)("div",{className:"c-Latest-announcements__Link",children:Object(f.jsx)(b.b,{to:"/announcements",children:"View more Announcements"})})]}),Object(f.jsxs)("div",{className:"c-Dashboard__Organisation-info",children:[Object(f.jsx)("div",{className:"c-Organisation-Info__Heading",children:Object(f.jsx)("h1",{children:"Your organisation"})}),Object(f.jsxs)("div",{className:"l-Organisation-Info__Info-Cards",children:[Object(f.jsx)(B,{isEditor:k.companyReferences,organisationContent:D,type:"companyScope",heading:"Scope"}),Object(f.jsx)(B,{isEditor:k.companyScope,organisationContent:D,type:"companyReferences",heading:"Normative References"}),Object(f.jsx)(B,{isEditor:k.companyTerms,organisationContent:D,type:"companyTerms",heading:"Terms and definition"})]})]})]})})]})},G=n(6),X=function(e){var t=e.id,n=e.username,a=e.date,c=e.title,r=e.content,s=Object(j.g)();return Object(f.jsxs)("div",{className:"c-Announcements-list-item",onClick:function(){s.push("/announcements/view/".concat(t))},children:[Object(f.jsxs)("div",{className:"c-Announcements-list-item__Content",children:[Object(f.jsxs)("h1",{children:["@",n]}),Object(f.jsx)("h3",{children:a}),Object(f.jsx)("h2",{children:c}),Object(f.jsx)("p",{children:r})]}),Object(f.jsx)("hr",{})]})},Z=function(){var e=_.toastTiming,t=Object(j.g)(),n=Object(a.useState)(W),c=Object(d.a)(n,2),r=c[0],s=c[1],i=[{id:1,username:"BobSong",date:C()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:2,username:"BobSong",date:C()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:3,username:"BobSong",date:C()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:r,setSideNavStatus:s,title:"Announcements",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-Announcements c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Announcements"})]}),Object(f.jsxs)("div",{className:"c-Announcements__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Announcements"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/announcements/create")},children:"Create announcements"})]}),Object(f.jsx)("div",{className:"c-Announcements__Filter"}),Object(f.jsx)("div",{className:"c-Announcements__List",children:i?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{}),i.map((function(e,t){return Object(f.jsx)(X,{id:e.id,username:e.username,date:e.date,title:e.title,content:e.content},t)}))]}):Object(f.jsx)("p",{children:"No records found."})})]})})]})},K=function(e){e.match.params.aid;var t=_.toastTiming,n=Object(a.useState)(W),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:r,setSideNavStatus:s,title:"View Announcement",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-View-announcements c-Main",children:[Object(f.jsxs)(G.a,{className:"c-View-announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/announcements",children:"Announcements"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Announcement"})]}),Object(f.jsx)("div",{className:"c-View-announcements__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"View Announcement"})}),Object(f.jsxs)("div",{className:"c-View-announcements__Content",children:[Object(f.jsxs)("div",{className:"c-Content__Top",children:[Object(f.jsx)("hr",{}),Object(f.jsx)("h1",{children:"@BobSong"}),Object(f.jsx)("h3",{children:"10 Nov 2021, 3:45PM"}),Object(f.jsx)("p",{children:Object(f.jsx)("i",{children:"This announcement was sent to all employee's email of this company"})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"c-Content__Main",children:[Object(f.jsx)("h1",{children:"Important: Double check for roles"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Hi all, ",Object(f.jsx)("br",{}),"I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"Regards,",Object(f.jsx)("br",{}),"Bob Song"]})]}),Object(f.jsxs)("div",{className:"c-Content__Attachments",children:[Object(f.jsx)("p",{children:Object(f.jsx)("i",{children:"2 Attachments"})}),Object(f.jsx)("div",{className:"c-Content__Attachments-section"})]}),Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"c-View-announcements__Danger",children:[Object(f.jsx)("h1",{children:"Danger Zone"}),Object(f.jsxs)("div",{className:"c-Danger__Row",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Delete"}),Object(f.jsx)("p",{children:"This action cannot be reversed."})]})]})]})})]})},$=n(63),ee=n(21),te=n(38),ne=function(){var e=_.toastTiming,t=y.getDecodedToken().company_id,n=Object(a.useState)([{label:"Swedish",value:"Swedish"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"}]),c=Object(d.a)(n,2),r=c[0],s=(c[1],Object(a.useState)([])),i=Object(d.a)(s,2),u=i[0],j=i[1],b=Object(a.useState)(W),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)((function(){return ee.EditorState.createEmpty()})),g=Object(d.a)(v,2),A=g[0],N=g[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function n(){var a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/employees"));case 3:a=n.sent,c=a.data.results,console.log(a),console.log(c),e&&j((function(){return c.map((function(e,t){return{label:"@".concat(e.account.username),value:e.account.username}}))})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"View Announcement",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-Create-announcement c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Create-announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/announcements",children:"Announcements"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Create Announcement"})]}),Object(f.jsxs)("div",{className:"c-Create-announcement__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Announcement"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Publish"})]}),Object(f.jsxs)("div",{className:"c-Create-announcement__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Fields__Recipients",children:[Object(f.jsx)("h2",{children:"Send to"}),Object(f.jsx)(te.a,{isMulti:!0,options:r,placeholder:"Select recipient group"}),Object(f.jsx)("h3",{children:"Or"}),Object(f.jsx)(te.a,{isMulti:!0,options:u,placeholder:"Select specific recipients"})]}),Object(f.jsxs)("div",{className:"c-Fields__Title",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("input",{type:"text",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Fields__Content",children:[Object(f.jsx)("h2",{children:"Content"}),Object(f.jsx)($.Editor,{editorState:A,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:N,placeholder:"Enter content"})]}),Object(f.jsxs)("div",{className:"c-Fields__More-info",children:[Object(f.jsx)("h2",{children:"More info"}),Object(f.jsx)("input",{type:"checkbox",name:"sendEmail"}),Object(f.jsx)("label",{htmlFor:"sendEmail",children:"Send announcement to specified employees via email"})]})]}),Object(f.jsx)("span",{className:"c-Fields__VL"}),Object(f.jsx)("div",{className:"c-Fields__Right",children:Object(f.jsx)("h2",{children:"Attachments"})})]})]})})]})},ae=n(12),ce=n.n(ae),re=n(17),se=n.n(re),ie=n(20),oe={ACTIVE:"Active",PENDING:"Pending",REJECTED:"Rejected",EDITING:"Editing",COLLAPSE:"Dark",NULL:null,INACTIVE:"Inactive"},le="rating",de="open",ue="bool",je="default",be="edit",pe="do",me="view",he=function(e){var t=e.TokenManager.getDecodedToken(),n=null===t||void 0===t?void 0:t.company_id,c=Object(a.useState)({swot:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots/")},interestedParty:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties/")},scopeOfQMS:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes/")},companyPolicy:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies/")},respNAuth:{},riskNOpp:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses/")},objAchivProgram:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements/")}}),r=Object(d.a)(c,2),s=r[0],i=(r[1],Object(a.useState)({swot:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/rejected")},interestedParty:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/rejected")},scopeOfQMS:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/rejected")},companyPolicy:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/rejected")},respNAuth:{},riskNOpp:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/rejected")},objAchivProgram:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/rejected")}})),o=Object(d.a)(i,2),l=o[0];o[1];return[s,l]},Oe=function(e){var t=e.message,n=e.type,a=void 0===n?"primary":n,c=e.handler,r=e.heading,s=e.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--send-invite",children:[Object(f.jsx)("h1",{children:r}),Object(f.jsx)("p",{children:t}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--"+a,onClick:function(){return c(s)},children:"Confirm"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:s,children:" Cancel"})]})]})},xe=function(e){var t=e.setQueryUrl,n=e.setTabSettings,c=e.tabSettings,r=e.docEditTableData,s=e.docEditHeaderData,i=(e.docPendingTableData,e.docPendingHeaderData),o=e.docRejectedHeaderData,l=e.pageType,j=e.isApprover,b=e.isEditor,p=e.docQueryEnum,m=e.setDocQueryEnum,x=e.editorState,v=(e.setEditorState,e.tempFileArr),g=e.startNewDoc,_=e.setStartNewDoc,A=he({TokenManager:y}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=y.getToken(),I=y.getDecodedToken().employee_id,C=Object(a.useRef)(""),M=function(e){if(console.log(r),"edit"===e)n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.EDITING,focusTabIndex:1}}));else if("editSubmit"===e){if(console.log(s),void 0===s.approvedBy||isNaN(s.approvedBy))return console.log("Error! No approver selected!"),void O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select an approver!"})]}));var a={},c="";if("swot"===l)a={strengths:r.strength.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),weaknesses:r.weakness.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:(console.log("docQueryEnum:"+p),"rejected"===p?e.parentItemID:e.id)})})),opportunities:r.opp.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),threats:r.threat.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),approved_by:parseInt(s.approvedBy)},c=D.swot.editSubmit;else if("interestedParty"===l)a={approved_by:s.approvedBy,title:s.title,interested_parties:r.map((function(e){return{interested_party:e.interested_parties,expectations:e.needs_n_expectations,display_order:e.serialNo,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.interestedParty.editSubmit;else if("scopeOfQMS"===l)a={approved_by:s.approvedBy,title:s.title,content:JSON.stringify(Object(ee.convertToRaw)(x.getCurrentContent())),boundaries:r.map((function(e){return{site_name:e.site_name,site_scope:e.site_scope,address:e.site_address,display_order:e.serialNo,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.scopeOfQMS.editSubmit;else if("companyPolicy"===l)a={approved_by:s.approvedBy,title:s.title,policies:r.map((function(e,t){return{title:e.title,content:e.content,display_order:t+1,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.companyPolicy.editSubmit;else if("respNAuth"===l);else if("riskNOpp"===l)a={approved_by:s.approvedBy,title:s.title,strengths:r.strength.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),weaknesses:r.weakness.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),opportunities:r.opp.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),threats:r.threat.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})}))},c=D.riskNOpp.editSubmit;else if("objAchivProgram"===l){var d=!1;if(r.forEach((function(e,t){(void 0===e.personel_responsible||isNaN(e.personel_responsible))&&(d=!0)})),d)return void O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select a personel responsible for all items!"})]}));var j=new FormData;j.append("approved_by",s.approvedBy),j.append("title",s.title),j.append("achievements",JSON.stringify(r));for(var b=0;b<v.length;b++)j.append(v[b].key,v[b].fileObj);return c=D.objAchivProgram.editSubmit,void h.a.post(c,j,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document submitted for approval!"})]})),t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.PENDING,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}h.a.post(c,a,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document submitted for approval!"})]})),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l&&t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.PENDING,focusTabIndex:0}})),m((function(){return"active"})),_((function(){return!1}))})).catch((function(e){console.error(e);var t=e.response.status,n=e.response.data.message;O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}else if("editCancel"===e)"rejected"===p?("swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.REJECTED,focusTabIndex:1}})),m((function(){return"rejected"}))):("swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.NULL,focusTabIndex:0}})),m((function(){return"active"})));else if("rejectedEdit"===e)console.log("edit btn click"),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.EDITING,focusTabIndex:1}})),m((function(){return"rejected"}));else if("rejectedDelete"===e){var g={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return A(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},g),{},{onClose:t}))}});var A=function(e){var a="";"swot"===l?a=D.swot.rejectedDelete+o.docID:"interestedParty"===l?a=D.interestedParty.rejectedDelete+o.docID:"scopeOfQMS"===l?a=D.scopeOfQMS.rejectedDelete+o.docID:"companyPolicy"===l?a=D.companyPolicy.rejectedDelete+o.docID:"riskNOpp"===l?a=D.riskNOpp.rejectedDelete+o.docID:"objAchivProgram"===l&&(a=D.objAchivProgram.rejectedDelete+o.docID),h.a.delete(a,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(a){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Rejected document has been deleted!"})]})),e(),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.NULL,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(t){console.log(t),e();var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}}else if("pendingApprove"===e){var y="";"swot"===l?y=D.swot.pendingApprove+i.docID:"interestedParty"===l?y=D.interestedParty.pendingApprove+i.docID:"scopeOfQMS"===l?y=D.scopeOfQMS.pendingApprove+i.docID:"companyPolicy"===l?y=D.companyPolicy.pendingApprove+i.docID:"riskNOpp"===l?y=D.riskNOpp.pendingApprove+i.docID:"objAchivProgram"===l&&(y=D.objAchivProgram.pendingApprove+i.docID),h.a.put(y,{},{headers:{Authorization:"Bearer ".concat(S)}}).then((function(e){"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document approved!"})]})),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.NULL,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(e){console.log(e);var t=e.response.status||"N.a.",n=e.response.data.message||"N.a.";O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}else if("pendingReject"===e){Object(ie.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(f.jsx)("h1",{children:"Confirm Reject?"}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(f.jsx)("h2",{children:"Remarks"}),Object(f.jsx)("textarea",{name:"pendingReject",ref:C})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return function(e){var a={remarks:C.current.value},c="";"swot"===l?c=D.swot.pendingReject+i.docID:"interestedParty"===l?c=D.interestedParty.pendingReject+i.docID:"scopeOfQMS"===l?c=D.scopeOfQMS.pendingReject+i.docID:"companyPolicy"===l?c=D.companyPolicy.pendingReject+i.docID:"riskNOpp"===l?c=D.riskNOpp.pendingReject+i.docID:"objAchivProgram"===l&&(c=D.objAchivProgram.pendingReject+i.docID),h.a.put(c,a,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(a){e(),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:oe.ACTIVE,secondTab:oe.REJECTED,focusTabIndex:1}})),m((function(){return"rejected"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been rejected!"})]}))})).catch((function(t){console.log(t),console.error(t),e();var n=t.response.status,a=t.response.data.message;O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}(a)},children:"Confirm Reject"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:a,children:" Cancel"})]})]})}})}};return c.firstTab===oe.ACTIVE&&0===c.focusTabIndex&&b?c.secondTab===oe.NULL?Object(f.jsx)("div",{className:"l-IP__Btns",children:Object(f.jsx)("button",{type:"button",onClick:function(){return M("edit")},className:"c-Btn c-Btn--primary",children:"Edit"},"edit")}):null:c.firstTab===oe.INACTIVE&&0===c.focusTabIndex&&g?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(f.jsx)("button",{type:"button",onClick:function(){return _((function(){return!1}))},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]}):c.secondTab===oe.EDITING&&1===c.focusTabIndex?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("editCancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]})}):c.secondTab===oe.REJECTED&&1===c.focusTabIndex?o.created_by_id===I?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("rejectedEdit")},className:"c-Btn c-Btn--primary",children:"Edit"},"rejectedEdit"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("rejectedDelete")},className:"c-Btn c-Btn--alert",children:"Delete"},"rejectedDelete")]}):null:c.secondTab===oe.PENDING&&1===c.focusTabIndex&&j?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("pendingApprove")},className:"c-Btn c-Btn--ok",children:"Approve"},"pendingApprove"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("pendingReject")},className:"c-Btn c-Btn--alert",children:"Reject"},"pendingReject")]}):null},ve=function(e){var t=e.deleteUrl,n=e.docHeaderUrl,a=e.setArchivedDocData,c=e.docType,r=e.idName,s=y.getToken(),i=y.getDecodedToken().company_id;return Object(f.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){var e={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return o(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},e),{},{onClose:n}))}});var o=function(e){h.a.delete(t,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){h.a.get(n,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){var n=(void 0!==t.data.results?t.data.results.filter((function(e){return"archived"===e.status})):t.data.filter((function(e){return"archived"===e.status}))).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e[r],serialNo:t+1,name:e.title,approved_on:C()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/".concat(c,"/archived/").concat(e[r]),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/").concat(c,"/").concat(e[r])})}));a((function(){return n})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document Deleted!"})]}))})).catch((function(t){console.log(t);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))})).catch((function(e){console.log(e)}))}}})})})},fe=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns,c=e.docKeyfield;return Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data!"})]})]}),Object(f.jsx)(ce.a,{keyField:c,data:n,columns:a})]})},ge=function(e){var t=e.docPendingTableData,n=(e.setDocPendingTableData,e.docPendingHeaderData),c=(e.docHeaderData,e.docTableData),r=e.docColumns,s=e.docKeyfield,i=Object(a.useState)({newRowArr:[],deletedRowArr:[],editedRowArr:[]}),o=Object(d.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)(null),b=Object(d.a)(j,2),p=b[0],m=b[1];return Object(a.useEffect)((function(){u((function(){var e=[],n=[],a=[];return t.filter((function(e,t){return null===e.parentItemID})).forEach((function(t){e.push(t.id)})),c.forEach((function(e,a){var c=!0;t.forEach((function(t,n){t.parentItemID===e.id&&(c=!1)})),!0===c&&n.push(e.id)})),t.forEach((function(e,t){c.forEach((function(t,n){e.parentItemID===t.id&&(e.interested_parties===t.interested_parties&&e.needs_n_expectations===t.needs_n_expectations||a.push(e.id))}))})),{newRowArr:e,deletedRowArr:n,editedRowArr:a}}))}),[t,c]),Object(a.useEffect)((function(){m((function(){return function(e,t){var n={};return l.newRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),l.deletedRowArr.forEach((function(t){e.id})),l.editedRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}}))}),[l]),Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{children:n.title?n.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:n.approved_by?n.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:n.created_by?n.created_by:"Failed to load data!"})]})]}),Object(f.jsx)(ce.a,{keyField:s,data:t,columns:r,rowStyle:p})]})},_e=n(26),Ae=n(30),ye=n.n(Ae),Ne=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=Object(a.useState)([]),j=Object(d.a)(l,2),b=j[0],m=j[1],O=y.getToken(),x=y.getDecodedToken(),v=x.display_name,g=x.company_id;Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{needs_n_expectations:e.needs_n_expectations_raw})}))})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;m((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var _=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Ae.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return A(t.serialNo)}})})}}],A=function(e){n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},N=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-IP__Document-title",children:Object(f.jsx)("input",{type:"text",name:"title",onChange:N,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:N,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:b?"Please select an approver":"No approver found!"}),b?b.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsx)(ce.a,{keyField:o,data:t,columns:_,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-IP__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})},De=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns,c=e.docKeyfield;return console.log(t),Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsx)(ce.a,{keyField:c,data:n,columns:a})]})},Te=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=e.tabSettings,j=e.startNewDoc,b=e.setStartNewDoc,m=y.getToken(),O=y.getDecodedToken(),x=O.company_id,v=O.display_name,g=O.employee_id,_=Object(a.useState)([]),A=Object(d.a)(_,2),N=A[0],D=A[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}]})),r((function(){return{submittedBy:"".concat(v)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Ae.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo)}})})}}],F=function(e){n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},E=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return console.log(l),console.log(l.secondTab),console.log(l===oe.NULL),console.log(oe.NULL),Object(f.jsx)("div",{className:"c-IP__Document-content c-Document",children:l.secondTab===oe.NULL?I?j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-IP__Document-title",children:Object(f.jsx)("input",{type:"text",name:"title",placeholder:"Title",onChange:E,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:E,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:N?"Please select an approver":"No approver found!"}),N?N.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsx)(ce.a,{keyField:o,data:t,columns:M,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-IP__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("div",{className:"c-IP__Document-new",children:Object(f.jsx)("button",{onClick:function(){b((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-IP__Document-new",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-IP__Document-new",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Se=function(e){var t=e.header,n=e.children;return Object(f.jsxs)("div",{className:"c-Swot-item",children:[Object(f.jsx)("h1",{className:"c-Swot-item__Header",children:t}),n]})},Ie=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsx)(Se,{header:"Strengths",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:a})}),Object(f.jsx)(Se,{header:"Weaknesses",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:a})}),Object(f.jsx)(Se,{header:"Opportunities",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:a})}),Object(f.jsx)(Se,{header:"Threats",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:a})})]})},Ce=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData,c=e.docTableData,r=e.docColumns;e.docKeyfield;console.log(t),console.log(n);var s=Object(a.useState)({newStrengthRowArr:[],newWeaknessRowArr:[],newOppRowArr:[],newThreatRowArr:[],editedStrengthRowArr:[],editedWeaknessRowArr:[],editedOppRowArr:[],editedThreatRowArr:[]}),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(null),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(a.useState)(null),h=Object(d.a)(m,2),O=h[0],x=h[1],v=Object(a.useState)(null),g=Object(d.a)(v,2),_=g[0],A=g[1],y=Object(a.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1];return Object(a.useEffect)((function(){l((function(){var e=[],t=[],a=[],r=[],s=[],i=[],o=[],l=[];return n.strength.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(t){e.push(t.id)})),n.weakness.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){t.push(e.id)})),n.opp.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){a.push(e.id)})),n.threat.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){r.push(e.id)})),n.strength.forEach((function(e,t){c.strength.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&s.push(e.id)}))})),n.weakness.forEach((function(e,t){c.weakness.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&i.push(e.id)}))})),n.opp.forEach((function(e,t){c.opp.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&o.push(e.id)}))})),n.threat.forEach((function(e,t){c.threat.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&l.push(e.id)}))})),{newStrengthRowArr:e,newWeaknessRowArr:t,newOppRowArr:a,newThreatRowArr:r,editedStrengthRowArr:s,editedWeaknessRowArr:i,editedOppRowArr:o,editedThreatRowArr:l}}))}),[n,c]),Object(a.useEffect)((function(){console.log("rowstyle chanigng"),p((function(){return function(e,t){var n={};return o.newStrengthRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedStrengthRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),x((function(){return function(e,t){var n={};return o.newWeaknessRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedWeaknessRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),A((function(){return function(e,t){var n={};return o.newOppRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedOppRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),T((function(){return function(e,t){var n={};return o.newThreatRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedThreatRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}}))}),[o]),Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(f.jsx)(Se,{header:"Strengths",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:r,rowStyle:b})}),Object(f.jsx)(Se,{header:"Weaknesses",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:r,rowStyle:O})}),Object(f.jsx)(Se,{header:"Opportunities",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:r,rowStyle:_})}),Object(f.jsx)(Se,{header:"Threats",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:r,rowStyle:D})})]})},Me=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,y.getToken()),l=y.getDecodedToken(),j=l.company_id,b=Object(a.useState)([]),m=Object(d.a)(b,2),O=m[0],x=m[1],v=l.display_name;Object(a.useEffect)((function(){r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),n((function(){return i})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[i]);var g=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return A(t.serialNo,t.type)}})})}}],_=function(e){n((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e,[].concat(Object(_e.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},A=function(e,a){console.log(t),n((function(t){var n=t[a].filter((function(t){return t.serialNo!==e}));console.log(n);var c=n.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},a,c));return console.log(r),r}))};return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(f.jsx)("option",{children:O?"Please select an approver":"No approver found!"}),O?O.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(f.jsxs)(Se,{header:"Strengths",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:g,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("strength")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Weaknesses",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:g,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("weakness")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Opportunities",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:g,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("opp")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Threats",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:g,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("threat")},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})]})},Fe=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Rejected By:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsx)(Se,{header:"Strengths",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:a})}),Object(f.jsx)(Se,{header:"Weaknesses",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:a})}),Object(f.jsx)(Se,{header:"Opportunities",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:a})}),Object(f.jsx)(Se,{header:"Threats",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:a})})]})},Ee=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=y.getToken(),m=y.getDecodedToken(),O=m.company_id,x=m.display_name,v=m.employee_id,g=Object(a.useState)([]),_=Object(d.a)(g,2),A=_[0],N=_[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){n((function(){return Object(u.a)({},i)})),r((function(){return{submittedBy:"".concat(x)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&N((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/edit/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===v&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo,t.type)}})})}}],M=function(e){n((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e,[].concat(Object(_e.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},F=function(e,a){console.log(t),n((function(t){var n=t[a].filter((function(t){return t.serialNo!==e}));console.log(n);var c=n.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},a,c));return console.log(r),r}))};return Object(f.jsx)("div",{className:"c-SWOT__Document-content c-Document",children:o.secondTab===oe.NULL?S?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(f.jsx)("option",{children:A?"Please select an approver":"No approver found!"}),A?A.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(f.jsxs)(Se,{header:"Strengths",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:C,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("strength")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Weaknesses",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:C,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("weakness")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Opportunities",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:C,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("opp")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)(Se,{header:"Threats",children:[Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:C,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("threat")},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},we=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"Active on:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"id",data:n,columns:a})]})]})},ke=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData,a=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"id",data:n,columns:a})]})]})},Be=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,e.editorState),l=e.setEditorState,j=y.getToken(),b=y.getDecodedToken().company_id,m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];localStorage.getItem("displayName");console.log(t),console.log(c),Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{site_scope:e.site_scope_raw})}))})),r((function(){return s})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){var t=e.data.results;v((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},_=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Ae.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Form name"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:g,value:c.title||""})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)($.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"serialNo",data:t,columns:_,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})},Pe=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"id",data:n,columns:a})]})]})},qe=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.editorState),l=e.setEditorState,j=e.tabSettings,b=e.startNewDoc,m=e.setStartNewDoc,O=y.getToken(),x=y.getDecodedToken(),v=x.company_id,g=(x.display_name,x.employee_id),_=Object(a.useState)([]),A=Object(d.a)(_,2),N=A[0],D=A[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}]})),r((function(){return s})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/edit/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},F=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Ae.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(f.jsx)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:j.secondTab===oe.NULL?I?b?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Form name"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:M,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:N?"Please select an approver":"No approver found!"}),N?N.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:M,value:c.title||""})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)($.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"serialNo",data:t,columns:F,cellEdit:ye()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){m((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Re=function(e){var t=e.itemTitle,n=e.itemContent,a=e.itemIndex,c=e.docType,r=e.setDocEditTableData,s=function(e){r((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},i=function(e){r((function(t){return t.map((function(t,n){return a===n?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))}))};return Object(f.jsx)(f.Fragment,{children:"editing"===c?Object(f.jsx)("div",{className:(a+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(f.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(f.jsxs)("div",{className:"c-Company-Policy-Item__Top",children:[Object(f.jsx)("input",{type:"text",name:"title",onChange:i,value:t}),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){return s(a+1)}})})]}),Object(f.jsx)("textarea",{type:"text",name:"content",onChange:i,value:n})]})}):Object(f.jsx)("div",{className:(a+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(f.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(f.jsx)("h1",{children:t||"Error"}),Object(f.jsx)("p",{children:n||"itemContent"})]})})})},He=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),n.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},Ye=function(e){var t=e.docPendingTableData,n=(e.setDocPendingTableData,e.docPendingHeaderData);e.docHeaderData,e.docTableData,e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:n.title?n.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:n.approved_by?n.approved_by:"Error"}),Object(f.jsx)("p",{children:n.created_by?n.created_by:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},Le=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,y.getToken()),l=y.getDecodedToken(),j=l.company_id,b=l.display_name,m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];Object(a.useEffect)((function(){n((function(){return Object(_e.a)(i)})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(b)})})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;v((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:n},t)})),Object(f.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})},Ue=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),n.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},ze=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=y.getToken(),m=y.getDecodedToken(),O=m.company_id,x=m.display_name,v=m.employee_id,g=Object(a.useState)([]),_=Object(d.a)(g,2),A=_[0],N=_[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,title:"Enter Input",content:"Enter input Test"}]})),r((function(){return{submittedBy:"".concat(x)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&N((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/edit/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===v&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsx)("div",{className:"c-Company-Policy__Document-content c-Document",children:o.secondTab===oe.NULL?S?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:C,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:C,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:A?"Please select an approver":"No approver found!"}),A?A.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:n},t)})),Object(f.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Qe=function(e){var t=e.docType,n=e.rnoType,c=e.rnoItemData,r=e.rnoItemIndex,s=e.docEditTableData,i=e.setDocEditTableData,o=Object(a.useState)({type:"c-RNO-item__Options-item",severity:"c-RNO-item__Options-item",likelihood:"c-RNO-item__Options-item"}),l=Object(d.a)(o,2),j=l[0],b=l[1],m=Object(a.useState)(),h=Object(d.a)(m,2),O=h[0],x=h[1];Object(a.useEffect)((function(){var e=j.type,n=j.severity,a=j.likelihood;c.type&&"opportunity"===c.type?e+=" c-RNO-item__Options-item--green":c.type&&"risk"===c.type&&(e+=" c-RNO-item__Options-item--red"),c.severity&&1===c.severity?n+=" c-RNO-item__Options-item--red":c.severity&&5===c.severity&&(n+=" c-RNO-item__Options-item--green"),c.likelihood&&1===c.likelihood?a=n+" c-RNO-item__Options-item--red":c.likelihood&&5===c.likelihood&&(a=n+" c-RNO-item__Options-item--green"),"edit"===t&&c.severity&&c.likelihood?x((function(){return c.severity*c.likelihood})):x("edit"===t?function(){return null}:function(){return c.rpn}),b((function(){return{type:e,severity:n,likelihood:a}}))}),[c]);var v=function(e){var t,a=e.target.value;"type"!==e.target.name&&(a=parseInt(a),"likelihood"===e.target.name?t=c.severity:"severity"===e.target.name&&(t=c.likelihood)),i((function(c){return Object(u.a)(Object(u.a)({},c),{},Object(p.a)({},n,c[n].map((function(n,c){var s;return r===c?Object(u.a)(Object(u.a)({},n),{},(s={},Object(p.a)(s,e.target.name,a),Object(p.a)(s,"rpn","type"!==e.target.name?a*t:n.rpn),s)):n}))))})),x((function(){return s[n][r].severity*s[n][r].likelihood}))},g=function(e){i((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},n,t[n].map((function(t,n){return r===n?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))))}))};return Object(f.jsx)("div",{className:"l-RNO-item",children:Object(f.jsxs)("div",{className:"c-RNO-item",children:[Object(f.jsxs)("div",{className:"l-RNO-item__Options",children:[Object(f.jsx)("div",{className:"c-RNO-item__Options c-RNO-item__Options--left",children:"edit"===t?function(){if(0!==s.length)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("select",{value:s[n][r].type||"",name:"type",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:"risk",children:"Risk"}),Object(f.jsx)("option",{value:"opportunity",children:"Opportunity"})]}),Object(f.jsxs)("select",{value:s[n][r].severity||"",name:"severity",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:1,children:"Negligible"}),Object(f.jsx)("option",{value:2,children:"Minor"}),Object(f.jsx)("option",{value:3,children:"Moderate"}),Object(f.jsx)("option",{value:4,children:"Major"}),Object(f.jsx)("option",{value:5,children:"Catastrophic"})]}),Object(f.jsxs)("select",{value:s[n][r].likelihood||"",name:"likelihood",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:1,children:"Rare"}),Object(f.jsx)("option",{value:2,children:"Remote"}),Object(f.jsx)("option",{value:3,children:"Occasional"}),Object(f.jsx)("option",{value:4,children:"Frequent"}),Object(f.jsx)("option",{value:5,children:"Almost Certain"})]})]})}():function(){var e=c.type,t=null,n=null;switch(c.severity){case 1:t="Negligible";break;case 2:t="Minor";break;case 3:t="Moderate";break;case 4:t="Major";break;case 5:t="Catastrophic";break;default:t="Nil"}switch(c.likelihood){case 1:n="Rare";break;case 2:n="Remote";break;case 3:n="Occasional";break;case 4:n="Frequent";break;case 5:n="Almost Certain";break;default:n="Nil"}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:j.type,children:e||"Nil"}),Object(f.jsx)("span",{className:j.severity,children:t}),Object(f.jsx)("span",{className:j.likelihood,children:n})]})}()}),Object(f.jsxs)("div",{className:"c-RNO-item__Options c-RNO-item__Options--right",children:[Object(f.jsxs)("p",{children:["RPN: ",O||"Nil"]}),Object(f.jsxs)("p",{children:["Modified: ",c.modified?c.modified:"Nil"]})]})]}),Object(f.jsxs)("div",{className:"c-RNO-item__SWOT",children:[Object(f.jsx)("p",{children:r+1}),Object(f.jsx)("p",{children:c.content})]}),Object(f.jsx)("div",{className:"c-RNO-item__Action-plan",children:"edit"===t?O<12||null===O?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(f.jsx)("input",{type:"text",name:"action",readOnly:!0,placeholder:"Rpn < 12",value:""})]}):0!==s.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(f.jsx)("input",{type:"text",name:"action",onChange:g,value:c.action||""})]}):void 0:Object(f.jsxs)("p",{children:["Action Plan: ",c.action?c.action:"Nil"]})})]})})},Ve=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},We=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData;e.docTableData,e.docColumns;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},Je=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=y.getToken(),l=y.getDecodedToken(),j=l.company_id,b=Object(a.useState)([]),m=Object(d.a)(b,2),O=m[0],x=m[1],v=l.display_name;Object(a.useEffect)((function(){r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),n((function(){return i})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-RNO__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:O?"Please select an approver":"No approver found!"}),O?O.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),0!==t.length?t.strength.map((function(e,a){return Object(f.jsx)(Qe,{docType:"edit",rnoType:"strength",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(f.jsx)("h1",{children:"Weakness"}),0!==t.length?t.weakness.map((function(e,a){return Object(f.jsx)(Qe,{docType:"edit",rnoType:"weakness",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(f.jsx)("h1",{children:"Opportunities"}),0!==t.length?t.opp.map((function(e,a){return Object(f.jsx)(Qe,{docType:"edit",rnoType:"opp",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(f.jsx)("h1",{children:"Threats"}),0!==t.length?t.threat.map((function(e,a){return Object(f.jsx)(Qe,{docType:"edit",rnoType:"threat",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null]})]})},Ge=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Rejected By:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},Xe=function(e){e.docEditTableData;var t=e.setDocEditTableData,n=(e.docEditHeaderData,e.setDocEditHeaderData),c=e.docHeaderData,r=e.docTableData,s=(e.docKeyfield,e.tabSettings,e.startNewDoc,e.setStartNewDoc,y.getToken()),i=y.getDecodedToken(),o=i.company_id,l=i.display_name,u=i.employee_id,j=Object(a.useState)([]),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(!1),O=Object(d.a)(m,2),x=(O[0],O[1]);return Object(a.useEffect)((function(){console.log(r),t((function(){return r})),n((function(){return{submittedBy:"".concat(l)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=e.data.results;void 0!==t&&p((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/edit/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===u&&(t=!0)})),!0===t&&x((function(){return!0}))})).catch((function(e){console.log(e)}))}),[c,r]),Object(f.jsx)("div",{className:"c-RNO__Document-content c-Document",children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing swot documents"}),Object(f.jsx)("p",{children:"Please proceed by having an active swot documents first"})]})})},Ze=function(e){var t=e.type;return Object(f.jsx)("div",{className:"c-Status-pill c-Status-pill--".concat(t?"active"===t||"completed"===t||"approved"===t?"active":"overdue"===t||"rejected"===t||"inactive"===t||"expired"===t?"overdue":"almostDue"===t?"almost-due":"pending"===t?"pending":"cancelled"===t?"cancelled":"Na":"active"),children:Object(f.jsx)("h1",{children:t?"active"===t?"Active":"completed"===t?"Completed":"approved"===t?"Approved":"overdue"===t?"Overdue":"expired"===t?"Expired":"rejected"===t?"Rejected":"inactive"===t?"Inactive":"almostDue"===t?"Expiring Soon":"pending"===t?"Pending":"cancelled"===t?"Cancelled":"Na":"Active"})})},Ke=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#",headerAttrs:{hidden:!0}},{dataField:"content",text:"Name",headerAttrs:{hidden:!0}}],$e=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],et=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"interested_parties",text:"Interested Parties"},{dataField:"needs_n_expectations",text:"Needs and Expectations"}],tt=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],nt=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"site_name",text:"Site Name"},{dataField:"site_address",text:"Site Address"},{dataField:"site_scope",text:"Site Scope"}],at=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],ct=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"updated_at",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],rt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],st=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],it=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"createdOn",text:"Created On",hidden:!0},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):""}}],ot=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],lt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_view",text:"View",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"View"}):"N.a."}}],dt=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"maintenanceType",text:"Maintenance Type"},{dataField:"responsible",text:"Responsible"},{dataField:"maintenanceFrequency",text:"Maintenance Frequency"},{dataField:"lastServiceDate",text:"Last Service Date"},{dataField:"status",text:"Status",formatter:function(e,t){return e.timeLeft<=0?Object(f.jsx)(Ze,{type:"overdue"}):e.timeLeft/e.frequency<.4?Object(f.jsx)(Ze,{type:"almostDue"}):Object(f.jsx)(Ze,{type:"active"})}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return e}}],ut=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate/Approval"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"status",text:"Status",formatter:function(e,t){return e.timeLeft<=0&&e.isNA?Object(f.jsx)(Ze,{type:"expired"}):e.timeLeft/e.frequency<.2&&e.isNA?Object(f.jsx)(Ze,{type:"almostDue"}):Object(f.jsx)(Ze,{type:"active"})}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],jt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate/Approval"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],bt=[{dataField:"id",text:"Id",hidden:!0},{dateField:"request_status",text:"Request Status",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"Approver"},{dataField:"supervisor_evaluation_done",text:"Evaluation (Approver)",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"trainee_evaluation_done",text:"Evaluation (Trainee)",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"attendance",text:"Attendance",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],pt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",sort:!0,formatter:function(e,t){return"cancelled"===e?Object(f.jsx)(Ze,{type:"cancelled"}):"pending"===e?Object(f.jsx)(Ze,{type:"pending"}):"rejected"===e?Object(f.jsx)(Ze,{type:"rejected"}):Object(f.jsx)(Ze,{type:"approved"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],mt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",sort:!0,formatter:function(e,t){return"cancelled"===e?Object(f.jsx)(Ze,{type:"cancelled"}):"pending"===e?Object(f.jsx)(Ze,{type:"pending"}):"rejected"===e?Object(f.jsx)(Ze,{type:"rejected"}):Object(f.jsx)(Ze,{type:"approved"})}},{dataField:"created_by",text:"Created By"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],ht=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",sort:!0,formatter:function(e,t){return"cancelled"===e?Object(f.jsx)(Ze,{type:"cancelled"}):"pending"===e?Object(f.jsx)(Ze,{type:"pending"}):"rejected"===e?Object(f.jsx)(Ze,{type:"rejected"}):Object(f.jsx)(Ze,{type:"approved"})}},{dataField:"created_by",text:"Created By"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],Ot=[{dataField:"id",text:"Id",hidden:!0},{dataField:"request_status",text:"Request status",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"supervisor_evaluation_done",text:"Evaluation (Approver)",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"trainee_evaluation_done",text:"Evaluation (Trainee)",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"attendance",text:"Attendance",formatter:function(e,t){return"cancelled"===t.request_status?Object(f.jsx)(Ze,{type:"cancelled"}):void 0===e?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)(Ze,{type:"completed"})}},{dataField:"created_by",text:"Created By"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],xt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_title",text:"Template Title"},{dataField:"version",text:"Version"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Created On"},{dataField:"status",text:"Status"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],vt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],ft=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],gt=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"form_name",text:"Form Name"},{dataField:"version_label",text:"Version Label"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)(b.b,{to:e,children:"View"})}}],_t=[{dataField:"id",text:"Id",hidden:!0},{dataField:"description",text:"Description"},{dataField:"file",text:"file"},{dataField:"done_at",text:"Done On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===t.done_at?Object(f.jsx)("p",{children:"Nil"}):Object(f.jsx)(Ze,{type:"active"})}},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Mark Done"})}}],At=n(36),yt=n.n(At),Nt=function(e){var t=e.docType,n=e.itemContent,c=e.setDocEditTableData,r=e.itemIndex,s=(e.docEditHeaderData,e.docEditTableData),i=e.tempFileArr,o=e.setTempFileArr,l=e.personelResponsibleList,j=Object(a.useRef)(),b=y.getToken(),m=Object(a.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],_=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){return S(t.serialNo)}})})}}],A=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_download",text:"",formatter:function(e,t){return Object(f.jsx)("button",{onClick:function(){return N(t.fk_file_id,t.file_name)},className:"c-Btn c-Btn--link",children:"Download"},e)}}],N=function(e,t){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(b)},responseType:"blob"}).then((function(e){yt()(e.data,t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},D=function(e){c((function(t){return t.map((function(t,n){return r===n?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))}))},T=function(){var e=[];c((function(t){return t.filter((function(e){return e.serialNo!==r+1})).map((function(t,n){return Object(u.a)(Object(u.a)({},t),{},{serialNo:n+1,files:t.files.map((function(n,a){return 0!==t.files.length&&n.new?(e.push(Object(u.a)(Object(u.a)({},n),{},{serialNo:a+1,key:"files_".concat(r,"_").concat(t.files.length)})),Object(u.a)(Object(u.a)({},n),{},{serialNo:a+1,key:"files_".concat(r,"_").concat(t.files.length)})):n}))})}))})),o((function(){return e}))},S=function(e){var t=[];console.log(e),c((function(n){return n.map((function(n,a){return Object(u.a)(Object(u.a)({},n),{},{files:function(){var c=n.files.filter((function(t,a){return r+1===n.serialNo?e!==t.serialNo:t}));return console.log(c),c.map((function(e,r){return 0!==n.files.length&&e.new?(t.push(Object(u.a)(Object(u.a)({},e),{},{serialNo:r+1,key:"files_".concat(a,"_").concat(c.length)})),Object(u.a)(Object(u.a)({},e),{},{serialNo:r+1,key:"files_".concat(a,"_").concat(c.length)})):e}))}()})}))})),o((function(e){return t}))};return Object(f.jsx)("div",{className:"l-Obj-Achiv-Program-item",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program-item",children:[Object(f.jsx)("div",{className:"c-Obj-Achiv-Program-item__Top",children:"edit"===t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"function",children:"Function:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"function",value:n.function||""})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"quality_objective",children:"Quality Objectives:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"quality_objective",value:n.quality_objective||""})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"personel_responsible",children:"Personel Responsible:"}),Object(f.jsxs)("select",{type:"text",name:"personel_responsible",onChange:D,value:n.personel_responsible||"",children:[Object(f.jsx)("option",{children:l?"Please select a role":"No roles found"}),l?l.map((function(e,t){return Object(f.jsx)("option",{value:e.role_id,children:e.name},t)})):null]})]})]}),Object(f.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"data_collection",children:"Collecting / Measuring Data:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_collection",value:n.data_collection||""})]}),Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"data_analysis",children:"Analysing Data:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_analysis",value:n.data_analysis||""})]})]}),Object(f.jsx)("div",{className:"c-Top__Delete",children:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){return T(r+1)}})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Function:"}),Object(f.jsxs)("p",{children:[n.function||"Nil"," "]})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Quality Objectives:"}),Object(f.jsx)("p",{children:n.quality_objective||"Nil"})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Personel Responsible:"}),Object(f.jsx)("p",{children:n.role&&n.role.name||"Nil"})]})]}),Object(f.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("h1",{children:"Collecting / Measuring Data:"}),Object(f.jsx)("p",{children:n.data_collection||"Nil"})]}),Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("h1",{children:"Analysing Data:"}),Object(f.jsx)("p",{children:n.data_analysis||"Nil"})]})]})]})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program-item__Table",children:[Object(f.jsx)("h1",{children:"Data tracking information"}),"edit"===t?Object(f.jsxs)("form",{className:"c-Table__Add-files",children:[Object(f.jsx)("div",{className:"c-Add-files__Left",children:Object(f.jsx)("input",{type:"file",name:"file",onChange:function(e){var t=e.target.files[0];v?o((function(e){return e.map((function(e,n){return e.itemIndex===r?{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}:e}))})):(g((function(){return!0})),o((function(e){return[].concat(Object(_e.a)(e),[{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}])})))},ref:j})}),Object(f.jsx)("div",{className:"c-Add-files__Right",children:Object(f.jsx)("button",{onClick:function(){if(""!==j.current.value){j.current.value="";var e=!1;s.forEach((function(t,n){r===n&&3===t.files.length&&(e=!0)})),e?O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maximum of 3 files per item!"})]})):c((function(e){return e.map((function(e,t){return r===t?0===e.files.length?Object(u.a)(Object(u.a)({},e),{},{files:[{serialNo:1,new:!0,fileObj:function(){var t={};return console.log(e.files.length),i.forEach((function(n,a){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=n.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}]}):Object(u.a)(Object(u.a)({},e),{},{files:[].concat(Object(_e.a)(e.files),[{serialNo:e.files.length+1,new:!0,fileObj:function(){var t={};return i.forEach((function(n,a){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=e.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}])}):e}))}))}else O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select a file!"})]}));g((function(){return!1}))},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})})]}):null,"edit"===t?0!==n.files.length?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.files,columns:_}):"No records found!":0!==n.data.length?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:n.data,columns:A}):"No records found!"]})]})})},Dt=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),n.map((function(e,t){return Object(f.jsx)(Nt,{docType:"active",itemContent:e},t)}))]})},Tt=function(e){var t=e.docPendingTableData,n=e.docPendingHeaderData;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:n.title?n.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:n.approved_by?n.approved_by:"Error"}),Object(f.jsx)("p",{children:n.created_by?n.created_by:"Error"}),"                "]})]}),t.map((function(e,t){return Object(f.jsx)(Nt,{docType:"pending",itemContent:e},t)}))]})},St=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyField,e.tempFileArr),l=e.setTempFileArr,j=y.getToken(),b=y.getDecodedToken(),m=b.display_name,O=b.company_id,x=Object(a.useState)([]),v=Object(d.a)(x,2),g=v[0],_=v[1],A=Object(a.useState)([]),N=Object(d.a)(A,2),D=N[0],T=N[1];Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(u.a)(Object(u.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(m)})})),l((function(){return[]})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/roles"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){console.log(e),T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){var t=e.data.results;_((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var S=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:S,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:S,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:g?"Please select an approver":"No approver found!"}),g?g.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,a){return Object(f.jsx)(Nt,{docType:"edit",itemContent:e,itemIndex:a,setDocEditTableData:n,docEditHeaderData:c,docEditTableData:t,tempFileArr:o,setTempFileArr:l,personelResponsibleList:D},a)})),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})},It=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),n.map((function(e,t){return Object(f.jsx)(Nt,{docType:"active",itemContent:e},t)}))]})},Ct=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=e.tempFileArr,m=e.setTempFileArr,O=y.getToken(),x=y.getDecodedToken(),v=x.company_id,g=x.display_name,_=x.employee_id,A=Object(a.useState)([]),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)([]),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(a.useState)(!1),E=Object(d.a)(F,2),w=E[0],k=E[1];Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(u.a)(Object(u.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return{submittedBy:"".concat(g)}})),m((function(){return[]})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/roles"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){console.log(e),void 0!==e.data.results&&T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/approve/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;void 0!==t&&M((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===_&&(t=!0)})),!0===t&&k((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var B=function(e){console.log(e.target.value),console.log(e.target.name),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};console.log(c);return Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:o.secondTab===oe.NULL?w?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:B,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:B,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:C?"Please select an approver":"No approver found!"}),C?C.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,a){return Object(f.jsx)(Nt,{docType:"edit",itemContent:e,itemIndex:a,setDocEditTableData:n,docEditHeaderData:c,docEditTableData:t,tempFileArr:b,setTempFileArr:m,personelResponsibleList:D},a)})),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){n((function(e){return[].concat(Object(_e.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Mt=function(e){var t=e.tabSettings,n=e.docHeaderData,a=e.docTableData,c=e.docPendingHeaderData,r=e.docPendingTableData,s=e.setDocPendingTableData,i=e.docRejectedHeaderData,o=e.docRejectedTableData,l=e.docColumns,d=e.docType,u=e.docEditTableData,j=e.setDocEditTableData,b=e.docEditHeaderData,p=e.setDocEditHeaderData,m=e.editorState,h=e.setEditorState,O=e.tempFileArr,x=e.setTempFileArr,v=e.startNewDoc,g=e.setStartNewDoc,_={swot:{Active:Ie,Pending:Ce,Editing:Me,Rejected:Fe,Inactive:Ee},interestedParty:{Active:fe,Pending:ge,Editing:Ne,Rejected:De,Inactive:Te},scopeOfQMS:{Active:we,Pending:ke,Editing:Be,Rejected:Pe,Inactive:qe},companyPolicy:{Active:He,Pending:Ye,Editing:Le,Rejected:Ue,Inactive:ze},riskNOpp:{Active:Ve,Pending:We,Editing:Je,Rejected:Ge,Inactive:Xe},objAchivProgram:{Active:Dt,Pending:Tt,Editing:St,Rejected:It,Inactive:Ct}}[d];if(0===t.focusTabIndex)if(t.firstTab===oe.ACTIVE){if("swot"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("objAchivProgram"===d)return Object(f.jsx)(_.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"})}else{if("swot"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("scopeOfQMS"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",editorState:m,setEditorState:h,tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("interestedParty"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("companyPolicy"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("riskNOpp"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("objAchivProgram"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,tempFileArr:O,setTempFileArr:x,tabSettings:t,startNewDoc:v,setStartNewDoc:g})}else{if(1!==t.focusTabIndex)return Object(f.jsx)("div",{className:"l-Document__Error",children:Object(f.jsx)("p",{children:"There was an error in loading the document =("})});if(t.secondTab===oe.PENDING){if("swot"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"id"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"id"});if("riskNOpp"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l});if("objAchivProgram"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l})}else if(t.secondTab===oe.EDITING){if("swot"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",editorState:m,setEditorState:h});if("companyPolicy"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a});if("objAchivProgram"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:n,docTableData:a,tempFileArr:O,setTempFileArr:x})}else if(t.secondTab===oe.REJECTED){if("swot"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o});if("objAchivProgram"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o})}}},Ft=function(e){var t=e.handleTabOnClick,n=e.tabType,a=e.children,c=e.focus,r=e.tabSettings;return Object(f.jsx)(f.Fragment,{children:n?Object(f.jsx)("div",{className:"c-Tab",children:Object(f.jsx)("div",{className:c?"c-Tab--focused":"c-Tab--unfocused",children:Object(f.jsx)("span",{onClick:t||null,className:n?"Active"===n&&r.secondTab===oe.EDITING||"Inactive"===n&&r.secondTab===oe.EDITING?"c-Tab--disabled c-Tab--"+n.toLowerCase():"c-Tab--"+n.toLowerCase():null,children:a||n})})}):null})},Et=function(e){var t=e.setIsDocCollapsed,n=e.setDocQueryEnum,a=e.setTabSettings,c=e.tabSettings,r=e.isDocCollapsed,s=e.setQueryUrl,i=e.pageType,o=he({TokenManager:y}),l=Object(d.a)(o,2),j=(l[0],l[1]),b=function(e,t){t===oe.ACTIVE?(n((function(){return"active"})),"swot"===i?s({firstUrl:j.swot.active,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.active,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.active,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.active,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.active,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.active,secondUrl:j.objAchivProgram.getAll})):t===oe.PENDING?(console.log("setting query enum"),n((function(){return"pending"})),"swot"===i?s({firstUrl:j.swot.pending,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.pending,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.pending,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.pending,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.pending,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.pending,secondUrl:j.objAchivProgram.getAll})):t===oe.EDITING||t===oe.REJECTED&&(n((function(){return"rejected"})),"swot"===i?s({firstUrl:j.swot.rejected,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.rejected,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.rejected,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.rejected,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.rejected,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.rejected,secondUrl:j.objAchivProgram.getAll})),a((function(t){return Object(u.a)(Object(u.a)({},t),{},{focusTabIndex:e})}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"l-Tabs__Row",children:[Object(f.jsxs)("div",{className:"l-Tabs__Row--left l-Tabs__Side",children:[Object(f.jsx)(Ft,{focus:0===c.focusTabIndex,tabType:c.firstTab,handleTabOnClick:function(){return b(0,c.firstTab)},tabSettings:c}),Object(f.jsx)(Ft,{focus:1===c.focusTabIndex,tabType:c.secondTab,handleTabOnClick:function(){return b(1,c.secondTab)}})]}),Object(f.jsx)("div",{className:"l-Tabs__Row--right l-Tabs__Side",children:Object(f.jsx)(Ft,{handleTabOnClick:function(){t((function(e){return!e}))},tabType:oe.COLLAPSE,children:r?Object(f.jsx)(f.Fragment,{children:"Expand Document"}):Object(f.jsx)(f.Fragment,{children:"Collapse Document"})})})]})})},wt=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(d.a)(s,2),u=i[0],j=i[1],b=y.getToken();return Object(a.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return c=e.sent,e.next=6,h.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 6:return s=e.sent,e.next=9,h.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 9:i=e.sent,r((function(){return{checkIfEmployeeCanEdit:c,checkIfPendingExist:s,checkIfRejectedExist:i}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),j((function(){return e.t0}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl,e.thirdUrl)}),[e]),[c,u]},kt=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(d.a)(s,2),u=i[0],j=i[1],b=y.getToken();return Object(a.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return a=e.sent,e.next=6,h.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 6:c=e.sent,r((function(){return{resultDocTable:a.data,resultHeaderData:c.data}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),j((function(){return e.t0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl)}),[e]),[c,u]},Bt=function(e){var t=e.isDocCollapsed,n=e.children;return Object(f.jsx)("div",{className:t?"l-Document l-Document__collapsed":"l-Document",children:n})},Pt=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),w=Object(d.a)(E,2),k=w[0],B=w[1],P=Object(a.useState)({}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],le=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(a.useState)({}),pe=Object(d.a)(be,2),me=pe[0],he=pe[1],Oe=Object(a.useState)("active"),fe=Object(d.a)(Oe,2),ge=fe[0],_e=fe[1],Ae=Object(a.useState)([]),ye=Object(d.a)(Ae,2),Ne=ye[0],De=ye[1],Te=Object(a.useState)(!1),Se=Object(d.a)(Te,2),Ie=Se[0],Ce=(Se[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots")})),Me=Object(d.a)(Ce,2),Fe=Me[0],Ee=Me[1],we=Object(a.useState)(!1),ke=Object(d.a)(we,2),Be=ke[0],Pe=ke[1],qe=Object(a.useState)(!1),Re=Object(d.a)(qe,2),He=Re[0],Ye=Re[1],Le=Object(a.useState)(!1),Ue=Object(d.a)(Le,2),ze=Ue[0],Qe=Ue[1],Ve=kt(Fe),We=Object(d.a)(Ve,2),Je=We[0],Ge=(We[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/rejected")})),Xe=Object(d.a)(Ge,2),Ze=Xe[0],et=(Xe[1],wt(Ze)),tt=Object(d.a)(et,2),nt=tt[0];tt[1];Object(a.useEffect)((function(){if(null!==Je){if(void 0!==Je.resultDocTable.results){p((function(){return!1}));var t={strength:Je.resultDocTable.results.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:Je.resultDocTable.results.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:Je.resultDocTable.results.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:Je.resultDocTable.results.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};if("active"===ge){if(null!==nt){var a=!1;nt.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(a=!0)})),void 0!==nt.checkIfPendingExist.result&&(a=!1),void 0!==nt.checkIfRejectedExist.result&&(a=!1),console.log(nt),Ye(!0===a?function(){return!0}:function(){return!1})}B((function(){return t}))}else"pending"===ge?te((function(){return t})):"rejected"===ge&&(D.secondTab===oe.EDITING?B((function(){return t})):je((function(){return t})))}if(console.log(Je),void 0!==Je.resultHeaderData.results){var r,s,i=!1;Je.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),r=!0}else if("pending"===e.status){var n={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.swot_id};c===e.approved_by?Pe((function(){return!0})):Pe((function(){return!1})),ie((function(){return n})),s=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.swot_id};D.secondTab===oe.EDITING?H((function(){return a})):he((function(){return a})),i=!0}})),p(r?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==r?oe.INACTIVE:oe.ACTIVE,secondTab:!0===s?oe.PENDING:e.secondTab===oe.EDITING&&!0===i?oe.EDITING:!0===i?oe.REJECTED:oe.NULL,focusTabIndex:"active"===ge?0:1}}));var o=Je.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.swot_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/swot/archived/".concat(e.swot_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots/").concat(e.swot_id)})}));De((function(){return o}))}else p((function(){return!0})),T((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===ge?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Qe((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Je,nt]);var at=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),setArchivedDocData:De,docType:"swots",idName:"swot_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"SWOT",activeLink:"/swot",children:Object(f.jsxs)("div",{className:"c-Swot c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Swot-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Swot"})]}),Ie?"loading...":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Swot__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Swot"}),Object(f.jsx)(xe,{setQueryUrl:Ee,setTabSettings:T,tabSettings:D,docEditTableData:U,docEditHeaderData:X,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"swot",isApprover:Be,isEditor:He,docQueryEnum:ge,setDocQueryEnum:_e,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Swot_Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:F,setDocQueryEnum:_e,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ee,pageType:"swot"}),Object(f.jsx)(Bt,{isDocCollapsed:M,children:Object(f.jsx)(Mt,{tabSettings:D,docHeaderData:R,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:ue,docColumns:Ke,docType:"swot",docEditTableData:U,setDocEditTableData:z,docEditHeaderData:X,setDocEditHeaderData:Z,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Swot__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==Ne.length?ze?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:at,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:$e,pagination:se()()}):"No records found!"]})]})]})})]})},qt=function(e){var t=e.match.params.swotID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/swots/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t={strength:e.data.results.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:e.data.results.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:e.data.results.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:e.data.results.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};x((function(){return t}));var n={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:C()(new Date(e.data.results.approved_at)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"SWOT Archived",activeLink:"/swot",children:Object(f.jsxs)("div",{className:"c-Swot c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Swot__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/swot",children:"SWOT"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Swot__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"SWOT (Archived)"})}),Object(f.jsx)("div",{className:"c-Swot__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Error"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Error"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Error"})]})]}),Object(f.jsx)(Se,{header:"Strengths",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:O.strength,columns:Ke})}),Object(f.jsx)(Se,{header:"Weaknesses",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:O.weakness,columns:Ke})}),Object(f.jsx)(Se,{header:"Opportunities",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:O.opp,columns:Ke})}),Object(f.jsx)(Se,{header:"Threats",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:O.threat,columns:Ke})})]})})})]})})},Rt=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(W),b=Object(d.a)(j,2),p=b[0],m=b[1],x=Object(a.useState)({}),v=Object(d.a)(x,2),g=v[0],A=v[1],N=Object(a.useState)(!1),D=Object(d.a)(N,2),T=D[0],S=D[1],I=Object(a.useState)([]),M=Object(d.a)(I,2),F=M[0],E=M[1],w=Object(a.useState)({}),k=Object(d.a)(w,2),B=k[0],P=k[1],q=Object(a.useState)([]),R=Object(d.a)(q,2),H=R[0],Y=R[1],L=Object(a.useState)({}),U=Object(d.a)(L,2),z=U[0],Q=U[1],J=Object(a.useState)([]),X=Object(d.a)(J,2),Z=X[0],K=X[1],$=Object(a.useState)({}),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(d.a)(ae,2),ie=re[0],le=re[1],de=Object(a.useState)({}),ue=Object(d.a)(de,2),je=ue[0],be=ue[1],pe=Object(a.useState)("active"),me=Object(d.a)(pe,2),he=me[0],Oe=me[1],fe=Object(a.useState)([]),ge=Object(d.a)(fe,2),_e=ge[0],Ae=ge[1],ye=Object(a.useState)(!1),Ne=Object(d.a)(ye,2),De=Ne[0],Te=(Ne[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties")})),Se=Object(d.a)(Te,2),Ie=Se[0],Ce=Se[1],Me=Object(a.useState)(!1),Fe=Object(d.a)(Me,2),Ee=Fe[0],we=Fe[1],ke=Object(a.useState)(!1),Be=Object(d.a)(ke,2),Pe=Be[0],qe=Be[1],Re=Object(a.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Ue=Object(a.useState)(!1),ze=Object(d.a)(Ue,2),Qe=(ze[0],ze[1]),Ve=kt(Ie),We=Object(d.a)(Ve,2),Je=We[0];We[1];Object(a.useEffect)((function(){if(null!==Je){if(void 0!==Je.resultDocTable.results){Qe((function(){return!1}));var t=Je.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));if("active"===he){var a=Je.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&qe((function(){return!0}))})).catch((function(e){console.log(e)})),E((function(){return a}))}else if("pending"===he){var r=Je.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));K((function(){return r}))}else"rejected"===he&&(g.secondTab===oe.EDITING?E((function(){return t})):le((function(){return t})))}if(void 0!==Je.resultHeaderData.results){var s,i,o=!1;Je.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};P((function(){return t})),s=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.party_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ne((function(){return n})),i=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.party_id};g.secondTab===oe.EDITING?P((function(){return a})):be((function(){return a})),o=!0}})),Qe(s?function(){return!0}:function(){return!1}),A((function(e){return{firstTab:!0!==s?oe.INACTIVE:oe.ACTIVE,secondTab:!0===i?oe.PENDING:e.secondTab===oe.EDITING&&!0===o?oe.EDITING:!0===o?oe.REJECTED:oe.NULL,focusTabIndex:"active"===he?0:1}}));var l=Je.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.party_id,serialNo:t+1,name:e.title,approved_on:C()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/interested-party/archived/".concat(e.party_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties/").concat(e.party_id)})}));Ae((function(){return l}))}else Qe((function(){return!0})),A((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===he?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Je]);var Ge=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),setArchivedDocData:Ae,docType:"interested-parties",idName:"party_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:p,setSideNavStatus:m,title:"Interested Party",activeLink:"/interested-party",children:Object(f.jsxs)("div",{className:"c-IP c-Main",children:[Object(f.jsxs)(G.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Interested Party"})]}),De?"loading...":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-IP__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Interested Parties"}),Object(f.jsx)(xe,{setQueryUrl:Ce,setTabSettings:A,tabSettings:g,docEditTableData:H,docEditHeaderData:z,docPendingTableData:Z,docPendingHeaderData:te,docRejectedHeaderData:je,pageType:"interestedParty",isApprover:Ee,isEditor:Pe,docQueryEnum:he,setDocQueryEnum:Oe,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-IP__Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:S,setDocQueryEnum:Oe,setTabSettings:A,tabSettings:g,isDocCollapsed:T,setQueryUrl:Ce,pageType:"interestedParty"}),Object(f.jsx)(Bt,{isDocCollapsed:T,children:Object(f.jsx)(Mt,{tabSettings:g,docHeaderData:B,docTableData:F,docPendingHeaderData:te,docPendingTableData:Z,setDocPendingTableData:K,docRejectedHeaderData:je,docRejectedTableData:ie,docColumns:et,docType:"interestedParty",docEditTableData:H,setDocEditTableData:Y,docEditHeaderData:z,setDocEditHeaderData:Q,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-IP__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?Ye?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:_e,columns:Ge,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:_e,columns:tt,pagination:se()()}):"No records found!"]})]})]})})]})},Ht=function(e){var t=e.match.params.ipID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/interested-parties/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));x((function(){return t}));var n={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:C()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Interested Party Archived",activeLink:"/interested-party",children:Object(f.jsxs)("div",{className:"c-IP c-Main",children:[Object(f.jsxs)(G.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/interested-party",children:"Interested Party"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-IP__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Interested Parties (Archived)"})}),Object(f.jsx)("div",{className:"c-IP__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:j.title?j.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Failed to load data!"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Failed to load data!"})]})]}),Object(f.jsx)(ce.a,{keyField:"serialNo",data:O,columns:et})]})})})]})})})},Yt=n(61),Lt=n.n(Yt),Ut=n(64),zt=n.n(Ut),Qt=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],B=w[1],P=Object(a.useState)({}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)([]),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)([]),$=Object(d.a)(K,2),te=$[0],ne=$[1],ae=Object(a.useState)({}),re=Object(d.a)(ae,2),ie=re[0],le=re[1],de=Object(a.useState)([]),ue=Object(d.a)(de,2),je=ue[0],be=ue[1],pe=Object(a.useState)({}),me=Object(d.a)(pe,2),he=me[0],Oe=me[1],fe=Object(a.useState)("active"),ge=Object(d.a)(fe,2),_e=ge[0],Ae=ge[1],ye=Object(a.useState)([]),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes")}),Ie=Object(d.a)(Se,2),Ce=Ie[0],Me=Ie[1],Fe=Object(a.useState)(!1),Ee=Object(d.a)(Fe,2),we=Ee[0],ke=Ee[1],Be=Object(a.useState)(!1),Pe=Object(d.a)(Be,2),qe=Pe[0],Re=Pe[1],He=Object(a.useState)(!1),Ye=Object(d.a)(He,2),Le=Ye[0],Ue=Ye[1],ze=Object(a.useState)((function(){return ee.EditorState.createEmpty()})),Qe=Object(d.a)(ze,2),Ve=Qe[0],We=Qe[1],Je=kt(Ce),Ge=Object(d.a)(Je,2),Xe=Ge[0];Ge[1];Object(a.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){var t=Xe.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,n){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_scope"+n)})):e.site_scope,site_scope_raw:e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,n){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_address"+n)})):e.address,parentItemID:e.parent_item_id})}));"active"===_e?(h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Re((function(){return!0}))})).catch((function(e){console.log(e)})),B((function(){return t}))):"pending"===_e?ne((function(){return t})):"rejected"===_e&&(D.secondTab===oe.EDITING?B((function(){return t})):be((function(){return t})))}if(void 0!==Xe.resultHeaderData.results){var a,r,s=!1;Xe.resultHeaderData.results.forEach((function(e){if(e.content?We((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})):We((function(){return ee.EditorState.createEmpty()})),console.log(Lt()(Object(ee.convertToRaw)(Ve.getCurrentContent()))),"active"===e.status){var t={title:e.title,content:e.content?(We((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})),zt()(Lt()(Object(ee.convertToRaw)(ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(We((function(){return ee.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),a=!0}else if("pending"===e.status){var n={title:e.title,content:e.content?(We((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})),zt()(Lt()(Object(ee.convertToRaw)(ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(We((function(){return ee.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};console.log(n),c===e.approved_by?ke((function(){return!0})):ke((function(){return!1})),le((function(){return n})),r=!0}else if("rejected"===e.status){var i={title:e.title,content:e.content?(We((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})),zt()(Lt()(Object(ee.convertToRaw)(ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(We((function(){return ee.EditorState.createEmpty()})),""),created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};D.secondTab===oe.EDITING?H((function(){return i})):Oe((function(){return i})),s=!0}})),p(a?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==a?oe.INACTIVE:oe.ACTIVE,secondTab:!0===r?oe.PENDING:e.secondTab===oe.EDITING&&!0===s?oe.EDITING:!0===s?oe.REJECTED:oe.NULL,focusTabIndex:"active"===_e?0:1}}));var i=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_id,serialNo:t+1,name:e.title,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/scope-of-qms/archived/".concat(e.qms_scope_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes/").concat(e.qms_scope_id)})}));Te((function(){return i}))}else p((function(){return!0})),T((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===_e?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe]);var Ze=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),setArchivedDocData:Te,docType:"qms-scopes",idName:"qms_scope_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Scope of QMS"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Scope of QMS"}),Object(f.jsx)(xe,{setQueryUrl:Me,setTabSettings:T,tabSettings:D,docEditTableData:U,docEditHeaderData:X,docPendingTableData:te,docPendingHeaderData:ie,docRejectedHeaderData:he,pageType:"scopeOfQMS",isApprover:we,isEditor:qe,docQueryEnum:_e,setDocQueryEnum:Ae,editorState:Ve,setEditorState:We,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:F,setDocQueryEnum:Ae,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Me,pageType:"scopeOfQMS"}),Object(f.jsx)(Bt,{isDocCollapsed:M,children:Object(f.jsx)(Mt,{tabSettings:D,docHeaderData:R,docTableData:k,docPendingHeaderData:ie,docPendingTableData:te,docRejectedHeaderData:he,docRejectedTableData:je,docColumns:nt,docType:"scopeOfQMS",docEditTableData:U,setDocEditTableData:z,docEditHeaderData:X,setDocEditHeaderData:Z,editorState:Ve,setEditorState:We,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS_Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==De.length?Le?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:De,columns:Ze,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:De,columns:at,pagination:se()()}):"No records found!"]})]})})]})},Vt=function(e){var t=e.match.params.scopeOfQMSID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1],g=Object(a.useState)((function(){return ee.EditorState.createEmpty()})),_=Object(d.a)(g,2),A=(_[0],_[1]);return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/qms-scopes/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results[0].items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,n){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_scope"+n)})):e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,n){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_address"+n)})):e.address,parentItemID:e.parent_item_id})}));v((function(){return t})),e.data.results.forEach((function(e){e.content?A((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})):A((function(){return ee.EditorState.createEmpty()}));var t={title:e.title,content:e.content?(A((function(){return ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content)))})),zt()(Lt()(Object(ee.convertToRaw)(ee.EditorState.createWithContent(Object(ee.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(A((function(){return ee.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};p((function(){return t}))}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/scope-of-qms",children:"Scope of QMS"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Scope Of QMS (Archived)"})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"Active on:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.title?b.title:"Failed to load data"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Failed to load data"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:b.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(ce.a,{keyField:"id",data:x,columns:nt})]})]})})})]})})},Wt=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],B=w[1],P=Object(a.useState)({}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)([]),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)([]),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],le=Object(a.useState)([]),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(a.useState)({}),pe=Object(d.a)(be,2),me=pe[0],he=pe[1],Oe=Object(a.useState)("active"),fe=Object(d.a)(Oe,2),ge=fe[0],_e=fe[1],Ae=Object(a.useState)([]),ye=Object(d.a)(Ae,2),Ne=ye[0],De=ye[1],Te=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies")}),Se=Object(d.a)(Te,2),Ie=Se[0],Ce=Se[1],Me=Object(a.useState)(!1),Fe=Object(d.a)(Me,2),Ee=Fe[0],we=Fe[1],ke=Object(a.useState)(!1),Be=Object(d.a)(ke,2),Pe=Be[0],qe=Be[1],Re=Object(a.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Ue=kt(Ie),ze=Object(d.a)(Ue,2),Qe=ze[0];ze[1];Object(a.useEffect)((function(){if(null!==Qe){if(void 0!==Qe.resultDocTable.results){var t=Qe.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));if("active"===ge){var a=Qe.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&qe((function(){return!0}))})).catch((function(e){console.log(e)})),B((function(){return a}))}else if("pending"===ge){var r=Qe.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));te((function(){return r}))}else"rejected"===ge&&(D.secondTab===oe.EDITING?B((function(){return t})):je((function(){return t})))}if(void 0!==Qe.resultHeaderData.results){var s,i,o=!1;Qe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),s=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ie((function(){return n})),i=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};D.secondTab===oe.EDITING?H((function(){return a})):he((function(){return a})),o=!0}})),p(s?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==s?oe.INACTIVE:oe.ACTIVE,secondTab:!0===i?oe.PENDING:e.secondTab===oe.EDITING&&!0===o?oe.EDITING:!0===o?oe.REJECTED:oe.NULL,focusTabIndex:"active"===ge?0:1}}));var l=Qe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_id,serialNo:t+1,name:e.title,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/company-policy/archived/".concat(e.policy_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies/").concat(e.policy_id)})}));De((function(){return l}))}else p((function(){return!0})),T((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===ge?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Qe]);var Ve=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),setArchivedDocData:De,docType:"policies",idName:"policy_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Company Policy",activeLink:"/company-policy",children:Object(f.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Company Policy"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Company Policy"}),Object(f.jsx)(xe,{setQueryUrl:Ce,setTabSettings:T,docEditTableData:U,docEditHeaderData:X,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,tabSettings:D,pageType:"companyPolicy",isApprover:Ee,isEditor:Pe,docQueryEnum:ge,setDocQueryEnum:_e,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:F,setDocQueryEnum:_e,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ce,pageType:"companyPolicy"}),Object(f.jsx)(Bt,{isDocCollapsed:M,children:Object(f.jsx)(Mt,{tabSettings:D,docHeaderData:R,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:ue,docType:"companyPolicy",docEditTableData:U,setDocEditTableData:z,docEditHeaderData:X,setDocEditHeaderData:Z,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==Ne.length?Ye?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:Ve,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:ct,pagination:se()()}):"No records found!"]})]})})]})},Jt=function(e){var t=e.match.params.companyPolicyID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/policies/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));v((function(){return t}));var n={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:C()(new Date(e.data.results.approved_at)).format("MMMM D, YYYY h:mm A")};p((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Company Policy",activeLink:"/company-policy",children:Object(f.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/company-policy",children:"Company Policy"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View archived"})]}),Object(f.jsx)("div",{className:"c-Company-Policy__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Company Policy (Archived)"})}),Object(f.jsx)("div",{className:"c-Company-Policy__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(f.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),x.map((function(e,t){return Object(f.jsx)(Re,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})})})]})})},Gt=n(42),Xt=n.n(Gt),Zt=function(e){var t=e.deleteUrl,n=e.refreshUrl,a=e.setRoleData,c=(e.idName,y.getToken()),r=y.getDecodedToken().company_id;return Object(f.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){var e={message:"Are you sure you want to delete this role? Click confirm to proceed.",handler:function(e){return s(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},e),{},{onClose:n}))}});var s=function(e){h.a.delete(t,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){h.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){a((function(){return t.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,created_at:C()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(e.role_id)})}))})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role Deleted!"})]}))})).catch((function(t){console.log(t);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))})).catch((function(t){console.log(t),e();var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}}})})})},Kt=function(){var e=Object(j.g)(),t=Gt.Search.SearchBar,n=Gt.Search.ClearSearchButton,c=y.getToken(),r=y.getDecodedToken(),s=r.company_id,i=r.employee_id,o=r.admin_level,l=_.toastTiming,b=Object(a.useState)(W),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-charts"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),console.log(e.data.results),void 0!==e.data.results&&I((function(){return e.data.results.map((function(e,t){return{id:e.chart_id,serialNo:t+1,title:e.title,description:e.description,created_by:e.author.account.username,created_on:C()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_view:"/responsibility-n-authority/manage-org-chart/".concat(e.chart_id)}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),void 0!==e.data.results&&N((function(){return e.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,created_at:C()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/role/").concat(e.role_id)})}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===i&&(t=!0)})),!0===t&&w((function(){return!0}))})).catch((function(e){console.log(e)}))}),[]);var k=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"title",text:"Title"},{dataField:"description",text:"Description"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Submitted On"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View more"})}}],B=[{dataField:"role_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Role"},{dataField:"created_at",text:"Created"},{dataField:"updated_at",text:"Last Updated"},{dataField:"action_manage",text:"",hidden:2!==o,formatter:function(e,t){return Object(f.jsx)("a",{href:"/responsibility-n-authority/manage-role/".concat(t.role_id),children:"Manage"})}},{dataField:"action_delete",text:"",hidden:2!==o,formatter:function(e,t){return Object(f.jsx)(Zt,{deleteUrl:e,refreshUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),setRoleData:N,idName:"role_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:l,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Resp-N-Auth c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Resp-N-Auth__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Resp. & Authority"})]}),Object(f.jsx)("div",{className:"c-Resp-N-Auth__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Responsibility & Authority"})}),Object(f.jsxs)("div",{className:"c-Resp-N-Auth__Org-Chart",children:[Object(f.jsxs)("div",{className:"c-Org-Chart__Top",children:[Object(f.jsx)("h1",{children:"Organisation Chart"}),E?Object(f.jsx)("button",{onClick:function(){return e.push("/responsibility-n-authority/add-org-chart")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload Chart"}):null]}),Object(f.jsx)("div",{className:"c-Org-Chart__Table",children:0===S.length?"No records found!":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:S,columns:k,pagination:se()()})})]}),Object(f.jsxs)("div",{className:"c-Resp-N-Auth__Roles",children:[Object(f.jsx)("div",{className:"c-Roles__Top",children:Object(f.jsx)("h1",{children:"Roles"})}),Object(f.jsx)("div",{className:"c-Roles__Table",children:Object(f.jsx)(Xt.a,{search:!0,keyField:"serialNo",data:A,columns:B,children:function(a){return Object(f.jsxs)("div",{className:"c-Table",children:[Object(f.jsxs)("div",{className:"c-Table__Top",children:[Object(f.jsx)(t,Object(u.a)({},a.searchProps)),Object(f.jsx)(n,Object(u.a)({className:"c-Table__Clear-btn"},a.searchProps)),2!==o?null:Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return e.push("/responsibility-n-authority/add-role")},children:"Add role"})]}),Object(f.jsx)("hr",{}),0!==A.length?Object(f.jsx)(ce.a,Object(u.a)(Object(u.a)({},a.baseProps),{},{bordered:!1,pagination:se()()})):"No records found!"]})}})})]})]})})]})},$t=[{moduleCode:"m01_01",description:{edit:"Edit Scope"}},{moduleCode:"m02_01",description:{edit:"Edit Normative References"}},{moduleCode:"m03_01",description:{edit:"Edit Terms and Definition"}},{moduleCode:"m04_01",description:{edit:"Edit SWOT",approve:"Approve/Reject SWOT documents "}},{moduleCode:"m04_02",description:{edit:"Edit Interested Parties",approve:"Approve/Reject Interested Parties documents"}},{moduleCode:"m04_03",description:{edit:"Edit Scope of QMS",approve:"Approve/Reject Scope of QMS"}},{moduleCode:"m05_02",description:{edit:"Edit Company Policy",approve:"Approve/Reject Company Policy"}},{moduleCode:"m05_03",description:{edit:"Upload and Edit Organisation Chart"}},{moduleCode:"m06_01",description:{edit:"Edit Risk & Opportunity",approve:"Approve/Reject Risk & Opportunity"}},{moduleCode:"m06_02",description:{edit:"Edit Objective Achievement Program",approve:"Approve/Reject Objective Achievement Program"}},{moduleCode:"m07_01",description:{edit:"Permission to be assigned to Equipment Maintenance items",approve:"Permission to Create Equipment Maintenance Program attributes"}},{moduleCode:"m07_02",description:{edit:"Permission to be assigned to Permits/licenses items",approve:"Permission to Create Permits/licenses"}},{moduleCode:"m07_03a",description:{edit:"Permission to create training requests",approve:"Permission to approve training requests"}}],en=function(){var e=Object(j.g)(),t=y.getToken(),n=y.getDecodedToken().company_id,c=_.toastTiming,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({name:"",responsibility:"",rights:[]}),b=Object(d.a)(l,2),m=b[0],x=b[1];Object(a.useEffect)((function(){window.scrollTo(0,0),x((function(e){return Object(u.a)(Object(u.a)({},e),{},{rights:$t.map((function(e,t){return Object(p.a)({},e.moduleCode,{edit:!1,approve:!1})}))})}))}),[]),console.log(m);var v=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},g=function(e){var t=e.split(" ")[0],n=e.split(" ")[1],a=!1;return m.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(a="edit"===n?e[r].edit:e[r].approve)})),a},A=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},{rights:(console.log(t),t.rights.map((function(t,n){var a=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return a===c?r?Object(p.a)({},a,{approve:t[a].approve,edit:!t[a].edit}):Object(p.a)({},a,{approve:!t[a].approve,edit:t[a].edit}):t})))})}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:c,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"c-Add-role c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Add-role__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add Role"})]}),Object(f.jsx)("div",{className:"c-Add-role__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Add Role"})}),Object(f.jsxs)("div",{className:"c-Add-role__Configs",children:[Object(f.jsxs)("div",{className:"l-Configs__Left",children:[Object(f.jsx)("h1",{children:"Basic Details"}),Object(f.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(f.jsx)("input",{type:"text",name:"name",value:m.name,onChange:v})]}),Object(f.jsxs)("div",{className:"c-Configs__Description",children:[Object(f.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(f.jsx)("textarea",{wrap:"hard",name:"responsibility",value:m.responsibility,onChange:v})]})]}),Object(f.jsx)("div",{className:"l-Configs__VL",children:Object(f.jsx)("span",{className:"c-Configs__VL"})}),Object(f.jsx)("div",{className:"l-Configs__Right",children:Object(f.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(f.jsx)("h1",{children:"Permissions"}),$t.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(f.jsx)("input",{type:"checkbox",onChange:A,checked:g(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode?null:Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(f.jsx)("input",{type:"checkbox",onChange:A,checked:g(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(f.jsxs)("div",{className:"c-Add-role__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){var a=Object(u.a)(Object(u.a)({},m),{},{rights:function(){for(var e={},t=0;t<m.rights.length;t++){var n=Object.keys(m.rights[t])[0];e[n]={approve:m.rights[t][n].approve,edit:m.rights[t][n].edit}}return e}()});console.log(a),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/roles"),a,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),e.push("/responsibility-n-authority"),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role has been added!"})]}))}),0)})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},className:"c-Btn c-Btn--primary",children:"Add Role"}),Object(f.jsx)("button",{type:"button",onClick:function(){return e.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},tn=function(e){var t=e.match.params.roleID,n=Object(j.g)(),c=(Gt.Search.SearchBar,Gt.Search.ClearSearchButton,y.getToken()),r=y.getDecodedToken().company_id,s=_.toastTiming,i=Object(a.useState)(W),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(a.useState)({name:"",responsibility:"",rights:[]}),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)(!1),N=Object(d.a)(A,2);N[0],N[1];Object(a.useEffect)((function(){window.scrollTo(0,0),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),g((function(){return{name:e.data.results.name,responsibility:e.data.results.responsibility,rights:function(){for(var t=$t.map((function(e,t){return Object(p.a)({},e.moduleCode,{edit:!1,approve:!1})})),n=Object.keys(e.data.results.rights).length,a=0;a<n;a++){var c=Object.keys(e.data.results.rights)[a];if(e.data.results.rights[c].edit)for(var r=0;r<t.length;r++){var s=Object.keys(t[r])[0];if(console.log(t[r]),s===c){t[r]=Object(p.a)({},c,Object(u.a)(Object(u.a)({},t[r][c]),{},{edit:!0}));break}}if(e.data.results.rights[c].approve)for(var i=0;i<t.length;i++){if(c===Object.keys(t[i])[0]){t[i]=Object(p.a)({},c,Object(u.a)(Object(u.a)({},t[i][c]),{},{approve:!0}));break}}}return console.log(t),t}()}}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}),[]);var D=function(e){var t=e.split(" ")[0],n=e.split(" ")[1],a=!1;return console.log(v),v.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(a="edit"===n?e[r].edit:e[r].approve)})),a},T=function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},S=function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{rights:t.rights.map((function(t,n){var a=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return a===c?r?Object(p.a)({},a,{approve:t[a].approve,edit:!t[a].edit}):Object(p.a)({},a,{approve:!t[a].approve,edit:t[a].edit}):t}))})}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:l,setSideNavStatus:b,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Manage-role c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-role__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Role"})]}),Object(f.jsx)("div",{className:"c-Manage-role__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Role"})}),Object(f.jsxs)("div",{className:"c-Manage-role__Configs",children:[Object(f.jsxs)("div",{className:"l-Configs__Left",children:[Object(f.jsx)("h1",{children:"Basic Details"}),Object(f.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(f.jsx)("input",{type:"text",name:"name",value:v.name,onChange:T})]}),Object(f.jsxs)("div",{className:"c-Configs__Description",children:[Object(f.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(f.jsx)("textarea",{wrap:"hard",name:"responsibility",value:v.responsibility,onChange:T})]})]}),Object(f.jsx)("div",{className:"l-Configs__VL",children:Object(f.jsx)("span",{className:"c-Configs__VL"})}),Object(f.jsx)("div",{className:"l-Configs__Right",children:Object(f.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(f.jsx)("h1",{children:"Permissions"}),$t.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(f.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode?null:Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(f.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(f.jsxs)("div",{className:"c-Manage-role__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){var e=Object(u.a)(Object(u.a)({},v),{},{rights:function(){for(var e={},t=0;t<v.rights.length;t++){var n=Object.keys(v.rights[t])[0];e[n]={approve:v.rights[t][n].approve,edit:v.rights[t][n].edit}}return e}()});console.log(e),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),e,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role has been updated!"})]})),window.scrollTo(0,0)})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},className:"c-Btn c-Btn--primary",children:"Save"}),Object(f.jsx)("button",{type:"button",onClick:function(){return n.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},nn=function(){var e=Object(j.g)(),t=Object(a.useRef)(),n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({title:"",description:"",file:""}),b=Object(d.a)(l,2),m=b[0],x=b[1],v=_.toastTiming,g=function(t){if("submit"===t){if(""===m.title||""===m.description||""===m.file)return void O.b.error(Object(f.jsx)(f.Fragment,{children:"Error! Some fields are empty!"}));var a=new FormData;a.append("title",m.title),a.append("description",m.description),a.append("display_order",1),a.append("chart",m.file),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/org-charts"),a,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Chart has been added!"})]}))}),0),e.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}else x((function(){return{title:"",description:"",file:""}})),e.push("/responsibility-n-authority")},A=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:v,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Add-chart c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Add-chart__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add Organisation Chart"})]}),Object(f.jsx)("div",{className:"c-Add-chart__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Add Organisation Chart"})}),Object(f.jsxs)("div",{className:"c-Add-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Add-chart__Title c-Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("input",{onChange:A,type:"text",value:m.title||"",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Description c-Input",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{onChange:A,type:"text",value:m.description||"",name:"description",placeholder:"Enter description"})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Upload-file c-Input",children:[Object(f.jsx)("label",{htmlFor:"file",children:"File"}),Object(f.jsx)("input",{onChange:function(e){var t=e.target.files[0];x((function(e){return Object(u.a)(Object(u.a)({},e),{},{file:t})}))},type:"file",name:"file",ref:t})]})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return g("submit")},children:"Submit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return g("cancel")},children:"Cancel"})]})]})})]})},an=function(e){var t=e.match.params.orgChartID,n=Object(j.g)(),c=y.getToken(),r=y.getDecodedToken(),s=r.company_id,i=r.employee_id,o=_.toastTiming,l=Object(a.useState)(W),b=Object(d.a)(l,2),m=b[0],x=b[1],v=Object(a.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1],k=Object(a.useState)(!1),B=Object(d.a)(k,2),P=B[0],q=B[1],R=Object(a.useState)(!1),H=Object(d.a)(R,2),Y=H[0],L=H[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),N((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:C()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name,fileID:e.data.results.file_id}})),I((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:C()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name}}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===i&&(t=!0)})),!0===t&&L((function(){return!0}))})).catch((function(e){console.log(e)}))}),[P]);var U=function(e){if("submit"===e){if(""===S.title||""===S.description)return void O.b.error(Object(f.jsx)(f.Fragment,{children:"Error! Some fields are empty!"}));var a={title:S.title,description:S.description,display_order:1};h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),a,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Organisation chart details successfully updated!"})]})),w((function(){return!1})),q((function(e){return!e}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}else"delete"===e?h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Organisation chart has been deleted!"})]}))}),0),w((function(){return!1})),n.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))})):"edit"===e?w((function(){return!0})):(I((function(){return A})),w((function(){return!1})))},z=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Q=function(e,t){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(c)},responseType:"blob"}).then((function(e){yt()(e.data,t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:o,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Manage-chart c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-chart__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Organisation Chart"})]}),Object(f.jsx)("div",{className:"c-Manage-chart__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Organisation Chart"})}),E?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("textarea",{onChange:z,type:"text",value:S.title||"",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("textarea",{onChange:z,type:"text",value:S.description||"",name:"description",placeholder:"Enter description"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(f.jsx)("label",{htmlFor:"createdBy",children:"Created By"}),Object(f.jsx)("input",{type:"text",value:A.createdBy||"Error",name:"createdBy",disabled:!0})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(f.jsx)("label",{htmlFor:"submittedOn",children:"Submitted On"}),Object(f.jsx)("input",{type:"text",value:A.submittedOn||"Error",name:"submittedOn",disabled:!0})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(f.jsx)("label",{htmlFor:"details",children:"Details"}),""===A.fileName?"Failed to load data":Object(f.jsx)("button",{onClick:function(){return Q(t,A.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(f.jsx)("h1",{children:"Title"}),Object(f.jsx)("p",{children:A.title||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(f.jsx)("h1",{children:"Description"}),Object(f.jsx)("p",{children:A.description||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(f.jsx)("h1",{children:"Created By"}),Object(f.jsx)("p",{children:A.createdBy||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(f.jsx)("h1",{children:"Submitted On"}),Object(f.jsx)("p",{children:A.submittedOn||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(f.jsx)("h1",{children:"Details"}),""===A.fileName?"Failed to load data":Object(f.jsx)("button",{onClick:function(){return Q(t,A.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}),Y?""===A.title?null:E?Object(f.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return U("submit")},children:"Submit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return U("cancel")},children:"Cancel"})]}):Object(f.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return U("edit")},children:"Edit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return U("delete")},children:"Delete"})]}):null]})})]})},cn=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],B=w[1],P=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],le=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(a.useState)({}),pe=Object(d.a)(be,2),me=pe[0],he=pe[1],Oe=Object(a.useState)("active"),fe=Object(d.a)(Oe,2),ge=fe[0],_e=fe[1],Ae=Object(a.useState)([]),ye=Object(d.a)(Ae,2),Ne=ye[0],De=ye[1],Te=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses")}),Se=Object(d.a)(Te,2),Ie=Se[0],Ce=Se[1],Me=Object(a.useState)(!1),Fe=Object(d.a)(Me,2),Ee=Fe[0],we=Fe[1],ke=Object(a.useState)(!1),Be=Object(d.a)(ke,2),Pe=Be[0],qe=Be[1],Re=Object(a.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Ue=kt(Ie),ze=Object(d.a)(Ue,2),Qe=ze[0],Ve=(ze[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m06_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/rejected")})),We=Object(d.a)(Ve,2),Je=We[0],Ge=(We[1],wt(Je)),Xe=Object(d.a)(Ge,2),Ze=Xe[0];Xe[1];Object(a.useEffect)((function(){if(null!==Qe){if(void 0!==Qe.resultDocTable.results){p((function(){return!1}));var t={strength:Qe.resultDocTable.results.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),weakness:Qe.resultDocTable.results.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),opp:Qe.resultDocTable.results.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),threat:Qe.resultDocTable.results.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}}))};if("active"===ge){if(null!==Ze){var a=!1;Ze.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(a=!0)})),void 0!==Ze.checkIfPendingExist.result&&(a=!1),void 0!==Ze.checkIfRejectedExist.result&&(a=!1),console.log(Ze),qe(!0===a?function(){return!0}:function(){return!1})}H((function(){return t}))}else"pending"===ge?te((function(){return t})):"rejected"===ge&&(D.secondTab===oe.EDITING?H((function(){return t})):je((function(){return t})))}if(void 0!==Qe.resultHeaderData.results){var r,s,i=!1;Qe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};B((function(){return t})),r=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.risks_analysis_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ie((function(){return n})),s=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.risks_analysis_id};D.secondTab===oe.EDITING?B((function(){return a})):he((function(){return a})),i=!0}})),T((function(e){return{firstTab:!0!==r?oe.NEW:oe.ACTIVE,secondTab:!0===s?oe.PENDING:e.secondTab===oe.EDITING&&!0===i?oe.EDITING:!0===i?oe.REJECTED:oe.NULL,focusTabIndex:"active"===ge?0:1}}));var o=Qe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.risks_analysis_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/risk-n-opportunity/archived/".concat(e.risks_analysis_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses/").concat(e.risks_analysis_id)})}));De((function(){return o}))}else p((function(){return!0})),T((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===ge?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Qe,Ze]);var Ke=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),setArchivedDocData:De,docType:"risks-analyses",idName:"risks_analysis_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(f.jsxs)("div",{className:"c-RNO c-Main",children:[Object(f.jsxs)(G.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Risk and Opportunity"})]}),Object(f.jsxs)("div",{className:"c-RNO__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Risk and Opportunity"}),Object(f.jsx)(xe,{setQueryUrl:Ce,setTabSettings:T,tabSettings:D,docEditTableData:U,docEditHeaderData:X,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"riskNOpp",isApprover:Ee,isEditor:Pe,docQueryEnum:ge,setDocQueryEnum:_e,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-RNO__Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:F,setDocQueryEnum:_e,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ce,pageType:"riskNOpp"}),Object(f.jsx)(Bt,{isDocCollapsed:M,children:Object(f.jsx)(Mt,{tabSettings:D,docHeaderData:k,docTableData:R,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:ue,docType:"riskNOpp",docEditHeaderData:X,setDocEditHeaderData:Z,docEditTableData:U,setDocEditTableData:z,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-RNO__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==Ne.length?Ye?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:Ke,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:rt,pagination:se()()}):"No records found!"]})]})})]})},rn=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(a.useState)(W),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],B=w[1],P=Object(a.useState)({}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)([]),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)([]),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],le=Object(a.useState)([]),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(a.useState)({}),pe=Object(d.a)(be,2),me=pe[0],he=pe[1],Oe=Object(a.useState)("active"),fe=Object(d.a)(Oe,2),ge=fe[0],_e=fe[1],Ae=Object(a.useState)([]),ye=Object(d.a)(Ae,2),Ne=ye[0],De=ye[1],Te=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements")}),Se=Object(d.a)(Te,2),Ie=Se[0],Ce=Se[1],Me=Object(a.useState)(!1),Fe=Object(d.a)(Me,2),Ee=Fe[0],we=Fe[1],ke=Object(a.useState)(!1),Be=Object(d.a)(ke,2),Pe=Be[0],qe=Be[1],Re=Object(a.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Ue=kt(Ie),ze=Object(d.a)(Ue,2),Qe=ze[0],Ve=(ze[1],Object(a.useState)([])),We=Object(d.a)(Ve,2),Je=We[0],Ge=We[1],Xe=[{dataField:"id",text:"Id"},{dataField:"serialNo",text:"#"},{dataField:"filename",text:"File Name"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}];Object(a.useEffect)((function(){if(null!==Qe){if(console.log(Qe),void 0!==Qe.resultDocTable.results){p((function(){return!1})),console.log(Qe.resultDocTable);var t=Qe.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_item_id,serialNo:t+1,parentItemID:e.parent_item_id,data:e.data.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,file:Object(u.a)(Object(u.a)({},e.file),{},{name:e.file_name})})}))})}));console.log(t),"active"===ge?(h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&qe((function(){return!0}))})).catch((function(e){console.log(e)})),B((function(){return t}))):"pending"===ge?te((function(){return t})):"rejected"===ge&&(D.secondTab===oe.EDITING?B((function(){return t})):je((function(){return t})))}if(void 0!==Qe.resultHeaderData.results){var a,r,s=!1;Qe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),a=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.achievement_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ie((function(){return n})),r=!0}else if("rejected"===e.status){var i={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.achievement_id};D.secondTab===oe.EDITING?H((function(){return i})):he((function(){return i})),s=!0}})),p(a?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==a?oe.INACTIVE:oe.ACTIVE,secondTab:!0===r?oe.PENDING:e.secondTab===oe.EDITING&&!0===s?oe.EDITING:!0===s?oe.REJECTED:oe.NULL,focusTabIndex:"active"===ge?0:1}}));var i=Qe.resultHeaderData.results.filter((function(e){return"archived"===e.status}));console.log(i);var o=i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id,serialNo:t+1,name:e.title,approved_on:C()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),active_till:C()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/objective-achievement-program/archived/".concat(e.achievement_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements/").concat(e.achievement_id)})}));De((function(){return o}))}else p((function(){return!0})),T((function(e){return{firstTab:oe.INACTIVE,secondTab:oe.NULL,focusTabIndex:"active"===ge?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Qe]);var Ze=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Title"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(ve,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),setArchivedDocData:De,docType:"objective-achievements",idName:"achievement_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Objective Achivement Program"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Objective Achievement Program"}),Object(f.jsx)(xe,{setQueryUrl:Ce,setTabSettings:T,tabSettings:D,docEditTableData:U,docEditHeaderData:X,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"objAchivProgram",isApprover:Ee,isEditor:Pe,docQueryEnum:ge,setDocQueryEnum:_e,tempFileArr:Je,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:[Object(f.jsx)(Et,{setIsDocCollapsed:F,setDocQueryEnum:_e,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ce,pageType:"objAchivProgram"}),Object(f.jsx)(Bt,{isDocCollapsed:M,children:Object(f.jsx)(Mt,{tabSettings:D,docHeaderData:R,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,setDocPendingTableData:te,docRejectedHeaderData:me,docRejectedTableData:ue,docColumns:Xe,docType:"objAchivProgram",docEditTableData:U,setDocEditTableData:z,docEditHeaderData:X,setDocEditHeaderData:Z,tempFileArr:Je,setTempFileArr:Ge,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==Ne.length?Ye?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:Ze,pagination:se()()}):Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:Ne,columns:st,pagination:se()()}):"No records found!"]})]})})]})},sn=function(e){var t=e.match.params.oapID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/objective-achievements/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){if(void 0!==e.data.results){var t=e.data.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id})}));v((function(){return t}));var n={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:C()(new Date(e.data.results.approved_on)).format("MMMM D, YYYY h:mm A")};p((function(){return n}))}else{var a=e.data.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id})}));v((function(){return a}));var c={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:C()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};p((function(){return c}))}})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/objective-achievement-program",children:"Objective Achivement Program"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Objective Achievement Program"})}),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(f.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),x.map((function(e,t){return Object(f.jsx)(Nt,{docType:"active",itemContent:e},t)}))]})})})]})})},on=function(e){var t=e.type,n=e.link,a=e.linkDisplay,c=e.children;return Object(f.jsx)("div",{className:"l-Settings-Bento-Box",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box",children:[Object(f.jsx)("div",{className:"row"===t?"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row":"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column",children:c}),Object(f.jsx)("div",{className:"c-Settings-Bento-Box__Link",children:Object(f.jsx)("a",{href:n,children:a})})]})})},ln=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.company_id,c=t.display_name,r=t.display_title,s=t.email,i=t.company_name,o=t.company_alias,l=t.employee_id,u=Object(a.useState)(W),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(a.useState)(null),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/employees/").concat(l),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),v((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(V,{sideNavStatus:b,setSideNavStatus:p,title:"Settings",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Settings c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Settings__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Settings"})]}),Object(f.jsx)("div",{className:"c-Settings__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Settings"})}),Object(f.jsxs)("div",{className:"l-Settings__Bento-box",children:[Object(f.jsxs)("div",{className:"l-Bento-box__User-settings l-Bento-box",children:[Object(f.jsx)("h2",{className:"l-Bento-box__Header",children:"User Settings"}),Object(f.jsxs)(on,{type:"row",link:"/settings/manage-account",linkDisplay:"Manage your account settings",children:[Object(f.jsx)("div",{className:"c-Settings-Bento-Box__User-image",children:Object(f.jsx)("img",{src:P,alt:"User pic"})}),Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__User-details",children:[Object(f.jsx)("p",{children:c||"Error"}),Object(f.jsx)("p",{children:r||"Error"}),Object(f.jsx)("p",{children:s||"Error"}),Object(f.jsx)("p",{children:i||"Error"})]})]})]}),2===x||3===x?Object(f.jsxs)("div",{className:"l-Bento-box__Org-settings l-Bento-box",children:[Object(f.jsx)("h2",{className:"l-Bento-box__Header",children:"Organisation Settings"}),2===x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(on,{type:"column",link:"/settings/manage-organization",linkDisplay:"Manage your organization settings",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-org",children:[Object(f.jsx)("h1",{children:o||"Error"}),Object(f.jsx)("h2",{children:i||"Error"})]})}),Object(f.jsx)(on,{type:"column",link:"/settings/manage-users",linkDisplay:"Manage your users",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-users",children:[Object(f.jsx)("h1",{children:"Manage users"}),Object(f.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null,Object(f.jsx)(on,{type:"column",link:"/settings/manage-invites",linkDisplay:"Manage invites",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-invites",children:[Object(f.jsx)("h1",{children:"Manage invites"}),Object(f.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null]})]})})})},dn=n(52),un=function(e){var t=e.errMsg,n=e.errStatus,a=e.errStatusText;return Object(f.jsx)("div",{className:"l-Error-card",children:Object(f.jsx)("div",{className:"c-Error-card",children:Object(f.jsxs)(dn.a,{variant:"danger",children:[Object(f.jsxs)(dn.a.Heading,{children:["Error Code: ",n||"Unknown"," ",a||null," "]}),Object(f.jsx)("p",{children:t||"An unknown error has occured, try accessing again later!"})]})})})},jn=n(194),bn=function(e){var t=e.tagListing,n=e.deletable;return Object(f.jsx)("div",{className:"l-Role-tags",children:Object(f.jsxs)("div",{className:"c-Role-tags",children:[Object(f.jsx)("h1",{children:t}),n?Object(f.jsx)("button",{type:"button",children:Object(f.jsx)(R.b.Provider,{value:{color:"white",size:"16px"},children:Object(f.jsx)(jn.a,{})})}):null]})})},pn=function(){var e=y.getToken(),t=y.getDecodedToken(),n=t.employee_id,c=t.company_id,r=_.toastTiming,s=Object(a.useState)(W),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),m=b[0],x=b[1],v=Object(a.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)(!1),S=Object(d.a)(D,2),I=S[0],C=S[1],w=Object(a.useState)(!1),k=Object(d.a)(w,2),B=k[0],q=k[1],R=/\d/,H=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,Y=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),L=Object(d.a)(Y,2),U=L[0],z=L[1],Q=Object(a.useState)({oldpassword:"",password:"",confirmPassword:""}),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)({fullName:"Error",username:"Error",jobTitle:"Error",email:"Error",emailDisplay:"Error",companyName:"Error",firstName:"Error",lastName:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"},roles:[]}),$=Object(d.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(n,"?roles=true&address=true&company=true"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,n={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,emailDisplay:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code},roles:t.roles};te((function(){return n}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),re((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))})),z((function(){return{minChar:X.password.length>=8,number:!!R.test(X.password),specialChar:!!H.test(X.password),match:X.password===X.confirmPassword}}))}),[X]);var se=function(e){Z((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},oe=function(e){te((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},le=function(e){te((function(t){return Object(u.a)(Object(u.a)({},t),{},{address:Object(u.a)(Object(u.a)({},t.address),{},Object(p.a)({},e.target.name,e.target.value))})}))},de=function(e){if("editAccount"!==e&&"editAccountCancel"!==e||x((function(e){return!e})),"editAccountSave"===e){var t={message:"You are about to save account details. Click confirm to proceed.",handler:function(e){return je(e)},heading:"Confirm Save?",type:"primary"};return Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}if("changePassword"!==e&&"changePasswordCancel"!==e||N((function(e){return!e})),"changePasswordSave"===e){var n={message:"You are about to change password. Click confirm to proceed.",handler:function(e){return ue(e)},heading:"Confirm Change Password?",type:"primary"};return Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}})}},ue=function(t){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/change"),{old_password:X.oldPassword,new_password:X.password},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Changed Password successfully!");var n=e.data;console.log(n),q((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),t()})).catch((function(e){console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),q((function(){return!1})),t()}))},je=function(t){q((function(){return!0})),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(n),{firstname:ee.firstName,lastname:ee.lastName,email:ee.email,address:{address_line_one:ee.address.line1,address_line_two:ee.address.line2,city:ee.address.city,state:ee.address.state,country:ee.address.country,postal_code:ee.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated User Details successfully!");var n=e.data;console.log(n),q((function(){return!1})),te((function(e){return Object(u.a)(Object(u.a)({},e),{},{emailDisplay:ee.email})})),x((function(){return!1})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated User Details successfully!"})]})),t()})).catch((function(e){console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),q((function(){return!1})),t()}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:o,setSideNavStatus:l,title:"Manage Account",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(f.jsxs)(G.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Account"})]}),Object(f.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Account"}),m||ce.render?null:Object(f.jsx)("button",{onClick:function(){return de("editAccount")},type:"button",className:A?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!A,children:"Edit"})]}),ce.render?Object(f.jsx)(un,{errMsg:ce.errMsg,errStatus:ce.errStatus,errStatusText:ce.errStatusText}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Manage-account__Profile-card c-Profile-card",children:[Object(f.jsxs)("div",{className:"l-Profile-card__Left",children:[Object(f.jsx)("img",{src:P,alt:"Profile img"}),Object(f.jsx)("span",{children:"Change profile picture"})]}),Object(f.jsxs)("div",{className:"l-Profile-card__Right",children:[Object(f.jsx)("h1",{children:ee.fullName}),Object(f.jsxs)("h2",{children:["@",ee.username]}),Object(f.jsx)("p",{children:ee.jobTitle}),Object(f.jsx)("p",{children:ee.emailDisplay}),Object(f.jsx)("p",{children:ee.companyName})]})]}),m?Object(f.jsxs)(M.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:oe,name:"firstName",value:ee.firstName})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:oe,name:"lastName",value:ee.lastName})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:oe,name:"email",value:ee.email})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Username c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("p",{children:"Role(s)"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"line1",value:ee.address.line1})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"line2",value:ee.address.line2})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"city",value:ee.address.city})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"country",value:ee.address.country})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"postalCode",value:ee.address.postalCode})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{onFocus:function(){return C(!0)},type:"text",onChange:le,name:"state",value:ee.address.state})]})]}),Object(f.jsxs)(F.a,{className:"c-Manage-account__Btns",children:[I?Object(f.jsx)("button",{onClick:function(){return de("editAccountSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:B?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return de("editAccountCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(M.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__First-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"firstName",value:ee.firstName})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"lastName",value:ee.lastName})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"email",value:ee.email})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Username c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"username",value:ee.username})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("p",{children:"Role(s)"}),ee.roles.map((function(e,t){return Object(f.jsx)(bn,{tagListing:"".concat(e.name),deletable:!1},t)}))]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"organisation",children:"Organisation"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"organisation",value:ee.companyName})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"address_line_one",children:"Address Line One"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"address_line_one",value:ee.address.line1})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"address_line_two",children:"Address Line Two"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"address_line_two",value:ee.address.line2})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"city",value:ee.address.city})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"country",value:ee.address.country})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"postal_code",value:ee.address.postalCode})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"state",value:ee.address.state})]})]})]}),Object(f.jsxs)("div",{className:"l-Manage-account__Password",children:[Object(f.jsx)("h1",{children:"Password and Authentication"}),A?Object(f.jsxs)("div",{className:"c-Change-Password",children:[Object(f.jsx)("p",{children:"Enter your current password and a new password"}),Object(f.jsxs)("div",{className:"c-Change-Password__Current-password",children:[Object(f.jsx)("label",{htmlFor:"oldPassword",children:"Current Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"oldPassword"})]}),Object(f.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(f.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"password"})]}),Object(f.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"confirmPassword"})]}),Object(f.jsx)(T,{validity:U}),Object(f.jsxs)("div",{className:"c-Change-Password__Btns",children:[!0===U.minChar&&!0===U.number&&!0===U.specialChar&&!0===U.match?Object(f.jsx)("button",{onClick:function(){return de("changePasswordSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:"Save"}),Object(f.jsx)("button",{onClick:function(){return de("changePasswordCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsx)("div",{className:"c-Change-Password__Btns",children:Object(f.jsx)("button",{onClick:function(){return de("changePassword")},type:"button",className:m?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!m,children:"Change Password"})})]})]})]})})]})},mn=function(){var e=Gt.Search.SearchBar,t=Gt.Search.ClearSearchButton,n=(Object(j.g)(),y.getToken()),c=y.getDecodedToken(),r=c.company_id,s=(c.employee_id,c.admin_level),i=Object(a.useState)(W),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),O=m[0],x=m[1],v=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),g=Object(d.a)(v,2),_=g[0],A=g[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/employees?roles=true"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,username:e.account.username,accountStatus:e.account.status})}));console.log(t),x((function(){return t}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),A((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))}))}),[]);var N=[{dataField:"employee_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#",editable:!1},{dataField:"admin_level",text:"Admin level",formatter:function(e,t){return 0===e?"Normal user":1===e?"Platform admin":2===e?"System admin":3===e?"Secondary Admin":void 0}},{dataField:"email",text:"Email",editable:!1},{dataField:"title",text:"Job Title"},{dataField:"username",text:"Username",editable:!1},{dataField:"roles",text:"Role(s)",editable:!1,formatter:function(e,t){return 0===e.length?"Nil":e.map((function(t,n){return e.length===n+1?t.name:Object(f.jsxs)("div",{children:[t.name+",",Object(f.jsx)("br",{})]},n)}))}},{dataField:"accountStatus",text:"Status",formatter:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)}},{dataField:"account_action",text:"",hidden:2!==s,isDummyField:!0,formatter:function(e,t){return Object(f.jsx)("a",{href:"/settings/manage-users/manage-user/".concat(t.employee_id),children:"Manage"})}}];return Object(f.jsx)(V,{sideNavStatus:l,setSideNavStatus:b,title:"Manage Users",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-users c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-users l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Users"})]}),Object(f.jsx)("div",{className:"c-Manage-users__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Users"})}),_.render?Object(f.jsx)(un,{errMsg:_.errMsg,errStatus:_.errStatus,errStatusText:_.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"c-Manage-users__Table",children:Object(f.jsx)(Xt.a,{keyField:"employee_id",data:O,columns:N,search:!0,children:function(n){return Object(f.jsxs)("div",{className:"c-Table",children:[Object(f.jsxs)("div",{className:"c-Table__Top",children:[Object(f.jsx)(e,Object(u.a)({},n.searchProps)),Object(f.jsx)(t,Object(u.a)({className:"c-Table__Clear-btn"},n.searchProps))]}),Object(f.jsx)("hr",{}),Object(f.jsx)(ce.a,Object(u.a)(Object(u.a)({},n.baseProps),{},{bordered:!1,pagination:se()()}))]})}})})})]})})},hn=function(e){var t=e.match.params.employeeID,n=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(a.useState)(W),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)({roles:[]}),b=Object(d.a)(j,2),m=b[0],x=b[1],v=Object(a.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)({roles:"",jobTitle:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],C=Object(a.useState)({jobTitle:!1}),M=Object(d.a)(C,2),F=M[0],E=M[1],w=Object(a.useState)(!1),k=Object(d.a)(w,2),B=k[0],P=k[1],q=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),H=Object(d.a)(q,2),Y=H[0],U=H[1],z=Object(a.useState)(0),Q=Object(d.a)(z,2),J=Q[0],X=Q[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t,"?roles=true&company=true"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results,n={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,roles:t.roles,accountStatus:t.account.status,adminLevel:t.admin_level};X((function(){return t.admin_level})),x((function(){return n}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),U((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/roles"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results;N((function(){return t}))})).catch((function(e){console.log(e),console.log(e.response),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),U((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[B]),Object(a.useEffect)((function(){I((function(){return{role:"",jobTitle:m.jobTitle}}))}),[m]);var Z=function(e,a){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(t,"/roles"),{roles:function(){if("add"===e){var t=m.roles.map((function(e,t){return e.role_id}));return t.push(S.roles),console.log(t),t}if("delete"===e){var n=m.roles.map((function(e,t){return e.role_id})),c=n.indexOf(a);return n.splice(c,1),console.log(n),n}}()},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),P((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Roles updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},K=function(e){var a;if("activated"===e){a="active";var r={message:"Are you sure you want to activate this account?",handler:function(e){return i(e)},heading:"Confirm Activate?",type:"primary"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},r),{},{onClose:t}))}})}else{a="deactivated";var s={message:"Are you sure you want to deactivate this account?",handler:function(e){return i(e)},heading:"Confirm Dectivate?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},s),{},{onClose:t}))}})}var i=function(r){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{account_status:a},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),P((function(e){return!e})),r(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),r(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:o,setSideNavStatus:l,title:"Manage User",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-user c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-user__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{href:"/settings/manage-users",children:"Manage users"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage user"})]}),Object(f.jsx)("div",{className:"c-Manage-user__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage User"})}),Y.render?Object(f.jsx)(un,{errMsg:Y.errMsg,errStatus:Y.errStatus,errStatusText:Y.errStatusText}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{className:"c-Manage-user__User-heading",children:["You are viewing settings for @","".concat(m.username)]}),Object(f.jsxs)("div",{className:"c-Manage-user__Inputs",children:[Object(f.jsxs)("div",{className:"c-Inputs__Left",children:[Object(f.jsxs)("div",{className:"c-Left__Admin-level",children:[Object(f.jsx)("label",{htmlFor:"adminLevel",children:"Admin Level"}),Object(f.jsxs)("select",{disabled:2===J,name:"adminLevel",onChange:function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,[e.target.value]))}))},value:m.adminLevel||0,children:[Object(f.jsx)("option",{value:"0",children:"Normal User"}),Object(f.jsx)("option",{value:"3",children:"Secondary Admin"})]}),Object(f.jsx)("button",{disabled:2===J,type:"button",className:2===J?"c-Btn c-Btn--disabled":"c-Btn c-Btn--primary",onClick:function(){2!==J?(console.log(m.adminLevel),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{admin_level:m.adminLevel},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),P((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:" Admin level has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))):O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error! Message: ",Object(f.jsx)("b",{children:"Super admin cannot change its own level"})]}))},children:"Save"})]}),Object(f.jsxs)("div",{className:"c-Left__Job-title",children:[Object(f.jsx)("h2",{children:"Job Title"}),Object(f.jsx)("div",{className:"c-Job-title__Input",children:F.jobTitle?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",name:"jobTitle",value:S.jobTitle||"",onChange:function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))}}),Object(f.jsxs)("div",{className:"c-Input__Btn-section",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{title:S.jobTitle},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),I((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:m.jobTitle})})),E((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})),P((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Job title has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},children:"Save"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){"jobTitle"==="jobTitle"&&(I((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:m.jobTitle})})),E((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})))},children:"Cancel"})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",value:m.jobTitle||"",disabled:!0}),Object(f.jsx)("div",{className:"c-Input__Btn-section c-Btn-section--edit",children:Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&(E((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})),console.log(S))},children:"Edit"})})]})})]})]}),Object(f.jsxs)("div",{className:"c-Inputs__Right",children:[Object(f.jsx)("label",{htmlFor:"roles",children:"Current Role(s)"}),Object(f.jsxs)("select",{name:"roles",onChange:function(e){var t=parseInt(e.target.value);I((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(p.a)({},e.target.name,t))}))},value:S.roles,children:[Object(f.jsx)("option",{value:"",children:"Please select a role"}),A.map((function(e,t){var n=!1;return m.roles.forEach((function(t,a){e.role_id===t.role_id&&(n=!0)})),n?null:Object(f.jsx)("option",{value:e.role_id,children:e.name},t)}))]}),m.roles.map((function(e,t){return Object(f.jsxs)("div",{className:"c-Roles__Data",children:[e.name,Object(f.jsx)("div",{className:"c-Data__Delete-Btn",children:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{onClick:function(){return Z("delete",e.role_id)}})})})]},t)})),function(){var e=!1,t=A.map((function(e,t){return e.role_id})),n=m.roles.map((function(e,t){return e.role_id}));return JSON.stringify(t.sort())===JSON.stringify(n.sort())&&(e=!0),e?Object(f.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--disabled",disabled:!0,children:"Add"}):Object(f.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--primary",onClick:function(){return Z("add")},children:"Add"})}()]})]}),Object(f.jsx)("div",{className:"c-Manage-user__Inputs"}),2===J?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"c-Manage-user__Inputs",children:Object(f.jsxs)("div",{className:"c-Inputs__Danger-zone",children:[Object(f.jsx)("h2",{children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:"active"===m.accountStatus?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return K("deactivated")},children:"Deactivate user"}),Object(f.jsxs)("div",{className:"c-Row__Info",children:[Object(f.jsx)("h3",{children:"Deactivate this user"}),Object(f.jsx)("p",{children:"The user will not have access to the company's eISO system."})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return K("activated")},children:"Activate user"}),Object(f.jsxs)("div",{className:"c-Row__Info",children:[Object(f.jsx)("h3",{children:"Activate this user"}),Object(f.jsx)("p",{children:"The user will regain access to the company's eISO system."})]})]})})]})})})]})]})})]})},On=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=(t[0],t[1],Object(j.g)());return Object(f.jsx)("div",{className:"c-Page-not-found",children:Object(f.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(f.jsxs)(dn.a,{variant:"danger",children:[Object(f.jsx)(dn.a.Heading,{children:"Oh snap! You got an error!"}),Object(f.jsx)("p",{children:"This page doesn't exists :/ Would you like to go back?"}),Object(f.jsx)("button",{className:"c-Alert-box__Back-btn c-Btn c-Btn--cancel",onClick:function(){n.goBack()},children:"Go back"})]})})})},xn=function(e){var t=e.match.params.rnoID,n=y.getToken(),c=y.getDecodedToken().company_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/risks-analyses/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t={strength:e.data.results.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),weakness:e.data.results.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),opp:e.data.results.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),threat:e.data.results.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:C()(new Date(e.updated_at)).format("DD/MM/YYYY")}}))};x((function(){return t}));var n={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:C()(new Date(e.data.results.approved_at)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:o,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(f.jsxs)("div",{className:"c-RNO c-Main",children:[Object(f.jsxs)(G.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/risk-n-opportunity",children:"Risk and Opportunity"}),Object(f.jsx)(G.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-RNO__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Risk and Opportunity (Archived)"})}),Object(f.jsx)("div",{className:"c-RNO__Document c-Main__Document",children:Object(f.jsx)(Bt,{children:Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:j.title?j.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Error"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Error"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),O.strength.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),O.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),O.opp.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),O.threat.map((function(e,t){return console.log(e),Object(f.jsx)(Qe,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})})})]})})},vn=n(195),fn=function(){Gt.Search.SearchBar,Gt.Search.ClearSearchButton,Object(j.g)();var e=y.getToken(),t=y.getDecodedToken().company_id,n=_.toastTiming,c=Object(a.useState)(W),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)([]),l=Object(d.a)(o,2),b=(l[0],l[1],Object(a.useState)(!1)),m=Object(d.a)(b,2),x=m[0],v=m[1],g=Object(a.useState)({name:"",email:"",title:""}),A=Object(d.a)(g,2),N=A[0],D=A[1],T=function(e){console.log(N),console.log(e.target.name),console.log(e.target.value),D((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Invites",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-invites c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-invites l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Invites"})]}),Object(f.jsx)("div",{className:"c-Manage-invites__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Invites"})}),Object(f.jsxs)("div",{className:"c-Manage-invites__Send-email",children:[Object(f.jsx)("h2",{children:"Send Invite*"}),x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(vn.a,{animation:"border",role:"status"}),Object(f.jsx)("p",{children:"Loading..."})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Send-email__Input",children:[Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"name",placeholder:"Name",value:N.name})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Job Title"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"title",placeholder:"Job Title",value:N.title})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"email",placeholder:"Email",value:N.email})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"induction_template",children:"Induction Template"}),Object(f.jsx)("select",{name:"induction_template",children:Object(f.jsx)("option",{value:null,children:"Assign an induction template"})})]})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"*"}),"Users who sign up through the invite link will have the role of 'Normal User'."]}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){var n={message:"You are about to send an invite link to ".concat(N.email," to the system. Click confirm to proceed."),handler:function(e){return a(e)},heading:"Confirm send invite?",type:"primary"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}});var a=function(n){n(),v((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/invites/new/user"),N,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["Email has been sent to: ","".concat(N.email),"!"]})]})),v((function(){return!1})),D((function(){return{name:"",email:"",title:""}}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),v((function(){return!1})),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}},children:"Send Invite"})]})]}),Object(f.jsxs)("div",{className:"c-Manage-invites__Table",children:[Object(f.jsx)("h2",{children:"Invites List"}),Object(f.jsx)("p",{children:"Coming soon..."})]})]})})]})},gn=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,n=_.toastTiming,c=Object(a.useState)(W),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1],m=Object(a.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)(!1),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({companyName:"Error",businessRegNum:"Error",companyAlias:"Error",createdOn:"Error",status:"Error",description:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"}}),I=Object(d.a)(S,2),w=I[0],k=I[1],B=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),P=Object(d.a)(B,2),q=P[0],R=P[1];Object(a.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,n={companyName:t.name,businessRegNum:t.business_registration_number,companyAlias:t.alias,createdOn:t.created_at,status:t.status,description:t.description,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code}};k((function(){return n}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),R((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[e,t]);var H=function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Y=function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{address:Object(u.a)(Object(u.a)({},t.address),{},Object(p.a)({},e.target.name,e.target.value))})}))},L=function(e){if("editCompany"!==e&&"editCompanyCancel"!==e||b((function(e){return!e})),"editCompanySave"===e){var t={message:"You are about to save new company details. Click confirm to proceed.",handler:function(e){return U(e)},heading:"Confirm Save?",type:"primary"};return Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}},U=function(n){T((function(){return!0})),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{name:w.companyName,business_registration_number:w.businessRegNum,alias:w.companyAlias,status:w.status,description:w.description,address:{address_line_one:w.address.line1,address_line_two:w.address.line2,city:w.address.city,state:w.address.state,country:w.address.country,postal_code:w.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated Company Details successfully!");var t=e.data;console.log(t),T((function(){return!1})),b((function(){return!1})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated Company Details successfully!"})]})),n()})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),T((function(){return!1})),n()}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Account",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(f.jsxs)(G.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Organization"})]}),Object(f.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Organization"}),j||q.render?null:Object(f.jsx)("button",{onClick:function(){return L("editCompany")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),q.render?Object(f.jsx)(un,{errMsg:q.errMsg,errStatus:q.errStatus,errStatusText:q.errStatusText}):j?Object(f.jsxs)(M.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"companyName",value:w.companyName})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"businessRegNum",value:w.businessRegNum})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"companyAlias",value:w.companyAlias})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"line1",value:w.address.line1})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"line2",value:w.address.line2})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"city",value:w.address.city})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"country",value:w.address.country})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"postalCode",value:w.address.postalCode})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"state",value:w.address.state})]})]}),Object(f.jsx)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"description",value:w.description})]})}),Object(f.jsxs)(F.a,{className:"c-Manage-account__Btns",children:[v?Object(f.jsx)("button",{onClick:function(){return L("editCompanySave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return L("editCompanyCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(M.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__First-name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"companyName",value:w.companyName})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"businessRegNum",value:w.businessRegNum})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"companyAlias",value:w.companyAlias})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:C()(new Date(w.createdOn)).format("MMMM D, YYYY h:mm A")})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"line1",value:w.address.line1})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"line2",value:w.address.line2})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"city",value:w.address.city})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"country",value:w.address.country})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"postalCode",value:w.address.postalCode})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"state",value:w.address.state})]})]}),Object(f.jsx)(F.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(f.jsxs)(E.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"description",value:w.description})]})})]})]})})]})},_n=n(94),An=n(196),yn=n.n(An),Nn=function(){var e=Object(j.g)(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(a.useState)(!1),m=Object(d.a)(b,2),v=m[0],A=m[1],y=Object(a.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1],S=Object(a.useState)({username:"",password:""}),I=Object(d.a)(S,2),C=I[0],w=I[1],k=Object(a.useState)(!1),B=Object(d.a)(k,2),P=B[0],q=B[1],H=_.toastTiming;Object(a.useEffect)((function(){""!==C.username?r((function(){return!0})):r((function(){return!1})),l(""!==D?function(){return!0}:function(){return!1})}),[C,D]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:H,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsxs)("div",{className:"c-Login__Card",children:[Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.username.value;console.log(t),e.preventDefault(),q((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/new"),{username:t},{}).then((function(e){console.log("Sent OTP successfully!");var t=e.data;console.log(t),q((function(){return!1})),A(!0),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"OTP has been sent!"})]}))})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),q((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)(M.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{className:"c-Card__Back-btn",xs:1,children:Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(_n.a,{onClick:function(){return e.goBack()}})})}),Object(f.jsx)(E.a,{xs:11,children:Object(f.jsx)("h4",{children:"Forgot Password"})})]})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:C.username||"",onChange:function(e){w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},placeholder:"username"}),Object(f.jsx)("p",{className:"c-Username__Information-message text-muted",children:"We will send a one time password for verification to your email address"})]}),c?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:P?"Loading...":"Send OTP"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Send OTP"})]}),v?Object(f.jsxs)("form",{onSubmit:function(t){console.log(D),console.log(C.username),t.preventDefault(),q((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/check"),{username:C.username,otp:D},{}).then((function(t){console.log("Checked OTP successfully!");var n=t.data;console.log(n),q((function(){return!1})),e.push("/change-password/".concat(C.username,"/").concat(D))})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),q((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Username",children:Object(f.jsx)("label",{htmlFor:"otp",children:"Key in OTP"})}),Object(f.jsx)(yn.a,{value:D,onChange:function(e){T((function(){return e}))},numInputs:6,inputStyle:"",className:"otpInput",name:"otp"}),o?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:P?"Loading...":"Submit"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Submit"})]}):""]})})})]})},Dn=function(e){var t=e.match,n=t.params.username,c=t.params.otp,r=/\d/,s=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,i=_.toastTiming,o=Object(j.g)(),l=Object(a.useState)(!1),b=Object(d.a)(l,2),m=b[0],v=b[1],A=Object(a.useState)(!1),y=Object(d.a)(A,2),N=y[0],D=y[1],S=Object(a.useState)({password:"",confirmPassword:""}),I=Object(d.a)(S,2),C=I[0],w=I[1],k=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),B=Object(d.a)(k,2),P=B[0],q=B[1],H=Object(a.useState)(!1),Y=Object(d.a)(H,2),L=Y[0],U=Y[1];Object(a.useEffect)((function(){""!==C.password&&""!==C.confirmPassword?v((function(){return!0})):v((function(){return!1})),q((function(){return{minChar:C.password.length>=8,number:!!r.test(C.password),specialChar:!!s.test(C.password),match:C.password===C.confirmPassword}}))}),[C]);var z=function(e){w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:i,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsx)("div",{className:"c-Login__Card",children:Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.password.value;e.preventDefault(),U((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/change"),{otp:c,password:t,username:n},{}).then((function(e){console.log("Changed Password successfully!");var t=e.data;console.log(t),U((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),o.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),U((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)(M.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{className:"c-Card__Back-btn",xs:1,children:Object(f.jsx)(R.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(_n.a,{onClick:function(){return o.goBack()}})})}),Object(f.jsx)(E.a,{xs:11,children:Object(f.jsx)("h4",{children:"Change Password"})})]})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(f.jsx)("input",{type:"password",onFocus:function(){return D(!0)},name:"password",value:C.password||"",onChange:z,placeholder:"Password"})]}),Object(f.jsxs)("div",{className:"c-Card__Password",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",name:"confirmPassword",value:C.confirmPassword||"",onChange:z,placeholder:"Confirm Password"})]}),N&&Object(f.jsx)(T,{validity:P}),m&&!0===P.minChar&&!0===P.number&&!0===P.specialChar&&!0===P.match?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:L?"Loading...":"Change Password"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Change Password"})]})})})})]})},Tn=function(){var e=_.toastTiming,t=Object(j.g)(),n=y.getDecodedToken(),c=n.company_id,r=n.employee_id,s=Object(a.useState)(!1),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(a.useState)(!1),m=Object(d.a)(p,2),x=(m[0],m[1]),v=Object(a.useState)(W),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)([]),F=Object(d.a)(M,2),E=F[0],w=F[1],k=Object(a.useState)([]),B=Object(d.a)(k,2),P=B[0],q=B[1],R=Object(a.useState)(null),H=Object(d.a)(R,2),Y=H[0],L=H[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a,s,i,l,d,j,p,m,O,v,f,g,_,A;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/approve/m07_01/employees"));case 3:return n=t.sent,t.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 6:if(a=t.sent,!e){t.next=74;break}if(n.data.results.forEach((function(e,t){e.employee_id===r&&b(!0)})),a.data.results.forEach((function(e,t){e.employee_id===r&&x(!0)})),s=[],i=[],l=[],!u){t.next=44;break}if(console.log(Y),Y){t.next=24;break}return t.next=18,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"));case 18:d=t.sent,console.log(d),s=d.data.results,console.log(s),t.next=30;break;case 24:return t.next=26,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(Y,"/all-equipment"));case 26:p=t.sent,console.log(p),s=null===(j=p.data.results)||void 0===j?void 0:j.equipment,console.log(s);case 30:return t.next=32,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 32:return m=t.sent,console.log(m),i=m.data.results,console.log(i),t.next=38,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment?archived=1"));case 38:O=t.sent,console.log(O),l=O.data.results,console.log(l),t.next=71;break;case 44:if(Y){t.next=53;break}return t.next=47,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/assigned-equipment"));case 47:v=t.sent,console.log(v),s=v.data.results,console.log(s),t.next=59;break;case 53:return t.next=55,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(Y,"/assigned-equipment"));case 55:g=t.sent,console.log(g),s=null===(f=g.data.results)||void 0===f?void 0:f.equipment,console.log(s);case 59:return t.next=61,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 61:return _=t.sent,console.log(_),i=_.data.results,console.log(i),t.next=67,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/assigned-equipment?archived=1"));case 67:A=t.sent,console.log(A),l=A.data.results,console.log(l);case 71:w((function(){return i.map((function(e,t){return{id:e.category_id,serialNo:t+1,name:e.name,createdOn:C()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_manage:u?"/equipment-maintenance/manage-category/".concat(e.category_id):""}}))})),I((function(){var e;return null===(e=s)||void 0===e?void 0:e.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t,n="";return null===(t=e.categories)||void 0===t||t.map((function(e){n+=e.name+", "})),n.slice(0,-2)}(),refNo:e.reference_number,model:e.model,action_manage:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))})),q((function(){return l.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,archived_on:C()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_view:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))}));case 74:t.next=79;break;case 76:t.prev=76,t.t0=t.catch(0),console.log(t.t0);case 79:case"end":return t.stop()}}),t,null,[[0,76]])})))(),function(){e=!1}}),[Y,u]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:A,setSideNavStatus:N,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Equipment Maintenance Program"})]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Equipment Maintenance Programme"}),u?Object(f.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-equipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Equipment"}):""]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Filter",children:[Object(f.jsx)("h4",{children:"Filter (Category)"}),Object(f.jsxs)("select",{type:"text",name:"filterCategory",onChange:function(e){console.log(e.target.value),L(e.target.value)},value:Y||"Error",children:[Object(f.jsx)("option",{value:"",children:E?"All":"No categories found!"}),E?E.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.name},t)})):null]})]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:S?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:S,columns:ot,pagination:se()()}):"No results found"}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance-category__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Equipment Categories"}),u?Object(f.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-category")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Category"}):""]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:E,columns:it,pagination:se()()})}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(ce.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:P,columns:lt,pagination:se()()})]})]})})]})},Sn=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken(),r=c.company_id,s=_.toastTiming,i=Object(a.useState)(!1),b=Object(d.a)(i,2),m=b[0],x=b[1],v=Object(j.g)(),g=t.params.emID,A=c.employee_id,N=Object(a.useState)([]),D=Object(d.a)(N,2),T=D[0],S=D[1],I=Object(a.useState)(!1),C=Object(d.a)(I,2),w=C[0],k=(C[1],Object(a.useState)(!1)),B=Object(d.a)(k,2),P=B[0],q=B[1],H=Object(a.useState)({name:"Error",category:[],refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",location:"Error",archivedAt:null}),Y=Object(d.a)(H,2),U=Y[0],z=Y[1],Q=Object(a.useState)([]),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),$=Object(d.a)(K,2),ee=$[0],ne=($[1],Object(a.useState)(!1)),ae=Object(d.a)(ne,2),re=ae[0],oe=ae[1],le=Object(a.useState)(W),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(a.useState)(!1),pe=Object(d.a)(be,2),me=(pe[0],pe[1],Object(a.useState)(!1)),he=Object(d.a)(me,2),xe=he[0],ve=he[1],fe=Object(a.useState)(!1),ge=Object(d.a)(fe,2),_e=(ge[0],ge[1]);Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,a,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/approve/m07_01/employees"));case 3:return t=e.sent,e.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/edit/m07_01/employees"));case 6:return n=e.sent,t.data.results.forEach((function(e,t){e.employee_id===A&&ve(!0)})),n.data.results.forEach((function(e,t){e.employee_id===A&&_e(!0)})),a=[],c=[],e.next=13,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g));case 13:return s=e.sent,console.log(s),a=s.data.results,console.log(a),e.next=19,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/categories"));case 19:i=e.sent,console.log(i),c=i.data.results,console.log(c),z((function(){return{id:a.equipment_id,name:a.name,category:a.categories.map((function(e){return{label:e.name,value:e.category_id}})),refNo:a.reference_number,regNo:a.register_number,model:a.model,serialNo:a.serial_number,location:a.location,archivedAt:a.archived_at}})),Z((function(){return c.map((function(e){return{label:e.name,value:e.category_id}}))})),S((function(){return a.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:t+1,maintenanceType:e.type,responsible:function(){var t=[],n="";return e.assignees.map((function(e){n+=e.account.username+", "})),t.push(n.slice(0,-2)),n="",t}(),maintenanceFrequency:7===e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30===e.freq_unit_time?"".concat(e.freq_multiplier," months"):365===e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0,lastServiceDate:e.last_service_at,status:{frequency:e.freq_multiplier*e.freq_unit_time,timeLeft:e.days_left},action_manage:"/equipment-maintenance/manage-equipment/".concat(g,"/manage-cycle/").concat(e.maintenance_id),action_delete:xe?Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return Ae(e.maintenance_id)}})}):""}}))})),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))()}),[U.archivedAt,m,xe]);var Ae=function(e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(t){return a(t,e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}});var a=function(e,t){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/all-maintenance/").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),x((function(e){return!e})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}},ye=function(e){"add"===e&&v.push("/equipment-maintenance/manage-equipment/".concat(g,"/add-cycle")),"edit"===e&&oe(!0),"editEquipmentCancel"===e&&(oe(!1),q(!1),x((function(e){return!e}))),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(U),e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(U.id),{name:U.name,reference_number:U.refNo,register_number:U.regNo,serial_number:U.serialNo,model:U.model,location:U.location,categories:U.category.map((function(e){return e.value}))},{headers:{Authorization:"Bearer ".concat(n)}});case 4:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated equipment details!"})]})),oe(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},Ne=function(e){z((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},De=function(e){console.log(e),z((function(t){return Object(u.a)(Object(u.a)({},t),{},{category:e})}))},Te=function(e){if("activated"===e){"active";var t={message:"Are you sure you want to activate this account?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}else{"deactivated";var a={message:"Are you sure you want to deactivate this account?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},a),{},{onClose:t}))}})}var c=function(t){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/activate"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),x((function(e){return!e})),t(),z(Object(u.a)(Object(u.a)({},U),{},{archivedAt:null})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["Equipment has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},s=function(t){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/archive"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),x((function(e){return!e})),t(),z(Object(u.a)(Object(u.a)({},U),{},{archivedAt:"refresh"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["Equipment has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:ue,setSideNavStatus:je,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Equipment"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Equipment"}),xe?re||ee.render?null:Object(f.jsx)("button",{onClick:function(){return ye("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}):""]}),ee.render?Object(f.jsx)(un,{errMsg:ee.errMsg,errStatus:ee.errStatus,errStatusText:ee.errStatusText}):Object(f.jsx)(f.Fragment,{children:re?Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"name",value:U.name})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"category",children:"Category"}),Object(f.jsx)(te.a,{isMulti:!0,options:X,placeholder:"Select Category",onChange:De,name:"categories",value:U.category.map((function(e){return e})),onFocus:function(){return q(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"refNo",value:U.refNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"location",value:U.location})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"regNo",value:U.regNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"model",value:U.model})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(f.jsx)("input",{onFocus:function(){return q(!0)},type:"text",onChange:Ne,name:"serialNo",value:U.serialNo})]})]}),Object(f.jsxs)(F.a,{className:"c-Manage-equipment__Btns",children:[P?Object(f.jsx)("button",{onClick:function(){return ye("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:w?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return ye("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"name",value:U.name})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"category",children:"Category"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"category",value:function(){var e="";return U.category.forEach((function(t){e+=t.label+", "})),e.slice(0,-2)}()})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"refNo",value:U.refNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"location",value:U.location})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"regNo",value:U.regNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"model",value:U.model})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"serialNo",value:U.serialNo})]})]})]})}),xe?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:null===U.archivedAt?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return Te("deactivated")},children:"Archive Equipment"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"The equipment will be moved to archives."})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return Te("activated")},children:"Unarchive Equipment"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"The equipment will be restored from archives."})})]})})})]}):"",Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Maintenance Cycles"}),xe?Object(f.jsx)("button",{onClick:function(){return ye("add")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):""]}),Object(f.jsx)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:0!==T.length?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:T,columns:dt,pagination:se()()}):"No records found!"})]})})]})},In=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,n=_.toastTiming,c=Object(j.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=(s[0],s[1]),b=Object(a.useState)(!1),m=Object(d.a)(b,2),x=m[0],v=(m[1],Object(a.useState)(!1)),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)({name:"",categories:[],reference_number:"",register_number:"",model:"",serial_number:"",location:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],C=Object(a.useState)([]),w=Object(d.a)(C,2),k=w[0],B=w[1],P=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(P,2),R=q[0],H=(q[1],Object(a.useState)(W)),Y=Object(d.a)(H,2),L=Y[0],U=Y[1],z=function(n){if("addEquipment"===n){console.log(S);var a={message:"Are you sure you want to add this equipment?",handler:function(e){return r(e)},heading:"Confirm Add?",type:"primary"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},a),{},{onClose:t}))}})}else"cancel"===n&&c.push("/equipment-maintenance");var r=function(n){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/all-equipment"),Object(u.a)(Object(u.a)({},S),{},{categories:S.categories.map((function(e){return e.value}))}),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),i((function(e){return!e})),n(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New equipment has been added!"})]}))}),0),c.push("/equipment-maintenance")})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),n(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}},Q=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},J=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{categories:e})}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 4:a=e.sent,console.log(a),n=a.data.results,console.log(n),B((function(){return 0===n.length?null:n.map((function(e){return{label:"".concat(e.name),value:e.category_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:L,setSideNavStatus:U,title:"Add Equipment",activeLink:"/equipment-maintenance/add-equipment",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add Equipment"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Equipment"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?Object(f.jsx)("button",{onClick:function(){return z("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:x?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return z("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),R.render?Object(f.jsx)(un,{errMsg:R.errMsg,errStatus:R.errStatus,errStatusText:R.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"name",value:S.name})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"categories",children:"Category"}),Object(f.jsx)(te.a,{isMulti:!0,options:k,placeholder:"Select Category",onChange:J,name:"categories"})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"reference_number",children:"Ref. No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"reference_number",value:S.reference_number})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"register_number",children:"Reg. No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"register_number",value:S.register_number})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"model",value:S.model})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"serial_number",children:"Serial No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"serial_number",value:S.serial_number})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"location",value:S.location})]})]})]})})]})})]})},Cn=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,n=_.toastTiming,c=Object(j.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=s[1],m=Object(a.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({name:""}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),I=Object(d.a)(S,2),C=I[0],w=(I[1],Object(a.useState)(W)),k=Object(d.a)(w,2),B=k[0],P=k[1],q=function(n){"addCategory"===n?(console.log(D),Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(!0),n.next=4,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"),D,{headers:{Authorization:"Bearer ".concat(e)}});case 4:a=n.sent,console.log(a),b(!1),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Inserted new category!"})]}))}),0),c.push("/equipment-maintenance"),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),b(!1),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n.t0.response.status}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n.t0.response.data.message})]}));case 16:case"end":return n.stop()}}),n,null,[[0,11]])})))()):"cancel"===n&&c.push("/equipment-maintenance")},R=function(e){T((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:B,setSideNavStatus:P,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-category",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add Category"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Category"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[v?Object(f.jsx)("button",{onClick:function(){return q("addCategory")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return q("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),C.render?Object(f.jsx)(un,{errMsg:C.errMsg,errStatus:C.errStatus,errStatusText:C.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsx)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:R,name:"name",value:D.name})]})})})})]})})]})},Mn=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.catID,b=Object(a.useState)(!1),m=Object(d.a)(b,2),x=(m[0],m[1]),v=Object(a.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(a.useState)(!1)),w=Object(d.a)(I,2),k=w[0],B=w[1],P=Object(a.useState)({name:"",description:"f"}),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),L=Object(d.a)(Y,2),U=L[0],z=(L[1],Object(a.useState)(W)),Q=Object(d.a)(z,2),J=Q[0],X=Q[1],Z=function(e){"save"===e?(console.log(R),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i),R,{headers:{Authorization:"Bearer ".concat(n)}});case 3:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated category!"})]})),N(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:e.t0.response.status}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:e.t0.response.data.message})]}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()):"cancel"===e?N(!1):"edit"===e&&N(!0)},K=function(e){H((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i,"/all-equipment"));case 3:t=e.sent,console.log(t),n=t.data.results.category.name,a=t.data.results.category.created_at,A||H((function(){return{name:n,createdOn:C()(new Date(a)).format("MMMM D, YYYY h:mm A")}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:J,setSideNavStatus:X,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/manage-category",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Category"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Category"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?k?Object(f.jsx)("button",{onClick:function(){return Z("save")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}):Object(f.jsx)("button",{onClick:function(){return Z("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}),A?Object(f.jsx)("button",{onClick:function(){return Z("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"}):null]})]}),U.render?Object(f.jsx)(un,{errMsg:U.errMsg,errStatus:U.errStatus,errStatusText:U.errStatusText}):Object(f.jsx)(f.Fragment,{children:A?Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{onFocus:function(){return B(!0)},type:"text",onChange:K,name:"name",value:R.name})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:R.createdOn})]})]})}):Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"name",value:R.name})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:R.createdOn})]})]})})}),Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("deleteCategory"===e){var t={message:"Are you sure you want to delete this Category?",handler:function(e){return a(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}var a=function(e){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),x((function(e){return!e})),e(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Category has been deleted!"})]}))}),0),s.push("/equipment-maintenance")})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}}("deleteCategory")},children:"Delete Category"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"This action cannot be undone"})})]})})]})})]})},Fn=function(){var e=_.toastTiming,t=Object(j.g)(),n=y.getDecodedToken(),c=n.company_id,r=n.employee_id,s=Object(a.useState)(W),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(a.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(a.useState)(!1),E=Object(d.a)(F,2),w=(E[0],E[1]);Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a,s,i,l,d,u,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/approve/m07_02/employees"));case 3:return n=t.sent,t.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_02/employees"));case 6:if(a=t.sent,!e){t.next=40;break}if(n.data.results.forEach((function(e,t){e.employee_id===r&&M(!0)})),a.data.results.forEach((function(e,t){e.employee_id===r&&w(!0)})),s=[],i=[],!I){t.next=27;break}return t.next=15,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences"));case 15:return l=t.sent,console.log(l),s=l.data.results,console.log(s),t.next=21,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences?archived=1"));case 21:d=t.sent,console.log(d),i=d.data.results,console.log(i),t.next=38;break;case 27:return t.next=29,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/assigned-licences"));case 29:return u=t.sent,console.log(u),s=u.data.results,t.next=34,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/assigned-licences?archived=1"));case 34:j=t.sent,console.log(j),i=j.data.results,console.log(i);case 38:v((function(){return s.map((function(e,t){return{id:e.licence_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at?e.expires_at:"NA",externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,n){t+=e.account.username+", "})),t.slice(0,-2)}(),status:{frequency:Math.ceil(Math.abs(new Date(e.expires_at)-new Date(e.issued_at))/864e5),timeLeft:e.days_left,isNA:e.expires_at?e.expires_at:""},action_manage:"/licenses/manage-license/".concat(e.licence_id)}}))})),D((function(){return i.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at?e.expires_at:"N.A",externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,n){t+=e.account.username+", "})),t.slice(0,-2)}(),archived_on:C()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_manage:"/licenses/manage-license/".concat(e.licence_id)}}))}));case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(0),console.log(t.t0);case 45:case"end":return t.stop()}}),t,null,[[0,42]])})))(),function(){e=!1}}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:u,setSideNavStatus:b,title:"Permits Licenses",activeLink:"/licenses",children:Object(f.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Register of Permits, Licenses, Approvals & Certificates"})]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Register of Permits, Licenses, Approvals & Certificates"}),I?Object(f.jsx)("button",{onClick:function(){t.push("/licenses/add-license")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):""]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:x,columns:ut,pagination:se()()})}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(ce.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:N,columns:jt,pagination:se()()})]})]})})]})},En=n(32),wn=n.n(En),kn=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,n=_.toastTiming,c=Object(j.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=(s[1],Object(a.useState)(!1)),m=Object(d.a)(b,2),x=m[0],v=m[1],g=Object(a.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(a.useState)([]),S=Object(d.a)(T,2),I=S[0],C=S[1],w=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),k=Object(d.a)(w,2),B=k[0],P=(k[1],Object(a.useState)(W)),q=Object(d.a)(P,2),R=q[0],H=q[1],Y=function(n){"addLicense"===n?(console.log(N),Object(l.a)(o.a.mark((function n(){var a,r,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/licence-registry/all-licences"),{issued_at:N.issuedOn,licence_name:N.license,licence_number:N.licenseNo,external_organisation:N.externalAgency,expires_at:N.expDate,assignees:N.assignees.map((function(e){return e.value}))},{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=n.sent,console.log(a),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New License has been added!"})]}))}),0),c.push("/licenses"),n.next=17;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),console.log(n.t0.response),r="Error!",s="Error!",void 0!==n.t0.response&&(r=n.t0.response.status,s=n.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:r}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:s})]}));case 17:case"end":return n.stop()}}),n,null,[[0,9]])})))()):"cancel"===n&&c.push("/licenses")},L=function(e){D((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},U=function(e){console.log(e),D((function(t){return Object(u.a)(Object(u.a)({},t),{},{expDate:e})}))},z=function(e){console.log(e),D((function(t){return Object(u.a)(Object(u.a)({},t),{},{issuedOn:e})}))},Q=function(e){console.log(e),D((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/edit/m07_02/employees"));case 4:a=e.sent,console.log(a),n=a.data.results,console.log(n),C((function(){return n.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:R,setSideNavStatus:H,title:"Licenses",activeLink:"/licenses/add-equipment",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add License/Permit/Certificate"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add License/Permit/Certificate"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[x?Object(f.jsx)("button",{onClick:function(){return Y("addLicense")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return Y("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),B.render?Object(f.jsx)(un,{errMsg:B.errMsg,errStatus:B.errStatus,errStatusText:B.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:L,name:"license",value:N.license})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:L,name:"licenseNo",value:N.licenseNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"issuedOn",children:"Issued On"}),Object(f.jsx)(wn.a,{onChange:z,value:N.issuedOn,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return v(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)(wn.a,{onChange:U,value:N.expDate,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return v(!0)}})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"externalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:L,name:"externalAgency",value:N.externalAgency})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)(te.a,{isMulti:!0,options:I,placeholder:"Select Users",onChange:Q,onFocus:function(){return v(!0)}})]})]})]})})]})})]})},Bn=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.licenseID,b=Object(a.useRef)(null),p=Object(a.useState)(!1),m=Object(d.a)(p,2),x=m[0],v=(m[1],Object(a.useState)(!1)),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],C=Object(a.useState)([]),w=Object(d.a)(C,2),k=(w[0],w[1]),B=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),P=Object(d.a)(B,2),q=P[0],H=(P[1],Object(a.useState)(W)),Y=Object(d.a)(H,2),U=Y[0],z=Y[1],Q=Object(a.useState)(null),J=Object(d.a)(Q,2),X=J[0],Z=J[1],K=function(e){"addLicense"===e&&(console.log(S),Object(l.a)(o.a.mark((function e(){var t,a,r,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in e.prev=0,t=new FormData,S)t.append(a,S[a]);return t.append("renewal",X),console.log(t),console.log(t.get("renewal")),e.next=8,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences/").concat(i,"/renewals"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 8:r=e.sent,console.log(r),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New License has been uploaded!"})]}))}),0),s.push("/licenses/manage-license/".concat(i)),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response),l="Error!",d="Error!",void 0!==e.t0.response&&(l=e.t0.response.status,d=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:l}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:d})]}));case 22:case"end":return e.stop()}}),e,null,[[0,14]])})))()),"cancel"===e&&s.push("/licenses/manage-license/".concat(i)),"upload"===e&&b.current.click()},$=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{expires_at:e})}))},ee=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{issued_at:e})}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_02/employees"));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),k((function(){return t.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:U,setSideNavStatus:z,title:"Licenses",activeLink:"/licenses/manage-license/".concat(i,"/upload"),children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)(G.a.Item,{href:"/licenses/manage-license/".concat(i),children:"Manage Permits/Licenses/Certificates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Upload License"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Upload License"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?Object(f.jsx)("button",{onClick:function(){return K("addLicense")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:x?"Loading...":"Upload"}),Object(f.jsx)("button",{onClick:function(){return K("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),q.render?Object(f.jsx)(un,{errMsg:q.errMsg,errStatus:q.errStatus,errStatusText:q.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"issued_at",children:"Issued On"}),Object(f.jsx)(wn.a,{onChange:ee,value:S.issued_at,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return N(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"expires_at",children:"Exp. Date"}),Object(f.jsx)(wn.a,{onChange:$,value:S.expires_at,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return N(!0)}})]})]})})}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Mid c-Main__Top c-File-upload",children:[Object(f.jsx)("div",{className:"c-Manage-equipment__File",children:X?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:X.name}),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{className:"c-File-upload__Bin",onClick:function(){Z((function(){return null}))}})})]}):Object(f.jsx)("p",{children:"No File Detected."})}),Object(f.jsx)("button",{onClick:function(){return K("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload File"}),Object(f.jsx)("input",{className:"c-Manage-equipment__File-input c-File-select__Raw",type:"file",ref:b,onChange:function(e){var t=e.target.files[0];console.log(t),Z((function(){return t}))}})]})]})})]})},Pn=function(){Object(j.g)(),y.getToken(),y.getDecodedToken();var e=Object(a.useRef)(""),t=Object(a.useState)(W),n=Object(d.a)(t,2),c=n[0],r=n[1],s=[{id:1,serialNo:1,template_name:"IT Department Induction Template",action_manage:"/settings/induction-templates/induction-template/".concat(1)}];return Object(f.jsx)(V,{sideNavStatus:c,setSideNavStatus:r,title:"Induction Templates",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-templates c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-induction-templates__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Induction Templates"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Induction Templates"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(ie.confirmAlert)({customUI:function(n){var a=n.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--new-template",children:[Object(f.jsx)("h1",{children:"Create new template"}),Object(f.jsx)("input",{placeholder:"Enter template name",name:"newTemplateName",ref:e}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return t(a)},children:"Create"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:a,children:" Cancel"})]})]})}});var t=function(e){}}()},children:"Add Template"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates__Table",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:s,columns:vt})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:s,columns:ft,pagination:se()()})]})]})})},qn=function(e){var t=e.match,n=Object(j.g)(),c=(y.getToken(),y.getDecodedToken(),t.params.templateID,Object(a.useState)(W)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=[{id:1,serialNo:1,form_name:"AY2021 Induction Form for IT Department",version_label:"IT2021.1",status:"test",action_view:"/settings/manage-induction-templates/manage-induction-template/".concat(1,"/manage-induction-form/",1)}];return Object(f.jsx)(V,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Induction Forms",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-versions c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-induction-versions l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Induction Versions"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-versions__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Induction Versions"}),Object(f.jsxs)("div",{className:"c-Manage-indudction-versions__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return n.push("/settings/induction-templates/induction-template-versions/".concat(1,"/create"))},children:"Create New Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",children:"Archive"})]})]}),Object(f.jsx)("div",{className:"c-Manage-induction-versions__Table",children:Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:o,columns:gt})})]})})},Rn=function(e){e.taskMode;var t=e.taskData;return console.log("test"),Object(f.jsxs)("div",{className:"c-Induction-form-task c-Induction-form-task--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-task__Header",children:Object(f.jsxs)("p",{className:"c-Induction-form-task__Text",children:["Task: ",(null===t||void 0===t?void 0:t.task)?t.task:"Could not retrieve section name"]})}),Object(f.jsx)("div",{className:"c-Induction-form-task__Table",children:0!==(null===t||void 0===t?void 0:t.length)?Object(f.jsx)(ce.a,{keyField:"order",bordered:!1,data:t.descriptions,columns:_t}):"No records found!"})]})},Hn=function(e){var t,n,a=e.sectionData,c=e.formMode;return console.log(a),"edit"===c?Object(f.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(f.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===a||void 0===a?void 0:a.section)?a.section:"Could not retrieve section name"})}),Object(f.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===a||void 0===a||null===(t=a.tasks)||void 0===t?void 0:t.length)?a.tasks.map((function(e,t){return console.log("ram thjis"),Object(f.jsx)(Rn,{taskMode:"edit",taskData:e},t)})):"No records found!"})]}):Object(f.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(f.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===a||void 0===a?void 0:a.section)?a.section:"Could not retrieve section name"})}),Object(f.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===a||void 0===a||null===(n=a.tasks)||void 0===n?void 0:n.length)?a.tasks.map((function(e,t){return Object(f.jsx)(Rn,{taskData:e},t)})):"No records found!"})]})},Yn=function(e){var t=e.match,n=(Object(j.g)(),y.getToken(),y.getDecodedToken(),t.params.formID,t.params.templateID,Object(a.useState)(W)),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),o=Object(d.a)(i,2),l=o[0];o[1],"/settings/manage-induction-templates/manage-induction-template/".concat(1);return Object(a.useEffect)((function(){}),[]),Object(f.jsx)(V,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Induction Templates",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-form c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-induction-form l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{href:"/settings/manage-induction-templates",children:"Manage Induction Templates"}),Object(f.jsx)(G.a.Item,{href:"/settings/manage-induction-templates/manage-induction-template/".concat(1),children:"Manage Induction Template"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Induction Form"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Induction Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Change to Active"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document c-Main__Document",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(Bt,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document-content",children:[Object(f.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Manage-indcution-form__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsx)("div",{className:"c-IP__Document-header--right c-Document__Header--right"})]}),0!==l.length?l.map((function(e,t){return Object(f.jsx)(Hn,{sectionData:e},t)})):"No records found!"]})})]})]})})},Ln=function(e){var t,n,c,r=e.fileRef,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];Object(a.useEffect)((function(){console.log("file select effectiminda"),console.log(r),console.log(r.current.files[0])}),[o]);return Object(f.jsxs)("div",{className:"c-File-select",children:[Object(f.jsx)("span",{className:"c-File-select__Area",onClick:function(){r.current.click()},children:void 0!==(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.files[0])?Object(f.jsx)("p",{children:null===(n=r.current)||void 0===n||null===(c=n.files[0])||void 0===c?void 0:c.name}):Object(f.jsx)("p",{children:"Click here to select a file!"})}),Object(f.jsx)("input",{className:"c-File-select__Raw",onChange:function(e){l((function(e){return!e}))},type:"file",ref:r})]})},Un=function(){return Object(f.jsxs)("div",{className:"c-Loading",children:[Object(f.jsx)(vn.a,{animation:"border",role:"status",variant:"secondary"}),Object(f.jsx)("p",{children:"Loading"})]})},zn=function(e){var t=e.match,n=_.toastTiming,c=Object(j.g)(),r=t.params.trainingRecordID,s=y.getDecodedToken(),i=y.getToken(),b=s.company_id,p=(s.employee_id,Object(a.useState)(W)),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(a.useState)(null),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(a.useState)({}),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(a.useState)(!1),E=Object(d.a)(F,2),w=E[0],k=E[1],B=Object(a.useRef)(null),P=Object(a.useState)(!1),q=Object(d.a)(P,2),R=q[0],H=q[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/all-requests/").concat(r));case 3:n=t.sent,e&&(a=n.data.results,console.log(a),M((function(){return{id:a.training_id,organisation:a.training_institution,course_title:a.title,cost:a.training_cost,approver:"@"+a.approver.account.username,supervisor_evaluation_done:a.supervisor_evaluation_done,trainee_evaluation_done:a.trainee_evaluation_done,start_date:C()(a.training_start).format("D MMM YYYY"),end_date:C()(a.training_end).format("D MMM YYYY"),attendance:null!==a.attendance_upload,attendance_file:a.attendance_file,status:a.status,created_by:"@"+a.author.account.username}})),null!==a.attendance_upload?D((function(){return!0})):D((function(){return!1}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[w]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training-evaluation/evaluate-record/").concat(r));case 3:c.push("/training/records/manage/".concat(r,"/post-training-evaluation")),e.next=13;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),t="Error!",n="Error!",void 0!==e.t0.response&&(t=e.t0.response.status,n=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}));case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(null===(t=I.attendance_file)||void 0===t?void 0:t.file_id),{headers:{Authorization:"Bearer ".concat(i)},responseType:"blob"});case 3:n=e.sent,console.log(n),yt()(n.data,I.attendance_file.file_name),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),a="Error!",c="Error!",void 0!==e.t0.response&&(a=e.t0.response.status,c=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:c})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:x,setSideNavStatus:v,title:"Manage My Training Record",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-my-training-record c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-my-training-record__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/records",children:"My Training Records"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage My Training Record"})]}),R?Object(f.jsx)(Un,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage my Training Record"}),null===N||"cancelled"===I.status?null:N?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return Y()},children:"Complete Post Evaluation"}):Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(ie.confirmAlert)({customUI:function(n){var a=n.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--training-record-file-upload",children:[Object(f.jsx)("h1",{children:"Upload File"}),Object(f.jsxs)("div",{className:"c-Confirm-alert__File",children:[Object(f.jsx)(Ln,{fileRef:B}),Object(f.jsx)("p",{children:"This training record's attendance will be updated to completed upon uploading the file"})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return t(a)},children:"Upload"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:function(){return e(a)},children:" Cancel"})]})]})}});var e=function(e){e()},t=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H((function(){return!0})),console.log(B.current.files[0]),n=B.current.files[0],t(),null!==n){e.next=7;break}return O.b.error("Error! No file detected!"),e.abrupt("return");case 7:return(a=new FormData).append("attendance",n),e.prev=9,e.next=12,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/all-requests/").concat(r),a,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/form-data"}});case 12:setTimeout((function(){O.b.success("Success! Attendance file has been submitted!")}),0),k((function(e){return!e})),e.next=23;break;case 16:e.prev=16,e.t0=e.catch(9),console.log(e.t0),c="Error!",s="Error!",void 0!==e.t0.response&&(c=e.t0.response.status,s=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:c}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:s})]}));case 23:H((function(){return!1}));case 24:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}()}()},children:"Upload File"})]}),Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:I.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:I.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:I.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Trainee)"}),"cancelled"===I.status?Object(f.jsx)(Ze,{type:"cancelled"}):I.attendance?I.trainee_evaluation_done?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"File (Evidence for Attendance)"}),I.attendance_file?Object(f.jsxs)("div",{className:"c-Field__File c-File",children:[Object(f.jsx)("h1",{onClick:L,children:I.attendance_file.file_name}),"cancelled"===I.status?null:Object(f.jsx)("h2",{children:"Change File"})]}):Object(f.jsx)("p",{children:"No file."})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Trainee"}),Object(f.jsx)("p",{children:I.created_by})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:I.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:I.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approver"}),Object(f.jsx)("p",{children:I.approver})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Approver)"}),"cancelled"===I.status?Object(f.jsx)(Ze,{type:"cancelled"}):I.attendance?I.supervisor_evaluation_done?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Attendance Status"}),"cancelled"===I.status?Object(f.jsx)(Ze,{type:"cancelled"}):I.attendance?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"})]})]})]}),"cancelled"===I.status?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Canceling this record will cancel its respective request permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},e),{},{onClose:n}))}});var t=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H((function(){return!0})),e.prev=1,e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/cancel-request/").concat(r));case 4:setTimeout((function(){O.b.success("Success! Training record and its training request has been cancelled!")}),0),c.push("/training"),e.next=16;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),H((function(){return!1}));case 16:t();case 17:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}()},children:"Cancel record & request"}),Object(f.jsx)("p",{children:"Performing this action will cancel the record and request permanently. This action cannot be undoned."})]})]})})]})]})})]})},Qn=function(e){var t=e.mode,n=e.qns,c=e.qnsType,r=e.index,s=e.viewType,i=e.setQuestions,o=e.formType,l=e.answer,j=Object(a.useState)(je),b=Object(d.a)(j,2),p=b[0],m=b[1];Object(a.useEffect)((function(){c&&m((function(){return c}))}),[t]);var h=function(e){console.log(e.target.value),i((function(t){return t.map((function(t,n){return r===n?Object(u.a)(Object(u.a)({},t),{},{answer:e.target.value}):t}))}))};return Object(f.jsx)("div",{className:"c-Evaluation-qns",children:t===be?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Edit",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(f.jsxs)("div",{className:"c-Top__Left",children:[Object(f.jsxs)("label",{htmlFor:"qns",children:[r+1,"."]}),Object(f.jsx)("input",{name:"qns",type:"text",placeholder:"Enter question",value:n||"",onChange:function(e){return function(e){i("trainee"===o?function(t){return Object(u.a)(Object(u.a)({},t),{},{trainee:t.trainee.map((function(t){return console.log(t),console.log(r),t.serialNo===r+1?Object(u.a)(Object(u.a)({},t),{},{question:e.target.value}):t}))})}:function(t){return Object(u.a)(Object(u.a)({},t),{},{supervisor:t.supervisor.map((function(t){return t.serialNo===r+1?Object(u.a)(Object(u.a)({},t),{},{question:e.target.value}):t}))})})}(e)}})]}),Object(f.jsxs)("div",{className:"c-Top__Right",children:[Object(f.jsx)("label",{htmlFor:"qnsType",children:"Qns Type:"}),Object(f.jsxs)("select",{name:"qnsType",value:p,onChange:function(e){return function(e){m((function(){return e.target.value}))}(e)},children:[Object(f.jsx)("option",{value:je,children:"Select a qns type"}),Object(f.jsx)("option",{value:de,children:"Open Ended"}),Object(f.jsx)("option",{value:le,children:"1 - 5 Rating"}),Object(f.jsx)("option",{value:ue,children:"Yes or No"})]})]})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Types",children:[p===ue?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):p===le?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Neutral"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):p===de?Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(f.jsx)("textarea",{name:"open",disabled:!0,placeholder:"Enter something"})}):Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(f.jsx)("p",{children:"Please select a question type"})}),Object(f.jsx)("div",{className:"c-Evaluation-qns__Del",children:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{className:"c-Delete",onClick:function(){i((function(e){var t="",n=e[t="trainee"===o?"trainee":"supervisor"].filter((function(e){return e.serialNo!==r+1})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));return"trainee"===t?Object(u.a)(Object(u.a)({},e),{},{trainee:n}):Object(u.a)(Object(u.a)({},e),{},{supervisor:n})}))}})})})]}),Object(f.jsx)("hr",{})]}):t===pe?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Do",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(f.jsxs)("p",{children:[r+1,"."]}),Object(f.jsx)("p",{children:n})]}),Object(f.jsx)("div",{className:"c-Evaluation-qns__Types",children:s===ue?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"yes"===l,value:"yes"}),Object(f.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"no"===l,value:"no"}),Object(f.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):s===le?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"1"===l,value:1}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"2"===l,value:2}),Object(f.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"3"===l,value:3}),Object(f.jsx)("label",{htmlFor:"rating",children:"Neutral"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"4"===l,value:4}),Object(f.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",onChange:function(e){return h(e)},checked:void 0!==l&&"5"===l,value:5}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):s===de?Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(f.jsx)("textarea",{name:"open",placeholder:"Enter something",value:l||"",onChange:function(e){i((function(t){return t.map((function(t,n){return r===n?Object(u.a)(Object(u.a)({},t),{},{answer:e.target.value}):t}))}))}})}):Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(f.jsx)("p",{children:"Error! Invalid Question type."})})}),Object(f.jsx)("hr",{})]}):t===me?Object(f.jsxs)("div",{className:"c-Evaluation-qns__View",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(f.jsxs)("p",{children:[r+1,"."]}),Object(f.jsx)("p",{children:n})]}),Object(f.jsx)("div",{className:"c-Evaluation-qns__Types",children:s===ue?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",checked:void 0!==l&&"yes"===l,value:"yes",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",checked:void 0!==l&&"no"===l,value:"no",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):s===le?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",checked:void 0!==l&&"1"===l,value:1===l,disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",checked:void 0!==l&&"2"===l,value:2===l,disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",checked:void 0!==l&&"3"===l,value:3===l,disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Neutral"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",checked:void 0!==l&&"4"===l,value:4===l,disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",checked:void 0!==l&&"5"===l,value:5===l,disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):s===de?Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(f.jsx)("textarea",{name:"open",value:l||"",disabled:!0,placeholder:"Enter something"})}):Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(f.jsx)("p",{children:"Error! Invalid Question type."})})}),Object(f.jsx)("hr",{})]}):void 0})},Vn=function(e){var t=e.match,n=_.toastTiming,c=Object(j.g)(),r=Object(j.h)().pathname.split("/"),s=y.getDecodedToken(),i=s.company_id,b=(s.employee_id,Object(a.useState)(W)),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)({}),F=Object(d.a)(M,2),E=F[0],w=F[1],k=Object(a.useState)(null),B=Object(d.a)(k,2),P=B[0],q=B[1],R=Object(a.useState)(!1),H=Object(d.a)(R,2),Y=H[0],L=H[1],U=t.params.trainingRecordID;Object(a.useEffect)((function(){var e=!0;return"training"===r[1]?"manage"===r[2]?q((function(){return"approver"})):q((function(){return"trainee"})):c.push("/page-not-found"),Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/training/all-requests/").concat(U));case 3:n=t.sent,console.log(n),e&&(a=n.data.results,w((function(){return{course_title:a.title,organisation:a.training_institution,cost:a.training_cost,status:"Completed",trainee:"@"+a.author.account.username,supervisor:"@"+a.approver.account.username,start_date:C()(new Date(a.training_start)).format("MMMM D, YYYY"),end_date:C()(new Date(a.training_end)).format("MMMM D, YYYY"),version:a.evaluation.meta.template.version,form_title:a.evaluation.meta.template.name}})),N((function(){return"manage"===r[2]?a.evaluation.evaluation.supervisor.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})})):a.evaluation.evaluation.trainee.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})}))})),I((function(){return"manage"===r[2]?a.evaluation.evaluation.supervisor.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})})):a.evaluation.evaluation.trainee.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})}))}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),console.log("ran use effect"),function(){e=!1}}),[Y]);var z=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},console.log(S),t="manage"===r[2]?{supervisor_evaluation_done:!0,supervisor:S}:{trainee_evaluation_done:!0,trainee:S},e.next=6,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/training-evaluation/evaluate-record/").concat(U),t);case 6:O.b.success("You have successfully modified your evaluation!"),L((function(){return!1})),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"Post Evaluation Form",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Post-evaluation-form c-Main",children:[Object(f.jsx)(G.a,{className:"c-Post-evaluation-form__Breadcrumb l-Breadcrumb",children:"approver"!==P?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training",children:"My Training Records"}),Object(f.jsx)(G.a.Item,{href:"/training/records/manage/".concat(U),children:"Manage My Training Record"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Post Training Evaluation"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/manage",children:"Assigned Records"}),Object(f.jsx)(G.a.Item,{href:"/training/manage/records/manage/".concat(U),children:"Manage Training"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Post Training Evaluation"})]})}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Post Training Evaluation"}),Y?Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return z()},children:"Submit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return L((function(e){return!e}))},children:"Cancel"})]}):Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return L((function(e){return!e}))},children:"Edit"})]}),Object(f.jsx)("div",{className:"c-Post-evaluation-form__Document c-Main__Document",children:Object(f.jsx)(Bt,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-content",children:[Object(f.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("p",{children:E.course_title}),Object(f.jsx)("p",{children:E.organisation}),Object(f.jsx)("p",{children:E.cost}),Object(f.jsx)("p",{children:E.status}),Object(f.jsx)("p",{children:E.version}),Object(f.jsx)("p",{children:E.trainee}),Object(f.jsx)("p",{children:E.supervisor}),Object(f.jsx)("p",{children:E.start_date}),Object(f.jsx)("p",{children:E.end_date})]})]}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit",children:[Object(f.jsx)("div",{className:"c-Document-form__Heading",children:Object(f.jsxs)("h1",{children:["approver"===P?"Approver":"Trainee"," Section"]})}),Object(f.jsx)("div",{className:"c-Document-form__Fields",children:A.length>0?Y?S.map((function(e,t){return Object(f.jsx)(Qn,{mode:pe,qns:e.question,viewType:e.displayType,index:t,setQuestions:I,formType:P,answer:e.answer},t)})):A.map((function(e,t){return Object(f.jsx)(Qn,{mode:me,qns:e.question,viewType:e.displayType,index:t,setQuestions:N,formType:P,answer:e.answer},t)})):"No questions"})]})]})})})]})})]})},Wn=function(){var e=_.toastTiming,t=Object(j.g)(),n=y.getDecodedToken(),c=n.company_id,r=(n.employee_id,y.getToken()),s=Object(a.useState)(W),i=Object(d.a)(s,2),b=i[0],m=i[1],x=Object(a.useState)([]),v=Object(d.a)(x,2),g=v[0],A=v[1],N=Object(a.useState)({title:"",training_start:new Date,training_end:new Date,training_institution:"",training_cost:"",justification_text:"",approved_by:void 0}),D=Object(d.a)(N,2),T=D[0],S=D[1],I=Object(a.useState)(null),C=Object(d.a)(I,2),M=C[0],F=C[1],E=Object(a.useRef)(null),w=Object(a.useState)(!1),k=Object(d.a)(w,2),B=k[0],P=k[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/approve/m07_03a/employees"));case 3:n=t.sent,e&&(console.log(n),void 0!==(a=n.data.results)&&A((function(){return 0===a.length?null:a.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]);var q=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==B){e.next=2;break}return e.abrupt("return");case 2:for(a in P((function(){return!0})),e.prev=3,n=new FormData,T)n.append(a,T[a]);return n.append("justification",M),console.log(c),e.next=10,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/training/all-requests"),n,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}});case 10:setTimeout((function(){O.b.success("Success! Training requets has been submitted for approval!")}),0),t.push("/training/requests"),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),s="Error!",i="Error!",void 0!==e.t0.response&&(s=e.t0.response.status,i=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:s}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:i})]})),P((function(){return!1}));case 22:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),H=function(e){S((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Y=function(e,t){S((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(p.a)({},t,e))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:b,setSideNavStatus:m,title:"Create Training Request",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Create-training-request c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Create-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/requests",children:"My Training Requests"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Create Training Request"})]}),Object(f.jsxs)("div",{className:"c-Create-training-request__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Training Request"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary ".concat(B?"c-Btn--disabled":""),onClick:function(){return q()},children:"Create"})]}),B?Object(f.jsx)(Un,{}):Object(f.jsxs)("div",{className:"c-Create-training-request__Form c-Form",children:[Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Course Title"}),Object(f.jsx)("input",{name:"title",value:T.title,type:"text",placeholder:"Enter Course Title",onChange:H})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(f.jsx)(wn.a,{onChange:function(e){return Y(e,"training_start")},value:T.training_start,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"training_institution",children:"Organisation/Institution"}),Object(f.jsx)("input",{name:"training_institution",value:T.training_institution,type:"text",placeholder:"Enter Organisation/Instition",onChange:H})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(f.jsx)(wn.a,{onChange:function(e){return Y(e,"training_end")},value:T.training_end,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"training_cost",children:"Cost"}),Object(f.jsx)("input",{name:"training_cost",value:T.training_cost,type:"text",placeholder:"Enter training cost",onChange:H})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"approved_by",children:"To be approved by"}),Object(f.jsxs)("select",{name:"approved_by",className:"c-Form__Approver",value:T.approved_by,onChange:H,children:[Object(f.jsx)("option",{children:g?"Please select an approver":"No approver found!"}),g?g.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]})]})]}),Object(f.jsx)("div",{className:"c-Form__Row",children:Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input c-Form__Justification",children:[Object(f.jsx)("label",{htmlFor:"justification_text",children:"Justification"}),Object(f.jsx)("textarea",{name:"justification_text",value:T.justification_text,type:"text",placeholder:"Enter Justification",onChange:H})]})}),Object(f.jsx)("div",{className:"c-Form__Row",children:Object(f.jsxs)("div",{className:"c-Form__File-upload c-File-upload",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),Object(f.jsx)("div",{className:"c-File-upload__Display",children:M?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:M.name}),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{className:"c-File-upload__Bin",onClick:function(){F((function(){return null}))}})})]}):Object(f.jsx)("p",{children:"No File Detected."})}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){E.current.click()},children:"Upload File"}),Object(f.jsx)("input",{className:"c-File-select__Raw",type:"file",ref:E,onChange:function(e){var t=e.target.files[0];console.log(t),F((function(){return t}))}})]})})]})]})})]})},Jn=function(){var e=_.toastTiming,t=Object(j.g)(),n=y.getDecodedToken(),c=n.company_id,r=(n.employee_id,Object(a.useState)(W)),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(a.useState)([]),p=Object(d.a)(b,2),m=p[0],x=p[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/training-evaluation/all-templates"));case 3:n=t.sent,e&&(a=n.data.results,console.log(a),x((function(){return a.map((function(e,t){return{id:e.evaluation_template_id,serialNo:t+1,template_title:e.name,version:e.version,created_by:"@"+e.author.account.username,created_on:C()(new Date(e.created_at)).format("D MMM YYYY"),status:(console.log(e.active),e.active?Object(f.jsx)(Ze,{type:"active"}):Object(f.jsx)(Ze,{type:"inactive"})),action_manage:"/training/post-evaluation-templates/manage/".concat(e.evaluation_template_id)}}))}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:u,title:"Manage Post Evaluation Templates",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Post Evaluation Templates"})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Post Evaluation Templates"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/training/post-evaluation-templates/create")},children:"Create New Template"})]}),Object(f.jsx)("div",{className:"c-Manage-PET__Table",children:m.length>0?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:m,columns:xt}):"No records found!"})]})})]})},Gn={meta:{template:{name:"Post training evaluation 20XX",version:"20XX.X",created_by:null,created_at:null,effective_at:null}},evaluation:{trainee:[{order:2,type:le,question:"Rating question"},{order:1,type:de,question:"Open Ended question"},{order:3,type:ue,question:"Yes or No Question"}],supervisor:[{order:2,type:le,question:"Rating question"},{order:1,type:de,question:"Open Ended question"},{order:3,type:ue,question:"Yes or No Question"}]}},Xn=function(){var e,t,n,c,r=_.toastTiming,s=Object(j.g)(),i=y.getDecodedToken(),b=i.company_id,m=(i.employee_id,Object(a.useState)(W)),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(a.useState)({trainee:[],supervisor:[]}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({}),I=Object(d.a)(S,2),C=I[0],M=I[1];Object(a.useEffect)((function(){T((function(){var e=Gn.evaluation.trainee.sort((function(e,t){return e.order-t.order})),t=Gn.evaluation.supervisor.sort((function(e,t){return e.order-t.order}));return{trainee:e.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})})),supervisor:t.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}})),M((function(){return Gn.meta}))}),[]);var F=function(e){T("trainee"===e?function(e){return Object(u.a)(Object(u.a)({},e),{},{trainee:[].concat(Object(_e.a)(e.trainee),[{serialNo:e.trainee.length+1,question:"",answer:"",type:je}])})}:function(e){return Object(u.a)(Object(u.a)({},e),{},{supervisor:[].concat(Object(_e.a)(e.supervisor),[{serialNo:e.supervisor.length+1,question:"",answer:"",type:je}])})})},E=function(e){M((function(t){return Object(u.a)(Object(u.a)({},t),{},{template:Object(u.a)(Object(u.a)({},t.template),{},Object(p.a)({},e.target.name,e.target.value))})}))},w=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(C),console.log(D),n={name:null===(t=C.template)||void 0===t?void 0:t.name,version:C.template.version,evaluation:D,immediate:!0},e.prev=3,e.next=6,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training-evaluation/all-templates"),n);case 6:setTimeout((function(){O.b.success("Success! A new post evaluation form has been created!")}),0),s.push("/training/post-evaluation-templates"),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),a="Error!",c="Error!",void 0!==e.t0.response&&(a=e.t0.response.status,c=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:c})]}));case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:v,setSideNavStatus:g,title:"Create Post Evaluation Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Create-PET c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Create-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Create Post Evaluation Template"})]}),Object(f.jsxs)("div",{className:"c-Create-PET__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Post Evaluation Template"}),Object(f.jsxs)("div",{className:"c-Top__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return w()},children:"Create"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return s.push("/settings/trainings/post-evaluation-templates")},children:"Cancel"})]})]}),Object(f.jsx)("div",{className:"c-Create-PET__Document c-Main__Document",children:Object(f.jsx)(Bt,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Create-PET__Document-content",children:[Object(f.jsx)("div",{className:"c-Create-PET__Document-title",children:Object(f.jsx)("input",{type:"text",placeholder:"Enter form title",name:"name",value:(null===(e=C.template)||void 0===e?void 0:e.name)||"",onChange:function(e){return E(e)}})}),Object(f.jsxs)("div",{className:"c-Create-PET__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",name:"version",value:(null===(t=C.template)||void 0===t?void 0:t.version)||"",onChange:function(e){return E(e)}}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]}),Object(f.jsxs)("div",{className:"c-Create-PET__Document-form c-Document-form",children:[Object(f.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Trainee Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===D||void 0===D||null===(n=D.trainee)||void 0===n?void 0:n.length)>0?D.trainee.map((function(e,t){return Object(f.jsx)(Qn,{mode:be,qnsType:e.type,qns:e.question,index:t,setQuestions:T,formType:"trainee"},t)})):Object(f.jsx)("p",{children:"No questions detected!"}),Object(f.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return F("trainee")},children:Object(f.jsx)("p",{children:"Add New Row"})})]})]}),Object(f.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===D||void 0===D||null===(c=D.supervisor)||void 0===c?void 0:c.length)>0?D.supervisor.map((function(e,t){return Object(f.jsx)(Qn,{mode:be,qnsType:e.type,qns:e.question,index:t,setQuestions:T,formType:"supervisor"},t)})):Object(f.jsx)("p",{children:"No questions detected!"}),Object(f.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return F("supervisor")},children:Object(f.jsx)("p",{children:"Add New Row"})})]})]})]})]})})})]})})]})},Zn=function(e){var t=e.match,n=_.toastTiming,c=Object(j.g)(),r=t.params.trainingReqID,s=y.getDecodedToken(),i=y.getToken(),b=s.company_id,p=(s.employee_id,Object(a.useState)(W)),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(a.useState)({}),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],M=S[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/all-requests/").concat(r));case 3:n=t.sent,e&&(a=n.data.results,console.log(n),D((function(){var e;return{id:a.training_id,organisation:a.training_institution,course_title:a.title,cost:a.training_cost,approver:"@"+a.approver.account.username,approval_status:a.status,start_date:C()(a.training_start).format("D MMM YYYY"),end_date:C()(a.training_end).format("D MMM YYYY"),justification_text:a.justification_text,justification_upload:a.justification_upload,justification_upload_filename:null===(e=a.justification_file)||void 0===e?void 0:e.file_name,remarks:a.remarks,attendance_upload:a.attendance_upload,created_by:"@"+a.author.account.username}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[I]);var F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(N.justification_upload),{headers:{Authorization:"Bearer ".concat(i)},responseType:"blob"});case 3:t=e.sent,console.log(t),yt()(t.data,N.justification_upload_filename),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:x,setSideNavStatus:v,title:"Manage My Training Record",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-my-training-request c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-my-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/requests",children:"My Training Requests"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage My Training Request"})]}),Object(f.jsx)("div",{className:"c-Manage-my-training-request__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage my Training Request"})}),Object(f.jsxs)("div",{className:"c-Manage-my-training-request__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:N.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:N.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:N.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Justification"}),Object(f.jsx)("p",{children:N.justification_text})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Rejection Remarks"}),Object(f.jsx)("p",{children:N.remarks?N.remarks:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Trainee"}),Object(f.jsx)("p",{children:N.created_by})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:N.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:N.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"To be Approved by"}),Object(f.jsx)("p",{children:N.approver})]}),Object(f.jsxs)("div",{className:"c-Field c-Field__File",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),N.justification_upload?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:F,children:"Download"}):Object(f.jsx)("p",{children:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approval Status"}),Object(f.jsx)(Ze,{type:N.approval_status})]})]})]}),"rejected"!==N.approval_status&&("approved"!==N.approval_status&&"pending"!==N.approval_status||N.attendance_upload)?null:Object(f.jsxs)("div",{className:"c-Manage-my-training-request__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"".concat("rejected"===N.approval_status?"Deleting":"Removing"," this record will ").concat("rejected"===N.approval_status?"delete":"remove"," its respective record (if any) permanently. Click confirm to proceed."),handler:function(e){return t(e)},heading:"Confirm ".concat("rejected"===N.approval_status?"delete":"remove","?"),type:"alert"};Object(ie.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},e),{},{onClose:n}))}});var t=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"rejected"!==N.approval_status){e.next=6;break}return e.next=4,h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/rejected-requests/").concat(r));case 4:e.next=8;break;case 6:return e.next=8,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/training/cancel-request/").concat(r));case 8:if(setTimeout((function(){O.b.success("Successfully ".concat("rejected"===N.approval_status?"deleted":"cancelled","!"))}),0),"rejected"!==N.approval_status){e.next=14;break}return c.push("/training/requests"),e.abrupt("return");case 14:M((function(e){return!e}));case 15:e.next=24;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 24:t();case 25:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()}()},children:"rejected"===N.approval_status?"Delete record & request":"Cancel record & request"}),Object(f.jsxs)("p",{children:["Performing this action will ","rejected"===N.approval_status?"delete":"cancel"," the request and record (if any) permanently. This action cannot be undoned."]})]})]})]})})]})},Kn=function(e){var t=e.match,n=_.toastTiming,c=Object(j.g)(),r=t.params.trainingID,s=y.getDecodedToken(),i=y.getDecodedToken(),u=s.company_id,b=(s.employee_id,Object(a.useState)(W)),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)({}),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training/all-requests/").concat(r));case 3:n=t.sent,e&&(a=n.data.results,console.log(a),I((function(){return{id:a.training_id,organisation:a.training_institution,course_title:a.title,cost:a.training_cost,approver:"@"+a.approver.account.username,supervisor_evaluation_done:a.supervisor_evaluation_done,trainee_evaluation_done:a.trainee_evaluation_done,start_date:C()(a.training_start).format("D MMM YYYY"),end_date:C()(a.training_end).format("D MMM YYYY"),attendance:null!==a.attendance_upload,attendance_file:a.attendance_file,status:a.status,created_by:"@"+a.author.account.username}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),N((function(){return!0})),function(){e=!1}}),[]);var M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training-evaluation/evaluate-record/").concat(r));case 3:c.push("/training/manage/records/manage/".concat(r,"/post-training-evaluation")),e.next=13;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),t="Error!",n="Error!",void 0!==e.t0.response&&(t=e.t0.response.status,n=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}));case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(null===(t=S.attendance_file)||void 0===t?void 0:t.file_id),{headers:{Authorization:"Bearer ".concat(i)},responseType:"blob"});case 3:n=e.sent,console.log(n),yt()(n.data,S.attendance_file.file_name),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),a="Error!",c="Error!",void 0!==e.t0.response&&(a=e.t0.response.status,c=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:c})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"Manage Training Record",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-record c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-training-record__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/manage/records",children:"Manage Training Records"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Training Record"})]}),Object(f.jsxs)("div",{className:"c-Manage-training-record__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Training Record"}),A?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return M()},children:"Complete Post Evaluation"}):null]}),Object(f.jsxs)("div",{className:"c-Manage-training-record__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:S.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:S.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:S.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Trainee)"}),"cancelled"===S.status?Object(f.jsx)(Ze,{type:"cancelled"}):S.attendance?S.trainee_evaluation_done?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"File (Evidence for Attendance)"}),S.attendance_file?Object(f.jsxs)("div",{className:"c-Field__File c-File",children:[Object(f.jsx)("h1",{onClick:F,children:S.attendance_file.file_name}),"cancelled"===S.status?null:Object(f.jsx)("h2",{children:"Change File"})]}):Object(f.jsx)("p",{children:"No file."})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Trainee"}),Object(f.jsx)("p",{children:S.created_by})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:S.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:S.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approver"}),Object(f.jsx)("p",{children:S.approver})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Approver)"}),"cancelled"===S.status?Object(f.jsx)(Ze,{type:"cancelled"}):S.attendance?S.supervisor_evaluation_done?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Attendance Status"}),"cancelled"===S.status?Object(f.jsx)(Ze,{type:"cancelled"}):S.attendance?Object(f.jsx)(Ze,{type:"completed"}):Object(f.jsx)(Ze,{type:"pending"})]})]})]})]})})]})},$n=function(e){var t=e.match,n=_.toastTiming,c=(Object(j.g)(),t.params.trainingReqID),r=Object(a.useRef)(""),s=y.getDecodedToken(),i=y.getToken(),u=s.company_id,b=Object(a.useState)(W),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)({}),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training/all-requests/").concat(c));case 3:n=t.sent,e&&(a=n.data.results,console.log(a),N((function(){var e;return{id:a.training_id,organisation:a.training_institution,course_title:a.title,cost:a.training_cost,approver:"@"+a.approver.account.username,approval_status:a.status,start_date:C()(a.training_start).format("D MMM YYYY"),end_date:C()(a.training_end).format("D MMM YYYY"),justification_text:a.justification_text,justification_upload:a.justification_upload,justification_upload_filename:null===(e=a.justification_file)||void 0===e?void 0:e.file_name,remarks:a.remarks,created_by:"@"+a.author.account.username}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[S]);var M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training/approve-request/").concat(c));case 3:O.b.success("Success! Training request has been approved!"),I((function(e){return!e})),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t="Error!",n="Error!",void 0!==e.t0.response&&(t=e.t0.response.status,n=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}));case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(A.justification_upload),{headers:{Authorization:"Bearer ".concat(i)},responseType:"blob"});case 3:t=e.sent,console.log(t),yt()(t.data,A.justification_upload_filename),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:m,setSideNavStatus:x,title:"Manage Training Request",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-request c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/manage/requests",children:"Manage Training Requests"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Training Request"})]}),Object(f.jsxs)("div",{className:"c-Manage-training-request__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Training Request"}),"pending"===A.approval_status?Object(f.jsxs)("div",{className:"c-Top__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--ok",onClick:function(){return M()},children:"Approve"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return function(){Object(ie.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(f.jsx)("h1",{children:"Confirm Reject?"}),Object(f.jsx)("p",{children:"Please key in reason for rejection and click on confirm reject."}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(f.jsx)("h2",{children:"Remarks"}),Object(f.jsx)("textarea",{name:"pendingReject",ref:r})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return e(n)},children:"Confirm Reject"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:n,children:" Cancel"})]})]})}});var e=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training/reject-request/").concat(c),{remarks:r.current.value});case 3:O.b.success("Success! Training request has been rejected!"),I((function(e){return!e})),t(),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}()},children:"Reject"})]}):null]}),Object(f.jsxs)("div",{className:"c-Manage-training-request__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:A.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:A.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:A.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Justification"}),Object(f.jsx)("p",{children:A.justification_text})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Rejection Remarks"}),Object(f.jsx)("p",{children:A.remarks?A.remarks:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Trainee"}),Object(f.jsx)("p",{children:A.created_by})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:A.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:A.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"To be Approved by"}),Object(f.jsx)("p",{children:A.approver})]}),Object(f.jsxs)("div",{className:"c-Field c-Field__File",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),A.justification_upload?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:F,children:"Download"}):Object(f.jsx)("p",{children:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approval Status"}),Object(f.jsx)(Ze,{type:A.approval_status})]})]})]})]})})]})},ea=function(e){var t,n,c,r,s,i,b=e.match.params.templateID,m=_.toastTiming,x=Object(j.g)(),v=y.getDecodedToken(),g=v.company_id,A=(v.employee_id,Object(a.useState)(W)),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({trainee:[],supervisor:[]}),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(a.useState)({trainee:[],supervisor:[]}),E=Object(d.a)(F,2),w=E[0],k=E[1],B=Object(a.useState)({}),P=Object(d.a)(B,2),q=P[0],R=P[1],H=Object(a.useState)({}),Y=Object(d.a)(H,2),L=Y[0],U=Y[1],z=Object(a.useState)(!1),Q=Object(d.a)(z,2),J=Q[0],X=Q[1],Z=Object(a.useState)(!1),K=Object(d.a)(Z,2),$=K[0],ee=K[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/training-evaluation/all-templates/").concat(b));case 3:n=t.sent,e&&(console.log(n),a=n.data.results,M((function(){return{trainee:a.template.evaluation.trainee.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})})),supervisor:a.template.evaluation.supervisor.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})}))}})),k((function(){return{trainee:a.template.evaluation.trainee.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})})),supervisor:a.template.evaluation.supervisor.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{displayType:"rating"===e.type?le:"open"===e.type?de:"bool"===e.type?ue:je})}))}})),R((function(){return{created_by:a.author.account.username,name:a.name,version:a.version,active:a.active}})),U((function(){return{created_by:a.author.account.username,name:a.name,version:a.version,active:a.active}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[J,$]);var te=function(e){U((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},ne=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:L.name,version:L.version,evaluation:w,immediate:!0},e.prev=1,e.next=4,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/training-evaluation/all-templates"),t);case 4:setTimeout((function(){O.b.success("Success! A new post evaluation form has been created!")}),0),x.push("/training/post-evaluation-templates"),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/training-evaluation/all-templates/").concat(b,"/activate"),{});case 3:O.b.success("Template has been successfully activated!"),ee((function(e){return!e})),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t="Error!",n="Error!",void 0!==e.t0.response&&(t=e.t0.response.status,n=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}));case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:m,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:D,setSideNavStatus:T,title:"Manage Post Evaluation Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/training/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Post Evaluation Template"})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Top c-Top",children:[Object(f.jsxs)("div",{className:"c-Top__Row",children:[Object(f.jsx)("h1",{children:"Manage Post Evaluation Template"}),Object(f.jsx)("div",{className:"c-Top__Btns",children:J?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return ne()},children:"Create"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return X((function(e){return!e}))},children:"Cancel"})]}):Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return X((function(e){return!e}))},children:"Edit & Submit New Version"})})]}),Object(f.jsxs)("div",{className:"c-Top__Row",children:[Object(f.jsx)("h2",{children:"Status:"}),q.active?Object(f.jsx)(Ze,{type:"active"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ze,{type:"inactive"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--link",onClick:function(){return ae()},children:"Change Status to Active"})]})]})]}),Object(f.jsx)("div",{className:"c-Manage-PET__Document c-Main__Document",children:Object(f.jsx)(Bt,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Manage-PET__Document-content",children:[J?Object(f.jsx)("div",{className:"c-Manage-PET__Document-title",children:Object(f.jsx)("input",{type:"text",placeholder:"Enter form title",name:"name",value:L.name||"",onChange:function(e){return te(e)}})}):Object(f.jsx)("h1",{children:q.name||"Error"}),Object(f.jsxs)("div",{className:"c-Manage-PET__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),J?Object(f.jsx)("input",{type:"text",name:"version",value:L.version||"Error",onChange:function(e){return te(e)}}):Object(f.jsx)("input",{type:"text",name:"version",value:q.version||"Error",disabled:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Document-form c-Document-form",children:[Object(f.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Trainee Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(f.jsx)("div",{className:"c-Document-form__Fields",children:(null===(t=C.trainee)||void 0===t?void 0:t.length)>0?J?null===(n=w.trainee)||void 0===n?void 0:n.map((function(e,t){return Object(f.jsx)(Qn,{mode:be,qns:e.question,qnsType:e.displayType,index:t,setQuestions:k,formType:"trainee"},t)})):null===(c=C.trainee)||void 0===c?void 0:c.map((function(e,t){return Object(f.jsx)(Qn,{mode:me,qns:e.question,viewType:e.displayType,index:t,setQuestions:M,formType:"trainee"},t)})):"No questions"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(f.jsx)("div",{className:"c-Document-form__Fields",children:(null===(r=C.supervisor)||void 0===r?void 0:r.length)>0?J?null===(s=w.supervisor)||void 0===s?void 0:s.map((function(e,t){return Object(f.jsx)(Qn,{mode:be,qns:e.question,qnsType:e.displayType,index:t,setQuestions:k,formType:"supervisor"},t)})):null===(i=C.supervisor)||void 0===i?void 0:i.map((function(e,t){return Object(f.jsx)(Qn,{mode:me,qns:e.question,viewType:e.displayType,index:t,setQuestions:M,formType:"supervisor"},t)})):"No questions"})]})]})]})})})]})})]})},ta=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.emID,b=Object(a.useState)(!1),m=Object(d.a)(b,2),x=m[0],v=(m[1],Object(a.useState)(!1)),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)({type:"",responsible:"",freq_multiplier:"",freq_unit_time:"",freq_unit_time_UI:"",last_service_at:new Date,assignees:[]}),T=Object(d.a)(D,2),S=T[0],I=T[1],C=Object(a.useState)([]),w=Object(d.a)(C,2),k=w[0],B=w[1],P=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(P,2),R=q[0],H=(q[1],Object(a.useState)(W)),Y=Object(d.a)(H,2),L=Y[0],U=Y[1],z=function(e){"addCycle"===e?(console.log(S),Object(l.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment/").concat(i,"/all-maintenance"),Object(u.a)(Object(u.a)({},S),{},{assignees:function(){var e;return null===(e=S.assignees)||void 0===e?void 0:e.map((function(e){return e.value}))}()}),{headers:{Authorization:"Bearer ".concat(n)}});case 3:t=e.sent,console.log(t),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New equipment has been added!"})]}))}),0),s.push("/equipment-maintenance/manage-equipment/".concat(i)),e.next=17;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response),a="Error!",r="Error!",void 0!==e.t0.response&&(a=e.t0.response.status,r=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:r})]}));case 17:case"end":return e.stop()}}),e,null,[[0,9]])})))()):"cancel"===e&&s.push("/equipment-maintenance/manage-equipment/".concat(i))},Q=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},J=function(e){var t;"Weeks"===e.target.value&&(t="week"),"Months"===e.target.value&&(t="month"),"Years"===e.target.value&&(t="year"),I((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(p.a)({},e.target.name,t))})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{freq_unit_time_UI:e.target.value})}))},X=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{last_service_at:e})}))},Z=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),B((function(){return t.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:L,setSideNavStatus:U,title:"Manage Maintenance Cycle",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i),children:"Manage Equipment"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Add Maintenance Cycle"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Maintenance Cycle"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?Object(f.jsx)("button",{onClick:function(){return z("addCycle")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:x?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return z("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),R.render?Object(f.jsx)(un,{errMsg:R.errMsg,errStatus:R.errStatus,errStatusText:R.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Maintenance-type c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"type",children:"Maintenance Type"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"type",value:S.type})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Responsible c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible Users"}),Object(f.jsx)(te.a,{isMulti:!0,options:k,placeholder:"Select Users",onChange:Z,onFocus:function(){return N(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Maintenance-frequency c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsxs)("div",{className:"c-Input__Maintenance-frequency--input",children:[Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:Q,name:"freq_multiplier",value:S.freq_multiplier}),Object(f.jsxs)("select",{onFocus:function(){return N(!0)},type:"text",name:"freq_unit_time",onChange:J,value:S.freq_unit_time_UI,children:[Object(f.jsx)("option",{children:"Select Time Unit"}),Object(f.jsx)("option",{children:"Weeks"}),Object(f.jsx)("option",{children:"Months"}),Object(f.jsx)("option",{children:"Years"})]})]})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"last_service_at",children:"Last Service Date"}),Object(f.jsx)(wn.a,{onChange:X,value:S.last_service_at,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return N(!0)}})]})]})})})]})})]})},na=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken(),r=c.company_id,s=_.toastTiming,i=Object(j.g)(),b=Object(a.useState)(!1),m=Object(d.a)(b,2),x=m[0],v=m[1],g=(Object(a.useRef)(""),Object(a.useRef)(null),t.params.emID),A=t.params.maintenanceID,N=c.employee_id,D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],w=Object(a.useState)(!1),k=Object(d.a)(w,2),B=k[0],P=(k[1],Object(a.useState)(!1)),q=Object(d.a)(P,2),H=q[0],Y=q[1],U=Object(a.useState)([]),z=Object(d.a)(U,2),Q=z[0],J=z[1],X=Object(a.useState)([]),Z=Object(d.a)(X,2),K=Z[0],$=Z[1],ee=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ne=Object(d.a)(ee,2),ae=ne[0],re=(ne[1],Object(a.useState)(!1)),oe=Object(d.a)(re,2),le=oe[0],de=oe[1],ue=Object(a.useState)(W),je=Object(d.a)(ue,2),be=je[0],pe=je[1],me=Object(a.useState)(!1),he=Object(d.a)(me,2),xe=(he[0],he[1],Object(a.useState)(!1)),ve=Object(d.a)(xe,2),fe=ve[0],ge=ve[1],_e=Object(a.useState)(!1),Ae=Object(d.a)(_e,2),ye=(Ae[0],Ae[1]);Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],n=[],e.next=5,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/approve/m07_01/employees"));case 5:return a=e.sent,e.next=8,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/edit/m07_01/employees"));case 8:return c=e.sent,console.log(c),n=c.data.results,console.log(n),a.data.results.forEach((function(e,t){e.employee_id===N&&ge(!0)})),c.data.results.forEach((function(e,t){e.employee_id===N&&ye(!0)})),e.next=16,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/all-maintenance/").concat(A));case 16:s=e.sent,console.log(s),t=s.data.results,console.log(t),$((function(){return{id:t.maintenance_id,maintenanceType:t.type,responsible:t.assignees.map((function(e){return{label:e.account.username,value:e.employee_id}})),freq_unit_time:t.freq_unit_time,freq_multiplier:t.freq_multiplier,maintenanceFrequency:t.freq_unit_time,lastServiceDate:new Date(t.last_service_at),status:t.days_left<=0?Object(f.jsx)(Ze,{type:"overdue"}):t.days_left/(t.freq_multiplier*t.freq_unit_time)<.4?Object(f.jsx)(Ze,{type:"almostDue"}):Object(f.jsx)(Ze,{type:"active"})}})),J((function(){return n.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),I((function(){return t.uploads.map((function(e,t){var n;return{id:e.file.file_id,serialNo:t+1,fileName:e.file.file_name,description:e.description,uploader:e.author.account.username,uploadDate:C()(e.created_at).format("D MMM YYYY"),action_download:null===(n=e.file)||void 0===n?void 0:n.file_name,action_delete:Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(L.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return Fe("deleteRecord",e.file.file_id)}})})}}))})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))()}),[x,B]);var Ne=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"fileName",text:"File Name"},{dataField:"description",text:"Description"},{dataField:"uploader",text:"Uploader"},{dataField:"uploadDate",text:"Upload Date"},{dataField:"action_download",text:"",formatter:function(e,t){return e?Object(f.jsx)("button",{className:"c-Btn c-Btn--link",onClick:function(){return De(t.id,t.fileName)},children:"Download"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return console.log(e),e}}],De=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(t),{headers:{Authorization:"Bearer ".concat(n)},responseType:"blob"});case 3:c=e.sent,console.log(c),yt()(c.data,a),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),r="Error!",s="Error!",void 0!==e.t0.response&&(r=e.t0.response.status,s=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:r}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:s})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(e){"upload"===e&&i.push("./".concat(A,"/upload")),"editEquipment"===e&&de(!0),"editEquipmentCancel"===e&&(de(!1),Y(!1),v((function(e){return!e}))),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(K),"7"!==(t=K.freq_unit_time)&&7!==t||(t="week"),"30"!==t&&30!==t||(t="month"),"365"!==t&&365!==t||(t="year"),e.next=8,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/all-maintenance/").concat(A),{type:K.maintenanceType,freq_multiplier:K.freq_multiplier,freq_unit_time:t,last_service_at:K.lastServiceDate,assignees:K.responsible.map((function(e){return e.value}))},{headers:{Authorization:"Bearer ".concat(n)}});case 8:a=e.sent,console.log(a),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated Maintenance Cycle!"})]})),de(!1),v((function(e){return!e})),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),c="Error!",s="Error!",void 0!==e.t0.response&&(c=e.t0.response.status,s=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:c}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:s})]}));case 22:case"end":return e.stop()}}),e,null,[[0,15]])})))()},Se=function(e){$((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Ie=function(e){console.log(e),$((function(t){return Object(u.a)(Object(u.a)({},t),{},{lastServiceDate:e})}))},Ce=function(e){console.log(e),$((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e,responsible:e})}))},Me=function(e){$((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),console.log()},Fe=function(e,t){if("deleteRecord"===e){var a={message:"Are you sure you want to delete this maintenance record?",handler:function(e){return c(e,t)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},a),{},{onClose:t}))}})}var c=function(e,t){console.log(S),h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/all-maintenance/").concat(A,"/uploads/").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),v((function(e){return!e})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance record has been deleted!"})]})),v((function(e){return!e}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:be,setSideNavStatus:pe,title:"Equipment Maintenance Cycle",activeLink:"/equipment-maintenance/manage-equipment/".concat(g,"/manage-cycle/").concat(A),children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(g),children:"Manage Equipment"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Maintenance Cycle"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Maintenance cycle"}),fe?le||ae.render?null:Object(f.jsx)("button",{onClick:function(){return Te("editEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}):""]}),ae.render?Object(f.jsx)(un,{errMsg:ae.errMsg,errStatus:ae.errStatus,errStatusText:ae.errStatusText}):Object(f.jsx)(f.Fragment,{children:le?Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(f.jsx)("input",{onFocus:function(){return Y(!0)},type:"text",onChange:Se,name:"maintenanceType",value:K.maintenanceType})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(f.jsx)(te.a,{isMulti:!0,options:Q,placeholder:"Select Users",onChange:Ce,onFocus:function(){return Y(!0)},value:K.responsible.map((function(e){return e}))})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsxs)("div",{className:"c-Input__Maintenance-frequency--input",children:[Object(f.jsx)("input",{onFocus:function(){return Y(!0)},type:"text",onChange:Se,name:"freq_multiplier",value:K.freq_multiplier}),Object(f.jsxs)("select",{onFocus:function(){return Y(!0)},type:"text",name:"freq_unit_time",onChange:Me,value:K.freq_unit_time,children:[Object(f.jsx)("option",{children:"Select Time Unit"}),Object(f.jsx)("option",{value:7,children:"Weeks"}),Object(f.jsx)("option",{value:30,children:"Months"}),Object(f.jsx)("option",{value:365,children:"Years"})]})]})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(f.jsx)(wn.a,{onChange:Ie,value:K.lastServiceDate,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return Y(!0)}})]}),Object(f.jsx)(E.a,{className:"c-Input c-Input__Model-brand c-Input--edit"})]}),Object(f.jsxs)(F.a,{className:"c-Manage-equipment__Btns",children:[H?Object(f.jsx)("button",{onClick:function(){return Te("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:B?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return Te("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceType",value:K.maintenanceType})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsible",value:function(){var e,t="";return null===(e=K.responsible)||void 0===e||e.forEach((function(e){t+=e.label+", "})),t.slice(0,-2)}()})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceFrequency",value:7===K.freq_unit_time?"".concat(K.freq_multiplier," weeks"):30===K.freq_unit_time?"".concat(K.freq_multiplier," months"):365===K.freq_unit_time?"".concat(K.freq_multiplier," years"):void 0})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"lastServiceDate",value:C()(K.lastServiceDate).format("D MMM YYYY")})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"status",children:"Status"}),K.status]})]})]})}),fe?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("deleteCycle"===e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(e){return a(e)},heading:"Confirm Delete?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}var a=function(e){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(g,"/all-maintenance/").concat(A),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),v((function(e){return!e})),e(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance Cycle has been deleted!"})]}))}),0),i.push("/equipment-maintenance/manage-equipment/".concat(g))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}}("deleteCycle")},children:"Delete Cycle"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"This action cannot be undone"})})]})})]}):"",Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Maintenance Records"}),Object(f.jsx)("button",{onClick:function(){return Te("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})]}),Object(f.jsx)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:0!==S.length?Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:S,columns:Ne,pagination:se()()}):"No records found!"})]})})]})},aa=function(){Object(j.g)(),y.getToken(),y.getDecodedToken();var e=Object(a.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),t=Object(d.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(W)),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(f.jsx)(V,{sideNavStatus:s,setSideNavStatus:i,title:"Create Induction Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Create-induction-form c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Create-induction-form__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(G.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(f.jsx)(G.a.Item,{href:"/settings/induction-templates/induction-template-versions/".concat(1),children:"Manage Induction Versions"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Create Induction Form"})]}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Induction Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"})]}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Document c-Main__Document",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(Bt,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Create-induction-form__Document-content",children:[Object(f.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Create-indcution-form__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsx)("div",{className:"c-Create__Document-header--right c-Document__Header--right"})]}),0!==n.length?n.map((function(e,t){return Object(f.jsx)(Hn,{formMode:"edit",sectionData:e},t)})):"No records found!"]})})]})]})})},ca=function(e){var t,n,c=e.match,r=y.getToken(),s=y.getDecodedToken(),i=s.company_id,b=_.toastTiming,m=Object(a.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(j.g)(),N=c.params.licenseID,D=s.employee_id,T=Object(a.useState)([]),S=Object(d.a)(T,2),I=S[0],w=S[1],k=Object(a.useState)(!1),B=Object(d.a)(k,2),P=B[0],q=(B[1],Object(a.useState)(!1)),R=Object(d.a)(q,2),H=R[0],Y=R[1],L=Object(a.useState)({license:"Error",licenseNo:"Error",expDate:"NA",responsibleExternalAgency:"Error",responsibleUser:[],archived_at:null}),U=Object(d.a)(L,2),z=U[0],Q=U[1],J=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),X=Object(d.a)(J,2),Z=X[0],K=(X[1],Object(a.useState)(!1)),$=Object(d.a)(K,2),ee=$[0],ne=$[1],ae=Object(a.useState)(W),ce=Object(d.a)(ae,2),re=ce[0],se=ce[1],oe=Object(a.useState)(!1),le=Object(d.a)(oe,2),de=le[0],ue=le[1],je=Object(a.useState)(!1),be=Object(d.a)(je,2),pe=(be[0],be[1]);Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],n=[],e.next=5,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/approve/m07_02/employees"));case 5:return a=e.sent,e.next=8,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/edit/m07_02/employees"));case 8:return c=e.sent,console.log(c),n=c.data.results,console.log(n),a.data.results.forEach((function(e,t){e.employee_id===D&&ue(!0)})),c.data.results.forEach((function(e,t){e.employee_id===D&&pe(!0)})),e.next=16,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/licence-registry/all-licences/").concat(N));case 16:r=e.sent,console.log(r),t=r.data.results,console.log(t),Q((function(){return{id:t.licence_id,license:t.licence_name,licenseNo:t.licence_number,expDate:t.expires_at,issuedOn:new Date(t.issued_at),responsibleExternalAgency:t.external_organisation,archived_at:t.archived_at,responsibleUser:t.assignees.map((function(e){return{value:e.employee_id,label:e.account.username}})),status:t.days_left<=0&&t.expires_at?Object(f.jsx)(Ze,{type:"expired"}):t.days_left/Math.ceil(Math.abs(new Date(t.expires_at)-new Date(t.issued_at))/864e5)<.2&&t.expires_at?Object(f.jsx)(Ze,{type:"almostDue"}):Object(f.jsx)(Ze,{type:"active"}),upload:t.upload}})),w((function(){return n.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))()}),[z.archivedAt,v]);var me=function(e){"upload"===e&&A.push("".concat(N,"/upload")),"edit"===e&&ne(!0),"editEquipmentCancel"===e&&(ne(!1),Y(!1),g((function(e){return!e}))),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(z),e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/licence-registry/all-licences/").concat(N),Object(u.a)(Object(u.a)({},z),{},{licence_name:z.license,licence_number:z.licenseNo,expires_at:z.expDate,issued_at:z.issuedOn,external_organisation:z.responsibleExternalAgency,assignees:z.responsibleUser.map((function(e){return e.value}))}),{headers:{Authorization:"Bearer ".concat(r)}});case 4:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated License details!"})]})),ne(!1),g((function(e){return!e})),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),n="Error!",a="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,a=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}));case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))()},he=function(e){Q((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},xe=function(e){console.log(e),Q((function(t){return Object(u.a)(Object(u.a)({},t),{},{issuedOn:e})}))},ve=function(e){console.log(e),Q((function(t){return Object(u.a)(Object(u.a)({},t),{},{expDate:e})}))},fe=function(e){console.log(e),Q((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e,responsibleUser:e})}))},ge=function(e){if("activated"===e){var t={message:"Are you sure you want to activate this license?",handler:function(e){return a(e)},heading:"Confirm Activate?",type:"primary"};Object(ie.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{onClose:n}))}})}else{var n={message:"Are you sure you want to deactivate this license?",handler:function(e){return c(e)},heading:"Confirm Dectivate?",type:"alert"};Object(ie.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}})}var a=function(e){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/licence-registry/all-licences/").concat(N,"/activate"),{},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){console.log(t),g((function(e){return!e})),e(),Q(Object(u.a)(Object(u.a)({},z),{},{archivedAt:null})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"License has been reactivated!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},c=function(e){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/licence-registry/all-licences/").concat(N,"/archive"),{},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){console.log(t),g((function(e){return!e})),e(),Q(Object(u.a)(Object(u.a)({},z),{},{archivedAt:"refresh"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"License has been archived!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}},_e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(null===(t=z.upload)||void 0===t||null===(n=t.file)||void 0===n?void 0:n.file_id),{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob"});case 3:s=e.sent,console.log(s),yt()(s.data,null===(a=z.upload)||void 0===a||null===(c=a.file)||void 0===c?void 0:c.file_name),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),i="Error!",l="Error!",void 0!==e.t0.response&&(i=e.t0.response.status,l=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:i}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:l})]}));case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:b,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:re,setSideNavStatus:se,title:"Equipment Maintenance",activeLink:"/licenses/manage-license/".concat(N),children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Permits/Licenses/Certificates"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Permits/Licenses/Certificates/Approvals"}),de?ee||Z.render?null:Object(f.jsx)("button",{onClick:function(){return me("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}):""]}),Z.render?Object(f.jsx)(un,{errMsg:Z.errMsg,errStatus:Z.errStatus,errStatusText:Z.errStatusText}):Object(f.jsx)(f.Fragment,{children:ee?Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate/Approval"}),Object(f.jsx)("input",{onFocus:function(){return Y(!0)},type:"text",onChange:he,name:"license",value:z.license})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{onFocus:function(){return Y(!0)},type:"text",onChange:he,name:"licenseNo",value:z.licenseNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"issuedOn",children:"Issued On"}),Object(f.jsx)(wn.a,{onChange:xe,value:z.issuedOn,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return Y(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)(wn.a,{onChange:ve,value:new Date(z.expDate),className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return Y(!0)}})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{onFocus:function(){return Y(!0)},type:"text",onChange:he,name:"responsibleExternalAgency",value:z.responsibleExternalAgency})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)(te.a,{isMulti:!0,options:I,placeholder:"Select Users",onChange:fe,onFocus:function(){return Y(!0)},value:z.responsibleUser.map((function(e){return e}))})]})]}),Object(f.jsxs)(F.a,{className:"c-Manage-equipment__Btns",children:[H?Object(f.jsx)("button",{onClick:function(){return me("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:P?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return me("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(M.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate/Approval"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"license",value:z.license})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"licenseNo",value:z.licenseNo})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"issuedOn",children:"Issued On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"issuedOn",value:C()(z.issuedOn).format("D MMM YYYY")})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"expDate",value:z.expDate?C()(new Date(z.expDate)).format("D MMM YYYY"):"NA"})]})]}),Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsibleExternalAgency",value:z.responsibleExternalAgency})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsibleUser",value:function(){var e,t="";return null===(e=z.responsibleUser)||void 0===e||e.forEach((function(e){t+=e.label+", "})),t.slice(0,-2)}()})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"status",children:"Status"}),z.status]})]})]})}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"File"}),z.upload?Object(f.jsx)("div",{className:"c-Field__File c-File",children:Object(f.jsx)("h1",{onClick:_e,children:null===(t=z.upload)||void 0===t||null===(n=t.file)||void 0===n?void 0:n.file_name})}):"",Object(f.jsx)("button",{onClick:function(){return me("upload")},type:"button",className:"c-Btn c-Btn--primary",children:z.upload?"Update File":"Upload File"})]}),de?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:null===z.archived_at?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return ge("deactivated")},children:"Archive Permit/License/Certificate/Approval"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"Perfoming this action will archive this permit/license/certificate/approval"})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return ge("activated")},children:"Unarchive Permit/License/Certificate/Approval"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"Perfoming this action will unarchive this permit/license/certificate/approval "})})]})})})]}):""]})})]})},ra=function(){var e=_.toastTiming,t=Object(j.g)(),n=y.getDecodedToken(),c=n.company_id,r=n.employee_id,s=Object(a.useState)(W),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(r,"/training-requests"));case 3:n=t.sent,e&&(a=n.data.results,console.log(n),v((function(){return a.map((function(e,t){var n,a;return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:"@"+(null===(n=e.approver)||void 0===n||null===(a=n.account)||void 0===a?void 0:a.username),start_date:C()(e.training_start).format("D MMM YYYY"),end_date:C()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/requests/manage/".concat(e.training_id)}}))}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:u,setSideNavStatus:b,title:"My Training Requests",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Training-requests c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Training__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"My Training Requests"})]}),Object(f.jsxs)("div",{className:"c-Training-requests__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"My Training Requests"}),Object(f.jsx)("button",{onClick:function(){return t.push("/training/requests/create")},type:"button",className:"c-Btn c-Btn--primary",children:"Create Training Request"})]}),Object(f.jsx)("div",{className:"c-Training-requests__Table",children:0===x.length?"No records found!":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:x,columns:pt,pagination:se()()})})]})})]})},sa=function(){var e=_.toastTiming,t=(Object(j.g)(),y.getDecodedToken()),n=t.company_id,c=t.employee_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(a.useState)([]),p=Object(d.a)(b,2),m=p[0],x=p[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/employee/").concat(c,"/training-records"));case 3:a=t.sent,e&&(r=a.data.results,console.log(a),x((function(){return r.map((function(e,t){var n,a;return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:"@"+(null===(n=e.approver)||void 0===n||null===(a=n.account)||void 0===a?void 0:a.username),start_date:C()(e.training_start).format("D MMM YYYY"),end_date:C()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/records/manage/".concat(e.training_id)}}))}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:u,title:"Training",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Training-records c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Training-records__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"My Training Records"})]}),Object(f.jsx)("div",{className:"c-Training-records__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"My Training Records"})}),Object(f.jsx)("div",{className:"c-Training-records__Table",children:0===m.length?"No records found!":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:m,columns:bt,pagination:se()()})})]})})]})},ia=function(){var e=_.toastTiming,t=(Object(j.g)(),y.getDecodedToken()),n=t.company_id,c=t.employee_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,r,s,i,l,d,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m07_03a/employees"));case 3:if(a=t.sent,r=a.data.results,s=!1,void 0!==r&&r.every((function(e){return e.employee_id!==c||(s=!0,!1)})),s){t.next=9;break}return t.abrupt("return");case 9:return x((function(){return!0})),t.next=12,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/training/pending-requests"));case 12:return i=t.sent,t.next=15,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/training/requests-approver"));case 15:l=t.sent,e&&(d=i.data.results,console.log(d),N((function(){return d.map((function(e,t){var n,a;return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:C()(e.training_start).format("D MMM YYYY"),end_date:C()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,created_by:"@"+(null===(n=e.author)||void 0===n||null===(a=n.account)||void 0===a?void 0:a.username),action_manage:"/training/manage/requests/manage/".concat(e.training_id)}}))})),u=l.data.results,console.log(u),I((function(){return u.map((function(e,t){var n,a;return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:C()(e.training_start).format("D MMM YYYY"),end_date:C()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,created_by:"@"+(null===(n=e.author)||void 0===n||null===(a=n.account)||void 0===a?void 0:a.username),action_manage:"/training/manage/requests/manage/".concat(e.training_id)}}))}))),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:u,title:"Manage Training Requests",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-requests c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-training-requests__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Training Requests"})]}),Object(f.jsx)("div",{className:"c-Manage-training-requests__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Training Requests"})}),m?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Manage-training-requests__Pending",children:[Object(f.jsx)("h2",{children:"Training Requests pending for your approval"}),Object(f.jsx)("div",{className:"c-Manage-trainings__Table",children:0===A.length?"No records found.":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:A,columns:mt,pagination:se()()})})]}),Object(f.jsxs)("div",{className:"c-Manage-training-requests__All",children:[Object(f.jsx)("h2",{children:"All Training Requests (Under your approval)"}),Object(f.jsx)("div",{className:"c-Manage-training-requests__Table",children:0===S.length?"No records found.":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:S,columns:ht,pagination:se()()})})]})]}):Object(f.jsx)("div",{className:"c-Manage-training-requests__Non-approver",children:Object(f.jsx)(un,{errMsg:"You are not permitted to approve trainings",errStatus:"403"})})]})})]})},oa=function(){var e=_.toastTiming,t=(Object(j.g)(),y.getDecodedToken()),n=t.company_id,c=t.employee_id,r=Object(a.useState)(W),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(a.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,r,s,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m07_03a/employees"));case 3:if(a=t.sent,r=a.data.results,s=!1,void 0!==r&&r.every((function(e){return e.employee_id!==c||(s=!0,!1)})),s){t.next=9;break}return t.abrupt("return");case 9:return x((function(){return!0})),t.next=12,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/training/approved-records"));case 12:i=t.sent,console.log(i),e&&(l=i.data.results,N((function(){return l.map((function(e,t){var n,a;return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:C()(e.training_start).format("D MMM YYYY"),end_date:C()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,created_by:"@"+(null===(n=e.author)||void 0===n||null===(a=n.account)||void 0===a?void 0:a.username),action_manage:"/training/manage/records/manage/".concat(e.training_id)}}))}))),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:i,setSideNavStatus:u,title:"Manage Training Records",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-records c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Manage-training-records__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Manage Training Records"})]}),Object(f.jsx)("div",{className:"c-Manage-training-records__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Training Records (Under your approval)"})}),m?Object(f.jsx)("div",{className:"c-Manage-training-records__Table",children:0===A.length?"No records found.":Object(f.jsx)(ce.a,{bordered:!1,keyField:"serialNo",data:A,columns:Ot,pagination:se()()})}):Object(f.jsx)("div",{className:"c-Manage-training-records__Non-approver",children:Object(f.jsx)(un,{errMsg:"You are not permitted to approve trainings",errStatus:"403"})})]})})]})},la=function(e){var t=e.match,n=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.emID,b=t.params.maintenanceID,m=Object(a.useRef)(null),x=Object(a.useState)(!1),v=Object(d.a)(x,2),g=v[0],A=(v[1],Object(a.useState)(!1)),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(a.useState)({serviced_at:new Date,description:""}),I=Object(d.a)(S,2),C=I[0],w=I[1],k=Object(a.useState)([]),B=Object(d.a)(k,2),P=(B[0],B[1]),q=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),H=Object(d.a)(q,2),Y=H[0],U=(H[1],Object(a.useState)(W)),z=Object(d.a)(U,2),Q=z[0],J=z[1],X=Object(a.useState)(null),Z=Object(d.a)(X,2),K=Z[0],$=Z[1],ee=function(e){"addRecord"===e&&(console.log(C),Object(l.a)(o.a.mark((function e(){var t,a,r,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in e.prev=0,t=new FormData,C)t.append(a,C[a]);return t.append("maintenance",K),console.log(t),console.log(t.get("maintenance")),e.next=8,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment/").concat(i,"/all-maintenance/").concat(b,"/uploads"),t,{headers:{Authorization:"Bearer ".concat(n)}});case 8:r=e.sent,console.log(r),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New maintenance record has been uploaded!"})]}))}),0),s.push("/equipment-maintenance/manage-equipment/".concat(i,"/manage-cycle/").concat(b)),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response),l="Error!",d="Error!",void 0!==e.t0.response&&(l=e.t0.response.status,d=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:l}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:d})]}));case 22:case"end":return e.stop()}}),e,null,[[0,14]])})))()),"cancel"===e&&s.push("/equipment-maintenance/manage-equipment/".concat(i,"/manage-cycle/").concat(b)),"upload"===e&&m.current.click()},te=function(e){w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},ne=function(e){console.log(e),w((function(t){return Object(u.a)(Object(u.a)({},t),{},{serviced_at:e})}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),P((function(){return t.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(V,{sideNavStatus:Q,setSideNavStatus:J,title:"Licenses",activeLink:"/equipment-maintenance/manage-equipment/".concat(i),children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(G.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(G.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i),children:"Manage Equipment"}),Object(f.jsx)(G.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i,"/manage-cycle/").concat(b),children:"Manage Maintenance Cycle"}),Object(f.jsx)(G.a.Item,{active:!0,children:"Upload Maintenance Record"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Upload Maintenance Record"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[D?Object(f.jsx)("button",{onClick:function(){return ee("addRecord")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:g?"Loading...":"Upload"}),Object(f.jsx)("button",{onClick:function(){return ee("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),Y.render?Object(f.jsx)(un,{errMsg:Y.errMsg,errStatus:Y.errStatus,errStatusText:Y.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(F.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(E.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"serviced_at",children:"Update Last Service Date"}),Object(f.jsx)(wn.a,{onChange:ne,value:C.serviced_at,className:"c-Form__Date",format:"dd/MM/y",onFocus:function(){return T(!0)}})]}),Object(f.jsxs)(E.a,{className:"c-Input c-Input__Description c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("textarea",{onFocus:function(){return T(!0)},name:"description",value:C.description,onChange:te})]})]})})}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Mid c-Main__Top c-File-upload",children:[Object(f.jsx)("div",{className:"c-Manage-equipment__File",children:K?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:K.name}),Object(f.jsx)(R.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(L.c,{className:"c-File-upload__Bin",onClick:function(){$((function(){return null}))}})})]}):Object(f.jsx)("p",{children:"No File Detected."})}),Object(f.jsx)("button",{onClick:function(){return ee("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload File"}),Object(f.jsx)("input",{className:"c-Manage-equipment__File-input c-File-select__Raw",type:"file",ref:m,onChange:function(e){var t=e.target.files[0];console.log(t),$((function(){return t}))}})]})]})})]})},da=function(){var e=function(e){return function(t){return y.getToken()?Object(f.jsx)(e,Object(u.a)({},t)):Object(f.jsx)(j.a,Object(u.a)({to:"/login"},t))}};return Object(f.jsx)(b.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/login",render:function(){return Object(f.jsx)(N,{})}}),Object(f.jsx)(j.b,{path:"/forgot-password",render:function(){return Object(f.jsx)(Nn,{})}}),Object(f.jsx)(j.b,{path:"/change-password/:username/:otp",render:function(e){return Object(f.jsx)(Dn,Object(u.a)({},e))}}),Object(f.jsx)(j.b,{path:"/create-account/:token",render:function(e){return Object(f.jsx)(S,Object(u.a)({},e))}}),Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(j.a,{to:"/dashboard"})}),Object(f.jsx)(j.b,{path:"/dashboard",render:function(t){return e(J)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/announcements",render:function(t){return e(Z)(t)}}),Object(f.jsx)(j.b,{path:"/announcements/view/:aID",render:function(t){return e(K)(t)}}),Object(f.jsx)(j.b,{path:"/announcements/create",render:function(t){return e(ne)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/swot",render:function(t){return e(Pt)(t)}}),Object(f.jsx)(j.b,{path:"/swot/archived/:swotID",render:function(t){return e(qt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/interested-party",render:function(t){return e(Rt)(t)}}),Object(f.jsx)(j.b,{path:"/interested-party/archived/:ipID",render:function(t){return e(Ht)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/scope-of-qms",render:function(t){return e(Qt)(t)}}),Object(f.jsx)(j.b,{path:"/scope-of-qms/archived/:scopeOfQMSID",render:function(t){return e(Vt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/company-policy",render:function(t){return e(Wt)(t)}}),Object(f.jsx)(j.b,{path:"/company-policy/archived/:companyPolicyID",render:function(t){return e(Jt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/responsibility-n-authority",render:function(t){return e(Kt)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/add-org-chart",render:function(t){return e(nn)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/manage-org-chart/:orgChartID",render:function(t){return e(an)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/add-role",render:function(t){return e(en)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/manage-role/:roleID",render:function(t){return e(tn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/risk-n-opportunity",render:function(t){return e(cn)(t)}}),Object(f.jsx)(j.b,{path:"/risk-n-opportunity/archived/:rnoID",render:function(t){return e(xn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/objective-achievement-program",render:function(t){return e(rn)(t)}}),Object(f.jsx)(j.b,{path:"/objective-achievement-program/archived/:oapID",render:function(t){return e(sn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance",render:function(t){return e(Tn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID",render:function(t){return e(Sn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/add-equipment",render:function(t){return e(In)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/add-category",render:function(t){return e(Cn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/add-cycle",render:function(t){return e(ta)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID",render:function(t){return e(na)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID/upload",render:function(t){return e(la)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-category/:catID",render:function(t){return e(Mn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses",render:function(t){return e(Fn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses/add-license",render:function(t){return e(kn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses/manage-license/:licenseID",render:function(t){return e(ca)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses/manage-license/:licenseID/upload",render:function(t){return e(Bn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/requests",render:function(t){return e(ra)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/requests/create",render:function(t){return e(Wn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/requests/manage/:trainingReqID",render:function(t){return e(Zn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/records",render:function(t){return e(sa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/records/manage/:trainingRecordID",render:function(t){return e(zn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/records/manage/:trainingRecordID/post-training-evaluation",render:function(t){return e(Vn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/requests",render:function(t){return e(ia)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/requests/manage/:trainingReqID",render:function(t){return e($n)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/records",render:function(t){return e(oa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/records/manage/:trainingID",render:function(t){return e(Kn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/records/manage/:trainingRecordID/post-training-evaluation",render:function(t){return e(Vn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/post-evaluation-templates",render:function(t){return e(Jn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/post-evaluation-templates/manage/:templateID",render:function(t){return e(ea)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/post-evaluation-templates/create",render:function(t){return e(Xn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings",render:function(t){return e(ln)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-account",render:function(t){return e(pn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/manage-users",render:function(t){return e(mn)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-users/manage-user/:employeeID",render:function(t){return e(hn)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-organization",render:function(t){return e(gn)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-invites",render:function(t){return e(fn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates",render:function(t){return e(Pn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID",render:function(t){return e(qn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/create",render:function(t){return e(aa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/manage/:formID",render:function(t){return e(Yn)(t)}}),Object(f.jsx)(j.b,{path:"*",render:function(){return Object(f.jsx)(On,{})}})]})})},ua=n(197),ja=n(198),ba=n(200),pa=n(199),ma=function(e){Object(ba.a)(n,e);var t=Object(pa.a)(n);function n(){var e;Object(ua.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(ja.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(f.jsx)("div",{className:"c-Page-not-found",children:Object(f.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(f.jsxs)(dn.a,{variant:"danger",children:[Object(f.jsx)(dn.a.Heading,{children:"Oh snap! You got an error!"}),Object(f.jsx)("p",{children:"Something went wrong, try again later!"})]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),n}(c.a.Component),ha=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],j=Object(a.useCallback)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(){return!0})),e.next=3,b();case 3:c((function(){return!1}));case 4:case"end":return e.stop()}}),e)}))),[]),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.a.defaults.withCredentials=!0,e.next=4,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/refresh"),{});case 4:200===(t=e.sent).status?(n=t.data.results.token,y.setToken(n),h.a.defaults.headers.common.Authorization="bearer ".concat(n),setTimeout(b,18e5)):y.logout(),u((function(){return!1})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),401!==(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(u((function(){return!0})),y.logout()),y.setMessage(null===(c=e.t0.response)||void 0===c?void 0:c.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ma,{children:i?Object(f.jsx)(un,{}):n?Object(f.jsx)(Un,{}):Object(f.jsx)(da,{})})})};n(426),n(427),n(428),n(429),n(430),n(431);s.a.render(Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ha,{})}),document.getElementById("eISO-root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.e4cb82df.chunk.js.map