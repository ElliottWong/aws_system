(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{426:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(34),s=a.n(r),i=a(14),o=a.n(i),l=a(15),d=a(3),u=a(4),j=a(22),b=a(16),p=a(12),m=a(7),h=a.n(m),O=a(8),x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAxCAYAAADUQffnAAAHCElEQVR4Xu1bzVIbRxDuXiHsW0hVkH2L/QQmT2A4ICon4ycIPiD7ZvkJLJ4AfLOXQ+AJAqeU5QPyE1g8QeSbLVIV+WYW2E71ales9me6R6wUy9m5UZqd7umvu+eb7gGhHHNrAZxbzUvFoQRvjp2gBK8Eb44tMMeql5FXgjfHFphj1cvIK8GbYwvMsepl5JXgzYcFlrZOlhaqFw8qDi4RwUpSa0ToXvk0+Hu//r7IHS1vt1ccgIeEuMTrEtEqOtADwh7/zXLPzxfeDw7WBjZy/5PIqzXaZKNk1ty+W1fpzoAtLl4+B6AmAATGU44uAXUqjnP86fV6R/nNaNrdZ3/e86nyEgg2LeR2AfDI8xZeaYBUGcBWcWn+LMCb0Hh5qveI4PHZfr0r7S1wllsXu0CwJc01/D4AwL2+u75jWuO7BG95u72FCLsWHi/a2XFwTYpATo+IcFKYXIQD77z6Ii8KvzvwQuB+F9GwnCCBV2u83QRAlmuTmjVadD2vupYF4HcFXpAq/coHjQERYERKCOAeAPxssqQJPBu5AUEBeK+Rea0PHvXd9ccpgqWBftpz7j57t+r7xOkmc0heH31Ua7QPAOA3g76nANTquxtHWXOGevirAMjn1RiYJh1qjTY7TIq9JmQcEsFe/Nzk87FavdhEhJbkPAj44rO7vhdfUx15SbobX8Qn6tyEXhcI3j95Ucfe/tmtr2odkdMgAjYJ4CF/kweeJk0TwZOz/To7VuYYMuILBsbkeAPPq96Pp08jeNaMDeGAfHilYWXxXRQBnrQGAO303Q32cKtxp/GuSUAtx8HNLMJSa7T/gmHazRl6ubVGm9nsA+1aueAtN97usudZ7XQ0GVsSzZ09eHDYd+s3oe8pU8gOAx/7bt0A7PiSivV6fbd+P/oqBV4Ywnz+SDnciCshvDp7U1eBLymtOfNCms5nj2Fgy3EuDz+9/jWobNx01BpvWwD4Mm+drHNKkilFn+Nc3Y/0T4G3vN0+QQTj2RCyJQb3B7My9DiPHBQdebyexeU/qJ446HQQL08nBfNOo92JzsQsO8QNLYEW/S45RPz8HAPP9CED5hM04+dZcCZeOXuA+ChHubEwz9tAEZEXgscRZaT8OTpwRaODRB2sXB1rwRScxSplRnpJtoif3SPwwnTJh2/qkikxNVOoE8EvEoGRFNakTd68tI7W+4mgU6ngjlRRMYEn2SxPlxAHZs2ZI77uCLyQVXFJKTUkAMLqwh/Z4mS2JRldCx7Ll1KZFsBwXm5N08bIljKN6T8TPNNFU6rgm4yv8cAiwVPemWzsOQCgJ8mzW9JZs+88JbQRPYo8wwcDIhCr6XkkR7MJyRA2kZc4+JntCqRKh2OSfHwzkaej2bpNZswa9N36j6avpwEey7MpPyl2l7onaiNEsfZoiuQUQHTc39/gHuHwxbRkPBvhWXNvknZ5vUkiL6kHM2PyFzYJiK84fBWyZqXJfQhsU3TaLFvJWFxziP8NeElDsYffvn25Ehai2ZMNZanh10knksjRTO55AtoDx8FUO8ImGiXKLXlbEZEn6WtmzNHX40UH6UI9ST1VqpVmVlhMKWASD5KMFf+9CPC4ug9IDy68xR3N+48s/ZaftveQ4Hme7kknUnAFVZEikifZAWC8Vhpnm7nVCamlYQPUJHleE3mxKOg5Dj6Roj0TvOHzidwufJYeUurURl9IVLg2m1vITuIwAk/wOr4urEmVkvFo4q72wi4RHZt6WRrCZAleoAZXSRwH9z6/WT/WOpdQ1/3Sd+up6pMm3UrOr2wGpOSPwAtb+VweyxsDAmqeuRuHJmMEqcSB59evp9IVlp+220GDMxoVgBVCGOsSx39HguYVjN81k81fw/nTI6AjLkLnvY288/TdI9+npqkgb+qSyNGX7UwBA76qPKJhJ9349iXLAcYK01LODw0aFHEhNCYSDYLHpEj3gAIKngj7NHgW1f9cP0nTdnN7JrFQUHiQuiexbz56XnUl7ywNI4ePnUIKAhmbzuxFjoEXKsHAiLRZm4qycv43AJ5efYAvRLAqHRkheWHbFQ3gqedVV1Wvx4oH8JuMPC14KuCixUIA+a1KUc5v7P7nPoOQ7zC6/Wd1k6cReaHhuJbJF+4bez+fcRfn1ZbttWPo/F4Thk9IJtXjIz/PlxrZxgdIrMitxcstAuK3H2pvGr6JxCN0Lo+yGpvTAC9ypdB4/HyPQbQtg50i4EGe3jp3Hc6Kgaiq3vA3YcP7QGLnkR7qp38RpScfVgj8FDMiwl6lgr2vXxe6tt5qY5RJ5obvMVnn1LucSO9J7oVaXa4dKuM/k8AZoAPdSeRbgadVtpw3GwuU4M3GzlORUoI3FbPOZtESvNnYeSpSSvCmYtbZLFqCNxs7T0VKCd5UzDqbRUvwZmPnqUj5F5DmUW7R2BkgAAAAAElFTkSuQmCC",v=a(188),f=a(1),g=function(e){var t=e.title;return Object(f.jsxs)(v.a,{children:[Object(f.jsx)("meta",{charSet:"utf-8"}),Object(f.jsx)("title",{children:t||"eISO System"})]})},_={baseUrl:"http://3.136.78.128:8000/api/v1",toastTiming:2e3},A=a(26),y=function(){console.log("token manager has been run");var e=null,t="";return{getToken:function(){return e},getDecodedToken:function(){return e?Object(A.a)(e):null},setToken:function(t){return e=t,!0},removeToken:function(){return e=null,!0},logout:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/logout"),{},{withCredentials:!0});case 3:return window.localStorage.setItem("logout",Date.now()),e=null,t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.response),t.abrupt("return",!1);case 13:case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),getMessage:function(){return t},setMessage:function(e){return t=e,!0}}}(),N=function(){var e=Object(j.g)(),t=_.toastTiming,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({username:"",password:""}),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(n.useState)(!1),v=Object(d.a)(m,2),A=v[0],N=v[1];Object(n.useEffect)((function(){""!==l.username&&""!==l.password?s((function(){return!0})):s((function(){return!1}))}),[l]);var D=function(e){b((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsx)("div",{className:"c-Login__Card",children:Object(f.jsxs)("form",{onSubmit:function(t){var a=t.target.username.value,n=t.target.password.value;t.preventDefault(),N((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/login"),{username:a,password:n}).then((function(t){var a=t.data.results;console.log(a);var n=t.data.results.token;y.setToken(n),console.log(y.getToken()),h.a.defaults.headers.common.Authorization="bearer ".concat(n),N((function(){return!1})),e.push("/dashboard")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),N((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:l.username||"",onChange:D,placeholder:"Username"})]}),Object(f.jsxs)("div",{className:"c-Card__Password",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",value:l.password||"",onChange:D,placeholder:"Password"}),Object(f.jsx)("a",{href:"/forgot-password",className:"c-Card__Forgot-password",children:"Forgot password?"})]}),r?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:A?"Loading...":"Login"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Login"})]})})})})]})},D=function(e){var t=e.isValid,a=e.text,n=t?"text-success":"text-danger";return Object(f.jsx)("li",{className:n,children:a})},T=function(e){var t=e.validity,a=t.minChar,n=t.number,c=t.specialChar,r=t.match;return Object(f.jsxs)("div",{className:"c-Card__Password-criteria",children:[Object(f.jsx)("div",{className:"c-Password-criteria__Header",children:Object(f.jsx)("b",{children:"Password Criteria"})}),Object(f.jsxs)("ul",{children:[Object(f.jsx)(D,{isValid:a,text:"Have at least 8 characters"}),Object(f.jsx)(D,{isValid:n,text:"Have at least 1 number"}),Object(f.jsx)(D,{isValid:c,text:"Have at least 1 special character"}),Object(f.jsx)(D,{isValid:r,text:"Passwords must match"})]})]})},S=function(e){e.match;var t=y.getToken(),a=y.getDecodedToken();console.log("------------Decoded Token-------------"),console.log(a);var c=a.company_name,r=a.admin_level,s=_.toastTiming,i=/\d/,o=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,l=Object(j.g)(),b=Object(n.useState)(!1),m=Object(d.a)(b,2),v=m[0],A=m[1],N=Object(n.useState)({firstName:"",lastName:"",username:"",password:"",confirmPassword:"",addressLineOne:"",addressLineTwo:"",city:"",state:"",country:"",postalCode:""}),D=Object(d.a)(N,2),S=D[0],I=D[1],C=Object(n.useState)(!1),M=Object(d.a)(C,2),F=M[0],E=M[1],w=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(n.useState)(!1),q=Object(d.a)(R,2),H=q[0],Y=q[1];Object(n.useEffect)((function(){""!==S.firstName&&""!==S.lastName&&""!==S.username&&""!==S.password&&""!==S.confirmPassword?A((function(){return!0})):A((function(){return!1})),B((function(){return{minChar:S.password.length>=8,number:!!i.test(S.password),specialChar:!!o.test(S.password),match:S.password===S.confirmPassword}}))}),[S]);var U=function(e,n,c,r,s,i,o,d,u,j,b,p){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:n,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:u,country:j,postal_code:b},title:p}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),Y((function(){return!1}))}))},L=function(e,n,c,r,s,i,o,d,u,j,b,p){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:n,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:u,country:j,postal_code:b},title:p}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),Y((function(){return!1}))}))},z=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Create Account"}),Object(f.jsx)("div",{className:"c-Create-account",children:Object(f.jsx)("div",{className:"l-Create-account__Card",children:Object(f.jsx)("div",{className:"c-Create-account__Card",children:Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.firstName.value,n=e.target.lastName.value,c=e.target.username.value,s=a.email,i=e.target.password.value,o=e.target.addressLineOne.value,l=e.target.addressLineTwo.value,d=e.target.city.value,u=e.target.state.value,j=e.target.country.value,b=e.target.postalCode.value,p="placeholder";e.preventDefault(),Y((function(){return!0})),2===r?L(t,n,c,s,i,o,l,d,u,j,b,p):0===r&&U(t,n,c,s,i,o,l,d,u,j,b,p)},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsxs)("div",{className:"c-Card__Form-title",children:[Object(f.jsx)("h5",{children:Object(f.jsx)("b",{children:"Create Your Account"})}),Object(f.jsxs)("p",{children:["Hello, ",a.name,"! You are invited to eISO as a ",2===r?"super admin":"normal user"," by ",2===r?"the platform admin":c||"Error","."]})]}),Object(f.jsx)("div",{className:"c-Card__Form-input-title",children:Object(f.jsx)("b",{children:"Basic Details"})}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-first-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{type:"text",name:"firstName",value:S.firstName||"",onChange:z,placeholder:"First Name"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{type:"text",name:"lastName",value:S.lastName||"",onChange:z,placeholder:"Last Name"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-second-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"addressLineOne",children:"Address Line One"}),Object(f.jsx)("input",{type:"text",name:"addressLineOne",value:S.addressLineOne||"",onChange:z,placeholder:"Address Line One"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"addressLineTwo",children:"Address Line Two"}),Object(f.jsx)("input",{type:"text",name:"addressLineTwo",value:S.addressLineTwo||"",onChange:z,placeholder:"Address Line Two"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-third-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{type:"text",name:"city",value:S.city||"",onChange:z,placeholder:"City"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{type:"text",name:"state",value:S.state||"",onChange:z,placeholder:"State"})]})]}),Object(f.jsxs)("div",{className:"c-Card__Basic-details-fourth-row row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{type:"text",name:"country",value:S.country||"",onChange:z,placeholder:"Country"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{type:"text",name:"postalCode",value:S.postalCode||"",onChange:z,placeholder:"Postal Code"})]})]}),Object(f.jsx)("div",{className:"c-Card__Basic-details-fifth-row row",children:Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:S.username||"",onChange:z,placeholder:"Username"})]})}),Object(f.jsx)("div",{className:"c-Card__Form-input-title",children:Object(f.jsx)("b",{children:"Password Info"})}),Object(f.jsxs)("div",{className:"c-Card__Password-info row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{onFocus:function(){return E(!0)},type:"password",name:"password",value:S.password||"",onChange:z,placeholder:"Password"})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",name:"confirmPassword",value:S.confirmPassword||"",onChange:z,placeholder:"confirmPassword"})]})]}),F&&Object(f.jsx)(T,{validity:P}),Object(f.jsx)("div",{className:"c-Card__Submit-btn",children:v&&!0===P.minChar&&!0===P.number&&!0===P.specialChar&&!0===P.match?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:H?"Loading...":"Create Account"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Create Account"})}),Object(f.jsx)("div",{className:"c-Card__Terms-message",children:Object(f.jsxs)("p",{children:["By creating an account, you agree to our ",Object(f.jsx)("a",{href:"#",children:"Terms of Service"})," and ",Object(f.jsx)("a",{href:"#",children:"Privacy Policy"})]})})]})})})})]})},I=function(e){localStorage.setItem("sideNavStatus",e)},C=function(){var e=localStorage.getItem("sideNavStatus")||null;return null==e||"true"===e?(I(!0),!0):(I(!1),!1)},M="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAGfAZ8DAREAAhEBAxEB/8QAhQABAAIDAQEBAAAAAAAAAAAAAAYHAwQFCAIBAQEAAAAAAAAAAAAAAAAAAAAAEAEAAQMCAgUIBQkHAgcAAAAAAQIDBBEFMQYhQVESB2FxgaEiMhMUkbFCYiPB0VJygpKishXhwkNTcyQXM5Njg8M0VCVVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBl5mHh2vi5d+3j2/07tUURPm14gi24+KnKOHM02btzNrjqsUz3f3qtIBHczxpvzMxhbZTTHVXfuTM/u0xp6wci/wCLfNtyfY+WsR1dyzMz/FVINX/k/nT/AOZT/wBq3+YH7HihznExPzdE+SbVvT1QDbx/Fzmq3MfEoxr1PX3rdVM/TTV+QHYwvGmdYjO2vo66rFzWf3a4j6wSXbfE3lHNmKasqrEuT9nIpmmNezvRrAJNYv2Mi1F2xdovWp4XLdUVU/TGoMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOVv3M+y7FZ+JuGRFFcxrRYp9q9V5qI6QVrvvi5u2V3rW1WowbM9EXa9K70x/LT6wQjMzs7OvTezL9zIuzxru1TVPrBrAAAAAAAA3du3fc9tuxdwMm5jVx126piJ88cJBO9h8YMu1NNre8eL9vhOTYiKbkeWqj3Z9GgLI2ffdp3fH+Pt2TRfo+1THRXT5KqZ6YBvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Lt21ZtV3btdNu1biaq7lU6U0xHXMyCsubPFiqZrxNg6I6Yqz6o6f8AyqZ/mkFbZGRfyL1d/IuVXr1c613K5mqqZntmQYQAAAAAAAAAAAbODuGbt+TTk4V6vHv0e7ctzpP9oLS5S8VcfKqow987uPkTpTRmUxpaqn78fYny8PMCxImJiJiYmJjWJjpiYnsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABp7pu2BtWDczc67FjHt8ap4zPVTTHXM9gKU5x553LmK9NqJnH2yifwsWJ97ThVd04z5OEAi4AAAAAAAAAAAAAAAJpyR4iZeyVUYWfNWRtMzpEca7OvXR20/d+gFy4eVjZeNbysa5Tex71MVW7lM6xMSDMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV3PcsPbcG7nZlyLWPZjWuqfVER1zPUCiObebM7mPP+NembeJamYxcWJ9miO2e2qeuQcEAAAAAAAAAAAAAAAAAEr5H53yOXsv4V6aru03p/Gs669yf8yiO3tjrBd+PkWMqxbyMeuLti7TFdu5TOsVUzwmAZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAflVVNFM11zFNFMTNVU9EREdMzIKO8QOcrm/7h8DHqmNqxapixT/mVcJu1f3fICJAAAAAAAAAAAAAAAAAAAAnvhnzpO25VO0Z1z/6/Iq/Arqnos3Z/u1fWC4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAV14sc1zjY8bFiV6X8imK82qJ921PCj9vr8gKlAAAAAAAAAAAAAAAAAAAAABdnhnzXO77V8jlV97cMGIpmZ43LXCmrzxwkEzAAAAAAAAAAAAAAAAAAAAAAAAAABp7tumPtW25O4ZH/AEsaia5jrmeFNMeeegHnbcc/J3HPv52TV3r+RXNyuezXhEeSI6IBqgAAAAAAAAAAAAAAAAAAAAA6nLe9Xtk3nG3C1rpaq0vUR9q1V0V0/R6weh7F+1kWLd+zVFdm7TFduuOE01RrEgyAAAAAAAAAAAAAAAAAAAAAAAAAArPxi32aaMXZLVXTV/uMqI7OFumfXIKsAAAAAAAAAAAAAAAAAAAAAAABcnhJvs5mx3Ntu1a3tvq/D14zZuTrH7tWsAnYAAAAAAAAAAAAAAAAAAAAAAAAGsR0zOkR0zPkB535q3WrdeYs7OmdaLl6abXkt0ezTp6I1ByAAAAAAAAAAAAAAAAAAAAAAAASnw33b+nc24venSzl6413s9v3Z/e0BewAAAAAAAAAAAAAAAAAAAAAAAAOPzhuM7dyzuOXTOldFmqm3PZXX7FPrqB54iNI07AAAAAAAAAAAAAAAAAAAAAAAAAZLdy5auUXbc6XLdUV0T2VUzrE/SD0lt2ZRm7fjZtHu5Fqi7H7dMSDZAAAAAAAAAAAAAAAAAAAAAAABBvF3Lm1yxbsRPTk5FFMx92iJqn1xAKZAAAAAAAAAAAAAAAAAAAAAAAAABfPhtmTlcnbfMzrVZ79mr9iudP4ZgEmAAAAAAAAAAAAAAAAAAAAAAABWXjVen4W02Y66r1c/RREAq0AAAAAAAAAAAAAAAAAAAAAAAAAFyeD16a+W8i1M6/CyqpjzVUU/mBOwAAAAAAAAAAAAAAAAAAAAAAAVV40/wDu9r/07n80ArUAAAAAAAAAAAAAAAAAAAAAAAAAFt+DFcztO409VN+iY9NE/mBYgAAAAAAAAAAAAAAAAAAAAAAAKt8arc/G2m51TTdp+iaZ/KCsgAAAAAAAAAAAAAAAAAAAAAAAAAW/4N29Nhzq9PfyIjXt7tH9oLAAAAAAAAAAAAAAAAAAAAAAAABXnjNjzVtO35GnRav10TP+pRr/AOmCowAAAAAAAAAAAAAAAAAAAAAAAAAXb4T4/wALlGivT/r37tyJ8kaUf3ATIAAAAAAAAAAAAAAAAAAAAAAAEV8TML5rk/LmI1qx5ov0/sVaVT+7MgooAAAAAAAAAAAAAAAAAAAAAAAAAHoflDCnB5Y23GmNKqbFNVcdlVft1euoHYAAAAAAAAAAAAAAAAAAAAAAABgzcO3mYV/EuRrbyLdVqqPJXEwDzbkY93GyLuNdjS7Yrqt1+eidJ+oGEAAAAAAAAAAAAAAAAAAAAAAAHR5f22rc97wsCI1jIvU01x9yJ1r/AIYkHo6IimIpjhHRHmgAAAAAAAAAAAAAAAAAAAAAAAAAFKeKmzTt/M1WXRTpY3GmL0T1fEj2a4/KCFgAAAAAAAAAAAAAAAAAAAAAAAsXwd2abu45W7Xafw8Wj4Fmf/Eue99FMAtoAAAAAAAAAAAAAAAAAAAAAAAAAEW8RtgneOW7s2qe9l4MzfsRHGdI9umPPT64gFEgAAAAAAAAAAAAAAAAAAAAAA+6KK7ldNuimaq65imimOMzM6REA9C8pbFTsewY2DpHx4j4mVVHXer6avo4egHXAAAAAAAAAAAAAAAAAAAAAAAAAABRniLyxOyb9Xcs06YGbM3caeqmqZ9u36J4eQETAAAAAAAAAAAAAAAAAAAAABPfCrlidw3Wd3yKNcPBn8HXhXf6v3I6QXEAAAAAAAAAAAAAAAAAAAAAAAAAAADkc0cvYu/7PdwL2lNc+3j3f0Lke7Pm6pBQGdhZWDm3sPKom3kWKpouUT1TH5J6gawAAAAAAAAAAAAAAAAAAAOjsWy5u87pZ2/Ep1uXZ9qvqooj3q6vJAPQOz7VibVttjb8WnSzYp0ieuqftVVeWqQboAAAAAAAAAAAAAAAAAAAAAAAAAAAAIZ4icjxveJ89hUxG7Y9OkUx0fGoj7E/ej7P0ApaqmqmqaaommqmZiqmeiYmOMTAPgAAAAAAAAAAAAAAAAAGbGxsjKyLePj26rt+7VFNu3TGs1TPVAL05H5Pscu7fpXpc3HIiJyr0dMR2W6Z/Rp9YJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB+IHh5TusV7ptVEUblEa3rEdEX4jrj7/1gqC5buW7lVu5TNFyiZproqjSYmOMTEgxgAAAAAAAAAAAAAAAz4eJk5mTbxsW1VeyLs923bojWZmQXVyLyHY2CzGVk6X91u06V1x002onjRR+WQS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEU5y8P8Df6asmzMYu6RHs39PZuadVyI/m4gprdtn3LaM2rE3CxVZvR7uvTTVHbTVwqgGgAAAAAAAAAAAAADq8v8t7rvuX8vgWu9ET+Lfq6LduO2qr8nEF0cp8l7Vy9Y1tR8fOrjS9l1x7U/doj7NIJEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS3XZtt3bEnF3CxTfszw73vUz201R00z5gVbzJ4TbliTXf2Wqc7Hjp+Xq0i9THk6q/rBBL1m7Zu1Wr1FVq7T0VW64mmqPRIMQAAAAAAAAANjEw8vMv04+JZryL9XRTbt0zVV9EAsLlrwjv3JoyN/ufCo4/J2p1rn9euOiPNALNwdvwtvxqMXCs0Y+PR7tu3GkefyyDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzt45e2beLfc3HEovzwpuTGlynzVx0ggm7+DduZmvaM2aOyxkxrHorp6fpiQQ/cfD/m7AmZu7fXetx/iWNLtOnb7PTHpgHBu2b1mqabtuq3VHRMV0zT9YMWsTwAAAmYjjIM1jGyciuKLFmu7VVwiimatfoBItu8OObs6YmMKca3P+JkzFvT9mda/UCY7P4OYNuabm7ZdWRPXYsfh0eaap9qfUCc7Xs+1bVZ+Dt+LbxrfCe5Gkz+tVxkG6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmZnMuw4eVbxMncbNrJuVRTTamqNYmeHe0930g6YAAAAAAAMV/Hx8iNMizbvR2XKKa/wCaJBzL/J/Kt+db21Y1X7Hd/lmAav8Ax7yV/wDl2vpq/OBHh7yVExP9KtTp1TNUx9YNzH5T5XxZibG141Exw9iKv5tQdSzas2ae7Zt0Wqf0bdMUR9FMQD6AAAAAAB+V10UUVV11RTRTGtVUzpERHXMgwYedhZtmL2Fft5Fqft2qorj1A2AAAAAAAAAAAAAAAAAAAAAAAAAAR/mXnjY9hpmjIufGzNNacS1pNfk708KI84Kt5h8SeYt2mq1aufIYc9EWbEzFUx96570+gETnpmZnpmemZBNeT/ErcNnijD3DvZm2x0UzM63bUfdmfej7sgt3a9227dsWMrAv037M8Zp40z2VRxpnzg3AAAAAAAAAAAAAAAAAAc3fOYdp2PG+Y3C/FuJ1+HajpuVzHVTT1gp3m/xA3XmCqrHo1xNsifZxqZ6a/Ldq6/NwBHtv3PcNvvxfwci5jXo+3bqmNfPHCfSCw+XPF65TNGPv9nv08PnbMaVR5a7fX6AWTt+5YO4Y1OThX6MixVwronWPNPZPkkGyAAAAAAAAAAAAAAAAAAAAADFfv2MezXfv3KbVm3E1XLlc6U0xHXMyCrOb/FW/fmvC2CZs2PdrzpjS5V/pxPux5eIK7rrruVTXXVNVdU61VVTMzMz1zMg+AAAb217xuW05UZO35FePfjjNM+zVHZVTwqjzgs/lnxcwMruY++2/lL89HzVETNmqfvR71HrBPsfIx8i1Tex7lN+xX003LdUVUz5pgGQAAAAAAAAAAAAAGvnZ2FgWKsjMv0Y9injcuTFMf2grvmXxdt0xVj7Da79XCc29GlMfqUdfnkFa5udmZ+TXk5l6vIyK/euXJ1nzeSPJANYAAHR2Xf8Adtmyoyduv1Wq/t0caK4jqrp4SC4uUPEDbd/inHu6Ym56dOPM+zX2zbqnj5uIJYAAAAAAAAAAAAAAAAAAADT3Xd8DasK5m512LVi31zxqnqppjrmQUjzfzvuHMV+aJ1x9uonWziRPHsquae9V9QI0AAAAAADo7Tv28bRd+Jt2VXjzM61UROtFX61E60yCf7L4yzHdt7zh69uXjfXNur8kgm+1c38tbrEfJ59uq5P+DXPw7nm7tWmvoB2AAAAAAAAAJ6I1nhHGQcLdueOV9riYyM+iu7H+DY/Gr/h6I9Mggu9eMWbdiq1s2JTj0z0RkX/br9FEezHpBA9x3Xctyv8Ax8/JuZN3qmudYj9WOEegGmAAAAAD7pqqoqiuiqaa6Z1pqpnSYmOExMAtTkPxLjIm3tW/XIi/OlGLnVdEVzwim52VfeBZAAAAAAAAAAAAAAAAAANLd92wdpwLufnXPh49qOn9KqeqmmOuZBRXNfNefzFnzfv/AIeNbmYxsaJ9mintntqnrkHCAAAAAAAAAAB1tt5p5j26IjD3C9aop4W5q79EfsV96n1AkmD4vczWdIyLOPlUx20zbqn00zMeoHaxvGnHnT5raq4nr+Dcif5ogHRteMHLNUfiWcm1PZ3Iq+qQZ/8Alrk3/Myf+xP5wP8Alrk39PJ/7E/nBr3vGLlqiPwsfJuz2d2mj65Bzcrxqo0n5Tapmer492I/kiQcPN8Wuar8TFiLGJTPCaKO/VHprmY9QI3uHMO+bjrGdn3r9M8aKq5ij9yNKfUDmgAAAAAAAAAAs7w68QJiq3s28XtaZ0pwsuuemJ6rVdU/wyC0QAAAAAAAAAAAAAAAY8rJx8XHuZORci1YsUzXduVdERTHGQURzrzfkcx7h3o1t7fYmYxLE9n6dX3qvUCNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt3w154nOop2Xc7mubbjTEvVT03aI+xMz9uPXALCAAAAAAAAAAAAAABT/ifzlOflVbNhXP9jj1f7mumei7dp6v1aPrBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZLV27Zu0XrNc27tuqKrddM6TTVHTEwC9uRebbfMW1RVcmKdxxtKMu3HXPVcpjsq+sElAAAAAAAAAAAABDvEnmz+ibV8ri16bjnRNNuY427fCq55+qAUiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq8tb9lbFu1nPsazTTPdv2uqu3PvUz+Tyg9BYObjZ2DZzMWv4mPkURXbqjsnt8sdYNgAAAAAAAAAAGDNzcfCxL2Zk1dyxYom5cqnqiAeeuYt6yN73e/uF/om7Olqj9C3HuUx5oBzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWT4S80fBv1bBk1/hXpm5hTPVc410ftcYBawAAAAAAAAAAKy8XuY5pps7Bj1+9pfzdOz/Don6wVaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLYv3se/bv2apov2qort1xxiqmdYkHoXljfbW+bHjbjRpFdyO7foj7N2norj6ekHVAAAAAAAABrbln2NvwMjNvzpZx7dVyvy92OEeWeEA867puORuW45GfkTreya5rq8mvCmPJEdANMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+8JeYZw92ubTeq/wBvn9NrXhTeoj+9T0AuEAAAAAAAAFceMG+/BwsbZrVXt5M/GydP8uifYj01dPoBU4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM2Pfu49+3fs1TRdsVU126o4xVTOsT9IPRWxbra3XaMTcbemmRbiqqmPs18K6fRUDfAAAAAAA6I6Z4RxB555u3id45hzM2KtbU1/Dx/9K37NOnn4g4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALU8G9671nM2a5V025+ZxYnsq6K4j06SCywAAAAAAR/nzd52zlbNv01d2/dp+Xszwnv3ujo81OsgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHa5O3f8ApXM2DmzV3bUXIt3+z4dz2atfNrr6AehQAAAAAAVb4zbprc27aqZ6KYqyLseWfZoifomQVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0Pyhun9T5Z2/Lme9cqtRRdnr79v2KtfPpqDsAAAAAAoLn/AHH+oc3bhcidbdquLFv9W1Gn16gjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALc8G9w+JtGbgVT0416LtEfduxpPrpBYYAAAAMWTfox8e7frnSm1RVXVPZFMag81X79d+/cv1+/erquVeeuZqn6wYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATjwizfgcz148zpTl49VPnqomKqfygucAAAAHG5yuXrfK26VWaaqrvy9dMRREzPtR3Zno7I6QeeQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDkO7dtc37XXapqr/ABtKqaYmZ7tVM0zOkdUcQX+AAD//2Q==",F=a(191),E=a(0),w=function(e){var t=e.sideNavStatus,a=e.setSideNavStatus,c=Object(j.g)(),r=y.getDecodedToken(),s=r.display_name,i=r.username,u=r.email,b=(r.company_alias,r.company_name),p=Object(n.useState)(!1),m=Object(d.a)(p,2),h=m[0],v=m[1],g=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.logout();case 2:e.sent?(Object(O.b)("Logged out successfully"),c.push("/login")):Object(O.b)("Logged out failed");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{className:"l-left",children:[Object(f.jsx)("div",{className:"c-Hamburger",children:Object(f.jsx)("button",{onClick:function(){I(!t),a((function(e){return!e}))},children:Object(f.jsx)(E.b.Provider,{value:{color:"#1666BA",size:"21px"},children:Object(f.jsx)(F.a,{})})})}),Object(f.jsxs)("div",{className:"c-Logo",children:[Object(f.jsx)("a",{href:"/dashboard",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)("p",{children:b||""})]})]}),Object(f.jsx)("div",{className:"l-right",children:Object(f.jsxs)("div",{className:"l-Profile",children:[Object(f.jsxs)("div",{className:"c-Profile",children:[Object(f.jsx)("button",{onClick:function(){v((function(e){return!e}))},children:Object(f.jsx)("img",{src:M,alt:"Profile img"})}),h?Object(f.jsx)("div",{className:"l-ProfilePopUp",children:Object(f.jsxs)("div",{className:"c-ProfilePopUp",children:[Object(f.jsxs)("div",{className:"c-ProfilePopUp__top",children:[Object(f.jsx)("img",{src:M,alt:"Profile img"}),Object(f.jsx)("h1",{children:s||"Error"}),Object(f.jsxs)("h2",{children:["@",i||"Error"]}),Object(f.jsx)("h2",{children:u||"Error"})]}),Object(f.jsxs)("div",{className:"c-ProfilePopUp__bottom",children:[Object(f.jsx)("a",{href:"/settings/manage-account",children:"Manage Account"}),Object(f.jsx)("hr",{}),Object(f.jsx)("button",{onClick:g,children:"Log Out"})]})]})}):null]}),Object(f.jsx)("div",{className:"c-ProfileName",children:Object(f.jsx)("h1",{children:s||"Error"})})]})})]})},k=a(437),P=a(438),B=a(439),R=function(){return Object(f.jsx)(k.a,{className:"l-Footer",children:Object(f.jsxs)("footer",{className:"c-Footer",children:[Object(f.jsxs)(P.a,{className:"c-Footer__top",children:[Object(f.jsx)(B.a,{md:12,xl:4,className:"c-Footer__img",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAABhCAYAAAC5+x8XAAANcElEQVR4Xu1di7EltRGVIjBEYBOB1xEYIjBEYIjAEIEhAkMEhggMERgiMERgE4EhArnOs0SJuTNS/zSS3u2perVbdTX6HPXpbrVamhj8cQQcgdsRiLe36A06Ao5AcOK5EDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4TygDKaW3Qgi/r4b+Q4zxp9cIRUrpTQjhNydj+znG+P2sMT8N8VJKf5wFct1ujPG7O/qRxwuhq/+oTf8nhIA/CCYI+W0IYaqg9jqex/tuCKH89V45/o6xYpzfxhi/4b7MLf9MxEtccEaUjzEOwTxbsT+FED7Mwjei+4WEENDvZlqMPN4/V0SDFbd8XkgYQvgqxgglZPoMEQLTHhpVllJ6lcRLKUHDQwBBuBnP1yGEr2OMX93ReCbcX0IIH4cQrMl2NYQvQwifWRLQiXeHtFRtWFm8lNLvQgh/H2jduMjAGoKEX4ywhJMId8TAjIBOPK54KctriVcJ4KfKrox6HZbBtG8pJVjzv91o4XrYfB5j/KRXqPW7E0+DnuBdDfFyhA5WDgGTVR9T4qWUMN5ZbnQLY6z/PpBGg514N4uvlHiZdP9cSOtfIWdCvGzZ/7GQK302XgRdQD72toQTbwPiLehqtVBTEy8rGZAO69jVH6xtP4oxYn1Lfpx4ZKhsCnItXg6i/GsDS1cAUhEvWzqMdwfS1ULxB47lc+LZ8Ilci4B4EMKV13THsWuJB3caWyS7PXA7QT5SBpAT7+bp5RAvpfR5CAF7VlbPj4eMlFIvrEuxMFcpVtQ+iImXUkI09K/Uhojlfs4ZOCgOcpRx4t/fEuugFkPWy3uUws9EPIoWRfQMm9GSBxvI2OdpPjFGRMO6T3a5/tst2C+AFDX0C5vcJG2c236/ygrhCKiIeCkltId1ncUDspUxX+Kd15KQC2zGc8bY6iP2MVFfWw56BZ7pd6XGFQncFb4pJUwe9q6kD6zbh1SitxrJAgpioE9nCcf162wcMtH/bbSOhQL8mKpkSsfz3FPGR5mP93q432bxjhnxdyULU1A6gC91ddgC1xF2CKI0wADSveEKHwWrHGGFS3hlIdg4KBVe6TasHAjX9Toayg5uNt6vT25QYDmW6bqc5sQ7ZIljIJR8OvjeJSkVR1TY+yISdI7vKAWALXAdAUBQRfp0Na604kpJwUXDGvQopCwcjKwdSPeuhdzk/kAWteRrzoGaeIOy4rEWwaQOyQxvCLxmcc8SuI61g1Ajuid6OAEcUQPVSyfKioWDUtmVnmATm7WP1sEfngaUf8+tblXTtHpi4t2YtGqWmNoTMqUQsASuM/Ga9d1PMca3e2O1/D2vAYuLxsIhpaRxqTEMUjCDO16jYM87VycaRMRLKWEddOexDFjATzT+OwX4hYinsbwY6uWEU3C4q0xeLyIXU/oMW8uiQyklWFGccZQ+8NhO80xZxFsgf06dFd6xNBqBZ2n6gf0YZgWk0nf1XkoJVlK6fYNqzTA/62M+6yh2+bFvGGN856xuMvEWyp/DftQH1kKQNdxrIR6GgwjfFyNwsqrTwM0cbtlTSljraQItp30kEc+A+VZzVeoZoulekatZcEK0+NO7TodzJjnnoGJ9J32+iTFib3HoY+AOI4H6YYujS7yFj6OYRrIWs3iWWRxFMMt2DQR2ynZNzZBRAm3NQoMMotN1XpN4uVH4uNokXaQtIUACDYy6LPLkUB/MOCkNijIhC1k87H1apIu1hg0igoD4w8VF5hf6dNax2vXdcDez9F/pbp5GmXvE02SKI3UHbs7lhOa0KKyrpPslp2acQrKLxfQSa7xsfbVrCy4M5Qaxl2vuRmcWpZQ0py5w1SAlMYOLwWl5gyDQg5K4JJ5iXQfrhhxBkgbNVhXaTxK2vYwaSRBfxeIZuL2S4R/fKURESN3cIipvfbtlfVdZPGwJaLY9HrJYWsSTaCTRvkomHzStJEPczOotRrw73E0OQU2v8VMSb0hw7QoMhREqVdKIp1j4sk7hGi22zbTfSsTLVs/6PB6HaFdlSzofMkbE6+snI95DIPDU4gn3V9SpO8JFrFmK1ILEg9WTegIWJGvV8ULAGONn3IYMLAiymKCUbnkMtj4eLPQD8RSNqDPiFSeuTSJcqxEvWz1EgRGBlAagRgsn+gZ3n7Smz2NSJYGHENSyxgXF2kKfEU+UoGuREa8QfJN1nqJ9zOOwdUfeS12ZfLB+IANpf9DA4r1K4kkSQ3GGTrvXh6RUqSY0EfpViVdZCczNqpaPTD7FPF8GK7gWjFv+DouHjVvuHgncDPHJ3woEbKxLbg1Wry8NQvgm5G8JhHLrhStrkvKkpAYnXgi/cjUNAJFMlsU72GeiXGbUbGtli3eIAF+d/rbAUltHN4ndQM5eV3DFABDtpEnffyriFZDytg88hCU+ullNXncNZu26SQWH8p4BL9r7eAYNUMYxosxTEq8iYHHRQUJJEoL1nFweAK36rPle4XC3/sTD0JzL6xJPk6toPXmc+p6aeAchAQlxugF/0yxhL8qttHhmSRMUITO4atGJ1wleaBTPrVqYIjA5YFS+gY51If6vOdRJbRblmu6mMFmitG+WNEEZ0PAkaWVwgTKGUWXc4jGQzUuKmpAj3NOmIhohzAwIWEWVJyl+jDE+3I96jGpqND5rMMaFnXgKQHO2ElxTrBGtLGJznafIBy4jNUma6MF2y0FYBRj1hyF6Yxnx+/eU++p7DSst/pKuZm/Mx9+zDCAPUrtR31SGBgLdva2ZO/az8gbru/7VD4qoponFsQBKU4cT7//oKY9plSnoyoRynYd2THJ0O+t+7b2f/cuOFMS7dbGrIVcHZI2rbWbx8r2lwHTaLWE5P1RzjTyFeNpjTyYZS1cyoeBDqfJ0fYcfj2s8LAKlNz8N1z6jCFfqXcXiVaF2JB3DVSElH1vjk1JCKqA08NJVRAa3NSNFDWdAyScjOBgpgypoin6hrcL8D9U+HMCkZRckXhkK7q5hn3uT4lApIpyIkO4FdomX3VoNuVHFkLWeUhYKhPQr3BVn4kgJslphGPm+EmySoFH6f7G5fLv1U2p80vWLioBeDaVp7qaBm920dg+uZtZA0qM53cYoQkctk8HBNxzeon7+tlf34sQr3YcVAslJX5btjbmxvtEsO1Dt29SrIZQubRmCyfaC4T2yzaXX1dUPsF7ScLIJAA2BwJElfBccgZCXp5eeRBW+TYhXhjPslmiDb2SwUrqMrB5wUV1bn4Mp+Bw091jcUcS6uapXxNNE99CJL2OMH1EFnlKu+iwYNnl/lQnwpMQrsEFJ4iwkLCAiieILiCqPB5+A1hxsJrmZ9bwbWT1UyfYIcgIBvCfJWdAz8e0GGq+IB8ZDo0qtHjpjopGz6YeFuwSFQrz8pdoex9GGFHwIf/cwMOWiWGUCMdaCOKkOAUQ4uxvxy9iAaMhe0Z5rvAyht8AfcL0Fxg8cYH0fMKg+qFrGrLVyLJe3da+m6O6VE3ChgV/uZAwh4IqIpiBUgEAAAEoXECLxNMdQeoQl/z6xryDk0RpSP5VNHl8vObpDPu3Fsa3qIXf4gzxprHmrja6L+cvyqAOENtR7Vf1ZYECsaScKM0cgyetRpcVj98nwBfWWkiKqbjgMUVU/5O+wk1z93rcTVr9abjth3klJMMWPJXgdhX/3dyOYQ30ojlzlNz1vrn6L+pmula+WI0U1V7Eir5R4ZqTLAR64g1iaSDfvtUTivI/PFrzPzS7qEi8DsbTl20mYd+orUfpMSVe3aXBmjzgEcTHx2EnEy+TDGgxRO2nunnh0vRd3Euad+trDvZWLSHiXVMRwj4/UHqMQOZByVieZeJULgD0+hPeXeXYSZmJfJZcK3zkfcK/wKbah2TNlQHmrAZisoPSxnsNGfXfrqDUhLOJVQKxk/UhZEjut8bKSK5cWWZ4K15ITQocPlfySNaStkPN+tn5oewYBX8aex0+KXJoTryJguS5A8lFJDubHsvCtoXFweWp3gzgL8jb7eMfBZo1fbg6zupqBgz/whtABb7XQcRo+K3szAU0JV8YjsngngjH6SjkMHm7NSzYClWx1P3ezeFfCmRMMSnLByFvD8GVf4I30P5Jy0xKK+37OrSyZJ5YKCa50yXzBsSNzZWNCvAsNDaGAgICUCA9TgYF2LZ8BxoTjPpUpB0G5gjCrfLaIwLncHFZn+7RC8iBXeSBo2+JdKaRyjSHGBTx6aY8FA4z9RbnfoWiGEI8igFlb4XoDJxUFMC+jQiAnQkM5LSFz04inQtFfdgQ2R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R+B/Ko8pvJqFIPEAAAAASUVORK5CYII=",alt:"eISO Logo"})}),Object(f.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__company",children:[Object(f.jsx)("h1",{children:"Company"}),Object(f.jsxs)("p",{children:["78B Telok Blangah Street 32,",Object(f.jsx)("br",{})," #03-06, Singapore 102078"]}),Object(f.jsx)("a",{href:"#",children:"Contact Us"})]}),Object(f.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__legal",children:[Object(f.jsx)("h1",{children:"Legal"}),Object(f.jsx)("a",{href:"#",children:"Privacy Policy"}),Object(f.jsx)("a",{href:"#",children:"Terms Of Service"})]})]}),Object(f.jsx)("hr",{className:"c-Footer__hr"}),Object(f.jsx)(P.a,{className:"c-Footer__caption",children:Object(f.jsx)("p",{children:"Copyright \xa9 2021 Associates Consulting Pte Ltd. All rights reserved."})})]})})},q=a(20),H=function(e){var t=e.sideNavListObj,a=e.index,c=e.activeLink,r=y.getToken(),s=y.getDecodedToken(),i=s.employee_id,o=s.company_id,l=Object(n.useState)(null),u=Object(d.a)(l,2),j=u[0],p=u[1],m=Object(n.useState)((function(){return c===t.link})),O=Object(d.a)(m,2),x=O[0],v=O[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/employees/").concat(i),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){p((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e),p((function(){return null}))}))}),[]);var g=function(){v((function(){return!x}))};return Object(f.jsxs)(f.Fragment,{children:[t.link===c?Object(f.jsxs)("div",{className:"c-Sidenav__Links-header--active c-Sidenav__Links-header",onClick:g,children:[Object(f.jsx)("p",{children:t.display}),x?Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(q.b,{})}):Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(q.a,{})})]},""+a):Object(f.jsxs)("div",{className:"c-Sidenav__Links-header ",onClick:g,children:[Object(f.jsx)("p",{children:t.display}),x?Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(q.b,{})}):Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(q.a,{})})]},""+a),Object(f.jsx)("div",{className:"l-Sidenav__Sub-links--outer",children:x?Object(f.jsx)("div",{className:"l-Sidenav__Sub-links--inner",children:t.subLinksArr.map((function(e,a){var n=!1;if("Organisation Settings"===e.header&&3===j)n=!0;else if("Organisation Settings"===e.header&&2!==j)return null;return Object(f.jsxs)("div",{className:"c-Sidenav__Sub-links",children:[Object(f.jsx)("h2",{className:"c-Sub-links__Header",children:e.header},""+a),e.subLinks.map((function(e){return!n||"/manage-users"!==e.link&&"/manage-organization"!==e.link?Object(f.jsx)(b.b,{to:t.link+e.link,className:"c-Sub-links__Links",children:e.display},""+e.link):null})),t.subLinksArr.length-1!==a?Object(f.jsx)("hr",{className:"c-Sub-links__HR"}):null]},a)}))}):null})]})},Y=[{link:"/dashboard",display:"Dashboard"},{link:"/announcements",display:"Announcements"},{link:"/swot",display:"4.1 SWOT"},{link:"/interested-party",display:"4.2 Interested Party"},{link:"/scope-of-qms",display:"4.3 Scope of QMS"},{link:"/company-policy",display:"5.2 Company Policy"},{link:"/responsibility-n-authority",display:"5.3 Resp. & Authority"},{link:"/risk-n-opportunity",display:"6.1 Risk & Opp."},{link:"/objective-achievement-program",display:"6.2 Obj. Achiv. Program"},{link:"/equipment-maintenance",display:"7.1 Equipment Maintenance Program"},{link:"/licenses",display:"7.2 Permits Licenses"},{link:"/training",display:"7.3 Training",subLinksArr:[{header:"Training Pages",subLinks:[{link:"",display:"My Training"},{link:"/manage",display:"Manage Trainings"}]}]},{link:"/settings",display:"Settings",minHeight:"380.8px",subLinksArr:[{header:"Overview",subLinks:[{link:"",display:"Settings Overview"}]},{header:"User Settings",subLinks:[{link:"/manage-account",display:"Manage Account"},{link:"/notifications",display:"Notifications"}]},{header:"Organisation Settings",subLinks:[{link:"/manage-organization",display:"Manage Organization"},{link:"/manage-users",display:"Manage Users"},{link:"/manage-invites",display:"Manage Invites"},{link:"/induction-templates",display:"Manage Induction Templates"}]}]}],U=function(e){var t=e.sideNavStatus,a=e.activeLink,n="100%";return!1===t&&(n="0px"),Object(f.jsx)("div",{className:"c-Sidenav",style:{width:n},children:Y.map((function(e,t){return"subLinksArr"in e?Object(f.jsx)(H,{activeLink:a,index:t,sideNavListObj:e},t):e.link===a?Object(f.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header--active c-Sidenav__Links-header ",children:e.display},""+t):Object(f.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header ",children:e.display},""+t)}))})},L=function(e){var t=e.sideNavStatus,a=e.setSideNavStatus,n=e.title,c=e.activeLink,r=e.children;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{title:n}),Object(f.jsx)(w,{sideNavStatus:t,setSideNavStatus:a}),Object(f.jsxs)("main",{className:"l-Main__Outer",children:[Object(f.jsx)(U,{sideNavStatus:t,activeLink:c}),Object(f.jsxs)("div",{className:t?"l-Main__Inner l-Main__Inner--uncollapsed":"l-Main__Inner l-Main__Inner--collapsed",children:[r,Object(f.jsx)(R,{})]})]})]})},z=function(e){var t=e.isEditor,a=e.organisationContent,c=e.heading,r=e.type,s=y.getToken(),i=y.getDecodedToken(),o=Object(n.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],b=Object(n.useState)(void 0),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)(void 0),g=Object(d.a)(v,2),_=g[0],A=g[1];Object(n.useEffect)((function(){void 0!==a[r]&&null!==a[r]?(x((function(){return a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):a[r]})),A((function(){return a[r]}))):null===a[r]&&(x((function(){})),A((function(){})))}),[a]);var N=function(e){A((function(){return e.target.value})),x((function(){return e.target.value.split("\n").length>1?e.target.value.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e.target.value}))},D=function(e){if("cancel"===e)A((function(){return a[r]})),x((function(){return void 0!==a[r]&&a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):a[r]}));else if("save"===e){var t;"companyScope"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/scopes"):"companyReferences"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/references"):"companyTerms"===r&&(t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/terms")),h.a.post(t,{content:_},{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:[c," has been updated!"]})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A((function(){return a[r]})),x((function(){return void 0!==a[r]&&a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):a[r]})),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}j((function(e){return!e}))};return console.log(t),Object(f.jsx)("div",{className:"l-Dashboard-Info-Cards",children:Object(f.jsxs)("div",{className:"c-Dashboard-Info-Cards",children:[Object(f.jsxs)("div",{className:"c-Dashboard-Info-Cards__Heading",children:[c||"Data not found!",t?u?null:Object(f.jsx)("button",{type:"button",onClick:function(){return D("edit")},className:"c-Btn c-Btn--link",children:"Edit"}):null]}),Object(f.jsx)("div",{className:"c-Dashboard-Info-Cards__Content",children:u?Object(f.jsx)("textarea",{className:"c-Content__Textarea",value:_,onChange:N}):m||"Data not found!"}),Object(f.jsx)("div",{className:"c-Dashboard-Info-Cards__Btn",children:u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",onClick:function(){return D("save")},className:"c-Btn c-Btn--primary",children:"Save"}),Object(f.jsx)("button",{type:"button",onClick:function(){return D("cancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]}):null})]})})},Q=function(e){var t=e.type;return Object(f.jsx)("div",{className:"c-Status-pill c-Status-pill--".concat(t?"active"===t||"completed"===t?"active":"overdue"===t||"rejected"===t?"overdue":"almostDue"===t?"almost-due":"pending"===t?"pending":"Na":"active"),children:Object(f.jsx)("h1",{children:t?"active"===t?"Active":"completed"===t?"Completed":"overdue"===t?"Overdue":"rejected"===t?"Rejected":"almostDue"===t?"Almost Due":"pending"===t?"Pending":"Na":"Active"})})},V=function(e){var t=e.username,a=e.date,n=e.title,c=e.content,r=e.link;return t&&(t="@"+t),Object(f.jsxs)("div",{className:"l-Announcements-bento-box",children:[Object(f.jsx)("div",{className:"l-Announcements-bento-box__Top-line"}),Object(f.jsxs)("div",{className:"c-Announcements-bento-box",children:[Object(f.jsxs)("div",{className:"c-Announcements-bento-box__Account",children:[Object(f.jsx)("h1",{children:t}),Object(f.jsx)("p",{children:a})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"c-Announcements-bento-box__Content",children:[Object(f.jsx)("h1",{children:n}),Object(f.jsx)("p",{children:c})]}),Object(f.jsx)("div",{className:"c-Announcements-bento-box__Link",children:Object(f.jsx)(b.b,{to:"/".concat(r),children:"View more"})})]})]})},W=a(10),J=a.n(W),G=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.display_name,c=t.company_id,r=t.employee_id,s=_.toastTiming,i={headers:{Authorization:"Bearer ".concat(e)}},o=["companyScope","companyReferences","companyTerms"],l=[h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/scopes"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/references"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/terms"),i)],j=[h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m01_01/employees"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m02_01/employees"),i),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m03_01/employees"),i)],m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({companyScope:void 0,companyReferences:void 0,companyTerms:void 0}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)({companyScope:!1,companyReferences:!1,companyTerms:!1}),I=Object(d.a)(S,2),M=I[0],F=I[1];return Object(n.useEffect)((function(){Promise.all(l).then((function(e){e.forEach((function(e,t){200===e.status&&T((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(p.a)({},o[t],e.data.content))}))}))})).catch((function(e){console.log(e)})),Promise.all(j).then((function(e){e.forEach((function(e,t){if(200===e.status){var a=!1;e.data.results.forEach((function(e,t){e.employee_id===r&&(a=!0)})),!0===a&&F((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(p.a)({},o[t],!0))}))}}))})).catch((function(e){console.log(e)}))}),[]),console.log(M),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"Dashboard",activeLink:"/dashboard",children:Object(f.jsxs)(k.a,{className:"c-Dashboard",children:[Object(f.jsxs)(P.a,{className:"c-Dashboard__Welcome",children:[Object(f.jsx)("h1",{children:"Welcome!"}),Object(f.jsx)("h2",{children:a||"Error in retrieving name"})]}),Object(f.jsxs)(P.a,{className:"c-Dashboard__Latest-announcements",children:[Object(f.jsx)("div",{className:"c-Latest-announcements__Heading",children:Object(f.jsx)("h1",{children:"Latest Announcements"})}),Object(f.jsxs)(P.a,{className:"c-Latest-announcements__Content",children:[Object(f.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(f.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly."})}),Object(f.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(f.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n"})})]}),Object(f.jsx)("div",{className:"c-Latest-announcements__Link",children:Object(f.jsx)(b.b,{to:"/announcements",children:"View more Announcements"})})]}),Object(f.jsxs)("div",{className:"c-Dashboard__Organisation-info",children:[Object(f.jsx)("div",{className:"c-Organisation-Info__Heading",children:Object(f.jsx)("h1",{children:"Your organisation"})}),Object(f.jsxs)("div",{className:"l-Organisation-Info__Info-Cards",children:[Object(f.jsx)(z,{isEditor:M.companyReferences,organisationContent:D,type:"companyScope",heading:"Scope"}),Object(f.jsx)(z,{isEditor:M.companyScope,organisationContent:D,type:"companyReferences",heading:"Normative References"}),Object(f.jsx)(z,{isEditor:M.companyTerms,organisationContent:D,type:"companyTerms",heading:"Terms and definition"})]})]})]})})]})},X=a(6),K=function(e){var t=e.id,a=e.username,n=e.date,c=e.title,r=e.content,s=Object(j.g)();return Object(f.jsxs)("div",{className:"c-Announcements-list-item",onClick:function(){s.push("/announcements/view/".concat(t))},children:[Object(f.jsxs)("div",{className:"c-Announcements-list-item__Content",children:[Object(f.jsxs)("h1",{children:["@",a]}),Object(f.jsx)("h3",{children:n}),Object(f.jsx)("h2",{children:c}),Object(f.jsx)("p",{children:r})]}),Object(f.jsx)("hr",{})]})},Z=function(){var e=_.toastTiming,t=Object(j.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:2,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:3,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Announcements",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-Announcements c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Announcements"})]}),Object(f.jsxs)("div",{className:"c-Announcements__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Announcements"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/announcements/create")},children:"Create announcements"})]}),Object(f.jsx)("div",{className:"c-Announcements__Filter"}),Object(f.jsx)("div",{className:"c-Announcements__List",children:i?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{}),i.map((function(e,t){return Object(f.jsx)(K,{id:e.id,username:e.username,date:e.date,title:e.title,content:e.content},t)}))]}):Object(f.jsx)("p",{children:"No records found."})})]})})]})},$=function(e){e.match.params.aid;var t=_.toastTiming,a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"View Announcement",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-View-announcements c-Main",children:[Object(f.jsxs)(X.a,{className:"c-View-announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Announcement"})]}),Object(f.jsx)("div",{className:"c-View-announcements__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"View Announcement"})}),Object(f.jsxs)("div",{className:"c-View-announcements__Content",children:[Object(f.jsxs)("div",{className:"c-Content__Top",children:[Object(f.jsx)("hr",{}),Object(f.jsx)("h1",{children:"@BobSong"}),Object(f.jsx)("h3",{children:"10 Nov 2021, 3:45PM"}),Object(f.jsx)("p",{children:Object(f.jsx)("i",{children:"This announcement was sent to all employee's email of this company"})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"c-Content__Main",children:[Object(f.jsx)("h1",{children:"Important: Double check for roles"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Hi all, ",Object(f.jsx)("br",{}),"I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"Regards,",Object(f.jsx)("br",{}),"Bob Song"]})]}),Object(f.jsxs)("div",{className:"c-Content__Attachments",children:[Object(f.jsx)("p",{children:Object(f.jsx)("i",{children:"2 Attachments"})}),Object(f.jsx)("div",{className:"c-Content__Attachments-section"})]}),Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"c-View-announcements__Danger",children:[Object(f.jsx)("h1",{children:"Danger Zone"}),Object(f.jsxs)("div",{className:"c-Danger__Row",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Delete"}),Object(f.jsx)("p",{children:"This action cannot be reversed."})]})]})]})})]})},ee=a(65),te=a(19),ae=a(38),ne=function(){var e=_.toastTiming,t=y.getDecodedToken().company_id,a=Object(n.useState)([{label:"Swedish",value:"Swedish"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"}]),c=Object(d.a)(a,2),r=c[0],s=(c[1],Object(n.useState)([])),i=Object(d.a)(s,2),u=i[0],j=i[1],b=Object(n.useState)(C),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)((function(){return te.EditorState.createEmpty()})),g=Object(d.a)(v,2),A=g[0],N=g[1];return Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function a(){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/employees"));case 3:n=a.sent,c=n.data.results,console.log(n),console.log(c),e&&j((function(){return c.map((function(e,t){return{label:"@".concat(e.account.username),value:e.account.username}}))})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"View Announcement",activeLink:"/announcements",children:Object(f.jsxs)("div",{className:"c-Create-announcement c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Create-announcements__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Create Announcement"})]}),Object(f.jsxs)("div",{className:"c-Create-announcement__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Announcement"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Publish"})]}),Object(f.jsxs)("div",{className:"c-Create-announcement__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Fields__Recipients",children:[Object(f.jsx)("h2",{children:"Send to"}),Object(f.jsx)(ae.a,{isMulti:!0,options:r,placeholder:"Select recipient group"}),Object(f.jsx)("h3",{children:"Or"}),Object(f.jsx)(ae.a,{isMulti:!0,options:u,placeholder:"Select specific recipients"})]}),Object(f.jsxs)("div",{className:"c-Fields__Title",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("input",{type:"text",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Fields__Content",children:[Object(f.jsx)("h2",{children:"Content"}),Object(f.jsx)(ee.Editor,{editorState:A,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:N,placeholder:"Enter content"})]}),Object(f.jsxs)("div",{className:"c-Fields__More-info",children:[Object(f.jsx)("h2",{children:"More info"}),Object(f.jsx)("input",{type:"checkbox",name:"sendEmail"}),Object(f.jsx)("label",{htmlFor:"sendEmail",children:"Send announcement to specified employees via email"})]})]}),Object(f.jsx)("span",{className:"c-Fields__VL"}),Object(f.jsx)("div",{className:"c-Fields__Right",children:Object(f.jsx)("h2",{children:"Attachments"})})]})]})})]})},ce=function(e){var t=e.isDocCollapsed,a=e.children;return Object(f.jsx)("div",{className:t?"l-Document l-Document__collapsed":"l-Document",children:a})},re=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#",headerAttrs:{hidden:!0}},{dataField:"content",text:"Name",headerAttrs:{hidden:!0}}],se=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],ie=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"interested_parties",text:"Interested Parties"},{dataField:"needs_n_expectations",text:"Needs and Expectations"}],oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],le=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"site_name",text:"Site Name"},{dataField:"site_address",text:"Site Address"},{dataField:"site_scope",text:"Site Scope"}],de=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],ue=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"updated_at",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],je=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],be=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],pe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"createdOn",text:"Created On",hidden:!0},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],me=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],he=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_view",text:"View",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"View"}):"N.a."}}],Oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"maintenanceType",text:"Maintenance Type"},{dataField:"responsible",text:"Responsible"},{dataField:"maintenanceFrequency",text:"Maintenance Frequency"},{dataField:"lastServiceDate",text:"Last Service Date"},{dataField:"status",text:"Status",formatter:function(e,t){return e?Object(f.jsx)(Q,{type:e}):"Error"}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return e}}],xe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"fileName",text:"File Name"},{dataField:"description",text:"Description"},{dataField:"uploader",text:"Uploader"},{dataField:"uploadDate",text:"Upload Date"},{dataField:"action_download",text:"",formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Download"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return console.log(e),e}}],ve=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(f.jsx)("p",{children:"Nil"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],fe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(f.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],ge=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"Approver"},{dataField:"supervisor_evaluation_done",text:"Evaluation (Approver)",formatter:function(e,t){return void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"trainee_evaluation_done",text:"Evaluation (Trainee)",formatter:function(e,t){return void 0===e||!1===t.attendance?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"attendance",text:"Attendance",formatter:function(e,t){return void 0===e?Object(f.jsx)("p",{children:"Nil"}):!1===e?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],_e=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return"pending"===e?Object(f.jsx)(Q,{type:"pending"}):"rejected"===e?Object(f.jsx)(Q,{type:"rejected"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],Ae=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],ye=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return void 0===t.done_at?Object(f.jsx)("p",{children:"Nil"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],Ne=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_title",text:"Template Title"},{dataField:"version",text:"Version"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Created On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(f.jsx)("p",{children:"Nil"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],De=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Manage"})}}],Te=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}],Se=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"form_name",text:"Form Name"},{dataField:"version_label",text:"Version Label"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)(b.b,{to:e,children:"View"})}}],Ie=[{dataField:"id",text:"Id",hidden:!0},{dataField:"description",text:"Description"},{dataField:"file",text:"file"},{dataField:"done_at",text:"Done On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===t.done_at?Object(f.jsx)("p",{children:"Nil"}):Object(f.jsx)(Q,{type:"active"})}},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"Mark Done"})}}],Ce=a(9),Me=a.n(Ce),Fe={ACTIVE:"Active",PENDING:"Pending",REJECTED:"Rejected",EDITING:"Editing",COLLAPSE:"Dark",NULL:null,INACTIVE:"Inactive"},Ee="rating",we="open",ke="bool",Pe="default",Be="edit",Re="view",qe=function(e){var t=e.handleTabOnClick,a=e.tabType,n=e.children,c=e.focus,r=e.tabSettings;return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)("div",{className:"c-Tab",children:Object(f.jsx)("div",{className:c?"c-Tab--focused":"c-Tab--unfocused",children:Object(f.jsx)("span",{onClick:t||null,className:a?"Active"===a&&r.secondTab===Fe.EDITING||"Inactive"===a&&r.secondTab===Fe.EDITING?"c-Tab--disabled c-Tab--"+a.toLowerCase():"c-Tab--"+a.toLowerCase():null,children:n||a})})}):null})},He=function(e){var t=e.TokenManager.getDecodedToken(),a=null===t||void 0===t?void 0:t.company_id,c=Object(n.useState)({swot:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots/")},interestedParty:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties/")},scopeOfQMS:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes/")},companyPolicy:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies/")},respNAuth:{},riskNOpp:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses/")},objAchivProgram:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements/")}}),r=Object(d.a)(c,2),s=r[0],i=(r[1],Object(n.useState)({swot:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/rejected")},interestedParty:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/rejected")},scopeOfQMS:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/rejected")},companyPolicy:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/rejected")},respNAuth:{},riskNOpp:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/rejected")},objAchivProgram:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/rejected")}})),o=Object(d.a)(i,2),l=o[0];o[1];return[s,l]},Ye=function(e){var t=e.setIsDocCollapsed,a=e.setDocQueryEnum,n=e.setTabSettings,c=e.tabSettings,r=e.isDocCollapsed,s=e.setQueryUrl,i=e.pageType,o=He({TokenManager:y}),l=Object(d.a)(o,2),j=(l[0],l[1]),b=function(e,t){t===Fe.ACTIVE?(a((function(){return"active"})),"swot"===i?s({firstUrl:j.swot.active,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.active,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.active,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.active,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.active,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.active,secondUrl:j.objAchivProgram.getAll})):t===Fe.PENDING?(console.log("setting query enum"),a((function(){return"pending"})),"swot"===i?s({firstUrl:j.swot.pending,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.pending,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.pending,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.pending,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.pending,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.pending,secondUrl:j.objAchivProgram.getAll})):t===Fe.EDITING||t===Fe.REJECTED&&(a((function(){return"rejected"})),"swot"===i?s({firstUrl:j.swot.rejected,secondUrl:j.swot.getAll}):"interestedParty"===i?s({firstUrl:j.interestedParty.rejected,secondUrl:j.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:j.scopeOfQMS.rejected,secondUrl:j.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:j.companyPolicy.rejected,secondUrl:j.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:j.riskNOpp.rejected,secondUrl:j.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:j.objAchivProgram.rejected,secondUrl:j.objAchivProgram.getAll})),n((function(t){return Object(u.a)(Object(u.a)({},t),{},{focusTabIndex:e})}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"l-Tabs__Row",children:[Object(f.jsxs)("div",{className:"l-Tabs__Row--left l-Tabs__Side",children:[Object(f.jsx)(qe,{focus:0===c.focusTabIndex,tabType:c.firstTab,handleTabOnClick:function(){return b(0,c.firstTab)},tabSettings:c}),Object(f.jsx)(qe,{focus:1===c.focusTabIndex,tabType:c.secondTab,handleTabOnClick:function(){return b(1,c.secondTab)}})]}),Object(f.jsx)("div",{className:"l-Tabs__Row--right l-Tabs__Side",children:Object(f.jsx)(qe,{handleTabOnClick:function(){t((function(e){return!e}))},tabType:Fe.COLLAPSE,children:r?Object(f.jsx)(f.Fragment,{children:"Expand Document"}):Object(f.jsx)(f.Fragment,{children:"Collapse Document"})})})]})})},Ue=a(17),Le=function(e){var t=e.message,a=e.type,n=void 0===a?"primary":a,c=e.handler,r=e.heading,s=e.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--send-invite",children:[Object(f.jsx)("h1",{children:r}),Object(f.jsx)("p",{children:t}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--"+n,onClick:function(){return c(s)},children:"Confirm"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:s,children:" Cancel"})]})]})},ze=function(e){var t=e.setQueryUrl,a=e.setTabSettings,c=e.tabSettings,r=e.docEditTableData,s=e.docEditHeaderData,i=(e.docPendingTableData,e.docPendingHeaderData),o=e.docRejectedHeaderData,l=e.pageType,j=e.isApprover,b=e.isEditor,p=e.docQueryEnum,m=e.setDocQueryEnum,x=e.editorState,v=(e.setEditorState,e.tempFileArr),g=e.startNewDoc,_=e.setStartNewDoc,A=He({TokenManager:y}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=y.getToken(),I=y.getDecodedToken().employee_id,C=Object(n.useRef)(""),M=function(e){if(console.log(r),"edit"===e)a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.EDITING,focusTabIndex:1}}));else if("editSubmit"===e){if(console.log(s),void 0===s.approvedBy||isNaN(s.approvedBy))return console.log("Error! No approver selected!"),void O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select an approver!"})]}));var n={},c="";if("swot"===l)n={strengths:r.strength.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),weaknesses:r.weakness.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:(console.log("docQueryEnum:"+p),"rejected"===p?e.parentItemID:e.id)})})),opportunities:r.opp.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),threats:r.threat.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id})})),approved_by:parseInt(s.approvedBy)},c=D.swot.editSubmit;else if("interestedParty"===l)n={approved_by:s.approvedBy,title:s.title,interested_parties:r.map((function(e){return{interested_party:e.interested_parties,expectations:e.needs_n_expectations,display_order:e.serialNo,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.interestedParty.editSubmit;else if("scopeOfQMS"===l)n={approved_by:s.approvedBy,title:s.title,content:JSON.stringify(Object(te.convertToRaw)(x.getCurrentContent())),boundaries:r.map((function(e){return{site_name:e.site_name,site_scope:e.site_scope,address:e.site_address,display_order:e.serialNo,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.scopeOfQMS.editSubmit;else if("companyPolicy"===l)n={approved_by:s.approvedBy,title:s.title,policies:r.map((function(e,t){return{title:e.title,content:e.content,display_order:t+1,parent_item_id:"rejected"===p?e.parentItemID:e.id}}))},c=D.companyPolicy.editSubmit;else if("respNAuth"===l);else if("riskNOpp"===l)n={approved_by:s.approvedBy,title:s.title,strengths:r.strength.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),weaknesses:r.weakness.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),opportunities:r.opp.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),threats:r.threat.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parent_item_id:"rejected"===p?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})}))},c=D.riskNOpp.editSubmit;else if("objAchivProgram"===l){var d=!1;if(r.forEach((function(e,t){(void 0===e.personel_responsible||isNaN(e.personel_responsible))&&(d=!0)})),d)return void O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select a personel responsible for all items!"})]}));var j=new FormData;j.append("approved_by",s.approvedBy),j.append("title",s.title),j.append("achievements",JSON.stringify(r));for(var b=0;b<v.length;b++)j.append(v[b].key,v[b].fileObj);return c=D.objAchivProgram.editSubmit,void h.a.post(c,j,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document submitted for approval!"})]})),t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.PENDING,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}h.a.post(c,n,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document submitted for approval!"})]})),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l&&t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.PENDING,focusTabIndex:0}})),m((function(){return"active"})),_((function(){return!1}))})).catch((function(e){console.error(e);var t=e.response.status,a=e.response.data.message;O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}else if("editCancel"===e)"rejected"===p?("swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.REJECTED,focusTabIndex:1}})),m((function(){return"rejected"}))):("swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.NULL,focusTabIndex:0}})),m((function(){return"active"})));else if("rejectedEdit"===e)console.log("edit btn click"),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.EDITING,focusTabIndex:1}})),m((function(){return"rejected"}));else if("rejectedDelete"===e){var g={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return A(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},g),{},{onClose:t}))}});var A=function(e){var n="";"swot"===l?n=D.swot.rejectedDelete+o.docID:"interestedParty"===l?n=D.interestedParty.rejectedDelete+o.docID:"scopeOfQMS"===l?n=D.scopeOfQMS.rejectedDelete+o.docID:"companyPolicy"===l?n=D.companyPolicy.rejectedDelete+o.docID:"riskNOpp"===l?n=D.riskNOpp.rejectedDelete+o.docID:"objAchivProgram"===l&&(n=D.objAchivProgram.rejectedDelete+o.docID),h.a.delete(n,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(n){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Rejected document has been deleted!"})]})),e(),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.NULL,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(t){console.log(t),e();var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}}else if("pendingApprove"===e){var y="";"swot"===l?y=D.swot.pendingApprove+i.docID:"interestedParty"===l?y=D.interestedParty.pendingApprove+i.docID:"scopeOfQMS"===l?y=D.scopeOfQMS.pendingApprove+i.docID:"companyPolicy"===l?y=D.companyPolicy.pendingApprove+i.docID:"riskNOpp"===l?y=D.riskNOpp.pendingApprove+i.docID:"objAchivProgram"===l&&(y=D.objAchivProgram.pendingApprove+i.docID),h.a.put(y,{},{headers:{Authorization:"Bearer ".concat(S)}}).then((function(e){"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document approved!"})]})),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.NULL,focusTabIndex:0}})),m((function(){return"active"}))})).catch((function(e){console.log(e);var t=e.response.status||"N.a.",a=e.response.data.message||"N.a.";O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}else if("pendingReject"===e){Object(Ue.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(f.jsx)("h1",{children:"Confirm Reject?"}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(f.jsx)("h2",{children:"Remarks"}),Object(f.jsx)("textarea",{name:"pendingReject",ref:C})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return function(e){var n={remarks:C.current.value},c="";"swot"===l?c=D.swot.pendingReject+i.docID:"interestedParty"===l?c=D.interestedParty.pendingReject+i.docID:"scopeOfQMS"===l?c=D.scopeOfQMS.pendingReject+i.docID:"companyPolicy"===l?c=D.companyPolicy.pendingReject+i.docID:"riskNOpp"===l?c=D.riskNOpp.pendingReject+i.docID:"objAchivProgram"===l&&(c=D.objAchivProgram.pendingReject+i.docID),h.a.put(c,n,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(n){e(),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Fe.ACTIVE,secondTab:Fe.REJECTED,focusTabIndex:1}})),m((function(){return"rejected"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been rejected!"})]}))})).catch((function(t){console.log(t),console.error(t),e();var a=t.response.status,n=t.response.data.message;O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}(n)},children:"Confirm Reject"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:n,children:" Cancel"})]})]})}})}};return c.firstTab===Fe.ACTIVE&&0===c.focusTabIndex&&b?c.secondTab===Fe.NULL?Object(f.jsx)("div",{className:"l-IP__Btns",children:Object(f.jsx)("button",{type:"button",onClick:function(){return M("edit")},className:"c-Btn c-Btn--primary",children:"Edit"},"edit")}):null:c.firstTab===Fe.INACTIVE&&0===c.focusTabIndex&&g?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(f.jsx)("button",{type:"button",onClick:function(){return _((function(){return!1}))},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]}):c.secondTab===Fe.EDITING&&1===c.focusTabIndex?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("editCancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]})}):c.secondTab===Fe.REJECTED&&1===c.focusTabIndex?o.created_by_id===I?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("rejectedEdit")},className:"c-Btn c-Btn--primary",children:"Edit"},"rejectedEdit"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("rejectedDelete")},className:"c-Btn c-Btn--alert",children:"Delete"},"rejectedDelete")]}):null:c.secondTab===Fe.PENDING&&1===c.focusTabIndex&&j?Object(f.jsxs)("div",{className:"l-IP__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){return M("pendingApprove")},className:"c-Btn c-Btn--ok",children:"Approve"},"pendingApprove"),Object(f.jsx)("button",{type:"button",onClick:function(){return M("pendingReject")},className:"c-Btn c-Btn--alert",children:"Reject"},"pendingReject")]}):null},Qe=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns,c=e.docKeyfield;return Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data!"})]})]}),Object(f.jsx)(Me.a,{keyField:c,data:a,columns:n})]})},Ve=function(e){var t=e.docPendingTableData,a=(e.setDocPendingTableData,e.docPendingHeaderData),c=(e.docHeaderData,e.docTableData),r=e.docColumns,s=e.docKeyfield,i=Object(n.useState)({newRowArr:[],deletedRowArr:[],editedRowArr:[]}),o=Object(d.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(null),b=Object(d.a)(j,2),p=b[0],m=b[1];return Object(n.useEffect)((function(){u((function(){var e=[],a=[],n=[];return t.filter((function(e,t){return null===e.parentItemID})).forEach((function(t){e.push(t.id)})),c.forEach((function(e,n){var c=!0;t.forEach((function(t,a){t.parentItemID===e.id&&(c=!1)})),!0===c&&a.push(e.id)})),t.forEach((function(e,t){c.forEach((function(t,a){e.parentItemID===t.id&&(e.interested_parties===t.interested_parties&&e.needs_n_expectations===t.needs_n_expectations||n.push(e.id))}))})),{newRowArr:e,deletedRowArr:a,editedRowArr:n}}))}),[t,c]),Object(n.useEffect)((function(){m((function(){return function(e,t){var a={};return l.newRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),l.deletedRowArr.forEach((function(t){e.id})),l.editedRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}}))}),[l]),Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{children:a.title?a.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:a.approved_by?a.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:a.created_by?a.created_by:"Failed to load data!"})]})]}),Object(f.jsx)(Me.a,{keyField:s,data:t,columns:r,rowStyle:p})]})},We=a(27),Je=a(31),Ge=a.n(Je),Xe=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=Object(n.useState)([]),j=Object(d.a)(l,2),b=j[0],m=j[1],O=y.getToken(),x=y.getDecodedToken(),v=x.display_name,g=x.company_id;Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{needs_n_expectations:e.needs_n_expectations_raw})}))})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;m((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var _=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Je.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return A(t.serialNo)}})})}}],A=function(e){a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},N=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-IP__Document-title",children:Object(f.jsx)("input",{type:"text",name:"title",onChange:N,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:N,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:b?"Please select an approver":"No approver found!"}),b?b.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsx)(Me.a,{keyField:o,data:t,columns:_,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-IP__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})},Ke=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns,c=e.docKeyfield;return console.log(t),Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsx)(Me.a,{keyField:c,data:a,columns:n})]})},Ze=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=e.tabSettings,j=e.startNewDoc,b=e.setStartNewDoc,m=y.getToken(),O=y.getDecodedToken(),x=O.company_id,v=O.display_name,g=O.employee_id,_=Object(n.useState)([]),A=Object(d.a)(_,2),N=A[0],D=A[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}]})),r((function(){return{submittedBy:"".concat(v)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Je.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo)}})})}}],F=function(e){a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},w=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return console.log(l),console.log(l.secondTab),console.log(l===Fe.NULL),console.log(Fe.NULL),Object(f.jsx)("div",{className:"c-IP__Document-content c-Document",children:l.secondTab===Fe.NULL?I?j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-IP__Document-title",children:Object(f.jsx)("input",{type:"text",name:"title",placeholder:"Title",onChange:w,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:w,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:N?"Please select an approver":"No approver found!"}),N?N.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsx)(Me.a,{keyField:o,data:t,columns:M,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-IP__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("div",{className:"c-IP__Document-new",children:Object(f.jsx)("button",{onClick:function(){b((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-IP__Document-new",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-IP__Document-new",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},$e=function(e){var t=e.header,a=e.children;return Object(f.jsxs)("div",{className:"c-Swot-item",children:[Object(f.jsx)("h1",{className:"c-Swot-item__Header",children:t}),a]})},et=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsx)($e,{header:"Strengths",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:n})}),Object(f.jsx)($e,{header:"Weaknesses",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:n})}),Object(f.jsx)($e,{header:"Opportunities",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:n})}),Object(f.jsx)($e,{header:"Threats",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:n})})]})},tt=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData,c=e.docTableData,r=e.docColumns;e.docKeyfield;console.log(t),console.log(a);var s=Object(n.useState)({newStrengthRowArr:[],newWeaknessRowArr:[],newOppRowArr:[],newThreatRowArr:[],editedStrengthRowArr:[],editedWeaknessRowArr:[],editedOppRowArr:[],editedThreatRowArr:[]}),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(null),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(n.useState)(null),h=Object(d.a)(m,2),O=h[0],x=h[1],v=Object(n.useState)(null),g=Object(d.a)(v,2),_=g[0],A=g[1],y=Object(n.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1];return Object(n.useEffect)((function(){l((function(){var e=[],t=[],n=[],r=[],s=[],i=[],o=[],l=[];return a.strength.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(t){e.push(t.id)})),a.weakness.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){t.push(e.id)})),a.opp.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){n.push(e.id)})),a.threat.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){r.push(e.id)})),a.strength.forEach((function(e,t){c.strength.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&s.push(e.id)}))})),a.weakness.forEach((function(e,t){c.weakness.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&i.push(e.id)}))})),a.opp.forEach((function(e,t){c.opp.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&o.push(e.id)}))})),a.threat.forEach((function(e,t){c.threat.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&l.push(e.id)}))})),{newStrengthRowArr:e,newWeaknessRowArr:t,newOppRowArr:n,newThreatRowArr:r,editedStrengthRowArr:s,editedWeaknessRowArr:i,editedOppRowArr:o,editedThreatRowArr:l}}))}),[a,c]),Object(n.useEffect)((function(){console.log("rowstyle chanigng"),p((function(){return function(e,t){var a={};return o.newStrengthRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedStrengthRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),x((function(){return function(e,t){var a={};return o.newWeaknessRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedWeaknessRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),A((function(){return function(e,t){var a={};return o.newOppRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedOppRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),T((function(){return function(e,t){var a={};return o.newThreatRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedThreatRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}}))}),[o]),Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(f.jsx)($e,{header:"Strengths",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:r,rowStyle:b})}),Object(f.jsx)($e,{header:"Weaknesses",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:r,rowStyle:O})}),Object(f.jsx)($e,{header:"Opportunities",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:r,rowStyle:_})}),Object(f.jsx)($e,{header:"Threats",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:r,rowStyle:D})})]})},at=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,y.getToken()),l=y.getDecodedToken(),j=l.company_id,b=Object(n.useState)([]),m=Object(d.a)(b,2),O=m[0],x=m[1],v=l.display_name;Object(n.useEffect)((function(){r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),a((function(){return i})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[i]);var g=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return A(t.serialNo,t.type)}})})}}],_=function(e){a((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e,[].concat(Object(We.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},A=function(e,n){console.log(t),a((function(t){var a=t[n].filter((function(t){return t.serialNo!==e}));console.log(a);var c=a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},n,c));return console.log(r),r}))};return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(f.jsx)("option",{children:O?"Please select an approver":"No approver found!"}),O?O.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(f.jsxs)($e,{header:"Strengths",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:g,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("strength")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Weaknesses",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:g,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("weakness")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Opportunities",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:g,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("opp")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Threats",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:g,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return _("threat")},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})]})},nt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Rejected By:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsx)($e,{header:"Strengths",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:n})}),Object(f.jsx)($e,{header:"Weaknesses",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:n})}),Object(f.jsx)($e,{header:"Opportunities",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:n})}),Object(f.jsx)($e,{header:"Threats",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:n})})]})},ct=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=y.getToken(),m=y.getDecodedToken(),O=m.company_id,x=m.display_name,v=m.employee_id,g=Object(n.useState)([]),_=Object(d.a)(g,2),A=_[0],N=_[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(n.useEffect)((function(){a((function(){return Object(u.a)({},i)})),r((function(){return{submittedBy:"".concat(x)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&N((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/edit/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===v&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo,t.type)}})})}}],M=function(e){a((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e,[].concat(Object(We.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},F=function(e,n){console.log(t),a((function(t){var a=t[n].filter((function(t){return t.serialNo!==e}));console.log(a);var c=a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},n,c));return console.log(r),r}))};return Object(f.jsx)("div",{className:"c-SWOT__Document-content c-Document",children:o.secondTab===Fe.NULL?S?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(f.jsx)("option",{children:A?"Please select an approver":"No approver found!"}),A?A.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(f.jsxs)($e,{header:"Strengths",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:C,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("strength")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Weaknesses",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:C,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("weakness")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Opportunities",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:C,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("opp")},children:Object(f.jsx)("h2",{children:"Add new row"})})]}),Object(f.jsxs)($e,{header:"Threats",children:[Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:C,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("threat")},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},rt=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"Active on:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"id",data:a,columns:n})]})]})},st=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData,n=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"id",data:a,columns:n})]})]})},it=a(57),ot=a.n(it),lt=a(63),dt=a.n(lt),ut=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,e.editorState),l=e.setEditorState,j=y.getToken(),b=y.getDecodedToken().company_id,m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];localStorage.getItem("displayName");console.log(t),console.log(c),Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{site_scope:e.site_scope_raw})}))})),r((function(){return s})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){var t=e.data.results;v((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},_=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Je.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Form name"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:g,value:c.title||""})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"serialNo",data:t,columns:_,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})},jt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns;e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"id",data:a,columns:n})]})]})},bt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.editorState),l=e.setEditorState,j=e.tabSettings,b=e.startNewDoc,m=e.setStartNewDoc,O=y.getToken(),x=y.getDecodedToken(),v=x.company_id,g=(x.display_name,x.employee_id),_=Object(n.useState)([]),A=Object(d.a)(_,2),N=A[0],D=A[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}]})),r((function(){return s})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/edit/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},F=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Je.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(f.jsx)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:j.secondTab===Fe.NULL?I?b?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Form name"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:M,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:N?"Please select an approver":"No approver found!"}),N?N.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:M,value:c.title||""})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"serialNo",data:t,columns:F,cellEdit:Ge()({mode:"click",blurToSave:!0})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){m((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},pt=function(e){var t=e.itemTitle,a=e.itemContent,n=e.itemIndex,c=e.docType,r=e.setDocEditTableData,s=function(e){r((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}))},i=function(e){r((function(t){return t.map((function(t,a){return n===a?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))}))};return Object(f.jsx)(f.Fragment,{children:"editing"===c?Object(f.jsx)("div",{className:(n+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(f.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(f.jsxs)("div",{className:"c-Company-Policy-Item__Top",children:[Object(f.jsx)("input",{type:"text",name:"title",onChange:i,value:t}),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){return s(n+1)}})})]}),Object(f.jsx)("textarea",{type:"text",name:"content",onChange:i,value:a})]})}):Object(f.jsx)("div",{className:(n+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(f.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(f.jsx)("h1",{children:t||"Error"}),Object(f.jsx)("p",{children:a||"itemContent"})]})})})},mt=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),a.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},ht=function(e){var t=e.docPendingTableData,a=(e.setDocPendingTableData,e.docPendingHeaderData);e.docHeaderData,e.docTableData,e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:a.title?a.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:a.approved_by?a.approved_by:"Error"}),Object(f.jsx)("p",{children:a.created_by?a.created_by:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},Ot=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,y.getToken()),l=y.getDecodedToken(),j=l.company_id,b=l.display_name,m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];Object(n.useEffect)((function(){a((function(){return Object(We.a)(i)})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(b)})})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;v((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:a},t)})),Object(f.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]})},xt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),a.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},vt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=y.getToken(),m=y.getDecodedToken(),O=m.company_id,x=m.display_name,v=m.employee_id,g=Object(n.useState)([]),_=Object(d.a)(g,2),A=_[0],N=_[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,title:"Enter Input",content:"Enter input Test"}]})),r((function(){return{submittedBy:"".concat(x)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&N((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/edit/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===v&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsx)("div",{className:"c-Company-Policy__Document-content c-Document",children:o.secondTab===Fe.NULL?S?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:C,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:C,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:A?"Please select an approver":"No approver found!"}),A?A.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:a},t)})),Object(f.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},ft=function(e){var t=e.docType,a=e.rnoType,c=e.rnoItemData,r=e.rnoItemIndex,s=e.docEditTableData,i=e.setDocEditTableData,o=Object(n.useState)({type:"c-RNO-item__Options-item",severity:"c-RNO-item__Options-item",likelihood:"c-RNO-item__Options-item"}),l=Object(d.a)(o,2),j=l[0],b=l[1],m=Object(n.useState)(),h=Object(d.a)(m,2),O=h[0],x=h[1];Object(n.useEffect)((function(){var e=j.type,a=j.severity,n=j.likelihood;c.type&&"opportunity"===c.type?e+=" c-RNO-item__Options-item--green":c.type&&"risk"===c.type&&(e+=" c-RNO-item__Options-item--red"),c.severity&&1===c.severity?a+=" c-RNO-item__Options-item--red":c.severity&&5===c.severity&&(a+=" c-RNO-item__Options-item--green"),c.likelihood&&1===c.likelihood?n=a+" c-RNO-item__Options-item--red":c.likelihood&&5===c.likelihood&&(n=a+" c-RNO-item__Options-item--green"),"edit"===t&&c.severity&&c.likelihood?x((function(){return c.severity*c.likelihood})):x("edit"===t?function(){return null}:function(){return c.rpn}),b((function(){return{type:e,severity:a,likelihood:n}}))}),[c]);var v=function(e){var t,n=e.target.value;"type"!==e.target.name&&(n=parseInt(n),"likelihood"===e.target.name?t=c.severity:"severity"===e.target.name&&(t=c.likelihood)),i((function(c){return Object(u.a)(Object(u.a)({},c),{},Object(p.a)({},a,c[a].map((function(a,c){var s;return r===c?Object(u.a)(Object(u.a)({},a),{},(s={},Object(p.a)(s,e.target.name,n),Object(p.a)(s,"rpn","type"!==e.target.name?n*t:a.rpn),s)):a}))))})),x((function(){return s[a][r].severity*s[a][r].likelihood}))},g=function(e){i((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},a,t[a].map((function(t,a){return r===a?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))))}))};return Object(f.jsx)("div",{className:"l-RNO-item",children:Object(f.jsxs)("div",{className:"c-RNO-item",children:[Object(f.jsxs)("div",{className:"l-RNO-item__Options",children:[Object(f.jsx)("div",{className:"c-RNO-item__Options c-RNO-item__Options--left",children:"edit"===t?function(){if(0!==s.length)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("select",{value:s[a][r].type||"",name:"type",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:"risk",children:"Risk"}),Object(f.jsx)("option",{value:"opportunity",children:"Opportunity"})]}),Object(f.jsxs)("select",{value:s[a][r].severity||"",name:"severity",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:1,children:"Negligible"}),Object(f.jsx)("option",{value:2,children:"Minor"}),Object(f.jsx)("option",{value:3,children:"Moderate"}),Object(f.jsx)("option",{value:4,children:"Major"}),Object(f.jsx)("option",{value:5,children:"Catastrophic"})]}),Object(f.jsxs)("select",{value:s[a][r].likelihood||"",name:"likelihood",onChange:v,children:[Object(f.jsx)("option",{value:"na",children:"Nil"}),Object(f.jsx)("option",{value:1,children:"Rare"}),Object(f.jsx)("option",{value:2,children:"Remote"}),Object(f.jsx)("option",{value:3,children:"Occasional"}),Object(f.jsx)("option",{value:4,children:"Frequent"}),Object(f.jsx)("option",{value:5,children:"Almost Certain"})]})]})}():function(){var e=c.type,t=null,a=null;switch(c.severity){case 1:t="Negligible";break;case 2:t="Minor";break;case 3:t="Moderate";break;case 4:t="Major";break;case 5:t="Catastrophic";break;default:t="Nil"}switch(c.likelihood){case 1:a="Rare";break;case 2:a="Remote";break;case 3:a="Occasional";break;case 4:a="Frequent";break;case 5:a="Almost Certain";break;default:a="Nil"}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:j.type,children:e||"Nil"}),Object(f.jsx)("span",{className:j.severity,children:t}),Object(f.jsx)("span",{className:j.likelihood,children:a})]})}()}),Object(f.jsxs)("div",{className:"c-RNO-item__Options c-RNO-item__Options--right",children:[Object(f.jsxs)("p",{children:["RPN: ",O||"Nil"]}),Object(f.jsxs)("p",{children:["Modified: ",c.modified?c.modified:"Nil"]})]})]}),Object(f.jsxs)("div",{className:"c-RNO-item__SWOT",children:[Object(f.jsx)("p",{children:r+1}),Object(f.jsx)("p",{children:c.content})]}),Object(f.jsx)("div",{className:"c-RNO-item__Action-plan",children:"edit"===t?O<12||null===O?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(f.jsx)("input",{type:"text",name:"action",readOnly:!0,placeholder:"Rpn < 12",value:""})]}):0!==s.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(f.jsx)("input",{type:"text",name:"action",onChange:g,value:c.action||""})]}):void 0:Object(f.jsxs)("p",{children:["Action Plan: ",c.action?c.action:"Nil"]})})]})})},gt=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},_t=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData;e.docTableData,e.docColumns;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},At=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=y.getToken(),l=y.getDecodedToken(),j=l.company_id,b=Object(n.useState)([]),m=Object(d.a)(b,2),O=m[0],x=m[1],v=l.display_name;Object(n.useEffect)((function(){r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(v)})})),a((function(){return i})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(j,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[i]);var g=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-RNO__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:O?"Please select an approver":"No approver found!"}),O?O.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),0!==t.length?t.strength.map((function(e,n){return Object(f.jsx)(ft,{docType:"edit",rnoType:"strength",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(f.jsx)("h1",{children:"Weakness"}),0!==t.length?t.weakness.map((function(e,n){return Object(f.jsx)(ft,{docType:"edit",rnoType:"weakness",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(f.jsx)("h1",{children:"Opportunities"}),0!==t.length?t.opp.map((function(e,n){return Object(f.jsx)(ft,{docType:"edit",rnoType:"opp",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(f.jsx)("h1",{children:"Threats"}),0!==t.length?t.threat.map((function(e,n){return Object(f.jsx)(ft,{docType:"edit",rnoType:"threat",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null]})]})},yt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;return Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Rejected By:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},Nt=function(e){e.docEditTableData;var t=e.setDocEditTableData,a=(e.docEditHeaderData,e.setDocEditHeaderData),c=e.docHeaderData,r=e.docTableData,s=(e.docKeyfield,e.tabSettings,e.startNewDoc,e.setStartNewDoc,y.getToken()),i=y.getDecodedToken(),o=i.company_id,l=i.display_name,u=i.employee_id,j=Object(n.useState)([]),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(!1),O=Object(d.a)(m,2),x=(O[0],O[1]);return Object(n.useEffect)((function(){console.log(r),t((function(){return r})),a((function(){return{submittedBy:"".concat(l)}})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=e.data.results;void 0!==t&&p((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/edit/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===u&&(t=!0)})),!0===t&&x((function(){return!0}))})).catch((function(e){console.log(e)}))}),[c,r]),Object(f.jsx)("div",{className:"c-RNO__Document-content c-Document",children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing swot documents"}),Object(f.jsx)("p",{children:"Please proceed by having an active swot documents first"})]})})},Dt=a(55),Tt=a.n(Dt),St=function(e){var t=e.docType,a=e.itemContent,c=e.setDocEditTableData,r=e.itemIndex,s=(e.docEditHeaderData,e.docEditTableData),i=e.tempFileArr,o=e.setTempFileArr,l=e.personelResponsibleList,j=Object(n.useRef)(),b=y.getToken(),m=Object(n.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],_=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){return S(t.serialNo)}})})}}],A=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_download",text:"",formatter:function(e,t){return Object(f.jsx)("button",{onClick:function(){return N(t.fk_file_id,t.file_name)},className:"c-Btn c-Btn--link",children:"Download"},e)}}],N=function(e,t){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(b)},responseType:"blob"}).then((function(e){Tt()(e.data,t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},D=function(e){c((function(t){return t.map((function(t,a){return r===a?Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value)):t}))}))},T=function(){var e=[];c((function(t){return t.filter((function(e){return e.serialNo!==r+1})).map((function(t,a){return Object(u.a)(Object(u.a)({},t),{},{serialNo:a+1,files:t.files.map((function(a,n){return 0!==t.files.length&&a.new?(e.push(Object(u.a)(Object(u.a)({},a),{},{serialNo:n+1,key:"files_".concat(r,"_").concat(t.files.length)})),Object(u.a)(Object(u.a)({},a),{},{serialNo:n+1,key:"files_".concat(r,"_").concat(t.files.length)})):a}))})}))})),o((function(){return e}))},S=function(e){var t=[];console.log(e),c((function(a){return a.map((function(a,n){return Object(u.a)(Object(u.a)({},a),{},{files:function(){var c=a.files.filter((function(t,n){return r+1===a.serialNo?e!==t.serialNo:t}));return console.log(c),c.map((function(e,r){return 0!==a.files.length&&e.new?(t.push(Object(u.a)(Object(u.a)({},e),{},{serialNo:r+1,key:"files_".concat(n,"_").concat(c.length)})),Object(u.a)(Object(u.a)({},e),{},{serialNo:r+1,key:"files_".concat(n,"_").concat(c.length)})):e}))}()})}))})),o((function(e){return t}))};return Object(f.jsx)("div",{className:"l-Obj-Achiv-Program-item",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program-item",children:[Object(f.jsx)("div",{className:"c-Obj-Achiv-Program-item__Top",children:"edit"===t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"function",children:"Function:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"function",value:a.function||""})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"quality_objective",children:"Quality Objectives:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"quality_objective",value:a.quality_objective||""})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"personel_responsible",children:"Personel Responsible:"}),Object(f.jsxs)("select",{type:"text",name:"personel_responsible",onChange:D,value:a.personel_responsible||"",children:[Object(f.jsx)("option",{children:l?"Please select a role":"No roles found"}),l?l.map((function(e,t){return Object(f.jsx)("option",{value:e.role_id,children:e.name},t)})):null]})]})]}),Object(f.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"data_collection",children:"Collecting / Measuring Data:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_collection",value:a.data_collection||""})]}),Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("label",{htmlFor:"data_analysis",children:"Analysing Data:"}),Object(f.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_analysis",value:a.data_analysis||""})]})]}),Object(f.jsx)("div",{className:"c-Top__Delete",children:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){return T(r+1)}})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Function:"}),Object(f.jsxs)("p",{children:[a.function||"Nil"," "]})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Quality Objectives:"}),Object(f.jsx)("p",{children:a.quality_objective||"Nil"})]}),Object(f.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(f.jsx)("h1",{children:"Personel Responsible:"}),Object(f.jsx)("p",{children:a.role&&a.role.name||"Nil"})]})]}),Object(f.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("h1",{children:"Collecting / Measuring Data:"}),Object(f.jsx)("p",{children:a.data_collection||"Nil"})]}),Object(f.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(f.jsx)("h1",{children:"Analysing Data:"}),Object(f.jsx)("p",{children:a.data_analysis||"Nil"})]})]})]})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program-item__Table",children:[Object(f.jsx)("h1",{children:"Data tracking information"}),"edit"===t?Object(f.jsxs)("form",{className:"c-Table__Add-files",children:[Object(f.jsx)("div",{className:"c-Add-files__Left",children:Object(f.jsx)("input",{type:"file",name:"file",onChange:function(e){var t=e.target.files[0];v?o((function(e){return e.map((function(e,a){return e.itemIndex===r?{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}:e}))})):(g((function(){return!0})),o((function(e){return[].concat(Object(We.a)(e),[{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}])})))},ref:j})}),Object(f.jsx)("div",{className:"c-Add-files__Right",children:Object(f.jsx)("button",{onClick:function(){if(""!==j.current.value){j.current.value="";var e=!1;s.forEach((function(t,a){r===a&&3===t.files.length&&(e=!0)})),e?O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maximum of 3 files per item!"})]})):c((function(e){return e.map((function(e,t){return r===t?0===e.files.length?Object(u.a)(Object(u.a)({},e),{},{files:[{serialNo:1,new:!0,fileObj:function(){var t={};return console.log(e.files.length),i.forEach((function(a,n){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=a.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}]}):Object(u.a)(Object(u.a)({},e),{},{files:[].concat(Object(We.a)(e.files),[{serialNo:e.files.length+1,new:!0,fileObj:function(){var t={};return i.forEach((function(a,n){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=e.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}])}):e}))}))}else O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Please select a file!"})]}));g((function(){return!1}))},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})})]}):null,"edit"===t?0!==a.files.length?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.files,columns:_}):"No records found!":0!==a.data.length?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:a.data,columns:A}):"No records found!"]})]})})},It=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(f.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),a.map((function(e,t){return Object(f.jsx)(St,{docType:"active",itemContent:e},t)}))]})},Ct=function(e){var t=e.docPendingTableData,a=e.docPendingHeaderData;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:a.title?a.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:a.approved_by?a.approved_by:"Error"}),Object(f.jsx)("p",{children:a.created_by?a.created_by:"Error"}),"                "]})]}),t.map((function(e,t){return Object(f.jsx)(St,{docType:"pending",itemContent:e},t)}))]})},Mt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyField,e.tempFileArr),l=e.setTempFileArr,j=y.getToken(),b=y.getDecodedToken(),m=b.display_name,O=b.company_id,x=Object(n.useState)([]),v=Object(d.a)(x,2),g=v[0],_=v[1],A=Object(n.useState)([]),N=Object(d.a)(A,2),D=N[0],T=N[1];Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(u.a)(Object(u.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return Object(u.a)(Object(u.a)({},s),{},{submittedBy:"".concat(m)})})),l((function(){return[]})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/roles"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){console.log(e),T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(O,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){var t=e.data.results;_((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var S=function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:S,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:S,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:g?"Please select an approver":"No approver found!"}),g?g.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,n){return Object(f.jsx)(St,{docType:"edit",itemContent:e,itemIndex:n,setDocEditTableData:a,docEditHeaderData:c,docEditTableData:t,tempFileArr:o,setTempFileArr:l,personelResponsibleList:D},n)})),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]})},Ft=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;return Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To be approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(f.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(f.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),a.map((function(e,t){return Object(f.jsx)(St,{docType:"active",itemContent:e},t)}))]})},Et=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,j=e.setStartNewDoc,b=e.tempFileArr,m=e.setTempFileArr,O=y.getToken(),x=y.getDecodedToken(),v=x.company_id,g=x.display_name,_=x.employee_id,A=Object(n.useState)([]),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)([]),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(n.useState)(!1),E=Object(d.a)(F,2),w=E[0],k=E[1];Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(u.a)(Object(u.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return{submittedBy:"".concat(g)}})),m((function(){return[]})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/roles"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){console.log(e),void 0!==e.data.results&&T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/approve/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=e.data.results;void 0!==t&&M((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(v,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(O)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===_&&(t=!0)})),!0===t&&k((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var P=function(e){console.log(e.target.value),console.log(e.target.name),r((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};console.log(c);return Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:o.secondTab===Fe.NULL?w?l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(f.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:P,value:c.title||""})}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsxs)("select",{type:"text",name:"approvedBy",onChange:P,value:c.approvedBy||"",children:[Object(f.jsx)("option",{children:C?"Please select an approver":"No approver found!"}),C?C.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(f.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,n){return Object(f.jsx)(St,{docType:"edit",itemContent:e,itemIndex:n,setDocEditTableData:a,docEditHeaderData:c,docEditTableData:t,tempFileArr:b,setTempFileArr:m,personelResponsibleList:D},n)})),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){a((function(e){return[].concat(Object(We.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(f.jsx)("h2",{children:"Add new row"})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("button",{onClick:function(){j((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There are no existing documents"}),Object(f.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(f.jsxs)("div",{className:"c-Document__New",children:[Object(f.jsx)("h1",{children:"There is one pending/rejected document"}),Object(f.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},wt=function(e){var t=e.tabSettings,a=e.docHeaderData,n=e.docTableData,c=e.docPendingHeaderData,r=e.docPendingTableData,s=e.setDocPendingTableData,i=e.docRejectedHeaderData,o=e.docRejectedTableData,l=e.docColumns,d=e.docType,u=e.docEditTableData,j=e.setDocEditTableData,b=e.docEditHeaderData,p=e.setDocEditHeaderData,m=e.editorState,h=e.setEditorState,O=e.tempFileArr,x=e.setTempFileArr,v=e.startNewDoc,g=e.setStartNewDoc,_={swot:{Active:et,Pending:tt,Editing:at,Rejected:nt,Inactive:ct},interestedParty:{Active:Qe,Pending:Ve,Editing:Xe,Rejected:Ke,Inactive:Ze},scopeOfQMS:{Active:rt,Pending:st,Editing:ut,Rejected:jt,Inactive:bt},companyPolicy:{Active:mt,Pending:ht,Editing:Ot,Rejected:xt,Inactive:vt},riskNOpp:{Active:gt,Pending:_t,Editing:At,Rejected:yt,Inactive:Nt},objAchivProgram:{Active:It,Pending:Ct,Editing:Mt,Rejected:Ft,Inactive:Et}}[d];if(0===t.focusTabIndex)if(t.firstTab===Fe.ACTIVE){if("swot"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("objAchivProgram"===d)return Object(f.jsx)(_.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"})}else{if("swot"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("scopeOfQMS"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",editorState:m,setEditorState:h,tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("interestedParty"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("companyPolicy"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("riskNOpp"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:v,setStartNewDoc:g});if("objAchivProgram"===d)return Object(f.jsx)(_.Inactive,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,tempFileArr:O,setTempFileArr:x,tabSettings:t,startNewDoc:v,setStartNewDoc:g})}else{if(1!==t.focusTabIndex)return Object(f.jsx)("div",{className:"l-Document__Error",children:Object(f.jsx)("p",{children:"There was an error in loading the document =("})});if(t.secondTab===Fe.PENDING){if("swot"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"id"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"id"});if("riskNOpp"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l});if("objAchivProgram"===d)return Object(f.jsx)(_.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l})}else if(t.secondTab===Fe.EDITING){if("swot"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",editorState:m,setEditorState:h});if("companyPolicy"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n});if("objAchivProgram"===d)return Object(f.jsx)(_.Editing,{docEditTableData:u,setDocEditTableData:j,docEditHeaderData:b,setDocEditHeaderData:p,docHeaderData:a,docTableData:n,tempFileArr:O,setTempFileArr:x})}else if(t.secondTab===Fe.REJECTED){if("swot"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o});if("objAchivProgram"===d)return Object(f.jsx)(_.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o})}}},kt=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(d.a)(s,2),u=i[0],j=i[1],b=y.getToken();return Object(n.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return n=e.sent,e.next=6,h.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 6:c=e.sent,r((function(){return{resultDocTable:n.data,resultHeaderData:c.data}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),j((function(){return e.t0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl)}),[e]),[c,u]},Pt=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(d.a)(s,2),u=i[0],j=i[1],b=y.getToken();return Object(n.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return c=e.sent,e.next=6,h.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 6:return s=e.sent,e.next=9,h.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 9:i=e.sent,r((function(){return{checkIfEmployeeCanEdit:c,checkIfPendingExist:s,checkIfRejectedExist:i}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),j((function(){return e.t0}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl,e.thirdUrl)}),[e]),[c,u]},Bt=function(e){var t=e.deleteUrl,a=e.docHeaderUrl,n=e.setArchivedDocData,c=e.docType,r=e.idName,s=y.getToken(),i=y.getDecodedToken().company_id;return Object(f.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return o(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},e),{},{onClose:a}))}});var o=function(e){h.a.delete(t,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){h.a.get(a,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){var a=(void 0!==t.data.results?t.data.results.filter((function(e){return"archived"===e.status})):t.data.filter((function(e){return"archived"===e.status}))).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e[r],serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/".concat(c,"/archived/").concat(e[r]),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/").concat(c,"/").concat(e[r])})}));n((function(){return a})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document Deleted!"})]}))})).catch((function(t){console.log(t);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))})).catch((function(e){console.log(e)}))}}})})})},Rt=a(21),qt=a.n(Rt),Ht=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),ie=ne[0],oe=ne[1],le=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(n.useState)({}),pe=Object(d.a)(be,2),me=pe[0],he=pe[1],Oe=Object(n.useState)("active"),xe=Object(d.a)(Oe,2),ve=xe[0],fe=xe[1],ge=Object(n.useState)([]),_e=Object(d.a)(ge,2),Ae=_e[0],ye=_e[1],Ne=Object(n.useState)(!1),De=Object(d.a)(Ne,2),Te=De[0],Se=(De[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots")})),Ie=Object(d.a)(Se,2),Ce=Ie[0],Ee=Ie[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),qe=Object(d.a)(Re,2),He=qe[0],Ue=qe[1],Le=Object(n.useState)(!1),Qe=Object(d.a)(Le,2),Ve=Qe[0],We=Qe[1],Je=kt(Ce),Ge=Object(d.a)(Je,2),Xe=Ge[0],Ke=(Ge[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/rejected")})),Ze=Object(d.a)(Ke,2),$e=Ze[0],et=(Ze[1],Pt($e)),tt=Object(d.a)(et,2),at=tt[0];tt[1];Object(n.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){p((function(){return!1}));var t={strength:Xe.resultDocTable.results.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:Xe.resultDocTable.results.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:Xe.resultDocTable.results.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:Xe.resultDocTable.results.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};if("active"===ve){if(null!==at){var n=!1;at.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(n=!0)})),void 0!==at.checkIfPendingExist.result&&(n=!1),void 0!==at.checkIfRejectedExist.result&&(n=!1),console.log(at),Ue(!0===n?function(){return!0}:function(){return!1})}P((function(){return t}))}else"pending"===ve?te((function(){return t})):"rejected"===ve&&(D.secondTab===Fe.EDITING?P((function(){return t})):je((function(){return t})))}if(console.log(Xe),void 0!==Xe.resultHeaderData.results){var r,s,i=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),r=!0}else if("pending"===e.status){var a={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.swot_id};c===e.approved_by?Be((function(){return!0})):Be((function(){return!1})),oe((function(){return a})),s=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.swot_id};D.secondTab===Fe.EDITING?H((function(){return n})):he((function(){return n})),i=!0}})),p(r?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==r?Fe.INACTIVE:Fe.ACTIVE,secondTab:!0===s?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===i?Fe.EDITING:!0===i?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===ve?0:1}}));var o=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.swot_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/swot/archived/".concat(e.swot_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots/").concat(e.swot_id)})}));ye((function(){return o}))}else p((function(){return!0})),T((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===ve?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&We((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe,at]);var nt=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),setArchivedDocData:ye,docType:"swots",idName:"swot_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"SWOT",activeLink:"/swot",children:Object(f.jsxs)("div",{className:"c-Swot c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Swot-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Swot"})]}),Te?"loading...":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Swot__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Swot"}),Object(f.jsx)(ze,{setQueryUrl:Ee,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:ie,docRejectedHeaderData:me,pageType:"swot",isApprover:Pe,isEditor:He,docQueryEnum:ve,setDocQueryEnum:fe,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Swot_Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:F,setDocQueryEnum:fe,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ee,pageType:"swot"}),Object(f.jsx)(ce,{isDocCollapsed:M,children:Object(f.jsx)(wt,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:ie,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:ue,docColumns:re,docType:"swot",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Swot__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==Ae.length?Ve?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:nt,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:se,pagination:qt()()}):"No records found!"]})]})]})})]})},Yt=function(e){var t=e.match.params.swotID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/swots/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:e.data.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:e.data.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:e.data.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"SWOT Archived",activeLink:"/swot",children:Object(f.jsxs)("div",{className:"c-Swot c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Swot__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/swot",children:"SWOT"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Swot__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"SWOT (Archived)"})}),Object(f.jsx)("div",{className:"c-Swot__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Error"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Error"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Error"})]})]}),Object(f.jsx)($e,{header:"Strengths",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:O.strength,columns:re})}),Object(f.jsx)($e,{header:"Weaknesses",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:O.weakness,columns:re})}),Object(f.jsx)($e,{header:"Opportunities",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:O.opp,columns:re})}),Object(f.jsx)($e,{header:"Threats",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:O.threat,columns:re})})]})})})]})})},Ut=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(C),b=Object(d.a)(j,2),p=b[0],m=b[1],x=Object(n.useState)({}),v=Object(d.a)(x,2),g=v[0],A=v[1],N=Object(n.useState)(!1),D=Object(d.a)(N,2),T=D[0],S=D[1],I=Object(n.useState)([]),M=Object(d.a)(I,2),F=M[0],E=M[1],w=Object(n.useState)({}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(n.useState)([]),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=Object(n.useState)({}),z=Object(d.a)(U,2),Q=z[0],V=z[1],W=Object(n.useState)([]),G=Object(d.a)(W,2),K=G[0],Z=G[1],$=Object(n.useState)({}),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(d.a)(ne,2),se=re[0],le=re[1],de=Object(n.useState)({}),ue=Object(d.a)(de,2),je=ue[0],be=ue[1],pe=Object(n.useState)("active"),me=Object(d.a)(pe,2),he=me[0],Oe=me[1],xe=Object(n.useState)([]),ve=Object(d.a)(xe,2),fe=ve[0],ge=ve[1],_e=Object(n.useState)(!1),Ae=Object(d.a)(_e,2),ye=Ae[0],Ne=(Ae[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties")})),De=Object(d.a)(Ne,2),Te=De[0],Se=De[1],Ie=Object(n.useState)(!1),Ce=Object(d.a)(Ie,2),Ee=Ce[0],we=Ce[1],ke=Object(n.useState)(!1),Pe=Object(d.a)(ke,2),Be=Pe[0],Re=Pe[1],qe=Object(n.useState)(!1),He=Object(d.a)(qe,2),Ue=He[0],Le=He[1],Qe=Object(n.useState)(!1),Ve=Object(d.a)(Qe,2),We=(Ve[0],Ve[1]),Je=kt(Te),Ge=Object(d.a)(Je,2),Xe=Ge[0];Ge[1];Object(n.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){We((function(){return!1}));var t=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));if("active"===he){var n=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Re((function(){return!0}))})).catch((function(e){console.log(e)})),E((function(){return n}))}else if("pending"===he){var r=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));Z((function(){return r}))}else"rejected"===he&&(g.secondTab===Fe.EDITING?E((function(){return t})):le((function(){return t})))}if(void 0!==Xe.resultHeaderData.results){var s,i,o=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};B((function(){return t})),s=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.party_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ae((function(){return a})),i=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.party_id};g.secondTab===Fe.EDITING?B((function(){return n})):be((function(){return n})),o=!0}})),We(s?function(){return!0}:function(){return!1}),A((function(e){return{firstTab:!0!==s?Fe.INACTIVE:Fe.ACTIVE,secondTab:!0===i?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===o?Fe.EDITING:!0===o?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===he?0:1}}));var l=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.party_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/interested-party/archived/".concat(e.party_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties/").concat(e.party_id)})}));ge((function(){return l}))}else We((function(){return!0})),A((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===he?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe]);var Ke=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),setArchivedDocData:ge,docType:"interested-parties",idName:"party_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:p,setSideNavStatus:m,title:"Interested Party",activeLink:"/interested-party",children:Object(f.jsxs)("div",{className:"c-IP c-Main",children:[Object(f.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Interested Party"})]}),ye?"loading...":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-IP__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Interested Parties"}),Object(f.jsx)(ze,{setQueryUrl:Se,setTabSettings:A,tabSettings:g,docEditTableData:H,docEditHeaderData:Q,docPendingTableData:K,docPendingHeaderData:te,docRejectedHeaderData:je,pageType:"interestedParty",isApprover:Ee,isEditor:Be,docQueryEnum:he,setDocQueryEnum:Oe,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-IP__Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:S,setDocQueryEnum:Oe,setTabSettings:A,tabSettings:g,isDocCollapsed:T,setQueryUrl:Se,pageType:"interestedParty"}),Object(f.jsx)(ce,{isDocCollapsed:T,children:Object(f.jsx)(wt,{tabSettings:g,docHeaderData:P,docTableData:F,docPendingHeaderData:te,docPendingTableData:K,setDocPendingTableData:Z,docRejectedHeaderData:je,docRejectedTableData:se,docColumns:ie,docType:"interestedParty",docEditTableData:H,setDocEditTableData:Y,docEditHeaderData:Q,setDocEditHeaderData:V,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-IP__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==fe.length?Ue?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:fe,columns:Ke,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:fe,columns:oe,pagination:qt()()}):"No records found!"]})]})]})})]})},Lt=function(e){var t=e.match.params.ipID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/interested-parties/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(f.jsxs)(f.Fragment,{children:[e,Object(f.jsx)("br",{})]})})):e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Interested Party Archived",activeLink:"/interested-party",children:Object(f.jsxs)("div",{className:"c-IP c-Main",children:[Object(f.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/interested-party",children:"Interested Party"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-IP__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Interested Parties (Archived)"})}),Object(f.jsx)("div",{className:"c-IP__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:j.title?j.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Failed to load data!"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Failed to load data!"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Failed to load data!"})]})]}),Object(f.jsx)(Me.a,{keyField:"serialNo",data:O,columns:ie})]})})})]})})})},zt=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],ae=$[1],ne=Object(n.useState)({}),re=Object(d.a)(ne,2),se=re[0],ie=re[1],oe=Object(n.useState)([]),ue=Object(d.a)(oe,2),je=ue[0],be=ue[1],pe=Object(n.useState)({}),me=Object(d.a)(pe,2),he=me[0],Oe=me[1],xe=Object(n.useState)("active"),ve=Object(d.a)(xe,2),fe=ve[0],ge=ve[1],_e=Object(n.useState)([]),Ae=Object(d.a)(_e,2),ye=Ae[0],Ne=Ae[1],De=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes")}),Te=Object(d.a)(De,2),Se=Te[0],Ie=Te[1],Ce=Object(n.useState)(!1),Ee=Object(d.a)(Ce,2),we=Ee[0],ke=Ee[1],Pe=Object(n.useState)(!1),Be=Object(d.a)(Pe,2),Re=Be[0],qe=Be[1],He=Object(n.useState)(!1),Ue=Object(d.a)(He,2),Le=Ue[0],Qe=Ue[1],Ve=Object(n.useState)((function(){return te.EditorState.createEmpty()})),We=Object(d.a)(Ve,2),Je=We[0],Ge=We[1],Xe=kt(Se),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(n.useEffect)((function(){if(null!==Ze){if(void 0!==Ze.resultDocTable.results){var t=Ze.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,a){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_scope"+a)})):e.site_scope,site_scope_raw:e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,a){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_address"+a)})):e.address,parentItemID:e.parent_item_id})}));"active"===fe?(h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&qe((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===fe?ae((function(){return t})):"rejected"===fe&&(D.secondTab===Fe.EDITING?P((function(){return t})):be((function(){return t})))}if(void 0!==Ze.resultHeaderData.results){var n,r,s=!1;Ze.resultHeaderData.results.forEach((function(e){if(e.content?Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):Ge((function(){return te.EditorState.createEmpty()})),console.log(ot()(Object(te.convertToRaw)(Je.getCurrentContent()))),"active"===e.status){var t={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),dt()(ot()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),n=!0}else if("pending"===e.status){var a={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),dt()(ot()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};console.log(a),c===e.approved_by?ke((function(){return!0})):ke((function(){return!1})),ie((function(){return a})),r=!0}else if("rejected"===e.status){var i={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),dt()(ot()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};D.secondTab===Fe.EDITING?H((function(){return i})):Oe((function(){return i})),s=!0}})),p(n?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==n?Fe.INACTIVE:Fe.ACTIVE,secondTab:!0===r?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===s?Fe.EDITING:!0===s?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===fe?0:1}}));var i=Ze.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/scope-of-qms/archived/".concat(e.qms_scope_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes/").concat(e.qms_scope_id)})}));Ne((function(){return i}))}else p((function(){return!0})),T((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===fe?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Qe((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),setArchivedDocData:Ne,docType:"qms-scopes",idName:"qms_scope_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Scope of QMS"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Scope of QMS"}),Object(f.jsx)(ze,{setQueryUrl:Ie,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:se,docRejectedHeaderData:he,pageType:"scopeOfQMS",isApprover:we,isEditor:Re,docQueryEnum:fe,setDocQueryEnum:ge,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:F,setDocQueryEnum:ge,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ie,pageType:"scopeOfQMS"}),Object(f.jsx)(ce,{isDocCollapsed:M,children:Object(f.jsx)(wt,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:se,docPendingTableData:ee,docRejectedHeaderData:he,docRejectedTableData:je,docColumns:le,docType:"scopeOfQMS",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS_Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==ye.length?Le?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:ye,columns:$e,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:ye,columns:de,pagination:qt()()}):"No records found!"]})]})})]})},Qt=function(e){var t=e.match.params.scopeOfQMSID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1],g=Object(n.useState)((function(){return te.EditorState.createEmpty()})),_=Object(d.a)(g,2),A=(_[0],_[1]);return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/qms-scopes/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,a){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_scope"+a)})):e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,a){return Object(f.jsxs)("div",{children:[e,Object(f.jsx)("br",{})]},t+"_address"+a)})):e.address,parentItemID:e.parent_item_id})}));v((function(){return t})),e.data.forEach((function(e){e.content?A((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):A((function(){return te.EditorState.createEmpty()}));var t={title:e.title,content:e.content?(A((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),dt()(ot()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(A((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};p((function(){return t}))}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/scope-of-qms",children:"Scope of QMS"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Scope Of QMS (Archived)"})}),Object(f.jsx)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Company Name:"}),Object(f.jsx)("p",{children:"Active on:"})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.title?b.title:"Failed to load data"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Failed to load data"})]})]}),Object(f.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(f.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:b.content})]}),Object(f.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(f.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(f.jsx)(Me.a,{keyField:"id",data:x,columns:le})]})]})})})]})})},Vt=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(n.useState)({}),be=Object(d.a)(je,2),pe=be[0],me=be[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(n.useState)([]),ge=Object(d.a)(fe,2),_e=ge[0],Ae=ge[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Ie=Object(d.a)(Se,2),Ce=Ie[0],Ee=Ie[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),qe=Object(d.a)(Re,2),He=qe[0],Ue=qe[1],Le=kt(De),Qe=Object(d.a)(Le,2),Ve=Qe[0];Qe[1];Object(n.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));if("active"===xe){var n=Ve.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return n}))}else if("pending"===xe){var r=Ve.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));te((function(){return r}))}else"rejected"===xe&&(D.secondTab===Fe.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var s,i,o=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),s=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return a})),i=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};D.secondTab===Fe.EDITING?H((function(){return n})):me((function(){return n})),o=!0}})),p(s?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==s?Fe.INACTIVE:Fe.ACTIVE,secondTab:!0===i?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===o?Fe.EDITING:!0===o?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===xe?0:1}}));var l=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/company-policy/archived/".concat(e.policy_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies/").concat(e.policy_id)})}));Ae((function(){return l}))}else p((function(){return!0})),T((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===xe?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var We=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),setArchivedDocData:Ae,docType:"policies",idName:"policy_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"Company Policy",activeLink:"/company-policy",children:Object(f.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Company Policy"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Company Policy"}),Object(f.jsx)(ze,{setQueryUrl:Te,setTabSettings:T,docEditTableData:z,docEditHeaderData:G,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:pe,tabSettings:D,pageType:"companyPolicy",isApprover:Ce,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"companyPolicy"}),Object(f.jsx)(ce,{isDocCollapsed:M,children:Object(f.jsx)(wt,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:pe,docRejectedTableData:le,docType:"companyPolicy",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?He?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:We,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:ue,pagination:qt()()}):"No records found!"]})]})})]})},Wt=function(e){var t=e.match.params.companyPolicyID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/policies/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.policy_item_id})}));v((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};p((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Company Policy",activeLink:"/company-policy",children:Object(f.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/company-policy",children:"Company Policy"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View archived"})]}),Object(f.jsx)("div",{className:"c-Company-Policy__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Company Policy (Archived)"})}),Object(f.jsx)("div",{className:"c-Company-Policy__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(f.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(f.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),x.map((function(e,t){return Object(f.jsx)(pt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})})})]})})},Jt=a(33),Gt=a.n(Jt),Xt=function(e){var t=e.deleteUrl,a=e.refreshUrl,n=e.setRoleData,c=(e.idName,y.getToken()),r=y.getDecodedToken().company_id;return Object(f.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this role? Click confirm to proceed.",handler:function(e){return s(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},e),{},{onClose:a}))}});var s=function(e){h.a.delete(t,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){h.a.get(a,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){n((function(){return t.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(e.role_id)})}))})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role Deleted!"})]}))})).catch((function(t){console.log(t);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))})).catch((function(t){console.log(t),e();var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}}})})})},Kt=function(){var e=Object(j.g)(),t=Jt.Search.SearchBar,a=Jt.Search.ClearSearchButton,c=y.getToken(),r=y.getDecodedToken(),s=r.company_id,i=r.employee_id,o=r.admin_level,l=_.toastTiming,b=Object(n.useState)(C),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-charts"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),console.log(e.data.results),void 0!==e.data.results&&I((function(){return e.data.results.map((function(e,t){return{id:e.chart_id,serialNo:t+1,title:e.title,description:e.description,created_by:e.author.account.username,created_on:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_view:"/responsibility-n-authority/manage-org-chart/".concat(e.chart_id)}}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),void 0!==e.data.results&&N((function(){return e.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/role/").concat(e.role_id)})}))}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===i&&(t=!0)})),!0===t&&w((function(){return!0}))})).catch((function(e){console.log(e)}))}),[]);var k=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"title",text:"Title"},{dataField:"description",text:"Description"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Submitted On"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View more"})}}],P=[{dataField:"role_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Role"},{dataField:"created_at",text:"Created"},{dataField:"updated_at",text:"Last Updated"},{dataField:"action_manage",text:"",hidden:2!==o,formatter:function(e,t){return Object(f.jsx)("a",{href:"/responsibility-n-authority/manage-role/".concat(t.role_id),children:"Manage"})}},{dataField:"action_delete",text:"",hidden:2!==o,formatter:function(e,t){return Object(f.jsx)(Xt,{deleteUrl:e,refreshUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),setRoleData:N,idName:"role_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:l,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Resp-N-Auth c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Resp-N-Auth__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Resp. & Authority"})]}),Object(f.jsx)("div",{className:"c-Resp-N-Auth__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Responsibility & Authority"})}),Object(f.jsxs)("div",{className:"c-Resp-N-Auth__Org-Chart",children:[Object(f.jsxs)("div",{className:"c-Org-Chart__Top",children:[Object(f.jsx)("h1",{children:"Organisation Chart"}),E?Object(f.jsx)("button",{onClick:function(){return e.push("/responsibility-n-authority/add-org-chart")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload Chart"}):null]}),Object(f.jsx)("div",{className:"c-Org-Chart__Table",children:0===S.length?"No records found!":Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:S,columns:k,pagination:qt()()})})]}),Object(f.jsxs)("div",{className:"c-Resp-N-Auth__Roles",children:[Object(f.jsx)("div",{className:"c-Roles__Top",children:Object(f.jsx)("h1",{children:"Roles"})}),Object(f.jsx)("div",{className:"c-Roles__Table",children:Object(f.jsx)(Gt.a,{search:!0,keyField:"serialNo",data:A,columns:P,children:function(n){return Object(f.jsxs)("div",{className:"c-Table",children:[Object(f.jsxs)("div",{className:"c-Table__Top",children:[Object(f.jsx)(t,Object(u.a)({},n.searchProps)),Object(f.jsx)(a,Object(u.a)({className:"c-Table__Clear-btn"},n.searchProps)),2!==o?null:Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return e.push("/responsibility-n-authority/add-role")},children:"Add role"})]}),Object(f.jsx)("hr",{}),0!==A.length?Object(f.jsx)(Me.a,Object(u.a)(Object(u.a)({},n.baseProps),{},{bordered:!1,pagination:qt()()})):"No records found!"]})}})})]})]})})]})},Zt=[{moduleCode:"m01_01",description:{edit:"Edit Scope"}},{moduleCode:"m02_01",description:{edit:"Edit Normative References"}},{moduleCode:"m03_01",description:{edit:"Edit Terms and Definition"}},{moduleCode:"m04_01",description:{edit:"Edit SWOT",approve:"Approve/Reject SWOT documents "}},{moduleCode:"m04_02",description:{edit:"Edit Interested Parties",approve:"Approve/Reject Interested Parties documents"}},{moduleCode:"m04_03",description:{edit:"Edit Scope of QMS",approve:"Approve/Reject Scope of QMS"}},{moduleCode:"m05_02",description:{edit:"Edit Company Policy",approve:"Approve/Reject Company Policy"}},{moduleCode:"m05_03",description:{edit:"Upload and Edit Organisation Chart"}},{moduleCode:"m06_01",description:{edit:"Edit Risk & Opportunity",approve:"Approve/Reject Risk & Opportunity"}},{moduleCode:"m06_02",description:{edit:"Edit Objective Achievement Program",approve:"Approve/Reject Objective Achievement Program"}},{moduleCode:"m07_01",description:{edit:"Permission to be assigned to Equipment Maintenance items",approve:"Permission to Create Equipment Maintenance Program attributes"}},{moduleCode:"m07_02",description:{edit:"Permission to be assigned to Permis/licenses items",approve:"Permission to Create Permits/licenses"}}],$t=function(){var e=Object(j.g)(),t=y.getToken(),a=y.getDecodedToken().company_id,c=_.toastTiming,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({name:"",responsibility:"",rights:[]}),b=Object(d.a)(l,2),m=b[0],x=b[1];Object(n.useEffect)((function(){window.scrollTo(0,0),x((function(e){return Object(u.a)(Object(u.a)({},e),{},{rights:Zt.map((function(e,t){return Object(p.a)({},e.moduleCode,{edit:!1,approve:!1})}))})}))}),[]),console.log(m);var v=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},g=function(e){var t=e.split(" ")[0],a=e.split(" ")[1],n=!1;return m.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(n="edit"===a?e[r].edit:e[r].approve)})),n},A=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},{rights:(console.log(t),t.rights.map((function(t,a){var n=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return n===c?r?Object(p.a)({},n,{approve:t[n].approve,edit:!t[n].edit}):Object(p.a)({},n,{approve:!t[n].approve,edit:t[n].edit}):t})))})}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:c,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"c-Add-role c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Add-role__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add Role"})]}),Object(f.jsx)("div",{className:"c-Add-role__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Add Role"})}),Object(f.jsxs)("div",{className:"c-Add-role__Configs",children:[Object(f.jsxs)("div",{className:"l-Configs__Left",children:[Object(f.jsx)("h1",{children:"Basic Details"}),Object(f.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(f.jsx)("input",{type:"text",name:"name",value:m.name,onChange:v})]}),Object(f.jsxs)("div",{className:"c-Configs__Description",children:[Object(f.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(f.jsx)("textarea",{wrap:"hard",name:"responsibility",value:m.responsibility,onChange:v})]})]}),Object(f.jsx)("div",{className:"l-Configs__VL",children:Object(f.jsx)("span",{className:"c-Configs__VL"})}),Object(f.jsx)("div",{className:"l-Configs__Right",children:Object(f.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(f.jsx)("h1",{children:"Permissions"}),Zt.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(f.jsx)("input",{type:"checkbox",onChange:A,checked:g(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode?null:Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(f.jsx)("input",{type:"checkbox",onChange:A,checked:g(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(f.jsxs)("div",{className:"c-Add-role__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){var n=Object(u.a)(Object(u.a)({},m),{},{rights:function(){for(var e={},t=0;t<m.rights.length;t++){var a=Object.keys(m.rights[t])[0];e[a]={approve:m.rights[t][a].approve,edit:m.rights[t][a].edit}}return e}()});console.log(n),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/roles"),n,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),e.push("/responsibility-n-authority"),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role has been added!"})]}))}),0)})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},className:"c-Btn c-Btn--primary",children:"Add Role"}),Object(f.jsx)("button",{type:"button",onClick:function(){return e.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},ea=function(e){var t=e.match.params.roleID,a=Object(j.g)(),c=(Jt.Search.SearchBar,Jt.Search.ClearSearchButton,y.getToken()),r=y.getDecodedToken().company_id,s=_.toastTiming,i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(n.useState)({name:"",responsibility:"",rights:[]}),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)(!1),N=Object(d.a)(A,2);N[0],N[1];Object(n.useEffect)((function(){window.scrollTo(0,0),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),g((function(){return{name:e.data.results.name,responsibility:e.data.results.responsibility,rights:function(){for(var t=Zt.map((function(e,t){return Object(p.a)({},e.moduleCode,{edit:!1,approve:!1})})),a=Object.keys(e.data.results.rights).length,n=0;n<a;n++){var c=Object.keys(e.data.results.rights)[n];if(e.data.results.rights[c].edit)for(var r=0;r<t.length;r++){var s=Object.keys(t[r])[0];if(console.log(t[r]),s===c){t[r]=Object(p.a)({},c,Object(u.a)(Object(u.a)({},t[r][c]),{},{edit:!0}));break}}if(e.data.results.rights[c].approve)for(var i=0;i<t.length;i++){if(c===Object.keys(t[i])[0]){t[i]=Object(p.a)({},c,Object(u.a)(Object(u.a)({},t[i][c]),{},{approve:!0}));break}}}return console.log(t),t}()}}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}),[]);var D=function(e){var t=e.split(" ")[0],a=e.split(" ")[1],n=!1;return console.log(v),v.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(n="edit"===a?e[r].edit:e[r].approve)})),n},T=function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},S=function(e){g((function(t){return Object(u.a)(Object(u.a)({},t),{},{rights:t.rights.map((function(t,a){var n=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return n===c?r?Object(p.a)({},n,{approve:t[n].approve,edit:!t[n].edit}):Object(p.a)({},n,{approve:!t[n].approve,edit:t[n].edit}):t}))})}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Manage-role c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-role__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Role"})]}),Object(f.jsx)("div",{className:"c-Manage-role__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Role"})}),Object(f.jsxs)("div",{className:"c-Manage-role__Configs",children:[Object(f.jsxs)("div",{className:"l-Configs__Left",children:[Object(f.jsx)("h1",{children:"Basic Details"}),Object(f.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(f.jsx)("input",{type:"text",name:"name",value:v.name,onChange:T})]}),Object(f.jsxs)("div",{className:"c-Configs__Description",children:[Object(f.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(f.jsx)("textarea",{wrap:"hard",name:"responsibility",value:v.responsibility,onChange:T})]})]}),Object(f.jsx)("div",{className:"l-Configs__VL",children:Object(f.jsx)("span",{className:"c-Configs__VL"})}),Object(f.jsx)("div",{className:"l-Configs__Right",children:Object(f.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(f.jsx)("h1",{children:"Permissions"}),Zt.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(f.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode?null:Object(f.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(f.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(f.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(f.jsxs)("div",{className:"c-Manage-role__Btns",children:[Object(f.jsx)("button",{type:"button",onClick:function(){var e=Object(u.a)(Object(u.a)({},v),{},{rights:function(){for(var e={},t=0;t<v.rights.length;t++){var a=Object.keys(v.rights[t])[0];e[a]={approve:v.rights[t][a].approve,edit:v.rights[t][a].edit}}return e}()});console.log(e),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),e,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Role has been updated!"})]})),window.scrollTo(0,0)})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},className:"c-Btn c-Btn--primary",children:"Save"}),Object(f.jsx)("button",{type:"button",onClick:function(){return a.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},ta=function(){var e=Object(j.g)(),t=Object(n.useRef)(),a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({title:"",description:"",file:""}),b=Object(d.a)(l,2),m=b[0],x=b[1],v=_.toastTiming,g=function(t){if("submit"===t){if(""===m.title||""===m.description||""===m.file)return void O.b.error(Object(f.jsx)(f.Fragment,{children:"Error! Some fields are empty!"}));var n=new FormData;n.append("title",m.title),n.append("description",m.description),n.append("display_order",1),n.append("chart",m.file),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/org-charts"),n,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Chart has been added!"})]}))}),0),e.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}else x((function(){return{title:"",description:"",file:""}})),e.push("/responsibility-n-authority")},A=function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:v,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Add-chart c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Add-chart__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add Organisation Chart"})]}),Object(f.jsx)("div",{className:"c-Add-chart__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Add Organisation Chart"})}),Object(f.jsxs)("div",{className:"c-Add-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Add-chart__Title c-Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("input",{onChange:A,type:"text",value:m.title||"",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Description c-Input",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{onChange:A,type:"text",value:m.description||"",name:"description",placeholder:"Enter description"})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Upload-file c-Input",children:[Object(f.jsx)("label",{htmlFor:"file",children:"File"}),Object(f.jsx)("input",{onChange:function(e){var t=e.target.files[0];x((function(e){return Object(u.a)(Object(u.a)({},e),{},{file:t})}))},type:"file",name:"file",ref:t})]})]}),Object(f.jsxs)("div",{className:"c-Add-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return g("submit")},children:"Submit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return g("cancel")},children:"Cancel"})]})]})})]})},aa=function(e){var t=e.match.params.orgChartID,a=Object(j.g)(),c=y.getToken(),r=y.getDecodedToken(),s=r.company_id,i=r.employee_id,o=_.toastTiming,l=Object(n.useState)(C),b=Object(d.a)(l,2),m=b[0],x=b[1],v=Object(n.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1],k=Object(n.useState)(!1),P=Object(d.a)(k,2),B=P[0],R=P[1],q=Object(n.useState)(!1),H=Object(d.a)(q,2),Y=H[0],U=H[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),N((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name,fileID:e.data.results.file_id}})),I((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name}}))})).catch((function(e){console.log(e)})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===i&&(t=!0)})),!0===t&&U((function(){return!0}))})).catch((function(e){console.log(e)}))}),[B]);var z=function(e){if("submit"===e){if(""===S.title||""===S.description)return void O.b.error(Object(f.jsx)(f.Fragment,{children:"Error! Some fields are empty!"}));var n={title:S.title,description:S.description,display_order:1};h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Organisation chart details successfully updated!"})]})),w((function(){return!1})),R((function(e){return!e}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}else"delete"===e?h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Organisation chart has been deleted!"})]}))}),0),w((function(){return!1})),a.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))})):"edit"===e?w((function(){return!0})):(I((function(){return A})),w((function(){return!1})))},Q=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},V=function(e,t){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(c)},responseType:"blob"}).then((function(e){Tt()(e.data,t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:o,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(f.jsxs)("div",{className:"c-Manage-chart c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-chart__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Organisation Chart"})]}),Object(f.jsx)("div",{className:"c-Manage-chart__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Organisation Chart"})}),E?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("textarea",{onChange:Q,type:"text",value:S.title||"",name:"title",placeholder:"Enter title"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("textarea",{onChange:Q,type:"text",value:S.description||"",name:"description",placeholder:"Enter description"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(f.jsx)("label",{htmlFor:"createdBy",children:"Created By"}),Object(f.jsx)("input",{type:"text",value:A.createdBy||"Error",name:"createdBy",disabled:!0})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(f.jsx)("label",{htmlFor:"submittedOn",children:"Submitted On"}),Object(f.jsx)("input",{type:"text",value:A.submittedOn||"Error",name:"submittedOn",disabled:!0})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(f.jsx)("label",{htmlFor:"details",children:"Details"}),""===A.fileName?"Failed to load data":Object(f.jsx)("button",{onClick:function(){return V(t,A.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(f.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(f.jsx)("h1",{children:"Title"}),Object(f.jsx)("p",{children:A.title||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(f.jsx)("h1",{children:"Description"}),Object(f.jsx)("p",{children:A.description||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(f.jsx)("h1",{children:"Created By"}),Object(f.jsx)("p",{children:A.createdBy||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(f.jsx)("h1",{children:"Submitted On"}),Object(f.jsx)("p",{children:A.submittedOn||"Failed to load data"})]}),Object(f.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(f.jsx)("h1",{children:"Details"}),""===A.fileName?"Failed to load data":Object(f.jsx)("button",{onClick:function(){return V(t,A.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}),Y?""===A.title?null:E?Object(f.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return z("submit")},children:"Submit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return z("cancel")},children:"Cancel"})]}):Object(f.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return z("edit")},children:"Edit"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return z("delete")},children:"Delete"})]}):null]})})]})},na=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],ue=Object(n.useState)({}),be=Object(d.a)(ue,2),pe=be[0],me=be[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(n.useState)([]),ge=Object(d.a)(fe,2),_e=ge[0],Ae=ge[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Ie=Object(d.a)(Se,2),Ce=Ie[0],Ee=Ie[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),qe=Object(d.a)(Re,2),He=qe[0],Ue=qe[1],Le=kt(De),Qe=Object(d.a)(Le,2),Ve=Qe[0],We=(Qe[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m06_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/rejected")})),Je=Object(d.a)(We,2),Ge=Je[0],Xe=(Je[1],Pt(Ge)),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(n.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){p((function(){return!1}));var t={strength:Ve.resultDocTable.results.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),weakness:Ve.resultDocTable.results.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),opp:Ve.resultDocTable.results.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),threat:Ve.resultDocTable.results.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}}))};if("active"===xe){if(null!==Ze){var n=!1;Ze.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(n=!0)})),void 0!==Ze.checkIfPendingExist.result&&(n=!1),void 0!==Ze.checkIfRejectedExist.result&&(n=!1),console.log(Ze),Be(!0===n?function(){return!0}:function(){return!1})}H((function(){return t}))}else"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Fe.EDITING?H((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var r,s,i=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};P((function(){return t})),r=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.risks_analysis_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return a})),s=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.risks_analysis_id};D.secondTab===Fe.EDITING?P((function(){return n})):me((function(){return n})),i=!0}})),T((function(e){return{firstTab:!0!==r?Fe.NEW:Fe.ACTIVE,secondTab:!0===s?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===i?Fe.EDITING:!0===i?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===xe?0:1}}));var o=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.risks_analysis_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/risk-n-opportunity/archived/".concat(e.risks_analysis_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses/").concat(e.risks_analysis_id)})}));Ae((function(){return o}))}else p((function(){return!0})),T((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===xe?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve,Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),setArchivedDocData:Ae,docType:"risks-analyses",idName:"risks_analysis_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(f.jsxs)("div",{className:"c-RNO c-Main",children:[Object(f.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Risk and Opportunity"})]}),Object(f.jsxs)("div",{className:"c-RNO__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Risk and Opportunity"}),Object(f.jsx)(ze,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:pe,pageType:"riskNOpp",isApprover:Ce,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-RNO__Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"riskNOpp"}),Object(f.jsx)(ce,{isDocCollapsed:M,children:Object(f.jsx)(wt,{tabSettings:D,docHeaderData:k,docTableData:q,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:pe,docRejectedTableData:le,docType:"riskNOpp",docEditHeaderData:G,setDocEditHeaderData:K,docEditTableData:z,setDocEditTableData:Q,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-RNO__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?He?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:$e,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:je,pagination:qt()()}):"No records found!"]})]})})]})},ca=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=(b[0],b[1]),m=Object(n.useState)(C),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],ue=Object(n.useState)({}),je=Object(d.a)(ue,2),pe=je[0],me=je[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(n.useState)([]),ge=Object(d.a)(fe,2),_e=ge[0],Ae=ge[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Ie=Object(d.a)(Se,2),Ce=Ie[0],Ee=Ie[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),qe=Object(d.a)(Re,2),He=qe[0],Ue=qe[1],Le=kt(De),Qe=Object(d.a)(Le,2),Ve=Qe[0],We=(Qe[1],Object(n.useState)([])),Je=Object(d.a)(We,2),Ge=Je[0],Xe=Je[1],Ke=[{dataField:"id",text:"Id"},{dataField:"serialNo",text:"#"},{dataField:"filename",text:"File Name"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}}];Object(n.useEffect)((function(){if(null!==Ve){if(console.log(Ve),void 0!==Ve.resultDocTable.results){p((function(){return!1})),console.log(Ve.resultDocTable);var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_item_id,serialNo:t+1,parentItemID:e.parent_item_id,data:e.data.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,file:Object(u.a)(Object(u.a)({},e.file),{},{name:e.file_name})})}))})}));console.log(t),"active"===xe?(h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Fe.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var n,r,s=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),n=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.achievement_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return a})),r=!0}else if("rejected"===e.status){var i={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.achievement_id};D.secondTab===Fe.EDITING?H((function(){return i})):me((function(){return i})),s=!0}})),p(n?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==n?Fe.INACTIVE:Fe.ACTIVE,secondTab:!0===r?Fe.PENDING:e.secondTab===Fe.EDITING&&!0===s?Fe.EDITING:!0===s?Fe.REJECTED:Fe.NULL,focusTabIndex:"active"===xe?0:1}}));var i=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/objective-achievement-program/archived/".concat(e.achievement_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements/").concat(e.achievement_id)})}));Ae((function(){return i}))}else p((function(){return!0})),T((function(e){return{firstTab:Fe.INACTIVE,secondTab:Fe.NULL,focusTabIndex:"active"===xe?0:1}}))}h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var Ze=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Title"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(f.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(f.jsx)(Bt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),setArchivedDocData:Ae,docType:"objective-achievements",idName:"achievement_id"})}}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:v,setSideNavStatus:g,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Objective Achivement Program"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Objective Achievement Program"}),Object(f.jsx)(ze,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:pe,pageType:"objAchivProgram",isApprover:Ce,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,tempFileArr:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:[Object(f.jsx)(Ye,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"objAchivProgram"}),Object(f.jsx)(ce,{isDocCollapsed:M,children:Object(f.jsx)(wt,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,setDocPendingTableData:te,docRejectedHeaderData:pe,docRejectedTableData:le,docColumns:Ke,docType:"objAchivProgram",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,tempFileArr:Ge,setTempFileArr:Xe,startNewDoc:o,setStartNewDoc:l})})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?He?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:Ze,pagination:qt()()}):Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:_e,columns:be,pagination:qt()()}):"No records found!"]})]})})]})},ra=function(e){var t=e.match.params.oapID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(n.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/objective-achievements/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){if(void 0!==e.data.results){var t=e.data.results.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id})}));v((function(){return t}));var a={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:J()(new Date(e.data.results.approved_on)).format("MMMM D, YYYY h:mm A")};p((function(){return a}))}else{var n=e.data.items.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:e.achievement_id})}));v((function(){return n}));var c={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};p((function(){return c}))}})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/objective-achievement-program",children:"Objective Achivement Program"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Objective Achievement Program"})}),Object(f.jsx)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(f.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(f.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),x.map((function(e,t){return Object(f.jsx)(St,{docType:"active",itemContent:e},t)}))]})})})]})})},sa=function(e){var t=e.type,a=e.link,n=e.linkDisplay,c=e.children;return Object(f.jsx)("div",{className:"l-Settings-Bento-Box",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box",children:[Object(f.jsx)("div",{className:"row"===t?"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row":"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column",children:c}),Object(f.jsx)("div",{className:"c-Settings-Bento-Box__Link",children:Object(f.jsx)("a",{href:a,children:n})})]})})},ia=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.company_id,c=t.display_name,r=t.display_title,s=t.email,i=t.company_name,o=t.company_alias,l=t.employee_id,u=Object(n.useState)(C),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(n.useState)(null),O=Object(d.a)(m,2),x=O[0],v=O[1];return Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/employees/").concat(l),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),v((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(L,{sideNavStatus:b,setSideNavStatus:p,title:"Settings",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Settings c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Settings__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Settings"})]}),Object(f.jsx)("div",{className:"c-Settings__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Settings"})}),Object(f.jsxs)("div",{className:"l-Settings__Bento-box",children:[Object(f.jsxs)("div",{className:"l-Bento-box__User-settings l-Bento-box",children:[Object(f.jsx)("h2",{className:"l-Bento-box__Header",children:"User Settings"}),Object(f.jsxs)(sa,{type:"row",link:"/settings/manage-account",linkDisplay:"Manage your account settings",children:[Object(f.jsx)("div",{className:"c-Settings-Bento-Box__User-image",children:Object(f.jsx)("img",{src:M,alt:"User pic"})}),Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__User-details",children:[Object(f.jsx)("p",{children:c||"Error"}),Object(f.jsx)("p",{children:r||"Error"}),Object(f.jsx)("p",{children:s||"Error"}),Object(f.jsx)("p",{children:i||"Error"})]})]})]}),2===x||3===x?Object(f.jsxs)("div",{className:"l-Bento-box__Org-settings l-Bento-box",children:[Object(f.jsx)("h2",{className:"l-Bento-box__Header",children:"Organisation Settings"}),2===x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(sa,{type:"column",link:"/settings/manage-organization",linkDisplay:"Manage your organization settings",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-org",children:[Object(f.jsx)("h1",{children:o||"Error"}),Object(f.jsx)("h2",{children:i||"Error"})]})}),Object(f.jsx)(sa,{type:"column",link:"/settings/manage-users",linkDisplay:"Manage your users",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-users",children:[Object(f.jsx)("h1",{children:"Manage users"}),Object(f.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null,Object(f.jsx)(sa,{type:"column",link:"/settings/manage-invites",linkDisplay:"Manage invites",children:Object(f.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-invites",children:[Object(f.jsx)("h1",{children:"Manage invites"}),Object(f.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null]})]})})})},oa=a(192),la=function(e){var t=e.tagListing,a=e.deletable;return Object(f.jsx)("div",{className:"l-Role-tags",children:Object(f.jsxs)("div",{className:"c-Role-tags",children:[Object(f.jsx)("h1",{children:t}),a?Object(f.jsx)("button",{type:"button",children:Object(f.jsx)(E.b.Provider,{value:{color:"white",size:"16px"},children:Object(f.jsx)(oa.a,{})})}):null]})})},da=a(52),ua=function(e){var t=e.errMsg,a=e.errStatus,n=e.errStatusText;return Object(f.jsx)("div",{className:"l-Error-card",children:Object(f.jsx)("div",{className:"c-Error-card",children:Object(f.jsxs)(da.a,{variant:"danger",children:[Object(f.jsxs)(da.a.Heading,{children:["Error Code: ",a||"Unknown"," ",n||null," "]}),Object(f.jsx)("p",{children:t||"An unknown error has occured, try accessing again later!"})]})})})},ja=function(){var e=y.getToken(),t=y.getDecodedToken(),a=t.employee_id,c=t.company_id,r=_.toastTiming,s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),m=b[0],x=b[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)(!1),S=Object(d.a)(D,2),I=S[0],F=S[1],E=Object(n.useState)(!1),w=Object(d.a)(E,2),R=w[0],q=w[1],H=/\d/,Y=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,U=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),z=Object(d.a)(U,2),Q=z[0],V=z[1],W=Object(n.useState)({oldpassword:"",password:"",confirmPassword:""}),J=Object(d.a)(W,2),G=J[0],K=J[1],Z=Object(n.useState)({fullName:"Error",username:"Error",jobTitle:"Error",email:"Error",emailDisplay:"Error",companyName:"Error",firstName:"Error",lastName:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"},roles:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ne=Object(d.a)(ae,2),ce=ne[0],re=ne[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(a,"?roles=true&address=true&company=true"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,a={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,emailDisplay:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code},roles:t.roles};te((function(){return a}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),re((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))})),V((function(){return{minChar:G.password.length>=8,number:!!H.test(G.password),specialChar:!!Y.test(G.password),match:G.password===G.confirmPassword}}))}),[G]);var se=function(e){K((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},ie=function(e){te((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},oe=function(e){te((function(t){return Object(u.a)(Object(u.a)({},t),{},{address:Object(u.a)(Object(u.a)({},t.address),{},Object(p.a)({},e.target.name,e.target.value))})}))},le=function(e){if("editAccount"!==e&&"editAccountCancel"!==e||x((function(e){return!e})),"editAccountSave"===e){var t={message:"You are about to save account details. Click confirm to proceed.",handler:function(e){return ue(e)},heading:"Confirm Save?",type:"primary"};return Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}if("changePassword"!==e&&"changePasswordCancel"!==e||N((function(e){return!e})),"changePasswordSave"===e){var a={message:"You are about to change password. Click confirm to proceed.",handler:function(e){return de(e)},heading:"Confirm Change Password?",type:"primary"};return Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},a),{},{onClose:t}))}})}},de=function(t){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/change"),{old_password:G.oldPassword,new_password:G.password},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Changed Password successfully!");var a=e.data;console.log(a),q((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),t()})).catch((function(e){console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),q((function(){return!1})),t()}))},ue=function(t){q((function(){return!0})),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(a),{firstname:ee.firstName,lastname:ee.lastName,email:ee.email,address:{address_line_one:ee.address.line1,address_line_two:ee.address.line2,city:ee.address.city,state:ee.address.state,country:ee.address.country,postal_code:ee.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated User Details successfully!");var a=e.data;console.log(a),q((function(){return!1})),te((function(e){return Object(u.a)(Object(u.a)({},e),{},{emailDisplay:ee.email})})),x((function(){return!1})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated User Details successfully!"})]})),t()})).catch((function(e){console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),q((function(){return!1})),t()}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage Account",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(f.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Account"})]}),Object(f.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Account"}),m||ce.render?null:Object(f.jsx)("button",{onClick:function(){return le("editAccount")},type:"button",className:A?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!A,children:"Edit"})]}),ce.render?Object(f.jsx)(ua,{errMsg:ce.errMsg,errStatus:ce.errStatus,errStatusText:ce.errStatusText}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Manage-account__Profile-card c-Profile-card",children:[Object(f.jsxs)("div",{className:"l-Profile-card__Left",children:[Object(f.jsx)("img",{src:M,alt:"Profile img"}),Object(f.jsx)("span",{children:"Change profile picture"})]}),Object(f.jsxs)("div",{className:"l-Profile-card__Right",children:[Object(f.jsx)("h1",{children:ee.fullName}),Object(f.jsxs)("h2",{children:["@",ee.username]}),Object(f.jsx)("p",{children:ee.jobTitle}),Object(f.jsx)("p",{children:ee.emailDisplay}),Object(f.jsx)("p",{children:ee.companyName})]})]}),m?Object(f.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"firstName",value:ee.firstName})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"lastName",value:ee.lastName})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"email",value:ee.email})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("p",{children:"Role(s)"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"line1",value:ee.address.line1})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"line2",value:ee.address.line2})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"city",value:ee.address.city})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"country",value:ee.address.country})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"postalCode",value:ee.address.postalCode})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"state",value:ee.address.state})]})]}),Object(f.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[I?Object(f.jsx)("button",{onClick:function(){return le("editAccountSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:R?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return le("editAccountCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"firstName",value:ee.firstName})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"lastName",value:ee.lastName})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"email",value:ee.email})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"username",value:ee.username})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("p",{children:"Role(s)"}),ee.roles.map((function(e,t){return Object(f.jsx)(la,{tagListing:"".concat(e.name),deletable:!1},t)}))]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"organisation",children:"Organisation"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"organisation",value:ee.companyName})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"address_line_one",children:"Address Line One"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"address_line_one",value:ee.address.line1})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"address_line_two",children:"Address Line Two"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"address_line_two",value:ee.address.line2})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"city",value:ee.address.city})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"country",value:ee.address.country})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"postal_code",value:ee.address.postalCode})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"state",value:ee.address.state})]})]})]}),Object(f.jsxs)("div",{className:"l-Manage-account__Password",children:[Object(f.jsx)("h1",{children:"Password and Authentication"}),A?Object(f.jsxs)("div",{className:"c-Change-Password",children:[Object(f.jsx)("p",{children:"Enter your current password and a new password"}),Object(f.jsxs)("div",{className:"c-Change-Password__Current-password",children:[Object(f.jsx)("label",{htmlFor:"oldPassword",children:"Current Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"oldPassword"})]}),Object(f.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(f.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"password"})]}),Object(f.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),Object(f.jsx)("input",{onChange:se,type:"password",name:"confirmPassword"})]}),Object(f.jsx)(T,{validity:Q}),Object(f.jsxs)("div",{className:"c-Change-Password__Btns",children:[!0===Q.minChar&&!0===Q.number&&!0===Q.specialChar&&!0===Q.match?Object(f.jsx)("button",{onClick:function(){return le("changePasswordSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:"Save"}),Object(f.jsx)("button",{onClick:function(){return le("changePasswordCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsx)("div",{className:"c-Change-Password__Btns",children:Object(f.jsx)("button",{onClick:function(){return le("changePassword")},type:"button",className:m?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!m,children:"Change Password"})})]})]})]})})]})},ba=function(){var e=Jt.Search.SearchBar,t=Jt.Search.ClearSearchButton,a=(Object(j.g)(),y.getToken()),c=y.getDecodedToken(),r=c.company_id,s=(c.employee_id,c.admin_level),i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),O=m[0],x=m[1],v=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),g=Object(d.a)(v,2),_=g[0],A=g[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/employees?roles=true"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1,username:e.account.username,accountStatus:e.account.status})}));console.log(t),x((function(){return t}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),A((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))}))}),[]);var N=[{dataField:"employee_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#",editable:!1},{dataField:"admin_level",text:"Admin level",formatter:function(e,t){return 0===e?"Normal user":1===e?"Platform admin":2===e?"System admin":3===e?"Secondary Admin":void 0}},{dataField:"email",text:"Email",editable:!1},{dataField:"title",text:"Job Title"},{dataField:"username",text:"Username",editable:!1},{dataField:"roles",text:"Role(s)",editable:!1,formatter:function(e,t){return 0===e.length?"Nil":e.map((function(t,a){return e.length===a+1?t.name:Object(f.jsxs)("div",{children:[t.name+",",Object(f.jsx)("br",{})]},a)}))}},{dataField:"accountStatus",text:"Status",formatter:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)}},{dataField:"account_action",text:"",hidden:2!==s,isDummyField:!0,formatter:function(e,t){return Object(f.jsx)("a",{href:"/settings/manage-users/manage-user/".concat(t.employee_id),children:"Manage"})}}];return Object(f.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Manage Users",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-users c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-users l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Users"})]}),Object(f.jsx)("div",{className:"c-Manage-users__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Users"})}),_.render?Object(f.jsx)(ua,{errMsg:_.errMsg,errStatus:_.errStatus,errStatusText:_.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"c-Manage-users__Table",children:Object(f.jsx)(Gt.a,{keyField:"employee_id",data:O,columns:N,search:!0,children:function(a){return Object(f.jsxs)("div",{className:"c-Table",children:[Object(f.jsxs)("div",{className:"c-Table__Top",children:[Object(f.jsx)(e,Object(u.a)({},a.searchProps)),Object(f.jsx)(t,Object(u.a)({className:"c-Table__Clear-btn"},a.searchProps))]}),Object(f.jsx)("hr",{}),Object(f.jsx)(Me.a,Object(u.a)(Object(u.a)({},a.baseProps),{},{bordered:!1,pagination:qt()()}))]})}})})})]})})},pa=function(e){var t=e.match.params.employeeID,a=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)({roles:[]}),b=Object(d.a)(j,2),m=b[0],x=b[1],v=Object(n.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)({roles:"",jobTitle:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)({jobTitle:!1}),F=Object(d.a)(M,2),w=F[0],k=F[1],P=Object(n.useState)(!1),B=Object(d.a)(P,2),R=B[0],H=B[1],Y=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(n.useState)(0),W=Object(d.a)(V,2),J=W[0],G=W[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t,"?roles=true&company=true"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results,a={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,roles:t.roles,accountStatus:t.account.status,adminLevel:t.admin_level};G((function(){return t.admin_level})),x((function(){return a}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),Q((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))})),h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/roles"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results;N((function(){return t}))})).catch((function(e){console.log(e),console.log(e.response),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),Q((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[R]),Object(n.useEffect)((function(){I((function(){return{role:"",jobTitle:m.jobTitle}}))}),[m]);var K=function(e,n){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(t,"/roles"),{roles:function(){if("add"===e){var t=m.roles.map((function(e,t){return e.role_id}));return t.push(S.roles),console.log(t),t}if("delete"===e){var a=m.roles.map((function(e,t){return e.role_id})),c=a.indexOf(n);return a.splice(c,1),console.log(a),a}}()},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),H((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Roles updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},Z=function(e){var n;if("activated"===e){n="active";var r={message:"Are you sure you want to activate this account?",handler:function(e){return i(e)},heading:"Confirm Activate?",type:"primary"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},r),{},{onClose:t}))}})}else{n="deactivated";var s={message:"Are you sure you want to deactivate this account?",handler:function(e){return i(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},s),{},{onClose:t}))}})}var i=function(r){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{account_status:n},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),H((function(e){return!e})),r(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),r(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage User",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-user c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-user__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/manage-users",children:"Manage users"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage user"})]}),Object(f.jsx)("div",{className:"c-Manage-user__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage User"})}),z.render?Object(f.jsx)(ua,{errMsg:z.errMsg,errStatus:z.errStatus,errStatusText:z.errStatusText}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{className:"c-Manage-user__User-heading",children:["You are viewing settings for @","".concat(m.username)]}),Object(f.jsxs)("div",{className:"c-Manage-user__Inputs",children:[Object(f.jsxs)("div",{className:"c-Inputs__Left",children:[Object(f.jsxs)("div",{className:"c-Left__Admin-level",children:[Object(f.jsx)("label",{htmlFor:"adminLevel",children:"Admin Level"}),Object(f.jsxs)("select",{disabled:2===J,name:"adminLevel",onChange:function(e){x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,[e.target.value]))}))},value:m.adminLevel||0,children:[Object(f.jsx)("option",{value:"0",children:"Normal User"}),Object(f.jsx)("option",{value:"3",children:"Secondary Admin"})]}),Object(f.jsx)("button",{disabled:2===J,type:"button",className:2===J?"c-Btn c-Btn--disabled":"c-Btn c-Btn--primary",onClick:function(){2!==J?(console.log(m.adminLevel),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{admin_level:m.adminLevel},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),H((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:" Admin level has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))):O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error! Message: ",Object(f.jsx)("b",{children:"Super admin cannot change its own level"})]}))},children:"Save"})]}),Object(f.jsxs)("div",{className:"c-Left__Job-title",children:[Object(f.jsx)("h2",{children:"Job Title"}),Object(f.jsx)("div",{className:"c-Job-title__Input",children:w.jobTitle?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",name:"jobTitle",value:S.jobTitle||"",onChange:function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))}}),Object(f.jsxs)("div",{className:"c-Input__Btn-section",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{title:S.jobTitle},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),I((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:m.jobTitle})})),k((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})),H((function(e){return!e})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Job title has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))},children:"Save"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){"jobTitle"==="jobTitle"&&(I((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:m.jobTitle})})),k((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})))},children:"Cancel"})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"text",value:m.jobTitle||"",disabled:!0}),Object(f.jsx)("div",{className:"c-Input__Btn-section c-Btn-section--edit",children:Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&(k((function(e){return Object(u.a)(Object(u.a)({},e),{},{jobTitle:!e.jobTitle})})),console.log(S))},children:"Edit"})})]})})]})]}),Object(f.jsxs)("div",{className:"c-Inputs__Right",children:[Object(f.jsx)("label",{htmlFor:"roles",children:"Current Role(s)"}),Object(f.jsxs)("select",{name:"roles",onChange:function(e){var t=parseInt(e.target.value);I((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(p.a)({},e.target.name,t))}))},value:S.roles,children:[Object(f.jsx)("option",{value:"",children:"Please select a role"}),A.map((function(e,t){var a=!1;return m.roles.forEach((function(t,n){e.role_id===t.role_id&&(a=!0)})),a?null:Object(f.jsx)("option",{value:e.role_id,children:e.name},t)}))]}),m.roles.map((function(e,t){return Object(f.jsxs)("div",{className:"c-Roles__Data",children:[e.name,Object(f.jsx)("div",{className:"c-Data__Delete-Btn",children:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{onClick:function(){return K("delete",e.role_id)}})})})]},t)})),function(){var e=!1,t=A.map((function(e,t){return e.role_id})),a=m.roles.map((function(e,t){return e.role_id}));return JSON.stringify(t.sort())===JSON.stringify(a.sort())&&(e=!0),e?Object(f.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--disabled",disabled:!0,children:"Add"}):Object(f.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--primary",onClick:function(){return K("add")},children:"Add"})}()]})]}),Object(f.jsx)("div",{className:"c-Manage-user__Inputs"}),2===J?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"c-Manage-user__Inputs",children:Object(f.jsxs)("div",{className:"c-Inputs__Danger-zone",children:[Object(f.jsx)("h2",{children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:"active"===m.accountStatus?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return Z("deactivated")},children:"Deactivate user"}),Object(f.jsxs)("div",{className:"c-Row__Info",children:[Object(f.jsx)("h3",{children:"Deactivate this user"}),Object(f.jsx)("p",{children:"The user will not have access to the company's eISO system."})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return Z("activated")},children:"Activate user"}),Object(f.jsxs)("div",{className:"c-Row__Info",children:[Object(f.jsx)("h3",{children:"Activate this user"}),Object(f.jsx)("p",{children:"The user will regain access to the company's eISO system."})]})]})})]})})})]})]})})]})},ma=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=(t[0],t[1],Object(j.g)());return Object(f.jsx)("div",{className:"c-Page-not-found",children:Object(f.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(f.jsxs)(da.a,{variant:"danger",children:[Object(f.jsx)(da.a.Heading,{children:"Oh snap! You got an error!"}),Object(f.jsx)("p",{children:"This page doesn't exists :/ Would you like to go back?"}),Object(f.jsx)("button",{className:"c-Alert-box__Back-btn c-Btn c-Btn--cancel",onClick:function(){a.goBack()},children:"Go back"})]})})})},ha=function(e){var t=e.match.params.rnoID,a=y.getToken(),c=y.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),j=u[0],b=u[1],p=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),m=Object(d.a)(p,2),O=m[0],x=m[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/risks-analyses/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),weakness:e.data.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),opp:e.data.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),threat:e.data.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}}))};x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(f.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(f.jsxs)("div",{className:"c-RNO c-Main",children:[Object(f.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/risk-n-opportunity",children:"Risk and Opportunity"}),Object(f.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(f.jsx)("div",{className:"c-RNO__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Risk and Opportunity (Archived)"})}),Object(f.jsx)("div",{className:"c-RNO__Document c-Main__Document",children:Object(f.jsx)(ce,{children:Object(f.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(f.jsx)("h1",{className:"c-Document__Title",children:j.title?j.title:null}),Object(f.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"Approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Approved on:"})]}),Object(f.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(f.jsx)("p",{children:j.approved_by?j.approved_by:"Error"}),Object(f.jsx)("p",{children:j.created_by?j.created_by:"Error"}),Object(f.jsx)("p",{children:j.approved_on?j.approved_on:"Error"})]})]}),Object(f.jsxs)("div",{className:"c-RNO__Table",children:[Object(f.jsx)("h1",{children:"Strengths"}),O.strength.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Weakness"}),O.weakness.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Opportunities"}),O.opp.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(f.jsx)("h1",{children:"Threats"}),O.threat.map((function(e,t){return console.log(e),Object(f.jsx)(ft,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})})})]})})},Oa=a(195),xa=function(){Jt.Search.SearchBar,Jt.Search.ClearSearchButton,Object(j.g)();var e=y.getToken(),t=y.getDecodedToken().company_id,a=_.toastTiming,c=Object(n.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)([]),l=Object(d.a)(o,2),b=(l[0],l[1],Object(n.useState)(!1)),m=Object(d.a)(b,2),x=m[0],v=m[1],g=Object(n.useState)({name:"",email:"",title:""}),A=Object(d.a)(g,2),N=A[0],D=A[1],T=function(e){console.log(N),console.log(e.target.name),console.log(e.target.value),D((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Invites",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-invites c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-invites l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Invites"})]}),Object(f.jsx)("div",{className:"c-Manage-invites__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage Invites"})}),Object(f.jsxs)("div",{className:"c-Manage-invites__Send-email",children:[Object(f.jsx)("h2",{children:"Send Invite*"}),x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Oa.a,{animation:"border",role:"status"}),Object(f.jsx)("p",{children:"Loading..."})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"c-Send-email__Input",children:[Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"name",placeholder:"Name",value:N.name})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Job Title"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"title",placeholder:"Job Title",value:N.title})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{type:"text",onChange:T,name:"email",placeholder:"Email",value:N.email})]}),Object(f.jsxs)("div",{className:"c-Input__Row",children:[Object(f.jsx)("label",{htmlFor:"induction_template",children:"Induction Template"}),Object(f.jsx)("select",{name:"induction_template",children:Object(f.jsx)("option",{value:null,children:"Assign an induction template"})})]})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"*"}),"Users who sign up through the invite link will have the role of 'Normal User'."]}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){var a={message:"You are about to send an invite link to ".concat(N.email," to the system. Click confirm to proceed."),handler:function(e){return n(e)},heading:"Confirm send invite?",type:"primary"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},a),{},{onClose:t}))}});var n=function(a){a(),v((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/invites/new/user"),N,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["Email has been sent to: ","".concat(N.email),"!"]})]})),v((function(){return!1})),D((function(){return{name:"",email:"",title:""}}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),v((function(){return!1})),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]}))}))}},children:"Send Invite"})]})]}),Object(f.jsxs)("div",{className:"c-Manage-invites__Table",children:[Object(f.jsx)("h2",{children:"Invites List"}),Object(f.jsx)("p",{children:"Coming soon..."})]})]})})]})},va=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,a=_.toastTiming,c=Object(n.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1],m=Object(n.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)(!1),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)({companyName:"Error",businessRegNum:"Error",companyAlias:"Error",createdOn:"Error",status:"Error",description:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"}}),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),w=Object(d.a)(E,2),R=w[0],q=w[1];Object(n.useEffect)((function(){h.a.get("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,a={companyName:t.name,businessRegNum:t.business_registration_number,companyAlias:t.alias,createdOn:t.created_at,status:t.status,description:t.description,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code}};F((function(){return a}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),q((function(t){return Object(u.a)(Object(u.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[e,t]);var H=function(e){F((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Y=function(e){F((function(t){return Object(u.a)(Object(u.a)({},t),{},{address:Object(u.a)(Object(u.a)({},t.address),{},Object(p.a)({},e.target.name,e.target.value))})}))},U=function(e){if("editCompany"!==e&&"editCompanyCancel"!==e||b((function(e){return!e})),"editCompanySave"===e){var t={message:"You are about to save new company details. Click confirm to proceed.",handler:function(e){return z(e)},heading:"Confirm Save?",type:"primary"};return Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}},z=function(a){T((function(){return!0})),h.a.put("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{name:M.companyName,business_registration_number:M.businessRegNum,alias:M.companyAlias,status:M.status,description:M.description,address:{address_line_one:M.address.line1,address_line_two:M.address.line2,city:M.address.city,state:M.address.state,country:M.address.country,postal_code:M.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated Company Details successfully!");var t=e.data;console.log(t),T((function(){return!1})),b((function(){return!1})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated Company Details successfully!"})]})),a()})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]})),T((function(){return!1})),a()}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Account",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(f.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Organization"})]}),Object(f.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Organization"}),j||R.render?null:Object(f.jsx)("button",{onClick:function(){return U("editCompany")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),R.render?Object(f.jsx)(ua,{errMsg:R.errMsg,errStatus:R.errStatus,errStatusText:R.errStatusText}):j?Object(f.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"companyName",value:M.companyName})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"businessRegNum",value:M.businessRegNum})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"companyAlias",value:M.companyAlias})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"line1",value:M.address.line1})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"line2",value:M.address.line2})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"city",value:M.address.city})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"country",value:M.address.country})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"postalCode",value:M.address.postalCode})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:Y,name:"state",value:M.address.state})]})]}),Object(f.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"description",value:M.description})]})}),Object(f.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[v?Object(f.jsx)("button",{onClick:function(){return U("editCompanySave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return U("editCompanyCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"companyName",value:M.companyName})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"businessRegNum",value:M.businessRegNum})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"companyAlias",value:M.companyAlias})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:J()(new Date(M.createdOn)).format("MMMM D, YYYY h:mm A")})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"line1",value:M.address.line1})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"line2",value:M.address.line2})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"city",children:"City"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"city",value:M.address.city})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"country",children:"Country"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"country",value:M.address.country})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"postalCode",value:M.address.postalCode})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"state",children:"State"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"state",value:M.address.state})]})]}),Object(f.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(f.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"description",value:M.description})]})})]})]})})]})},fa=a(196),ga=a.n(fa),_a=a(94),Aa=function(){var e=Object(j.g)(),t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),v=m[0],A=m[1],y=Object(n.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1],S=Object(n.useState)({username:"",password:""}),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(n.useState)(!1),w=Object(d.a)(F,2),R=w[0],q=w[1],H=_.toastTiming;Object(n.useEffect)((function(){""!==C.username?r((function(){return!0})):r((function(){return!1})),l(""!==D?function(){return!0}:function(){return!1})}),[C,D]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:H,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsxs)("div",{className:"c-Login__Card",children:[Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.username.value;console.log(t),e.preventDefault(),q((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/new"),{username:t},{}).then((function(e){console.log("Sent OTP successfully!");var t=e.data;console.log(t),q((function(){return!1})),A(!0),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"OTP has been sent!"})]}))})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),q((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)(k.a,{children:Object(f.jsxs)(P.a,{children:[Object(f.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(_a.a,{onClick:function(){return e.goBack()}})})}),Object(f.jsx)(B.a,{xs:11,children:Object(f.jsx)("h4",{children:"Forgot Password"})})]})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:C.username||"",onChange:function(e){M((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},placeholder:"username"}),Object(f.jsx)("p",{className:"c-Username__Information-message text-muted",children:"We will send a one time password for verification to your email address"})]}),c?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Send OTP"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Send OTP"})]}),v?Object(f.jsxs)("form",{onSubmit:function(t){console.log(D),console.log(C.username),t.preventDefault(),q((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/check"),{username:C.username,otp:D},{}).then((function(t){console.log("Checked OTP successfully!");var a=t.data;console.log(a),q((function(){return!1})),e.push("/change-password/".concat(C.username,"/").concat(D))})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),q((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Username",children:Object(f.jsx)("label",{htmlFor:"otp",children:"Key in OTP"})}),Object(f.jsx)(ga.a,{value:D,onChange:function(e){T((function(){return e}))},numInputs:6,inputStyle:"",className:"otpInput",name:"otp"}),o?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Submit"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Submit"})]}):""]})})})]})},ya=function(e){var t=e.match,a=t.params.username,c=t.params.otp,r=/\d/,s=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,i=_.toastTiming,o=Object(j.g)(),l=Object(n.useState)(!1),b=Object(d.a)(l,2),m=b[0],v=b[1],A=Object(n.useState)(!1),y=Object(d.a)(A,2),N=y[0],D=y[1],S=Object(n.useState)({password:"",confirmPassword:""}),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),w=Object(d.a)(F,2),R=w[0],q=w[1],H=Object(n.useState)(!1),Y=Object(d.a)(H,2),U=Y[0],L=Y[1];Object(n.useEffect)((function(){""!==C.password&&""!==C.confirmPassword?v((function(){return!0})):v((function(){return!1})),q((function(){return{minChar:C.password.length>=8,number:!!r.test(C.password),specialChar:!!s.test(C.password),match:C.password===C.confirmPassword}}))}),[C]);var z=function(e){M((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:i,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(g,{title:"Login"}),Object(f.jsx)("div",{className:"c-Login",children:Object(f.jsx)("div",{className:"l-Login__Card",children:Object(f.jsx)("div",{className:"c-Login__Card",children:Object(f.jsxs)("form",{onSubmit:function(e){var t=e.target.password.value;e.preventDefault(),L((function(){return!0})),h.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/change"),{otp:c,password:t,username:a},{}).then((function(e){console.log("Changed Password successfully!");var t=e.data;console.log(t),L((function(){return!1})),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),o.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a})]})),L((function(){return!1}))}))},children:[Object(f.jsx)("div",{className:"c-Card__Logo",children:Object(f.jsx)("img",{src:x,alt:"logo"})}),Object(f.jsx)(k.a,{children:Object(f.jsxs)(P.a,{children:[Object(f.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(f.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(f.jsx)(_a.a,{onClick:function(){return o.goBack()}})})}),Object(f.jsx)(B.a,{xs:11,children:Object(f.jsx)("h4",{children:"Change Password"})})]})}),Object(f.jsxs)("div",{className:"c-Card__Username",children:[Object(f.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(f.jsx)("input",{type:"password",onFocus:function(){return D(!0)},name:"password",value:C.password||"",onChange:z,placeholder:"Password"})]}),Object(f.jsxs)("div",{className:"c-Card__Password",children:[Object(f.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",name:"confirmPassword",value:C.confirmPassword||"",onChange:z,placeholder:"Confirm Password"})]}),N&&Object(f.jsx)(T,{validity:R}),m&&!0===R.minChar&&!0===R.number&&!0===R.specialChar&&!0===R.match?Object(f.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:U?"Loading...":"Change Password"}):Object(f.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Change Password"})]})})})})]})},Na=function(){var e=_.toastTiming,t=Object(j.g)(),a=y.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(n.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(n.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(n.useState)(null),E=Object(d.a)(F,2),w=E[0],k=E[1],P=Object(n.useState)(""),B=Object(d.a)(P,2);B[0],B[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i,l,d,u,j,b,p,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/approve/m07_01/employees"));case 3:if(a=t.sent,!e){t.next=58;break}if(n=!1,a.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),s=[],i=[],l=[],!n){t.next=40;break}if(w){t.next=20;break}return t.next=14,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"));case 14:d=t.sent,console.log(d),s=d.data.results,console.log(s),t.next=26;break;case 20:return t.next=22,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(w,"/all-equipment"));case 22:u=t.sent,console.log(u),s=u.data.results.equipment,console.log(s);case 26:return t.next=28,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 28:return j=t.sent,console.log(j),i=j.data.results,console.log(i),t.next=34,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment?archived=1"));case 34:b=t.sent,console.log(b),l=b.data.results,console.log(l),t.next=55;break;case 40:if(w){t.next=49;break}return t.next=43,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/assigned-equipment"));case 43:p=t.sent,console.log(p),s=p.data.results,console.log(s),t.next=55;break;case 49:return t.next=51,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(w,"/assigned-equipment"));case 51:m=t.sent,console.log(m),s=m.data.results,console.log(s);case 55:D((function(){return i.map((function(e,t){return{id:e.category_id,serialNo:t+1,name:e.name,createdOn:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_manage:"/equipment-maintenance/manage-category/".concat(e.category_id)}}))})),v((function(){return s.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,action_manage:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))})),M((function(){return l.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,archived_on:J()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_view:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))}));case 58:t.next=63;break;case 60:t.prev=60,t.t0=t.catch(0),console.log(t.t0);case 63:case"end":return t.stop()}}),t,null,[[0,60]])})))(),function(){e=!1}}),[w]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:u,setSideNavStatus:b,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Equipment Maintenance Program"})]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Equipment Maintenance Programme"}),Object(f.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-equipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Equipment"})]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Filter",children:[Object(f.jsx)("h4",{children:"Filter (Category)"}),Object(f.jsxs)("select",{type:"text",name:"filterCategory",onChange:function(e){k(e.target.value)},value:w||"Error",children:[Object(f.jsx)("option",{children:N?"All":"No categories found!"}),N?N.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.name},t)})):null]})]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:x,columns:me,pagination:qt()()})}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance-category__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Equipment Categories"}),Object(f.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-category")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Category"})]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:N,columns:pe,pagination:qt()()})}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(Me.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:I,columns:he,pagination:qt()()})]})]})})]})},Da=function(e){var t=e.match,a=y.getToken(),c=y.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(n.useState)(!1),b=Object(d.a)(i,2),m=(b[0],b[1]),x=Object(j.g)(),v=Object(n.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(n.useState)(!1)),M=Object(d.a)(I,2),F=M[0],w=M[1],R=Object(n.useState)({users:""}),H=Object(d.a)(R,2),Y=(H[0],H[1],Object(n.useState)({username:[]})),U=Object(d.a)(Y,2),z=(U[0],U[1],Object(n.useState)({name:"Error",category:[],refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",location:"Error",archivedAt:null})),Q=Object(d.a)(z,2),V=Q[0],W=Q[1],J=Object(n.useState)([]),G=Object(d.a)(J,2),K=G[0],Z=G[1],$=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ee=Object(d.a)($,2),te=ee[0],ne=(ee[1],Object(n.useState)(!1)),ce=Object(d.a)(ne,2),re=ce[0],se=ce[1],ie=Object(n.useState)(C),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],ue=Object(n.useState)(!1),je=Object(d.a)(ue,2),be=(je[0],je[1],Object(n.useState)([])),pe=Object(d.a)(be,2),me=(pe[0],pe[1],t.params.emID);Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],a=[],e.next=5,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(me));case 5:return n=e.sent,console.log(n),t=n.data.results,console.log(t),e.next=11,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/categories"));case 11:c=e.sent,console.log(c),a=c.data.results,console.log(a),W((function(){return{id:t.equipment_id,name:t.name,category:t.categories.map((function(e){return e.name})),refNo:t.reference_number,regNo:t.register_number,model:t.model,serialNo:t.serial_number,location:t.location,archivedAt:t.archived_at}})),Z((function(){return a.map((function(e){return{label:e.name,value:e.category_id}}))})),N((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:t+1,maintenanceType:e.type,responsible:function(){var t=[],a="";return e.assignees.map((function(e){a+=e.account.username+", "})),t.push(a.slice(0,-2)),a="",t}(),maintenanceFrequency:7===e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30===e.freq_unit_time?"".concat(e.freq_multiplier," months"):365===e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0,lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id),action_manage:"/equipment-maintenance/manage-equipment/".concat(me,"/manage-cycle/").concat(e.maintenance_id),action_delete:(console.log(e.maintenance_id),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return he(e.maintenance_id)}})}))}}))})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()}),[V.archivedAt]),console.log(V);var he=function(e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(t){return n(t,e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}});var n=function(e,t){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(me,"/all-maintenance/").concat(t),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),m((function(e){return!e})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}},xe=function(e){"add"===e&&x.push("/equipment-maintenance/manage-equipment/".concat(me,"/add-cycle")),"edit"===e&&se(!0),"editEquipmentCancel"===e&&se(!1),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(V),e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(V.id),{name:V.name,reference_number:V.refNo,register_number:V.regNo,serial_number:V.serialNo,model:V.model,location:V.location,categories:V.category.map((function(e){return e.value}))},{headers:{Authorization:"Bearer ".concat(a)}});case 4:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated equipment details!"})]})),se(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},ve=function(e){W((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},fe=function(e){console.log(e),W((function(t){return Object(u.a)(Object(u.a)({},t),{},{category:e})}))},ge=function(e){if("activated"===e){"active";var t={message:"Are you sure you want to activate this account?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}else{"deactivated";var n={message:"Are you sure you want to deactivate this account?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}})}var c=function(t){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(me,"/activate"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log(a),m((function(e){return!e})),t(),W(Object(u.a)(Object(u.a)({},V),{},{archivedAt:null})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),t(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},s=function(t){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(me,"/archive"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log(a),m((function(e){return!e})),t(),W(Object(u.a)(Object(u.a)({},V),{},{archivedAt:"refresh"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),t(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:le,setSideNavStatus:de,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Equipment"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Equipment"}),re||te.render?null:Object(f.jsx)("button",{onClick:function(){return xe("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),te.render?Object(f.jsx)(ua,{errMsg:te.errMsg,errStatus:te.errStatus,errStatusText:te.errStatusText}):Object(f.jsx)(f.Fragment,{children:re?Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"name",value:V.name})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"category",children:"Category"}),Object(f.jsx)(ae.a,{isMulti:!0,options:K,placeholder:"Select Category",onChange:fe,name:"categories"})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"refNo",value:V.refNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"location",value:V.location})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"regNo",value:V.regNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"model",value:V.model})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ve,name:"serialNo",value:V.serialNo})]})]}),Object(f.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[F?Object(f.jsx)("button",{onClick:function(){return xe("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return xe("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"name",value:V.name})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"category",children:"Category"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"category",value:function(){var e="";return V.category.forEach((function(t){e+=t+", "})),e.slice(0,-2)}()})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"refNo",value:V.refNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"location",value:V.location})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"regNo",value:V.regNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"model",value:V.model})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"serialNo",value:V.serialNo})]})]})]})}),Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:null===V.archivedAt?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return ge("deactivated")},children:"Archive Equipment"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"The equipment will be moved to archives."})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return ge("activated")},children:"Unarchive Equipment"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"The equipment will be restored from archives."})})]})})}),Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Maintenance Cycles"}),Object(f.jsx)("button",{onClick:function(){return xe("add")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(f.jsx)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:0!==A.length?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:A,columns:Oe,pagination:qt()()}):"No records found!"})]})})]})},Ta=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,a=_.toastTiming,c=Object(j.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=(s[0],s[1]),b=Object(n.useState)(!1),m=Object(d.a)(b,2),x=m[0],v=(m[1],Object(n.useState)(!1)),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)({name:"",categories:[],reference_number:"",register_number:"",model:"",serial_number:"",location:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)([]),F=Object(d.a)(M,2),E=F[0],w=F[1],R=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(R,2),H=q[0],Y=(q[1],Object(n.useState)(C)),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=function(a){if("addEquipment"===a){console.log(S);var n={message:"Are you sure you want to add this equipment?",handler:function(e){return r(e)},heading:"Confirm Add?",type:"primary"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}})}else"cancel"===a&&c.push("/equipment-maintenance");var r=function(a){h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/all-equipment"),Object(u.a)(Object(u.a)({},S),{},{categories:S.categories.map((function(e){return e.value}))}),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),i((function(e){return!e})),a(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New equipment has been added!"})]}))}),0),c.push("/equipment-maintenance")})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),a(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:t}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}},W=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},J=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{categories:e})}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 4:n=e.sent,console.log(n),a=n.data.results,console.log(a),w((function(){return 0===a.length?null:a.map((function(e){return{label:"".concat(e.name),value:e.category_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:z,setSideNavStatus:Q,title:"Add Equipment",activeLink:"/equipment-maintenance/add-equipment",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add Equipment"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Equipment"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?Object(f.jsx)("button",{onClick:function(){return V("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:x?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return V("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),H.render?Object(f.jsx)(ua,{errMsg:H.errMsg,errStatus:H.errStatus,errStatusText:H.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"name",value:S.name})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"categories",children:"Category"}),Object(f.jsx)(ae.a,{isMulti:!0,options:E,placeholder:"Select Category",onChange:J,name:"categories"})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"reference_number",children:"Ref. No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"reference_number",value:S.reference_number})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"register_number",children:"Reg. No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"register_number",value:S.register_number})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"model",value:S.model})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"serial_number",children:"Serial No."}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"serial_number",value:S.serial_number})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"location",children:"Location"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"location",value:S.location})]})]})]})})]})})]})},Sa=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,a=_.toastTiming,c=Object(j.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=s[1],m=Object(n.useState)(!1),x=Object(d.a)(m,2),v=x[0],g=x[1],A=Object(n.useState)({name:""}),N=Object(d.a)(A,2),D=N[0],T=N[1],S=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),I=Object(d.a)(S,2),M=I[0],F=(I[1],Object(n.useState)(C)),E=Object(d.a)(F,2),w=E[0],R=E[1],q=function(a){"addCategory"===a?(console.log(D),Object(l.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(!0),a.next=4,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"),D,{headers:{Authorization:"Bearer ".concat(e)}});case 4:n=a.sent,console.log(n),b(!1),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Inserted new category!"})]})),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),b(!1),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a.t0.response.status}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:a.t0.response.data.message})]}));case 15:case"end":return a.stop()}}),a,null,[[0,10]])})))()):"cancel"===a&&c.push("/equipment-maintenance")},H=function(e){T((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:w,setSideNavStatus:R,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-category",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add Category"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Category"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[v?Object(f.jsx)("button",{onClick:function(){return q("addCategory")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return q("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),M.render?Object(f.jsx)(ua,{errMsg:M.errMsg,errStatus:M.errStatus,errStatusText:M.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsx)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{onFocus:function(){return g(!0)},type:"text",onChange:H,name:"name",value:D.name})]})})})})]})})]})},Ia=function(e){var t=e.match,a=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.catID,b=Object(n.useState)(!1),m=Object(d.a)(b,2),x=(m[0],m[1]),v=Object(n.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(n.useState)(!1)),M=Object(d.a)(I,2),F=M[0],E=M[1],w=Object(n.useState)({name:"",description:"f"}),R=Object(d.a)(w,2),q=R[0],H=R[1],Y=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),U=Object(d.a)(Y,2),z=U[0],Q=(U[1],Object(n.useState)(C)),V=Object(d.a)(Q,2),W=V[0],G=V[1],K=function(e){"save"===e?(console.log(q),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i),q,{headers:{Authorization:"Bearer ".concat(a)}});case 3:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated category!"})]})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:e.t0.response.status}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:e.t0.response.data.message})]}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()):"cancel"===e?N(!1):"edit"===e&&N(!0)},Z=function(e){H((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i,"/assigned-equipment"));case 3:t=e.sent,console.log(t),a=t.data.results.name,n=t.data.results.created_at,A||H((function(){return{name:a,createdOn:J()(new Date(n)).format("MMMM D, YYYY h:mm A")}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:W,setSideNavStatus:G,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/manage-category",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Category"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Category"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?F?Object(f.jsx)("button",{onClick:function(){return K("save")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}):Object(f.jsx)("button",{onClick:function(){return K("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}),A?Object(f.jsx)("button",{onClick:function(){return K("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"}):null]})]}),z.render?Object(f.jsx)(ua,{errMsg:z.errMsg,errStatus:z.errStatus,errStatusText:z.errStatusText}):Object(f.jsx)(f.Fragment,{children:A?Object(f.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:Z,name:"name",value:q.name})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:q.createdOn})]})]})}):Object(f.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"name",value:q.name})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:q.createdOn})]})]})})}),Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("deleteCategory"===e){var t={message:"Are you sure you want to delete this Category?",handler:function(e){return n(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}var n=function(e){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(i),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),x((function(e){return!e})),e(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Category has been deleted!"})]}))}),0),s.push("/equipment-maintenance")})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}}("deleteCategory")},children:"Delete Category"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"This action cannot be undone"})})]})})]})})]})},Ca=function(){var e=_.toastTiming,t=Object(j.g)(),a=y.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(n.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i,l,d,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 3:if(a=t.sent,!e){t.next=31;break}if(n=!1,a.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),s=[],i=[],!n){t.next=24;break}return t.next=12,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences"));case 12:return l=t.sent,console.log(l),s=l.data.results,console.log(s),t.next=18,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences?archived=1"));case 18:d=t.sent,console.log(d),i=d.data.results,console.log(i),t.next=29;break;case 24:return t.next=26,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/equipment/assignments"));case 26:u=t.sent,console.log(u),s=u.data.results;case 29:v((function(){return s.map((function(e,t){return{id:e.licence_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at?e.expires_at:"NA",externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,a){t+=e.account.username+", "})),t.slice(0,-2)}(),status:"",action_manage:"/licenses/manage-license/".concat(e.licence_id)}}))})),D((function(){return i.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at?e.expires_at:"N.A",externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,a){t+=e.account.username+", "})),t.slice(0,-2)}(),archived_on:J()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_manage:"/licenses/manage-license/".concat(e.licence_id)}}))}));case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.log(t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})))(),function(){e=!1}}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:u,setSideNavStatus:b,title:"Permits Licenses",activeLink:"/licenses",children:Object(f.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Register of Permits, Licenses, Approvals & Certificates"})]}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)("button",{onClick:function(){t.push("/licenses/add-license")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(f.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:x,columns:ve,pagination:qt()()})}),Object(f.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(Me.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:N,columns:fe,pagination:qt()()})]})]})})]})},Ma=a(49),Fa=a.n(Ma),Ea=function(){var e=y.getToken(),t=y.getDecodedToken().company_id,a=_.toastTiming,c=Object(j.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=(s[1],Object(n.useState)(!1)),m=Object(d.a)(b,2),x=m[0],v=m[1],g=Object(n.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(n.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),E=Object(d.a)(F,2),w=E[0],R=(E[1],Object(n.useState)(C)),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=function(a){"addLicence"===a?(console.log(N),Object(l.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/licence-registry/all-licences"),N,{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=a.sent,console.log(n),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New License has been added!"})]})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()):"cancel"===a&&c.push("/licenses")},z=function(e){D((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},Q=function(e){console.log(e),D((function(t){return Object(u.a)(Object(u.a)({},t),{},{expDate:e})}))},V=function(e){console.log(e),D((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/approve/m07_02/employees"));case 3:return a=e.sent,console.log(a),n=[],e.next=8,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 8:c=e.sent,console.log(c),n=a.data.results,console.log(n),M((function(){return n.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:H,setSideNavStatus:Y,title:"Licenses",activeLink:"/licenses/add-equipment",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add License/Permit/Certificate"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add License/Permit/Certificate"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[x?Object(f.jsx)("button",{onClick:function(){return U("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return U("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),w.render?Object(f.jsx)(ua,{errMsg:w.errMsg,errStatus:w.errStatus,errStatusText:w.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:z,name:"license",value:N.license})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:z,name:"licenseNo",value:N.licenseNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)(Fa.a,{onChange:Q,value:N.expDate,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"externalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{onFocus:function(){return v(!0)},type:"text",onChange:z,name:"externalAgency",value:N.externalAgency})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)(ae.a,{isMulti:!0,options:I,placeholder:"Select Users",onChange:V})]})]})]})})]})})]})},wa=function(){Object(j.g)(),y.getToken(),y.getDecodedToken();var e=Object(n.useRef)(""),t=Object(n.useState)(C),a=Object(d.a)(t,2),c=a[0],r=a[1],s=[{id:1,serialNo:1,template_name:"IT Department Induction Template",action_manage:"/settings/induction-templates/induction-template/".concat(1)}];return Object(f.jsx)(L,{sideNavStatus:c,setSideNavStatus:r,title:"Induction Templates",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-templates c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-induction-templates__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Induction Templates"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Induction Templates"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(Ue.confirmAlert)({customUI:function(a){var n=a.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--new-template",children:[Object(f.jsx)("h1",{children:"Create new template"}),Object(f.jsx)("input",{placeholder:"Enter template name",name:"newTemplateName",ref:e}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return t(n)},children:"Create"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:n,children:" Cancel"})]})]})}});var t=function(e){}}()},children:"Add Template"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates__Table",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:s,columns:De})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-templates c-Main__Archives",children:[Object(f.jsx)("h1",{children:"History (Archived)"}),Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:s,columns:Te,pagination:qt()()})]})]})})},ka=function(e){var t=e.match,a=Object(j.g)(),c=(y.getToken(),y.getDecodedToken(),t.params.templateID,Object(n.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=[{id:1,serialNo:1,form_name:"AY2021 Induction Form for IT Department",version_label:"IT2021.1",status:"test",action_view:"/settings/manage-induction-templates/manage-induction-template/".concat(1,"/manage-induction-form/",1)}];return Object(f.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Induction Forms",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-versions c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-induction-versions l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Induction Versions"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-versions__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Induction Versions"}),Object(f.jsxs)("div",{className:"c-Manage-indudction-versions__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return a.push("/settings/induction-templates/induction-template-versions/".concat(1,"/create"))},children:"Create New Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",children:"Archive"})]})]}),Object(f.jsx)("div",{className:"c-Manage-induction-versions__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:o,columns:Se})})]})})},Pa=function(e){e.taskMode;var t=e.taskData;return console.log("test"),Object(f.jsxs)("div",{className:"c-Induction-form-task c-Induction-form-task--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-task__Header",children:Object(f.jsxs)("p",{className:"c-Induction-form-task__Text",children:["Task: ",(null===t||void 0===t?void 0:t.task)?t.task:"Could not retrieve section name"]})}),Object(f.jsx)("div",{className:"c-Induction-form-task__Table",children:0!==(null===t||void 0===t?void 0:t.length)?Object(f.jsx)(Me.a,{keyField:"order",bordered:!1,data:t.descriptions,columns:Ie}):"No records found!"})]})},Ba=function(e){var t,a,n=e.sectionData,c=e.formMode;return console.log(n),"edit"===c?Object(f.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(f.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===n||void 0===n?void 0:n.section)?n.section:"Could not retrieve section name"})}),Object(f.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===n||void 0===n||null===(t=n.tasks)||void 0===t?void 0:t.length)?n.tasks.map((function(e,t){return console.log("ram thjis"),Object(f.jsx)(Pa,{taskMode:"edit",taskData:e},t)})):"No records found!"})]}):Object(f.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(f.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(f.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===n||void 0===n?void 0:n.section)?n.section:"Could not retrieve section name"})}),Object(f.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===n||void 0===n||null===(a=n.tasks)||void 0===a?void 0:a.length)?n.tasks.map((function(e,t){return Object(f.jsx)(Pa,{taskData:e},t)})):"No records found!"})]})},Ra=function(e){var t=e.match,a=(Object(j.g)(),y.getToken(),y.getDecodedToken(),t.params.formID,t.params.templateID,Object(n.useState)(C)),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),o=Object(d.a)(i,2),l=o[0];o[1],"/settings/manage-induction-templates/manage-induction-template/".concat(1);return Object(n.useEffect)((function(){}),[]),Object(f.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Induction Templates",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-induction-form c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-induction-form l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/manage-induction-templates",children:"Manage Induction Templates"}),Object(f.jsx)(X.a.Item,{href:"/settings/manage-induction-templates/manage-induction-template/".concat(1),children:"Manage Induction Template"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Induction Form"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Induction Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Change to Active"})]}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document c-Main__Document",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(ce,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document-content",children:[Object(f.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(f.jsxs)("div",{className:"c-Manage-induction-form__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Manage-indcution-form__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsx)("div",{className:"c-IP__Document-header--right c-Document__Header--right"})]}),0!==l.length?l.map((function(e,t){return Object(f.jsx)(Ba,{sectionData:e},t)})):"No records found!"]})})]})]})})},qa=function(){var e=_.toastTiming,t=Object(j.g)(),a=y.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1],g=Object(n.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1];return Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(r,"/training-requests"));case 3:return a=t.sent,t.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(r,"/training-records"));case 6:n=t.sent,e&&(s=a.data.results,i=n.data.results,console.log(a),console.log(n),D((function(){return s.map((function(e,t){return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:J()(e.training_start).format("D MMM YYYY"),end_date:J()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/training-request/manage/".concat(e.training_id)}}))})),v((function(){return i.map((function(e,t){return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:J()(e.training_start).format("D MMM YYYY"),end_date:J()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/training-record/manage/".concat(e.training_id)}}))}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))(),function(){e=!1}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:u,setSideNavStatus:b,title:"Training",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Training c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Training__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Training"})]}),Object(f.jsx)("div",{className:"c-Training__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Training"})}),Object(f.jsxs)("div",{className:"c-Training__Records",children:[Object(f.jsx)("h2",{children:"My Training Records"}),Object(f.jsx)("div",{className:"c-Training__Table",children:0===x.length?"No records found!":Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:x,columns:ge})})]}),Object(f.jsxs)("div",{className:"c-Training__Requests c-Requests",children:[Object(f.jsxs)("div",{className:"c-Requests__Top",children:[Object(f.jsx)("h2",{children:"My Training Requests"}),Object(f.jsx)("button",{onClick:function(){return t.push("/training/training-request/create")},type:"button",className:"c-Btn c-Btn--primary",children:"Create Training Request"})]}),Object(f.jsx)("div",{className:"c-Training__Table",children:0===N.length?"No records found!":Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:N,columns:_e})})]})]})})]})},Ha=function(e){var t=e.text,a=Object(n.useRef)(null);return Object(f.jsxs)("div",{className:"c-File-select",children:[Object(f.jsx)("span",{className:"c-File-select__Area",onClick:function(){a.current.click()},children:Object(f.jsx)("p",{children:t||"Please click to select file"})}),Object(f.jsx)("input",{className:"c-File-select__Raw",type:"file",ref:a})]})},Ya=function(e){var t=e.match,a=_.toastTiming,c=Object(j.g)(),r=t.params.trainingRecordID,s=y.getDecodedToken(),i=s.company_id,b=(s.employee_id,Object(n.useState)(C)),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)({}),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/training/all-requests/").concat(r));case 3:a=t.sent,e&&(n=a.data.results,console.log(n),I((function(){return{id:n.training_id,organisation:n.training_institution,course_title:n.title,cost:n.training_cost,approver:n.approved_at,supervisor_evaluation_done:n.supervisor_evaluation_done,trainee_evaluation_done:n.trainee_evaluation_done,start_date:J()(n.training_start).format("D MMM YYYY"),end_date:J()(n.training_end).format("D MMM YYYY"),attendance:null!==n.attendance_upload}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),N((function(){return!0})),function(){e=!1}}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"Manage My Training Record",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-my-training-record c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-my-training-record__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage My Training Record"})]}),Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage my Training Record"}),A?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/manage/".concat(r,"/post-training-evaluation"))},children:"Complete Post Evaluation"}):Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--training-record-file-upload",children:[Object(f.jsx)("h1",{children:"Upload File"}),Object(f.jsxs)("div",{className:"c-Confirm-alert__File",children:[Object(f.jsx)(Ha,{}),Object(f.jsx)("p",{children:"This training record's attendance will be updated to completed upon uploading the file"})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return e(a)},children:"Upload"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:a,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Upload File"})]}),Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:S.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:S.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:S.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Trainee)"}),S.attendance?S.trainee_evaluation_done?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(f.jsx)("p",{children:"Na"})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:S.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:S.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approver"}),Object(f.jsx)("p",{children:"@AppleKim"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Approver)"}),S.attendance?S.supervisor_evaluation_done?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Attendance Status"}),S.attendance?Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)(Q,{type:"pending"})]})]})]}),Object(f.jsxs)("div",{className:"c-Manage-my-training-record__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective request permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},e),{},{onClose:a}))}});var t=function(){}}()},children:"Remove record & request"}),Object(f.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Ua=function(e){var t=e.mode,a=e.qns,c=e.qnsType,r=e.index,s=e.viewType,i=e.setQuestions,o=e.formType,l=Object(n.useState)(Pe),j=Object(d.a)(l,2),b=j[0],p=j[1];Object(n.useEffect)((function(){c&&p((function(){return c}))}),[]);return Object(f.jsx)("div",{className:"c-Evaluation-qns",children:t===Be?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Edit",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(f.jsxs)("div",{className:"c-Top__Left",children:[Object(f.jsxs)("label",{htmlFor:"qns",children:[r+1,"."]}),Object(f.jsx)("input",{name:"qns",type:"text",placeholder:"Enter question",value:a||"",onChange:function(e){return function(e){i("trainee"===o?function(t){return Object(u.a)(Object(u.a)({},t),{},{trainee:t.trainee.map((function(t){return t.serialNo===r?Object(u.a)(Object(u.a)({},t),{},{question:e.target.value}):t}))})}:function(t){return Object(u.a)(Object(u.a)({},t),{},{supervisor:t.supervisor.map((function(t){return t.serialNo===r?Object(u.a)(Object(u.a)({},t),{},{question:e.target.value}):t}))})})}(e)}})]}),Object(f.jsxs)("div",{className:"c-Top__Right",children:[Object(f.jsx)("label",{htmlFor:"qnsType",children:"Qns Type:"}),Object(f.jsxs)("select",{name:"qnsType",value:b,onChange:function(e){return function(e){p((function(){return e.target.value}))}(e)},children:[Object(f.jsx)("option",{value:Pe,children:"Select a qns type"}),Object(f.jsx)("option",{value:we,children:"Open Ended"}),Object(f.jsx)("option",{value:Ee,children:"1 - 5 Rating"}),Object(f.jsx)("option",{value:ke,children:"Yes or No"})]})]})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Types",children:[b===ke?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):b===Ee?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):b===we?Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(f.jsx)("textarea",{name:"open",disabled:!0,placeholder:"Enter something"})}):Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(f.jsx)("p",{children:"Please select a question type"})}),Object(f.jsx)("div",{className:"c-Evaluation-qns__Del",children:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{className:"c-Delete",onClick:function(){i((function(e){var t="",a=e[t="trainee"===o?"trainee":"supervisor"].filter((function(e){return e.serialNo!==r+1})).map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}));return"trainee"===t?Object(u.a)(Object(u.a)({},e),{},{trainee:a}):Object(u.a)(Object(u.a)({},e),{},{supervisor:a})}))}})})})]}),Object(f.jsx)("hr",{})]}):t===Re?Object(f.jsxs)("div",{className:"c-Evaluation-qns__View",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(f.jsxs)("p",{children:[r+1,"."]}),Object(f.jsx)("p",{children:a})]}),Object(f.jsx)("div",{className:"c-Evaluation-qns__Types",children:s===ke?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",value:"yes"}),Object(f.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"boolean",type:"radio",value:"no"}),Object(f.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):s===Ee?Object(f.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",value:"1"}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",value:"2"}),Object(f.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",value:"3"}),Object(f.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",value:"4"}),Object(f.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(f.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(f.jsx)("input",{name:"rating",type:"radio",value:"5"}),Object(f.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):s===we?Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(f.jsx)("textarea",{name:"open",placeholder:"Enter something"})}):Object(f.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(f.jsx)("p",{children:"Error! Invalid Question type."})})}),Object(f.jsx)("hr",{})]}):void 0})},La=function(e){var t=e.match,a=_.toastTiming,c=Object(j.g)(),r=Object(j.h)().pathname.split("/"),s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)([]),b=Object(d.a)(u,2),p=(b[0],b[1],Object(n.useState)(null)),m=Object(d.a)(p,2),h=m[0],x=m[1],v=t.params.trainingRecordID;Object(n.useEffect)((function(){"training"===r[1]?"manage"===r[2]?x((function(){return"approver"})):x((function(){return"trainee"})):c.push("/page-not-found")}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Post Evaluation Form",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Post-evaluation-form c-Main",children:[Object(f.jsx)(X.a,{className:"c-Post-evaluation-form__Breadcrumb l-Breadcrumb",children:"approver"===h?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(f.jsx)(X.a.Item,{href:"/training/training-record/manage/".concat(v),children:"Manage My Training Record"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Post Training Evaluation"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training/manage",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{href:"/training/manage/training-record/manage/".concat(v),children:"Manage Training"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Post Training Evaluation"})]})}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Post Training Evaluation"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){console.log("Clicked on submit")},children:"Submit"})]}),Object(f.jsx)("div",{className:"c-Post-evaluation-form__Document c-Main__Document",children:Object(f.jsx)(ce,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-content",children:[Object(f.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("p",{children:"Housekeeping Essentials Workshop"}),Object(f.jsx)("p",{children:"Samsung Asia Pte Ltd"}),Object(f.jsx)("p",{children:"S$1599.90"}),Object(f.jsx)("p",{children:"Completed"}),Object(f.jsx)("p",{children:"PTEF.2022.1"}),Object(f.jsx)("p",{children:"@bobSong"}),Object(f.jsx)("p",{children:"@appleKim"}),Object(f.jsx)("p",{children:"6/1/2022"}),Object(f.jsx)("p",{children:"7/1/2022"})]})]}),Object(f.jsxs)("div",{className:"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit",children:[Object(f.jsx)("div",{className:"c-Document-form__Heading",children:Object(f.jsxs)("h1",{children:["approver"===h?"Approver":"Trainee"," Section"]})}),Object(f.jsx)("div",{className:"c-Document-form__Fields"})]})]})})})]})})]})},za=function(){var e=_.toastTiming,t=Object(j.g)(),a=y.getDecodedToken(),c=a.company_id,r=(a.employee_id,y.getToken()),s=Object(n.useState)(C),i=Object(d.a)(s,2),b=i[0],m=i[1],x=Object(n.useState)([]),v=Object(d.a)(x,2),g=v[0],A=v[1],N=Object(n.useState)({title:"",training_start:new Date,training_end:new Date,training_institution:"",training_cost:"",justification_text:"",approved_by:void 0}),D=Object(d.a)(N,2),T=D[0],S=D[1],I=Object(n.useState)(null),M=Object(d.a)(I,2),F=M[0],w=M[1],k=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/approve/m07_03a/employees"));case 3:a=t.sent,e&&(console.log(a),void 0!==(n=a.data.results)&&A((function(){return 0===n.length?null:n.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]);var P=function(){var e=Object(l.a)(o.a.mark((function e(){var a,n,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in e.prev=0,a=new FormData,T)a.append(n,T[n]);return a.append("justification",F),console.log(c),e.next=7,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/training/all-requests"),a,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}});case 7:setTimeout((function(){O.b.success("Success! Training requets has been submitted for approval!")}),0),t.push("/training"),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),s="Error!",i="Error!",void 0!==e.t0.response&&(s=e.t0.response.status,i=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:s}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:i})]}));case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),B=function(e){S((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},R=function(e,t){S((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(p.a)({},t,e))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:b,setSideNavStatus:m,title:"Create Training Request",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Create-training-request c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Create-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Create Training Request"})]}),Object(f.jsxs)("div",{className:"c-Create-training-request__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Training Request"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return P()},children:"Create Training Request"})]}),Object(f.jsxs)("div",{className:"c-Create-training-request__Form c-Form",children:[Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Course Title"}),Object(f.jsx)("input",{name:"title",value:T.title,type:"text",placeholder:"Enter Course Title",onChange:B})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(f.jsx)(Fa.a,{onChange:function(e){return R(e,"training_start")},value:T.training_start,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"training_institution",children:"Organisation/Institution"}),Object(f.jsx)("input",{name:"training_institution",value:T.training_institution,type:"text",placeholder:"Enter Organisation/Instition",onChange:B})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(f.jsx)(Fa.a,{onChange:function(e){return R(e,"training_end")},value:T.training_end,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)("div",{className:"c-Form__Row",children:[Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"training_cost",children:"Cost"}),Object(f.jsx)("input",{name:"training_cost",value:T.training_cost,type:"text",placeholder:"Enter training cost S$",onChange:B})]}),Object(f.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(f.jsx)("label",{htmlFor:"approved_by",children:"To be approved by"}),Object(f.jsxs)("select",{name:"approved_by",className:"c-Form__Approver",value:T.approved_by,onChange:B,children:[Object(f.jsx)("option",{children:g?"Please select an approver":"No approver found!"}),g?g.map((function(e,t){return Object(f.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]})]})]}),Object(f.jsx)("div",{className:"c-Form__Row",children:Object(f.jsxs)("div",{className:"c-Form__Left c-Form__Input c-Form__Justification",children:[Object(f.jsx)("label",{htmlFor:"justification_text",children:"Justification"}),Object(f.jsx)("textarea",{name:"justification_text",value:T.justification_text,type:"text",placeholder:"Enter Justification",onChange:B})]})}),Object(f.jsx)("div",{className:"c-Form__Row",children:Object(f.jsxs)("div",{className:"c-Form__File-upload c-File-upload",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),Object(f.jsx)("div",{className:"c-File-upload__Display",children:F?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:F.name}),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{className:"c-File-upload__Bin",onClick:function(){w((function(){return null}))}})})]}):Object(f.jsx)("p",{children:"No File Detected."})}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){k.current.click()},children:"Upload File"}),Object(f.jsx)("input",{className:"c-File-select__Raw",type:"file",ref:k,onChange:function(e){var t=e.target.files[0];console.log(t),w((function(){return t}))}})]})})]})]})})]})},Qa=function(){var e=_.toastTiming,t=Object(j.g)(),a=y.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),u=i[0],b=i[1],p=Object(n.useState)([]),m=Object(d.a)(p,2),x=(m[0],m[1]),v=Object(n.useState)([]),g=Object(d.a)(v,2),A=(g[0],g[1]);Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(r,"/training-requests"));case 3:return a=t.sent,t.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(r,"/training-records"));case 6:n=t.sent,e&&(s=a.data.results,i=n.data.results,console.log(a),console.log(n),x((function(){return s.map((function(e,t){return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:J()(e.training_start).format("D MMM YYYY"),end_date:J()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/training-request/manage/".concat(e.training_id)}}))})),A((function(){return i.map((function(e,t){return{id:e.training_id,serialNo:t+1,course_title:e.title,approver:e.approved_at,start_date:J()(e.training_start).format("D MMM YYYY"),end_date:J()(e.training_end).format("D MMM YYYY"),attendance:null!==e.attendance_upload,request_status:e.status,supervisor_evaluation_done:e.supervisor_evaluation_done,trainee_evaluation_done:e.trainee_evaluation_done,action_manage:"/training/training-record/manage/".concat(e.training_id)}}))}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))(),function(){e=!1}}),[]);var N=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:u,setSideNavStatus:b,title:"Manage Trainings",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-trainings c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-trainings__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Trainings"})]}),Object(f.jsxs)("div",{className:"c-Manage-trainings__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Trainings"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates")},children:"Manage Post Evaluation Templates"})]}),Object(f.jsxs)("div",{className:"c-Manage-trainings__Pending-requests",children:[Object(f.jsx)("h2",{children:"Training Requests pending for your approval"}),Object(f.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:N,columns:Ae})})]}),Object(f.jsxs)("div",{className:"c-Manage-trainings__Requests c-Requests",children:[Object(f.jsx)("h2",{children:"All Training Requests"}),Object(f.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:N,columns:ye})})]}),Object(f.jsxs)("div",{className:"c-Manage-trainings__Records c-Requests",children:[Object(f.jsx)("h2",{children:"All Training Records"}),Object(f.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:N,columns:ye})})]})]})})]})},Va=function(){var e=_.toastTiming,t=Object(j.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,template_title:"Post Evaluation Template 2022",version:"PETF.2022.2",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""},{id:2,serialNo:2,template_title:"Post Evaluation Template 2022",version:"PETF.2022.1",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Post Evaluation Templates",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Templates"})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Post Evaluation Templates"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates/create-template")},children:"Create New Template"})]}),Object(f.jsx)("div",{className:"c-Manage-PET__Table",children:Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:i,columns:Ne})})]})})]})},Wa={meta:{template:{name:"Post training evaluation 20XX",version:"20XX.X",created_by:null,created_at:null,effective_at:null}},evaluation:{trainee:[{order:2,type:Ee,question:"Rating question"},{order:1,type:we,question:"Open Ended question"},{order:3,type:ke,question:"Yes or No Question"}],supervisor:[{order:2,type:Ee,question:"Rating question"},{order:1,type:we,question:"Open Ended question"},{order:3,type:ke,question:"Yes or No Question"}]}},Ja=function(){var e,t,a,c,r=_.toastTiming,s=Object(j.g)(),i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(n.useState)({trainee:[],supervisor:[]}),h=Object(d.a)(m,2),x=h[0],v=h[1],g=Object(n.useState)({}),A=Object(d.a)(g,2),y=A[0],N=A[1];Object(n.useEffect)((function(){v((function(){var e=Wa.evaluation.trainee.sort((function(e,t){return e.order-t.order})),t=Wa.evaluation.supervisor.sort((function(e,t){return e.order-t.order}));return{trainee:e.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})})),supervisor:t.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{serialNo:t+1})}))}})),N((function(){return Wa.meta}))}),[]);var D=function(e){v("trainee"===e?function(e){return Object(u.a)(Object(u.a)({},e),{},{trainee:[].concat(Object(We.a)(e.trainee),[{serialNo:e.trainee.length+1,question:"",answer:"",type:Pe}])})}:function(e){return Object(u.a)(Object(u.a)({},e),{},{supervisor:[].concat(Object(We.a)(e.supervisor),[{serialNo:e.supervisor.length+1,question:"",answer:"",type:Pe}])})})},T=function(e){N((function(t){return Object(u.a)(Object(u.a)({},t),{},{template:Object(u.a)(Object(u.a)({},t.template),{},Object(p.a)({},e.target.name,e.target.value))})}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Create Post Evaluation Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Create-PET c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Create-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Create Post Evaluation Template"})]}),Object(f.jsxs)("div",{className:"c-Create-PET__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Post Evaluation Template"}),Object(f.jsxs)("div",{className:"c-Top__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return s.push("/settings/trainings/post-evaluation-templates")},children:"Cancel"})]})]}),Object(f.jsx)("div",{className:"c-Create-PET__Document c-Main__Document",children:Object(f.jsx)(ce,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Create-PET__Document-content",children:[Object(f.jsx)("div",{className:"c-Create-PET__Document-title",children:Object(f.jsx)("input",{type:"text",placeholder:"Enter form title",name:"name",value:null===(e=y.template)||void 0===e?void 0:e.name,onChange:function(e){return T(e)}})}),Object(f.jsxs)("div",{className:"c-Create-PET__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",name:"version",value:null===(t=y.template)||void 0===t?void 0:t.version,onChange:function(e){return T(e)}}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]}),Object(f.jsxs)("div",{className:"c-Create-PET__Document-form c-Document-form",children:[Object(f.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Trainee Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===x||void 0===x||null===(a=x.trainee)||void 0===a?void 0:a.length)>0?x.trainee.map((function(e,t){return Object(f.jsx)(Ua,{mode:Be,qnsType:e.type,qns:e.question,index:t,setQuestions:v,formType:"trainee"},t)})):Object(f.jsx)("p",{children:"No questions detected!"}),Object(f.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("trainee")},children:Object(f.jsx)("p",{children:"Add New Row"})})]})]}),Object(f.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===x||void 0===x||null===(c=x.supervisor)||void 0===c?void 0:c.length)>0?x.supervisor.map((function(e,t){return Object(f.jsx)(Ua,{mode:Be,qnsType:e.type,qns:e.question,index:t,setQuestions:v,formType:"supervisor"},t)})):Object(f.jsx)("p",{children:"No questions detected!"}),Object(f.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("supervisor")},children:Object(f.jsx)("p",{children:"Add New Row"})})]})]})]})]})})})]})})]})},Ga=function(e){var t=e.match,a=_.toastTiming,c=(Object(j.g)(),t.params.trainingReqID),r=y.getDecodedToken(),s=y.getToken(),i=r.company_id,b=(r.employee_id,Object(n.useState)(C)),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)({}),g=Object(d.a)(v,2),A=g[0],N=g[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/training/all-requests/").concat(c));case 3:a=t.sent,e&&(n=a.data.results,console.log(a),N((function(){return{id:n.training_id,organisation:n.training_institution,course_title:n.title,cost:n.training_cost,approver:n.approved_at,approval_status:n.status,start_date:J()(n.training_start).format("D MMM YYYY"),end_date:J()(n.training_end).format("D MMM YYYY"),justification_text:n.justification_text,justification_upload:n.justification_upload,remarks:n.remarks}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]);var D=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/info/").concat(A.justification_upload));case 3:return t=e.sent,e.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(A.justification_upload),{headers:{Authorization:"Bearer ".concat(s)},responseType:"blob"});case 6:a=e.sent,console.log(t),console.log(a),Tt()(a.data,t.data.results.file_name),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),n="Error!",c="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,c=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:c})]}));case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"Manage My Training Record",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-my-training-request c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-my-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage My Training Request"})]}),Object(f.jsx)("div",{className:"c-Manage-my-training-request__Top c-Main__Top",children:Object(f.jsx)("h1",{children:"Manage my Training Request"})}),Object(f.jsxs)("div",{className:"c-Manage-my-training-request__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:A.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:A.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:A.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Justification"}),Object(f.jsx)("p",{children:A.justification_text})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Rejection Remarks"}),Object(f.jsx)("p",{children:A.remarks?A.remarks:"Na"})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:A.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:A.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"To be Approved by"}),Object(f.jsx)("p",{children:"@AppleKim"})]}),Object(f.jsxs)("div",{className:"c-Field c-Field__File",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),A.justification_upload?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:D,children:"Download"}):Object(f.jsx)("p",{children:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approval Status"}),Object(f.jsx)(Q,{type:A.approval_status})]})]})]}),Object(f.jsxs)("div",{className:"c-Manage-my-training-request__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective record (if any) permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},e),{},{onClose:a}))}});var t=function(){}}()},children:"Remove record & request"}),Object(f.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Xa=function(e){var t=e.match,a=_.toastTiming,c=Object(j.g)(),r=t.params.trainingID,s=y.getDecodedToken(),i=s.company_id,u=(s.employee_id,Object(n.useState)(C)),b=Object(d.a)(u,2),p=b[0],m=b[1],x=Object(n.useState)(!1),v=Object(d.a)(x,2),g=v[0],A=v[1],N=Object(n.useState)({}),D=Object(d.a)(N,2),T=D[0],S=D[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/training/all-requests/").concat(r));case 3:a=t.sent,e&&(n=a.data.results,console.log(n),S((function(){return{id:n.training_id,organisation:n.training_institution,course_title:n.title,cost:n.training_cost,approver:n.approved_at,supervisor_evaluation_done:n.supervisor_evaluation_done,trainee_evaluation_done:n.trainee_evaluation_done,start_date:J()(n.training_start).format("D MMM YYYY"),end_date:J()(n.training_end).format("D MMM YYYY"),attendance:null!==n.attendance_upload}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),A((function(){return!0})),function(){e=!1}}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:p,setSideNavStatus:m,title:"Manage Training Record",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-record c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-training-record__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training/manage",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Training Record"})]}),Object(f.jsxs)("div",{className:"c-Manage-training-record__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Training Record"}),g?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/post-training-evaluation")},children:"Complete Post Evaluation"}):null]}),Object(f.jsxs)("div",{className:"c-Manage-training-record__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:T.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:T.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:T.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Trainee)"}),T.attendance?T.trainee_evaluation_done?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(f.jsx)("p",{children:"Na"})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:T.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:T.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approver"}),Object(f.jsx)("p",{children:"@AppleKim"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Evaluation Status (Approver)"}),T.attendance?T.supervisor_evaluation_done?Object(f.jsx)(Q,{type:"pending"}):Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)("p",{children:"Nil"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Attendance Status"}),T.attendance?Object(f.jsx)(Q,{type:"completed"}):Object(f.jsx)(Q,{type:"pending"})]})]})]}),Object(f.jsxs)("div",{className:"c-Manage-training-record__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(f.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Ka=function(e){var t=e.match,a=_.toastTiming,c=(Object(j.g)(),t.params.trainingReqID),r=Object(n.useRef)(""),s=y.getDecodedToken(),i=y.getToken(),u=s.company_id,b=Object(n.useState)(C),p=Object(d.a)(b,2),m=p[0],x=p[1],v=Object(n.useState)({}),g=Object(d.a)(v,2),A=g[0],N=g[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/training/all-requests/").concat(c));case 3:a=t.sent,e&&(n=a.data.results,console.log(n),N((function(){return{id:n.training_id,organisation:n.training_institution,course_title:n.title,cost:n.training_cost,approver:n.approved_at,supervisor_evaluation_done:n.supervisor_evaluation_done,trainee_evaluation_done:n.trainee_evaluation_done,start_date:J()(n.training_start).format("D MMM YYYY"),end_date:J()(n.training_end).format("D MMM YYYY"),attendance:null!==n.attendance_upload}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[]);var D=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/info/").concat(A.justification_upload));case 3:return t=e.sent,e.next=6,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(A.justification_upload),{headers:{Authorization:"Bearer ".concat(i)},responseType:"blob"});case 6:a=e.sent,console.log(t),console.log(a),Tt()(a.data,t.data.results.file_name),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Document has been downloaded successfully!"})]})),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),n="Error!",c="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,c=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:c})]}));case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:m,setSideNavStatus:x,title:"Manage Training Request",activeLink:"/training",children:Object(f.jsxs)("div",{className:"c-Manage-training-request c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-training-request__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/training/manage",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Training Request"})]}),Object(f.jsxs)("div",{className:"c-Manage-training-request__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Training Request"}),Object(f.jsxs)("div",{className:"c-Top__Btns",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--ok",onClick:function(){},children:"Approve"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return function(){Object(Ue.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(f.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(f.jsx)("h1",{children:"Confirm Reject?"}),Object(f.jsx)("p",{children:"Please key in reason for rejection and click on confirm reject."}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(f.jsx)("h2",{children:"Remarks"}),Object(f.jsx)("textarea",{name:"pendingReject",ref:r})]}),Object(f.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(f.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return e(a)},children:"Confirm Reject"}),Object(f.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:a,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Reject"})]})]}),Object(f.jsxs)("div",{className:"c-Manage-training-request__Fields c-Fields",children:[Object(f.jsxs)("div",{className:"c-Fields__Left",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Course Title"}),Object(f.jsx)("p",{children:A.course_title})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Organisation/Institution"}),Object(f.jsx)("p",{children:A.organisation})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Cost"}),Object(f.jsx)("p",{children:A.cost})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Justification"}),Object(f.jsx)("p",{children:A.justification_text})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Rejection Remarks"}),Object(f.jsx)("p",{children:A.remarks?A.remarks:"Na"})]})]}),Object(f.jsxs)("div",{className:"c-Fields__Right",children:[Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Start Date"}),Object(f.jsx)("p",{children:A.start_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"End Date"}),Object(f.jsx)("p",{children:A.end_date})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"To be Approved by"}),Object(f.jsx)("p",{children:"@AppleKim"})]}),Object(f.jsxs)("div",{className:"c-Field c-Field__File",children:[Object(f.jsx)("h2",{children:"File (For Justification)"}),A.justification_upload?Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:D,children:"Download"}):Object(f.jsx)("p",{children:"Na"})]}),Object(f.jsxs)("div",{className:"c-Field",children:[Object(f.jsx)("h2",{children:"Approval Status"}),Object(f.jsx)(Q,{type:A.approval_status})]})]})]}),Object(f.jsxs)("div",{className:"c-Manage-training-request__Danger c-Danger",children:[Object(f.jsx)("div",{className:"c-Danger__Top",children:Object(f.jsx)("h1",{children:"Danger Zone"})}),Object(f.jsxs)("div",{className:"c-Danger__Contents",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(f.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Za=function(e){var t=e.match,a=_.toastTiming,c=(Object(j.g)(),t.params.templateID,Object(n.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)({trainee:[],supervisor:[]}),l=Object(d.a)(o,2),u=(l[0],l[1]),b=Object(n.useState)(!1),p=Object(d.a)(b,2),m=p[0],h=p[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Post Evaluation Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(f.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Template"})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Top c-Top",children:[Object(f.jsxs)("div",{className:"c-Top__Row",children:[Object(f.jsx)("h1",{children:"Manage Post Evaluation Template"}),Object(f.jsx)("div",{className:"c-Top__Btns",children:m?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return h((function(e){return!e}))},children:"Cancel"})]}):Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return h((function(e){return!e}))},children:"Edit"})})]}),Object(f.jsxs)("div",{className:"c-Top__Row",children:[Object(f.jsx)("h2",{children:"Status:"}),Object(f.jsx)(Q,{type:"active"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--link",children:"Change Status to Active"})]})]}),Object(f.jsx)("div",{className:"c-Manage-PET__Document c-Main__Document",children:Object(f.jsx)(ce,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Manage-PET__Document-content",children:[Object(f.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(f.jsxs)("div",{className:"c-Manage-PET__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Document-header__Key",children:[Object(f.jsx)("p",{children:"Course Title"}),Object(f.jsx)("p",{children:"Organisation"}),Object(f.jsx)("p",{children:"Cost"}),Object(f.jsx)("p",{children:"Status"}),Object(f.jsx)("p",{children:"Evaluation Form Version"}),Object(f.jsx)("p",{children:"Trainee"}),Object(f.jsx)("p",{children:"Approver"}),Object(f.jsx)("p",{children:"Start Date"}),Object(f.jsx)("p",{children:"End Date"})]}),Object(f.jsxs)("div",{className:"c-Document-header__Value",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",value:"PTEF.2022.1",disabled:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})]}),Object(f.jsxs)("div",{className:"c-Manage-PET__Document-form c-Document-form",children:[Object(f.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Trainee Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(f.jsxs)("div",{className:"c-Document-form__Fields",children:[Object(f.jsx)(Ua,{mode:Re,qns:"Boolean?",viewType:we,index:"1",setQuestions:u,formType:"trainee"}),Object(f.jsx)(Ua,{mode:Re,qns:"Boolean?",viewType:Ee,index:"1",setQuestions:u,formType:"trainee"}),Object(f.jsx)(Ua,{mode:Re,qns:"Boolean?",viewType:ke,index:"1",setQuestions:u,formType:"trainee"})]})]}),Object(f.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(f.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(f.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(f.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(f.jsx)("div",{className:"c-Document-form__Fields",children:Object(f.jsx)(Ua,{mode:Re,qns:"A question?",index:"1",viewType:we})})]})]})]})})})]})})]})},$a=function(e){var t=e.match,a=y.getToken(),c=y.getDecodedToken().company_id,r=_.toastTiming,s=Object(j.g)(),i=t.params.emID,b=Object(n.useState)(!1),m=Object(d.a)(b,2),x=m[0],v=(m[1],Object(n.useState)(!1)),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)({type:"",responsible:"",freq_multiplier:"",freq_unit_time:"",freq_unit_time_UI:"",last_service_at:new Date,assignees:[]}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)([]),F=Object(d.a)(M,2),E=F[0],w=F[1],R=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(R,2),H=q[0],Y=(q[1],Object(n.useState)(C)),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=function(e){"addCycle"===e?(console.log(S),Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment/").concat(i,"/all-maintenance"),S,{headers:{Authorization:"Bearer ".concat(a)}});case 3:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"New equipment has been added!"})]})),e.next=16;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response),n="Error!",r="Error!",void 0!==e.t0.response&&(n=e.t0.response.status,r=e.t0.response.data.message),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:n}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:r})]}));case 16:case"end":return e.stop()}}),e,null,[[0,8]])})))()):"cancel"===e&&s.push("/equipment-maintenance/manage-equipment/".concat(i))},W=function(e){I((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},J=function(e){var t;"Weeks"===e.target.value&&(t="week"),"Months"===e.target.value&&(t="month"),"Years"===e.target.value&&(t="year"),I((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(p.a)({},e.target.name,t))})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{freq_unit_time_UI:e.target.value})}))},G=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{last_service_at:e})}))},K=function(e){console.log(e),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 4:a=e.sent,console.log(a),t=a.data.results,console.log(t),w((function(){return t.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:z,setSideNavStatus:Q,title:"Manage Maintenance Cycle",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i),children:"Manage Equipment"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Add Maintenance Cycle"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Add Maintenance Cycle"}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[A?Object(f.jsx)("button",{onClick:function(){return V("addCycle")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:x?"Loading...":"Add"}),Object(f.jsx)("button",{onClick:function(){return V("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),H.render?Object(f.jsx)(ua,{errMsg:H.errMsg,errStatus:H.errStatus,errStatusText:H.errStatusText}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Maintenance-type c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"type",children:"Maintenance Type"}),Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"type",value:S.type})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Responsible c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible Users"}),Object(f.jsx)(ae.a,{isMulti:!0,options:E,placeholder:"Select Users",onChange:K})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Maintenance-frequency c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsxs)("div",{className:"c-Input__Maintenance-frequency--input",children:[Object(f.jsx)("input",{onFocus:function(){return N(!0)},type:"text",onChange:W,name:"freq_multiplier",value:S.freq_multiplier}),Object(f.jsxs)("select",{onFocus:function(){return N(!0)},type:"text",name:"freq_unit_time",onChange:J,value:S.freq_unit_time_UI,children:[Object(f.jsx)("option",{children:"Select Time Unit"}),Object(f.jsx)("option",{children:"Weeks"}),Object(f.jsx)("option",{children:"Months"}),Object(f.jsx)("option",{children:"Years"})]})]})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"last_service_at",children:"Last Service Date"}),Object(f.jsx)(Fa.a,{onChange:G,value:S.last_service_at,className:"c-Form__Date",format:"dd/MM/y"})]})]})})})]})})]})},en=function(e){var t=e.match,a=y.getToken(),c=y.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(j.g)(),b=Object(n.useState)(!1),m=Object(d.a)(b,2),x=(m[0],m[1]),v=Object(n.useState)([]),g=Object(d.a)(v,2),A=g[0],N=g[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(n.useState)(!1)),M=Object(d.a)(I,2),F=M[0],w=M[1],R=Object(n.useState)({users:""}),H=Object(d.a)(R,2),Y=(H[0],H[1],Object(n.useState)({username:[]})),U=Object(d.a)(Y,2),z=(U[0],U[1],Object(n.useState)([])),V=Object(d.a)(z,2),W=V[0],G=V[1],K=Object(n.useState)([]),Z=Object(d.a)(K,2),$=Z[0],ee=Z[1],te=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ne=Object(d.a)(te,2),ce=ne[0],re=(ne[1],Object(n.useState)(!1)),se=Object(d.a)(re,2),ie=se[0],oe=se[1],le=Object(n.useState)(C),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(n.useState)(!1),pe=Object(d.a)(be,2),me=(pe[0],pe[1],Object(n.useState)([])),he=Object(d.a)(me,2),Oe=(he[0],he[1],t.params.emID),ve=t.params.maintenanceID;Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],a=[],e.next=5,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/edit/m07_01/employees"));case 5:return n=e.sent,console.log(n),a=n.data.results,console.log(a),e.next=11,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(Oe,"/all-maintenance/").concat(ve));case 11:c=e.sent,console.log(c),t=c.data.results,console.log(t),ee((function(){return{id:t.maintenance_id,maintenanceType:t.type,responsible:t.assignees.map((function(e){return{label:e.account.username,value:e.employee_id}})),freq_unit_time:t.freq_unit_time,freq_multiplier:t.freq_multiplier,maintenanceFrequency:7===t.freq_unit_time?"".concat(t.freq_multiplier," weeks"):30===t.freq_unit_time?"".concat(t.freq_multiplier," months"):365===t.freq_unit_time?"".concat(t.freq_multiplier," years"):void 0,lastServiceDate:new Date(t.last_service_at),status:Object(f.jsx)(Q,{type:"active"})}})),G((function(){return a.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),N((function(){return{id:t.maintenance_id,serialNo:1,fileName:t.fileName,description:t.last_service_at,uploader:function(){var e=[],a="";return t.assignees.map((function(e){a+=e.account.username+", "})),e.push(a.slice(0,-2)),a="",e}(),uploadDate:t.last_service_at,action_download:"/equipment-maintenance/manage-equipment/manage-cycle/".concat(t.maintenance_id),action_delete:Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(f.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return Ne(t.maintenance_record_id)}})})}})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()}),[]);var fe=function(e){"editEquipment"===e&&oe(!0),"editEquipmentCancel"===e&&oe(!1),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log($),e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(Oe,"/all-maintenance/").concat(ve),{title:$.maintenanceType,freq_multiplier:$.freq_multiplier,freq_unit_time:$.freq_unit_time,last_service_at:$.lastServiceDate,assignees:$.assignees},{headers:{Authorization:"Bearer ".concat(a)}});case 4:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated Maintenance Cycle!"})]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},ge=function(e){ee((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},_e=function(e){console.log(e),ee((function(t){return Object(u.a)(Object(u.a)({},t),{},{lastServiceDate:e})}))},Ae=function(e){console.log(e),ee((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))},ye=function(e){var t;"Weeks"===e.target.value&&(t="week"),"Months"===e.target.value&&(t="month"),"Years"===e.target.value&&(t="year"),ee((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(p.a)({},e.target.name,t))})),ee((function(t){return Object(u.a)(Object(u.a)({},t),{},{freq_unit_time_UI:e.target.value})}))};console.log($.lastServiceDate);var Ne=function(e){if("deleteRecord"===e){var t={message:"Are you sure you want to delete this maintenance record?",handler:function(e){return n(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}var n=function(e){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(Oe,"/all-maintenance/").concat(ve),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),x((function(e){return!e})),e(),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}},De=[{id:1,serialNo:1,maintenanceType:"Preventive",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"active",action_manage:"",action_delete:""},{id:2,serialNo:2,maintenanceType:"Corrective",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"almostDue",action_manage:"",action_delete:""}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:ue,setSideNavStatus:je,title:"Equipment Maintenance Cycle",activeLink:"/equipment-maintenance/manage-equipment/".concat(Oe,"/manage-cycle/").concat(ve),children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(f.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(Oe),children:"Manage Equipment"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Maintenance Cycle"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Maintenance cycle"}),ie||ce.render?null:Object(f.jsx)("button",{onClick:function(){return fe("editEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),ce.render?Object(f.jsx)(ua,{errMsg:ce.errMsg,errStatus:ce.errStatus,errStatusText:ce.errStatusText}):Object(f.jsx)(f.Fragment,{children:ie?Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ge,name:"maintenanceType",value:$.maintenanceType})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(f.jsx)(ae.a,{isMulti:!0,options:W,placeholder:"Select Users",onChange:Ae})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsxs)("div",{className:"c-Input__Maintenance-frequency--input",children:[Object(f.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:ge,name:"freq_multiplier",value:$.freq_multiplier}),Object(f.jsxs)("select",{onFocus:function(){return w(!0)},type:"text",name:"freq_unit_time",onChange:ye,value:$.freq_unit_time_UI,children:[Object(f.jsx)("option",{children:"Select Time Unit"}),Object(f.jsx)("option",{children:"Weeks"}),Object(f.jsx)("option",{children:"Months"}),Object(f.jsx)("option",{children:"Years"})]})]})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(f.jsx)(Fa.a,{onChange:_e,value:$.lastServiceDate,className:"c-Form__Date",format:"dd/MM/y"})]}),Object(f.jsx)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit"})]}),Object(f.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[F?Object(f.jsx)("button",{onClick:function(){return fe("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return fe("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceType",value:$.maintenanceType})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsible",value:function(){var e,t="";return null===(e=$.responsible)||void 0===e||e.forEach((function(e){t+=e.label+", "})),t.slice(0,-2)}()})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceFrequency",value:$.maintenanceFrequency})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"lastServiceDate",value:$.lastServiceDate})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"status",children:"Status"}),$.status]})]})]})}),Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("deleteCycle"===e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(e){return n(e)},heading:"Confirm Delete?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}var n=function(e){h.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(Oe,"/all-maintenance/").concat(ve),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),x((function(e){return!e})),e(),setTimeout((function(){O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Maintenance Cycle has been deleted!"})]}))}),0),i.push("/equipment-maintenance/manage-equipment/".concat(Oe))})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}}("deleteCycle")},children:"Delete Cycle"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"This action cannot be undone"})})]})}),Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Maintenance Records"}),Object(f.jsx)("button",{onClick:function(){return fe("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})]}),Object(f.jsx)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:0!==De.length?Object(f.jsx)(Me.a,{bordered:!1,keyField:"serialNo",data:A,columns:xe,pagination:qt()()}):"No records found!"})]})})]})},tn=function(){Object(j.g)(),y.getToken(),y.getDecodedToken();var e=Object(n.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),t=Object(d.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(f.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Create Induction Template",activeLink:"/settings",children:Object(f.jsxs)("div",{className:"c-Create-induction-form c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Create-induction-form__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(f.jsx)(X.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(f.jsx)(X.a.Item,{href:"/settings/induction-templates/induction-template-versions/".concat(1),children:"Manage Induction Versions"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Create Induction Form"})]}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Create Induction Form"}),Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"})]}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Document c-Main__Document",children:[Object(f.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(f.jsx)(ce,{isDocCollapsed:!1,children:Object(f.jsxs)("div",{className:"c-Create-induction-form__Document-content",children:[Object(f.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(f.jsxs)("div",{className:"c-Create-induction-form__Document-header c-Document__Header",children:[Object(f.jsxs)("div",{className:"c-Create-indcution-form__Document-header--left c-Document__Header--left",children:[Object(f.jsx)("p",{children:"To bv approved by:"}),Object(f.jsx)("p",{children:"Submitted by:"}),Object(f.jsx)("p",{children:"Remarks"})]}),Object(f.jsx)("div",{className:"c-Create__Document-header--right c-Document__Header--right"})]}),0!==a.length?a.map((function(e,t){return Object(f.jsx)(Ba,{formMode:"edit",sectionData:e},t)})):"No records found!"]})})]})]})})},an=function(e){var t=e.match,a=y.getToken(),c=y.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(n.useState)(!1),b=Object(d.a)(i,2),m=(b[0],b[1]),x=(Object(j.g)(),Object(n.useRef)(null)),v=t.params.licenseID,g=Object(n.useState)([]),A=Object(d.a)(g,2),N=A[0],D=A[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),I=S[0],M=(S[1],Object(n.useState)(!1)),F=Object(d.a)(M,2),w=F[0],R=F[1],H=Object(n.useState)({users:""}),Y=Object(d.a)(H,2),U=(Y[0],Y[1],Object(n.useState)({username:[]})),z=Object(d.a)(U,2),V=(z[0],z[1],Object(n.useState)({license:"Error",licenseNo:"Error",expDate:"NA",responsibleExternalAgency:"Error",responsibleUser:[],archived_at:null})),W=Object(d.a)(V,2),J=W[0],G=W[1],K=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),Z=Object(d.a)(K,2),$=Z[0],ee=(Z[1],Object(n.useState)(!1)),te=Object(d.a)(ee,2),ne=te[0],ce=te[1],re=Object(n.useState)(C),se=Object(d.a)(re,2),ie=se[0],oe=se[1],le=Object(n.useState)(!1),de=Object(d.a)(le,2),ue=(de[0],de[1],Object(n.useState)([])),je=Object(d.a)(ue,2),be=(je[0],je[1],Object(n.useState)(null)),pe=Object(d.a)(be,2),me=pe[0],he=pe[1];Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],a=[],e.next=5,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/edit/m07_02/employees"));case 5:return n=e.sent,console.log(n),a=n.data.results,console.log(a),e.next=11,h.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(v));case 11:c=e.sent,console.log(c),t=c.data.results,console.log(t),G((function(){return{id:t.licence_id,license:t.licence_name,licenseNo:t.licence_number,expDate:t.expires_at,responsibleExternalAgency:t.external_organisation,archived_at:t.archived_at,responsibleUser:t.assignees.map((function(e){return{value:e.employee_id,label:e.account.username}})),status:Object(f.jsx)(Q,{type:"active"})}})),D((function(){return a.map((function(e){return{label:e.account.username,value:e.employee_id}}))})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()}),[J.archivedAt]);var Oe=function(e){"upload"===e&&x.current.click(),"edit"===e&&ce(!0),"editEquipmentCancel"===e&&ce(!1),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(J),e.next=4,h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(v),J,{headers:{Authorization:"Bearer ".concat(a)}});case 4:t=e.sent,console.log(t),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"Updated License details!"})]})),ce(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},xe=function(e){G((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))}))},ve=function(e){console.log(e),G((function(t){return Object(u.a)(Object(u.a)({},t),{},{expDate:e})}))},fe=function(e){console.log(e),G((function(t){return Object(u.a)(Object(u.a)({},t),{},{assignees:e})}))},ge=function(e){if("activated"===e){var t={message:"Are you sure you want to activate this license?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(Ue.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},t),{},{onClose:a}))}})}else{var n={message:"Are you sure you want to deactivate this license?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ue.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsx)(Le,Object(u.a)(Object(u.a)({},n),{},{onClose:t}))}})}var c=function(e){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(v,"/activate"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),m((function(e){return!e})),e(),G(Object(u.a)(Object(u.a)({},J),{},{archivedAt:null})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"License has been reactivated!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))},s=function(e){h.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(v,"/archive"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),m((function(e){return!e})),e(),G(Object(u.a)(Object(u.a)({},J),{},{archivedAt:"refresh"})),O.b.success(Object(f.jsxs)(f.Fragment,{children:["Success!",Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:"License has been archived!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),O.b.error(Object(f.jsxs)(f.Fragment,{children:["Error Code: ",Object(f.jsx)("b",{children:a}),Object(f.jsx)("br",{}),"Message: ",Object(f.jsx)("b",{children:n})]}))}))}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(f.jsx)(L,{sideNavStatus:ie,setSideNavStatus:oe,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(f.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(f.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(f.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(f.jsx)(X.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(f.jsx)(X.a.Item,{active:!0,children:"Manage Permits/Licenses/Certificates"})]}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(f.jsx)("h1",{children:"Manage Permits/Licenses/Certificates"}),ne||$.render?null:Object(f.jsx)("button",{onClick:function(){return Oe("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),$.render?Object(f.jsx)(ua,{errMsg:$.errMsg,errStatus:$.errStatus,errStatusText:$.errStatusText}):Object(f.jsx)(f.Fragment,{children:ne?Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(f.jsx)("input",{onFocus:function(){return R(!0)},type:"text",onChange:xe,name:"license",value:J.license})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{onFocus:function(){return R(!0)},type:"text",onChange:xe,name:"licenseNo",value:J.licenseNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)(Fa.a,{onChange:ve,value:J.expDate,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{onFocus:function(){return R(!0)},type:"text",onChange:xe,name:"responsibleExternalAgency",value:J.responsibleExternalAgency})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)(ae.a,{isMulti:!0,options:N,placeholder:"Select Users",onChange:fe})]})]}),Object(f.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[w?Object(f.jsx)("button",{onClick:function(){return Oe("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(f.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:I?"Loading...":"Save"}),Object(f.jsx)("button",{onClick:function(){return Oe("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(f.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"license",value:J.license})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"licenseNo",value:J.licenseNo})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"expDate",value:J.expDate})]})]}),Object(f.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(f.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsibleExternalAgency",value:J.responsibleExternalAgency})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(f.jsx)("input",{readOnly:!0,type:"text",name:"responsibleUser",value:function(){var e,t="";return null===(e=J.responsibleUser)||void 0===e||e.forEach((function(e){t+=e.label+", "})),t.slice(0,-2)}()})]}),Object(f.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(f.jsx)("label",{htmlFor:"status",children:"Status"}),J.status]})]})]})}),Object(f.jsxs)("div",{className:"c-Manage-equipment__Mid c-Main__Top c-File-upload",children:[Object(f.jsx)("div",{className:"c-Manage-equipment__File",children:me?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:me.name}),Object(f.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(f.jsx)(q.c,{className:"c-File-upload__Bin",onClick:function(){he((function(){return null}))}})})]}):Object(f.jsx)("p",{children:"No File Detected."})}),Object(f.jsx)("button",{onClick:function(){return Oe("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"}),Object(f.jsx)("input",{className:"c-Manage-equipment__File-input c-File-select__Raw",type:"file",ref:x,onChange:function(e){var t=e.target.files[0];console.log(t),he((function(){return t}))}})]}),Object(f.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(f.jsx)("div",{className:"c-Danger-zone__Row",children:null===J.archived_at?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return ge("deactivated")},children:"Archive Permits/Licenses/Certificates"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"Perfoming this action will archive this permit/license/certificate"})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(f.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return ge("activated")},children:"Unarchive Permits/Licenses/Certificates"}),Object(f.jsx)("div",{className:"c-Row__Info",children:Object(f.jsx)("p",{children:"Perfoming this action will unarchive this permit/license/certificate "})})]})})})]})})]})},nn=function(){var e=function(e){return function(t){return y.getToken()?Object(f.jsx)(e,Object(u.a)({},t)):Object(f.jsx)(j.a,Object(u.a)({to:"/login"},t))}};return Object(f.jsx)(b.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/login",render:function(){return Object(f.jsx)(N,{})}}),Object(f.jsx)(j.b,{path:"/forgot-password",render:function(){return Object(f.jsx)(Aa,{})}}),Object(f.jsx)(j.b,{path:"/change-password/:username/:otp",render:function(e){return Object(f.jsx)(ya,Object(u.a)({},e))}}),Object(f.jsx)(j.b,{path:"/create-account/:token",render:function(e){return Object(f.jsx)(S,Object(u.a)({},e))}}),Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(j.a,{to:"/dashboard"})}),Object(f.jsx)(j.b,{path:"/dashboard",render:function(t){return e(G)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/announcements",render:function(t){return e(Z)(t)}}),Object(f.jsx)(j.b,{path:"/announcements/view/:aID",render:function(t){return e($)(t)}}),Object(f.jsx)(j.b,{path:"/announcements/create",render:function(t){return e(ne)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/swot",render:function(t){return e(Ht)(t)}}),Object(f.jsx)(j.b,{path:"/swot/archived/:swotID",render:function(t){return e(Yt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/interested-party",render:function(t){return e(Ut)(t)}}),Object(f.jsx)(j.b,{path:"/interested-party/archived/:ipID",render:function(t){return e(Lt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/scope-of-qms",render:function(t){return e(zt)(t)}}),Object(f.jsx)(j.b,{path:"/scope-of-qms/archived/:scopeOfQMSID",render:function(t){return e(Qt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/company-policy",render:function(t){return e(Vt)(t)}}),Object(f.jsx)(j.b,{path:"/company-policy/archived/:companyPolicyID",render:function(t){return e(Wt)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/responsibility-n-authority",render:function(t){return e(Kt)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/add-org-chart",render:function(t){return e(ta)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/manage-org-chart/:orgChartID",render:function(t){return e(aa)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/add-role",render:function(t){return e($t)(t)}}),Object(f.jsx)(j.b,{path:"/responsibility-n-authority/manage-role/:roleID",render:function(t){return e(ea)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/risk-n-opportunity",render:function(t){return e(na)(t)}}),Object(f.jsx)(j.b,{path:"/risk-n-opportunity/archived/:rnoID",render:function(t){return e(ha)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/objective-achievement-program",render:function(t){return e(ca)(t)}}),Object(f.jsx)(j.b,{path:"/objective-achievement-program/archived/:oapID",render:function(t){return e(ra)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance",render:function(t){return e(Na)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID",render:function(t){return e(Da)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/add-equipment",render:function(t){return e(Ta)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/add-category",render:function(t){return e(Sa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/add-cycle",render:function(t){return e($a)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID",render:function(t){return e(en)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/equipment-maintenance/manage-category/:catID",render:function(t){return e(Ia)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses",render:function(t){return e(Ca)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses/add-license",render:function(t){return e(Ea)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/licenses/manage-license/:licenseID",render:function(t){return e(an)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training",render:function(t){return e(qa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID",render:function(t){return e(Ya)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/training-request/manage/:trainingReqID",render:function(t){return e(Ga)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID/post-training-evaluation",render:function(t){return e(La)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/training-request/create",render:function(t){return e(za)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage",render:function(t){return e(Qa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/training-record/manage/:trainingID",render:function(t){return e(Xa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/training-record/manage/:trainingID/post-training-evaluation",render:function(t){return e(La)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/training-request/manage/:trainingID",render:function(t){return e(Ka)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/post-evaluation-templates",render:function(t){return e(Va)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/post-evaluation-templates/manage/:templateID",render:function(t){return e(Za)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/training/manage/post-evaluation-templates/create",render:function(t){return e(Ja)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings",render:function(t){return e(ia)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-account",render:function(t){return e(ja)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/manage-users",render:function(t){return e(ba)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-users/manage-user/:employeeID",render:function(t){return e(pa)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-organization",render:function(t){return e(va)(t)}}),Object(f.jsx)(j.b,{path:"/settings/manage-invites",render:function(t){return e(xa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates",render:function(t){return e(wa)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID",render:function(t){return e(ka)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/create",render:function(t){return e(tn)(t)}}),Object(f.jsx)(j.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/manage/:formID",render:function(t){return e(Ra)(t)}}),Object(f.jsx)(j.b,{path:"*",render:function(){return Object(f.jsx)(ma,{})}})]})})},cn=a(197),rn=a(198),sn=a(200),on=a(199),ln=function(e){Object(sn.a)(a,e);var t=Object(on.a)(a);function a(){var e;Object(cn.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(rn.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(f.jsx)("div",{className:"c-Page-not-found",children:Object(f.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(f.jsxs)(da.a,{variant:"danger",children:[Object(f.jsx)(da.a.Heading,{children:"Oh snap! You got an error!"}),Object(f.jsx)("p",{children:"Something went wrong, try again later!"})]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),a}(c.a.Component),dn=function(){return Object(f.jsxs)("div",{className:"c-Loading",children:[Object(f.jsx)(Oa.a,{animation:"border",role:"status",variant:"secondary"}),Object(f.jsx)("p",{children:"Loading"})]})},un=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],j=Object(n.useCallback)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(){return!0})),e.next=3,b();case 3:c((function(){return!1}));case 4:case"end":return e.stop()}}),e)}))),[]),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("attempted to refresh token again"),h.a.defaults.withCredentials=!0,e.next=5,h.a.post("".concat("http://3.136.78.128:8000/api/v1","/refresh"),{},{withCredentials:!0});case 5:t=e.sent,console.log(t),200===t.status?(a=t.data.results.token,y.setToken(a),h.a.defaults.headers.common.Authorization="bearer ".concat(a),setTimeout(b,18e5)):y.logout(),u((function(){return!1})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),401!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(u((function(){return!0})),y.logout()),y.setMessage(null===(c=e.t0.response)||void 0===c?void 0:c.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ln,{children:i?Object(f.jsx)(ua,{}):a?Object(f.jsx)(dn,{}):Object(f.jsx)(nn,{})})})};a(426),a(427),a(428),a(429),a(430),a(431);s.a.render(Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(un,{})}),document.getElementById("eISO-root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.16b0a3b9.chunk.js.map