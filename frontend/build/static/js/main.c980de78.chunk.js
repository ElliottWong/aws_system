(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{426:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(33),s=a.n(r),i=a(14),o=a.n(i),l=a(23),d=a(3),j=a(4),u=a(20),b=a(15),m=a(12),p=function(e){localStorage.setItem("sideNavStatus",e)},h=a(7),O=a.n(h),x=a(188),v=a(1),A=function(e){var t=e.title;return Object(v.jsxs)(x.a,{children:[Object(v.jsx)("meta",{charSet:"utf-8"}),Object(v.jsx)("title",{children:t||"eISO System"})]})},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAxCAYAAADUQffnAAAHCElEQVR4Xu1bzVIbRxDuXiHsW0hVkH2L/QQmT2A4ICon4ycIPiD7ZvkJLJ4AfLOXQ+AJAqeU5QPyE1g8QeSbLVIV+WYW2E71ales9me6R6wUy9m5UZqd7umvu+eb7gGhHHNrAZxbzUvFoQRvjp2gBK8Eb44tMMeql5FXgjfHFphj1cvIK8GbYwvMsepl5JXgzYcFlrZOlhaqFw8qDi4RwUpSa0ToXvk0+Hu//r7IHS1vt1ccgIeEuMTrEtEqOtADwh7/zXLPzxfeDw7WBjZy/5PIqzXaZKNk1ty+W1fpzoAtLl4+B6AmAATGU44uAXUqjnP86fV6R/nNaNrdZ3/e86nyEgg2LeR2AfDI8xZeaYBUGcBWcWn+LMCb0Hh5qveI4PHZfr0r7S1wllsXu0CwJc01/D4AwL2+u75jWuO7BG95u72FCLsWHi/a2XFwTYpATo+IcFKYXIQD77z6Ii8KvzvwQuB+F9GwnCCBV2u83QRAlmuTmjVadD2vupYF4HcFXpAq/coHjQERYERKCOAeAPxssqQJPBu5AUEBeK+Rea0PHvXd9ccpgqWBftpz7j57t+r7xOkmc0heH31Ua7QPAOA3g76nANTquxtHWXOGevirAMjn1RiYJh1qjTY7TIq9JmQcEsFe/Nzk87FavdhEhJbkPAj44rO7vhdfUx15SbobX8Qn6tyEXhcI3j95Ucfe/tmtr2odkdMgAjYJ4CF/kweeJk0TwZOz/To7VuYYMuILBsbkeAPPq96Pp08jeNaMDeGAfHilYWXxXRQBnrQGAO303Q32cKtxp/GuSUAtx8HNLMJSa7T/gmHazRl6ubVGm9nsA+1aueAtN97usudZ7XQ0GVsSzZ09eHDYd+s3oe8pU8gOAx/7bt0A7PiSivV6fbd+P/oqBV4Ywnz+SDnciCshvDp7U1eBLymtOfNCms5nj2Fgy3EuDz+9/jWobNx01BpvWwD4Mm+drHNKkilFn+Nc3Y/0T4G3vN0+QQTj2RCyJQb3B7My9DiPHBQdebyexeU/qJ446HQQL08nBfNOo92JzsQsO8QNLYEW/S45RPz8HAPP9CED5hM04+dZcCZeOXuA+ChHubEwz9tAEZEXgscRZaT8OTpwRaODRB2sXB1rwRScxSplRnpJtoif3SPwwnTJh2/qkikxNVOoE8EvEoGRFNakTd68tI7W+4mgU6ngjlRRMYEn2SxPlxAHZs2ZI77uCLyQVXFJKTUkAMLqwh/Z4mS2JRldCx7Ll1KZFsBwXm5N08bIljKN6T8TPNNFU6rgm4yv8cAiwVPemWzsOQCgJ8mzW9JZs+88JbQRPYo8wwcDIhCr6XkkR7MJyRA2kZc4+JntCqRKh2OSfHwzkaej2bpNZswa9N36j6avpwEey7MpPyl2l7onaiNEsfZoiuQUQHTc39/gHuHwxbRkPBvhWXNvknZ5vUkiL6kHM2PyFzYJiK84fBWyZqXJfQhsU3TaLFvJWFxziP8NeElDsYffvn25Ehai2ZMNZanh10knksjRTO55AtoDx8FUO8ImGiXKLXlbEZEn6WtmzNHX40UH6UI9ST1VqpVmVlhMKWASD5KMFf+9CPC4ug9IDy68xR3N+48s/ZaftveQ4Hme7kknUnAFVZEikifZAWC8Vhpnm7nVCamlYQPUJHleE3mxKOg5Dj6Roj0TvOHzidwufJYeUurURl9IVLg2m1vITuIwAk/wOr4urEmVkvFo4q72wi4RHZt6WRrCZAleoAZXSRwH9z6/WT/WOpdQ1/3Sd+up6pMm3UrOr2wGpOSPwAtb+VweyxsDAmqeuRuHJmMEqcSB59evp9IVlp+220GDMxoVgBVCGOsSx39HguYVjN81k81fw/nTI6AjLkLnvY288/TdI9+npqkgb+qSyNGX7UwBA76qPKJhJ9349iXLAcYK01LODw0aFHEhNCYSDYLHpEj3gAIKngj7NHgW1f9cP0nTdnN7JrFQUHiQuiexbz56XnUl7ywNI4ePnUIKAhmbzuxFjoEXKsHAiLRZm4qycv43AJ5efYAvRLAqHRkheWHbFQ3gqedVV1Wvx4oH8JuMPC14KuCixUIA+a1KUc5v7P7nPoOQ7zC6/Wd1k6cReaHhuJbJF+4bez+fcRfn1ZbttWPo/F4Thk9IJtXjIz/PlxrZxgdIrMitxcstAuK3H2pvGr6JxCN0Lo+yGpvTAC9ypdB4/HyPQbQtg50i4EGe3jp3Hc6Kgaiq3vA3YcP7QGLnkR7qp38RpScfVgj8FDMiwl6lgr2vXxe6tt5qY5RJ5obvMVnn1LucSO9J7oVaXa4dKuM/k8AZoAPdSeRbgadVtpw3GwuU4M3GzlORUoI3FbPOZtESvNnYeSpSSvCmYtbZLFqCNxs7T0VKCd5UzDqbRUvwZmPnqUj5F5DmUW7R2BkgAAAAAElFTkSuQmCC",g=a(8),_={baseUrl:"http://3.136.78.128:8000/api/v1",toastTiming:2e3},y=a(21),N=function(){console.log("token manager has been run");var e=null,t="";return{getToken:function(){return e},getDecodedToken:function(){return e?Object(y.a)(e):null},setToken:function(t){return e=t,!0},removeToken:function(){return e=null,!0},logout:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/logout"),{},{withCredentials:!0});case 3:return window.localStorage.setItem("logout",Date.now()),e=null,t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.response),t.abrupt("return",!1);case 13:case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),getMessage:function(){return t},setMessage:function(e){return t=e,!0}}}(),D=function(){var e=Object(u.g)(),t=_.toastTiming,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({username:"",password:""}),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(n.useState)(!1),h=Object(d.a)(p,2),x=h[0],y=h[1];Object(n.useEffect)((function(){""!==l.username&&""!==l.password?s((function(){return!0})):s((function(){return!1}))}),[l]);var D=function(e){b((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(A,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsx)("div",{className:"c-Login__Card",children:Object(v.jsxs)("form",{onSubmit:function(t){var a=t.target.username.value,n=t.target.password.value;t.preventDefault(),y((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/login"),{username:a,password:n}).then((function(t){var a=t.data.results;console.log(a);var n=t.data.results.token;N.setToken(n),console.log(N.getToken()),O.a.defaults.headers.common.Authorization="bearer ".concat(n),y((function(){return!1})),e.push("/dashboard")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),y((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:f,alt:"logo"})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:l.username||"",onChange:D,placeholder:"Username"})]}),Object(v.jsxs)("div",{className:"c-Card__Password",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",name:"password",value:l.password||"",onChange:D,placeholder:"Password"}),Object(v.jsx)("a",{href:"/forgot-password",className:"c-Card__Forgot-password",children:"Forgot password?"})]}),r?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:x?"Loading...":"Login"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Login"})]})})})})]})},T=function(e){var t=e.isValid,a=e.text,n=t?"text-success":"text-danger";return Object(v.jsx)("li",{className:n,children:a})},S=function(e){var t=e.validity,a=t.minChar,n=t.number,c=t.specialChar,r=t.match;return Object(v.jsxs)("div",{className:"c-Card__Password-criteria",children:[Object(v.jsx)("div",{className:"c-Password-criteria__Header",children:Object(v.jsx)("b",{children:"Password Criteria"})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)(T,{isValid:a,text:"Have at least 8 characters"}),Object(v.jsx)(T,{isValid:n,text:"Have at least 1 number"}),Object(v.jsx)(T,{isValid:c,text:"Have at least 1 special character"}),Object(v.jsx)(T,{isValid:r,text:"Passwords must match"})]})]})},I=function(e){e.match;var t=N.getToken(),a=N.getDecodedToken();console.log("------------Decoded Token-------------"),console.log(a);var c=a.company_name,r=a.admin_level,s=_.toastTiming,i=/\d/,o=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,l=Object(u.g)(),b=Object(n.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=p[1],y=Object(n.useState)({firstName:"",lastName:"",username:"",password:"",confirmPassword:"",addressLineOne:"",addressLineTwo:"",city:"",state:"",country:"",postalCode:""}),D=Object(d.a)(y,2),T=D[0],I=D[1],C=Object(n.useState)(!1),M=Object(d.a)(C,2),E=M[0],F=M[1],w=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(n.useState)(!1),q=Object(d.a)(R,2),H=q[0],Y=q[1];Object(n.useEffect)((function(){""!==T.firstName&&""!==T.lastName&&""!==T.username&&""!==T.password&&""!==T.confirmPassword?x((function(){return!0})):x((function(){return!1})),B((function(){return{minChar:T.password.length>=8,number:!!i.test(T.password),specialChar:!!o.test(T.password),match:T.password===T.confirmPassword}}))}),[T]);var U=function(e,n,c,r,s,i,o,d,j,u,b,m){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:n,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:j,country:u,postal_code:b},title:m}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),Y((function(){return!1}))}))},L=function(e,n,c,r,s,i,o,d,j,u,b,m){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:n,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:j,country:u,postal_code:b},title:m}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),Y((function(){return!1}))}))},Q=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(A,{title:"Create Account"}),Object(v.jsx)("div",{className:"c-Create-account",children:Object(v.jsx)("div",{className:"l-Create-account__Card",children:Object(v.jsx)("div",{className:"c-Create-account__Card",children:Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.firstName.value,n=e.target.lastName.value,c=e.target.username.value,s=a.email,i=e.target.password.value,o=e.target.addressLineOne.value,l=e.target.addressLineTwo.value,d=e.target.city.value,j=e.target.state.value,u=e.target.country.value,b=e.target.postalCode.value,m="placeholder";e.preventDefault(),Y((function(){return!0})),2===r?L(t,n,c,s,i,o,l,d,j,u,b,m):0===r&&U(t,n,c,s,i,o,l,d,j,u,b,m)},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:f,alt:"logo"})}),Object(v.jsxs)("div",{className:"c-Card__Form-title",children:[Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Create Your Account"})}),Object(v.jsxs)("p",{children:["Hello, ",a.name,"! You are invited to eISO as a ",2===r?"super admin":"normal user"," by ",2===r?"the platform admin":c||"Error","."]})]}),Object(v.jsx)("div",{className:"c-Card__Form-input-title",children:Object(v.jsx)("b",{children:"Basic Details"})}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-first-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{type:"text",name:"firstName",value:T.firstName||"",onChange:Q,placeholder:"First Name"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{type:"text",name:"lastName",value:T.lastName||"",onChange:Q,placeholder:"Last Name"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-second-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"addressLineOne",children:"Address Line One"}),Object(v.jsx)("input",{type:"text",name:"addressLineOne",value:T.addressLineOne||"",onChange:Q,placeholder:"Address Line One"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"addressLineTwo",children:"Address Line Two"}),Object(v.jsx)("input",{type:"text",name:"addressLineTwo",value:T.addressLineTwo||"",onChange:Q,placeholder:"Address Line Two"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-third-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{type:"text",name:"city",value:T.city||"",onChange:Q,placeholder:"City"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{type:"text",name:"state",value:T.state||"",onChange:Q,placeholder:"State"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-fourth-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{type:"text",name:"country",value:T.country||"",onChange:Q,placeholder:"Country"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{type:"text",name:"postalCode",value:T.postalCode||"",onChange:Q,placeholder:"Postal Code"})]})]}),Object(v.jsx)("div",{className:"c-Card__Basic-details-fifth-row row",children:Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:T.username||"",onChange:Q,placeholder:"Username"})]})}),Object(v.jsx)("div",{className:"c-Card__Form-input-title",children:Object(v.jsx)("b",{children:"Password Info"})}),Object(v.jsxs)("div",{className:"c-Card__Password-info row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"password",name:"password",value:T.password||"",onChange:Q,placeholder:"Password"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",name:"confirmPassword",value:T.confirmPassword||"",onChange:Q,placeholder:"confirmPassword"})]})]}),E&&Object(v.jsx)(S,{validity:P}),Object(v.jsx)("div",{className:"c-Card__Submit-btn",children:h&&!0===P.minChar&&!0===P.number&&!0===P.specialChar&&!0===P.match?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:H?"Loading...":"Create Account"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Create Account"})}),Object(v.jsx)("div",{className:"c-Card__Terms-message",children:Object(v.jsxs)("p",{children:["By creating an account, you agree to our ",Object(v.jsx)("a",{href:"#",children:"Terms of Service"})," and ",Object(v.jsx)("a",{href:"#",children:"Privacy Policy"})]})})]})})})})]})},C=function(){var e=localStorage.getItem("sideNavStatus")||null;return null==e||"true"===e?(p(!0),!0):(p(!1),!1)},M="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAGfAZ8DAREAAhEBAxEB/8QAhQABAAIDAQEBAAAAAAAAAAAAAAYHAwQFCAIBAQEAAAAAAAAAAAAAAAAAAAAAEAEAAQMCAgUIBQkHAgcAAAAAAQIDBBEFMQYhQVESB2FxgaEiMhMUkbFCYiPB0VJygpKishXhwkNTcyQXM5Njg8M0VCVVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBl5mHh2vi5d+3j2/07tUURPm14gi24+KnKOHM02btzNrjqsUz3f3qtIBHczxpvzMxhbZTTHVXfuTM/u0xp6wci/wCLfNtyfY+WsR1dyzMz/FVINX/k/nT/AOZT/wBq3+YH7HihznExPzdE+SbVvT1QDbx/Fzmq3MfEoxr1PX3rdVM/TTV+QHYwvGmdYjO2vo66rFzWf3a4j6wSXbfE3lHNmKasqrEuT9nIpmmNezvRrAJNYv2Mi1F2xdovWp4XLdUVU/TGoMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOVv3M+y7FZ+JuGRFFcxrRYp9q9V5qI6QVrvvi5u2V3rW1WowbM9EXa9K70x/LT6wQjMzs7OvTezL9zIuzxru1TVPrBrAAAAAAAA3du3fc9tuxdwMm5jVx126piJ88cJBO9h8YMu1NNre8eL9vhOTYiKbkeWqj3Z9GgLI2ffdp3fH+Pt2TRfo+1THRXT5KqZ6YBvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Lt21ZtV3btdNu1biaq7lU6U0xHXMyCsubPFiqZrxNg6I6Yqz6o6f8AyqZ/mkFbZGRfyL1d/IuVXr1c613K5mqqZntmQYQAAAAAAAAAAAbODuGbt+TTk4V6vHv0e7ctzpP9oLS5S8VcfKqow987uPkTpTRmUxpaqn78fYny8PMCxImJiJiYmJjWJjpiYnsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABp7pu2BtWDczc67FjHt8ap4zPVTTHXM9gKU5x553LmK9NqJnH2yifwsWJ97ThVd04z5OEAi4AAAAAAAAAAAAAAAJpyR4iZeyVUYWfNWRtMzpEca7OvXR20/d+gFy4eVjZeNbysa5Tex71MVW7lM6xMSDMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV3PcsPbcG7nZlyLWPZjWuqfVER1zPUCiObebM7mPP+NembeJamYxcWJ9miO2e2qeuQcEAAAAAAAAAAAAAAAAAEr5H53yOXsv4V6aru03p/Gs669yf8yiO3tjrBd+PkWMqxbyMeuLti7TFdu5TOsVUzwmAZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAflVVNFM11zFNFMTNVU9EREdMzIKO8QOcrm/7h8DHqmNqxapixT/mVcJu1f3fICJAAAAAAAAAAAAAAAAAAAAnvhnzpO25VO0Z1z/6/Iq/Arqnos3Z/u1fWC4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAV14sc1zjY8bFiV6X8imK82qJ921PCj9vr8gKlAAAAAAAAAAAAAAAAAAAAABdnhnzXO77V8jlV97cMGIpmZ43LXCmrzxwkEzAAAAAAAAAAAAAAAAAAAAAAAAAABp7tumPtW25O4ZH/AEsaia5jrmeFNMeeegHnbcc/J3HPv52TV3r+RXNyuezXhEeSI6IBqgAAAAAAAAAAAAAAAAAAAAA6nLe9Xtk3nG3C1rpaq0vUR9q1V0V0/R6weh7F+1kWLd+zVFdm7TFduuOE01RrEgyAAAAAAAAAAAAAAAAAAAAAAAAAArPxi32aaMXZLVXTV/uMqI7OFumfXIKsAAAAAAAAAAAAAAAAAAAAAAABcnhJvs5mx3Ntu1a3tvq/D14zZuTrH7tWsAnYAAAAAAAAAAAAAAAAAAAAAAAAGsR0zOkR0zPkB535q3WrdeYs7OmdaLl6abXkt0ezTp6I1ByAAAAAAAAAAAAAAAAAAAAAAAASnw33b+nc24venSzl6413s9v3Z/e0BewAAAAAAAAAAAAAAAAAAAAAAAAOPzhuM7dyzuOXTOldFmqm3PZXX7FPrqB54iNI07AAAAAAAAAAAAAAAAAAAAAAAAAZLdy5auUXbc6XLdUV0T2VUzrE/SD0lt2ZRm7fjZtHu5Fqi7H7dMSDZAAAAAAAAAAAAAAAAAAAAAAABBvF3Lm1yxbsRPTk5FFMx92iJqn1xAKZAAAAAAAAAAAAAAAAAAAAAAAAABfPhtmTlcnbfMzrVZ79mr9iudP4ZgEmAAAAAAAAAAAAAAAAAAAAAAABWXjVen4W02Y66r1c/RREAq0AAAAAAAAAAAAAAAAAAAAAAAAAFyeD16a+W8i1M6/CyqpjzVUU/mBOwAAAAAAAAAAAAAAAAAAAAAAAVV40/wDu9r/07n80ArUAAAAAAAAAAAAAAAAAAAAAAAAAFt+DFcztO409VN+iY9NE/mBYgAAAAAAAAAAAAAAAAAAAAAAAKt8arc/G2m51TTdp+iaZ/KCsgAAAAAAAAAAAAAAAAAAAAAAAAAW/4N29Nhzq9PfyIjXt7tH9oLAAAAAAAAAAAAAAAAAAAAAAAABXnjNjzVtO35GnRav10TP+pRr/AOmCowAAAAAAAAAAAAAAAAAAAAAAAAAXb4T4/wALlGivT/r37tyJ8kaUf3ATIAAAAAAAAAAAAAAAAAAAAAAAEV8TML5rk/LmI1qx5ov0/sVaVT+7MgooAAAAAAAAAAAAAAAAAAAAAAAAAHoflDCnB5Y23GmNKqbFNVcdlVft1euoHYAAAAAAAAAAAAAAAAAAAAAAABgzcO3mYV/EuRrbyLdVqqPJXEwDzbkY93GyLuNdjS7Yrqt1+eidJ+oGEAAAAAAAAAAAAAAAAAAAAAAAHR5f22rc97wsCI1jIvU01x9yJ1r/AIYkHo6IimIpjhHRHmgAAAAAAAAAAAAAAAAAAAAAAAAAFKeKmzTt/M1WXRTpY3GmL0T1fEj2a4/KCFgAAAAAAAAAAAAAAAAAAAAAAAsXwd2abu45W7Xafw8Wj4Fmf/Eue99FMAtoAAAAAAAAAAAAAAAAAAAAAAAAAEW8RtgneOW7s2qe9l4MzfsRHGdI9umPPT64gFEgAAAAAAAAAAAAAAAAAAAAAA+6KK7ldNuimaq65imimOMzM6REA9C8pbFTsewY2DpHx4j4mVVHXer6avo4egHXAAAAAAAAAAAAAAAAAAAAAAAAAABRniLyxOyb9Xcs06YGbM3caeqmqZ9u36J4eQETAAAAAAAAAAAAAAAAAAAAABPfCrlidw3Wd3yKNcPBn8HXhXf6v3I6QXEAAAAAAAAAAAAAAAAAAAAAAAAAAADkc0cvYu/7PdwL2lNc+3j3f0Lke7Pm6pBQGdhZWDm3sPKom3kWKpouUT1TH5J6gawAAAAAAAAAAAAAAAAAAAOjsWy5u87pZ2/Ep1uXZ9qvqooj3q6vJAPQOz7VibVttjb8WnSzYp0ieuqftVVeWqQboAAAAAAAAAAAAAAAAAAAAAAAAAAAAIZ4icjxveJ89hUxG7Y9OkUx0fGoj7E/ej7P0ApaqmqmqaaommqmZiqmeiYmOMTAPgAAAAAAAAAAAAAAAAAGbGxsjKyLePj26rt+7VFNu3TGs1TPVAL05H5Pscu7fpXpc3HIiJyr0dMR2W6Z/Rp9YJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB+IHh5TusV7ptVEUblEa3rEdEX4jrj7/1gqC5buW7lVu5TNFyiZproqjSYmOMTEgxgAAAAAAAAAAAAAAAz4eJk5mTbxsW1VeyLs923bojWZmQXVyLyHY2CzGVk6X91u06V1x002onjRR+WQS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEU5y8P8Df6asmzMYu6RHs39PZuadVyI/m4gprdtn3LaM2rE3CxVZvR7uvTTVHbTVwqgGgAAAAAAAAAAAAADq8v8t7rvuX8vgWu9ET+Lfq6LduO2qr8nEF0cp8l7Vy9Y1tR8fOrjS9l1x7U/doj7NIJEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS3XZtt3bEnF3CxTfszw73vUz201R00z5gVbzJ4TbliTXf2Wqc7Hjp+Xq0i9THk6q/rBBL1m7Zu1Wr1FVq7T0VW64mmqPRIMQAAAAAAAAANjEw8vMv04+JZryL9XRTbt0zVV9EAsLlrwjv3JoyN/ufCo4/J2p1rn9euOiPNALNwdvwtvxqMXCs0Y+PR7tu3GkefyyDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzt45e2beLfc3HEovzwpuTGlynzVx0ggm7+DduZmvaM2aOyxkxrHorp6fpiQQ/cfD/m7AmZu7fXetx/iWNLtOnb7PTHpgHBu2b1mqabtuq3VHRMV0zT9YMWsTwAAAmYjjIM1jGyciuKLFmu7VVwiimatfoBItu8OObs6YmMKca3P+JkzFvT9mda/UCY7P4OYNuabm7ZdWRPXYsfh0eaap9qfUCc7Xs+1bVZ+Dt+LbxrfCe5Gkz+tVxkG6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmZnMuw4eVbxMncbNrJuVRTTamqNYmeHe0930g6YAAAAAAAMV/Hx8iNMizbvR2XKKa/wCaJBzL/J/Kt+db21Y1X7Hd/lmAav8Ax7yV/wDl2vpq/OBHh7yVExP9KtTp1TNUx9YNzH5T5XxZibG141Exw9iKv5tQdSzas2ae7Zt0Wqf0bdMUR9FMQD6AAAAAAB+V10UUVV11RTRTGtVUzpERHXMgwYedhZtmL2Fft5Fqft2qorj1A2AAAAAAAAAAAAAAAAAAAAAAAAAAR/mXnjY9hpmjIufGzNNacS1pNfk708KI84Kt5h8SeYt2mq1aufIYc9EWbEzFUx96570+gETnpmZnpmemZBNeT/ErcNnijD3DvZm2x0UzM63bUfdmfej7sgt3a9227dsWMrAv037M8Zp40z2VRxpnzg3AAAAAAAAAAAAAAAAAAc3fOYdp2PG+Y3C/FuJ1+HajpuVzHVTT1gp3m/xA3XmCqrHo1xNsifZxqZ6a/Ldq6/NwBHtv3PcNvvxfwci5jXo+3bqmNfPHCfSCw+XPF65TNGPv9nv08PnbMaVR5a7fX6AWTt+5YO4Y1OThX6MixVwronWPNPZPkkGyAAAAAAAAAAAAAAAAAAAAADFfv2MezXfv3KbVm3E1XLlc6U0xHXMyCrOb/FW/fmvC2CZs2PdrzpjS5V/pxPux5eIK7rrruVTXXVNVdU61VVTMzMz1zMg+AAAb217xuW05UZO35FePfjjNM+zVHZVTwqjzgs/lnxcwMruY++2/lL89HzVETNmqfvR71HrBPsfIx8i1Tex7lN+xX003LdUVUz5pgGQAAAAAAAAAAAAAGvnZ2FgWKsjMv0Y9injcuTFMf2grvmXxdt0xVj7Da79XCc29GlMfqUdfnkFa5udmZ+TXk5l6vIyK/euXJ1nzeSPJANYAAHR2Xf8Adtmyoyduv1Wq/t0caK4jqrp4SC4uUPEDbd/inHu6Ym56dOPM+zX2zbqnj5uIJYAAAAAAAAAAAAAAAAAAADT3Xd8DasK5m512LVi31zxqnqppjrmQUjzfzvuHMV+aJ1x9uonWziRPHsquae9V9QI0AAAAAADo7Tv28bRd+Jt2VXjzM61UROtFX61E60yCf7L4yzHdt7zh69uXjfXNur8kgm+1c38tbrEfJ59uq5P+DXPw7nm7tWmvoB2AAAAAAAAAJ6I1nhHGQcLdueOV9riYyM+iu7H+DY/Gr/h6I9Mggu9eMWbdiq1s2JTj0z0RkX/br9FEezHpBA9x3Xctyv8Ax8/JuZN3qmudYj9WOEegGmAAAAAD7pqqoqiuiqaa6Z1pqpnSYmOExMAtTkPxLjIm3tW/XIi/OlGLnVdEVzwim52VfeBZAAAAAAAAAAAAAAAAAANLd92wdpwLufnXPh49qOn9KqeqmmOuZBRXNfNefzFnzfv/AIeNbmYxsaJ9mintntqnrkHCAAAAAAAAAAB1tt5p5j26IjD3C9aop4W5q79EfsV96n1AkmD4vczWdIyLOPlUx20zbqn00zMeoHaxvGnHnT5raq4nr+Dcif5ogHRteMHLNUfiWcm1PZ3Iq+qQZ/8Alrk3/Myf+xP5wP8Alrk39PJ/7E/nBr3vGLlqiPwsfJuz2d2mj65Bzcrxqo0n5Tapmer492I/kiQcPN8Wuar8TFiLGJTPCaKO/VHprmY9QI3uHMO+bjrGdn3r9M8aKq5ij9yNKfUDmgAAAAAAAAAAs7w68QJiq3s28XtaZ0pwsuuemJ6rVdU/wyC0QAAAAAAAAAAAAAAAY8rJx8XHuZORci1YsUzXduVdERTHGQURzrzfkcx7h3o1t7fYmYxLE9n6dX3qvUCNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt3w154nOop2Xc7mubbjTEvVT03aI+xMz9uPXALCAAAAAAAAAAAAAABT/ifzlOflVbNhXP9jj1f7mumei7dp6v1aPrBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZLV27Zu0XrNc27tuqKrddM6TTVHTEwC9uRebbfMW1RVcmKdxxtKMu3HXPVcpjsq+sElAAAAAAAAAAAABDvEnmz+ibV8ri16bjnRNNuY427fCq55+qAUiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq8tb9lbFu1nPsazTTPdv2uqu3PvUz+Tyg9BYObjZ2DZzMWv4mPkURXbqjsnt8sdYNgAAAAAAAAAAGDNzcfCxL2Zk1dyxYom5cqnqiAeeuYt6yN73e/uF/om7Olqj9C3HuUx5oBzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWT4S80fBv1bBk1/hXpm5hTPVc410ftcYBawAAAAAAAAAAKy8XuY5pps7Bj1+9pfzdOz/Don6wVaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLYv3se/bv2apov2qort1xxiqmdYkHoXljfbW+bHjbjRpFdyO7foj7N2norj6ekHVAAAAAAAABrbln2NvwMjNvzpZx7dVyvy92OEeWeEA867puORuW45GfkTreya5rq8mvCmPJEdANMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+8JeYZw92ubTeq/wBvn9NrXhTeoj+9T0AuEAAAAAAAAFceMG+/BwsbZrVXt5M/GydP8uifYj01dPoBU4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM2Pfu49+3fs1TRdsVU126o4xVTOsT9IPRWxbra3XaMTcbemmRbiqqmPs18K6fRUDfAAAAAAA6I6Z4RxB555u3id45hzM2KtbU1/Dx/9K37NOnn4g4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALU8G9671nM2a5V025+ZxYnsq6K4j06SCywAAAAAAR/nzd52zlbNv01d2/dp+Xszwnv3ujo81OsgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHa5O3f8ApXM2DmzV3bUXIt3+z4dz2atfNrr6AehQAAAAAAVb4zbprc27aqZ6KYqyLseWfZoifomQVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0Pyhun9T5Z2/Lme9cqtRRdnr79v2KtfPpqDsAAAAAAoLn/AHH+oc3bhcidbdquLFv9W1Gn16gjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALc8G9w+JtGbgVT0416LtEfduxpPrpBYYAAAAMWTfox8e7frnSm1RVXVPZFMag81X79d+/cv1+/erquVeeuZqn6wYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATjwizfgcz148zpTl49VPnqomKqfygucAAAAHG5yuXrfK26VWaaqrvy9dMRREzPtR3Zno7I6QeeQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDkO7dtc37XXapqr/ABtKqaYmZ7tVM0zOkdUcQX+AAD//2Q==",E=a(191),F=a(0),w=function(e){var t=e.sideNavStatus,a=e.setSideNavStatus,c=Object(u.g)(),r=N.getDecodedToken(),s=r.display_name,i=r.username,j=r.email,b=(r.company_alias,r.company_name),m=Object(n.useState)(!1),h=Object(d.a)(m,2),O=h[0],x=h[1],A=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.logout();case 2:e.sent?(Object(g.b)("Logged out successfully"),c.push("/login")):Object(g.b)("Logged out failed");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("header",{children:[Object(v.jsxs)("div",{className:"l-left",children:[Object(v.jsx)("div",{className:"c-Hamburger",children:Object(v.jsx)("button",{onClick:function(){p(!t),a((function(e){return!e}))},children:Object(v.jsx)(F.b.Provider,{value:{color:"#1666BA",size:"21px"},children:Object(v.jsx)(E.a,{})})})}),Object(v.jsxs)("div",{className:"c-Logo",children:[Object(v.jsx)("a",{href:"/dashboard",children:Object(v.jsx)("img",{src:f,alt:"logo"})}),Object(v.jsx)("p",{children:b||""})]})]}),Object(v.jsx)("div",{className:"l-right",children:Object(v.jsxs)("div",{className:"l-Profile",children:[Object(v.jsxs)("div",{className:"c-Profile",children:[Object(v.jsx)("button",{onClick:function(){x((function(e){return!e}))},children:Object(v.jsx)("img",{src:M,alt:"Profile img"})}),O?Object(v.jsx)("div",{className:"l-ProfilePopUp",children:Object(v.jsxs)("div",{className:"c-ProfilePopUp",children:[Object(v.jsxs)("div",{className:"c-ProfilePopUp__top",children:[Object(v.jsx)("img",{src:M,alt:"Profile img"}),Object(v.jsx)("h1",{children:s||"Error"}),Object(v.jsxs)("h2",{children:["@",i||"Error"]}),Object(v.jsx)("h2",{children:j||"Error"})]}),Object(v.jsxs)("div",{className:"c-ProfilePopUp__bottom",children:[Object(v.jsx)("a",{href:"/settings/manage-account",children:"Manage Account"}),Object(v.jsx)("hr",{}),Object(v.jsx)("button",{onClick:A,children:"Log Out"})]})]})}):null]}),Object(v.jsx)("div",{className:"c-ProfileName",children:Object(v.jsx)("h1",{children:s||"Error"})})]})})]})},k=a(437),P=a(438),B=a(439),R=function(){return Object(v.jsx)(k.a,{className:"l-Footer",children:Object(v.jsxs)("footer",{className:"c-Footer",children:[Object(v.jsxs)(P.a,{className:"c-Footer__top",children:[Object(v.jsx)(B.a,{md:12,xl:4,className:"c-Footer__img",children:Object(v.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAABhCAYAAAC5+x8XAAANcElEQVR4Xu1di7EltRGVIjBEYBOB1xEYIjBEYIjAEIEhAkMEhggMERgiMERgE4EhArnOs0SJuTNS/zSS3u2perVbdTX6HPXpbrVamhj8cQQcgdsRiLe36A06Ao5AcOK5EDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4TygDKaW3Qgi/r4b+Q4zxp9cIRUrpTQjhNydj+znG+P2sMT8N8VJKf5wFct1ujPG7O/qRxwuhq/+oTf8nhIA/CCYI+W0IYaqg9jqex/tuCKH89V45/o6xYpzfxhi/4b7MLf9MxEtccEaUjzEOwTxbsT+FED7Mwjei+4WEENDvZlqMPN4/V0SDFbd8XkgYQvgqxgglZPoMEQLTHhpVllJ6lcRLKUHDQwBBuBnP1yGEr2OMX93ReCbcX0IIH4cQrMl2NYQvQwifWRLQiXeHtFRtWFm8lNLvQgh/H2jduMjAGoKEX4ywhJMId8TAjIBOPK54KctriVcJ4KfKrox6HZbBtG8pJVjzv91o4XrYfB5j/KRXqPW7E0+DnuBdDfFyhA5WDgGTVR9T4qWUMN5ZbnQLY6z/PpBGg514N4uvlHiZdP9cSOtfIWdCvGzZ/7GQK302XgRdQD72toQTbwPiLehqtVBTEy8rGZAO69jVH6xtP4oxYn1Lfpx4ZKhsCnItXg6i/GsDS1cAUhEvWzqMdwfS1ULxB47lc+LZ8Ilci4B4EMKV13THsWuJB3caWyS7PXA7QT5SBpAT7+bp5RAvpfR5CAF7VlbPj4eMlFIvrEuxMFcpVtQ+iImXUkI09K/Uhojlfs4ZOCgOcpRx4t/fEuugFkPWy3uUws9EPIoWRfQMm9GSBxvI2OdpPjFGRMO6T3a5/tst2C+AFDX0C5vcJG2c236/ygrhCKiIeCkltId1ncUDspUxX+Kd15KQC2zGc8bY6iP2MVFfWw56BZ7pd6XGFQncFb4pJUwe9q6kD6zbh1SitxrJAgpioE9nCcf162wcMtH/bbSOhQL8mKpkSsfz3FPGR5mP93q432bxjhnxdyULU1A6gC91ddgC1xF2CKI0wADSveEKHwWrHGGFS3hlIdg4KBVe6TasHAjX9Toayg5uNt6vT25QYDmW6bqc5sQ7ZIljIJR8OvjeJSkVR1TY+yISdI7vKAWALXAdAUBQRfp0Na604kpJwUXDGvQopCwcjKwdSPeuhdzk/kAWteRrzoGaeIOy4rEWwaQOyQxvCLxmcc8SuI61g1Ajuid6OAEcUQPVSyfKioWDUtmVnmATm7WP1sEfngaUf8+tblXTtHpi4t2YtGqWmNoTMqUQsASuM/Ga9d1PMca3e2O1/D2vAYuLxsIhpaRxqTEMUjCDO16jYM87VycaRMRLKWEddOexDFjATzT+OwX4hYinsbwY6uWEU3C4q0xeLyIXU/oMW8uiQyklWFGccZQ+8NhO80xZxFsgf06dFd6xNBqBZ2n6gf0YZgWk0nf1XkoJVlK6fYNqzTA/62M+6yh2+bFvGGN856xuMvEWyp/DftQH1kKQNdxrIR6GgwjfFyNwsqrTwM0cbtlTSljraQItp30kEc+A+VZzVeoZoulekatZcEK0+NO7TodzJjnnoGJ9J32+iTFib3HoY+AOI4H6YYujS7yFj6OYRrIWs3iWWRxFMMt2DQR2ynZNzZBRAm3NQoMMotN1XpN4uVH4uNokXaQtIUACDYy6LPLkUB/MOCkNijIhC1k87H1apIu1hg0igoD4w8VF5hf6dNax2vXdcDez9F/pbp5GmXvE02SKI3UHbs7lhOa0KKyrpPslp2acQrKLxfQSa7xsfbVrCy4M5Qaxl2vuRmcWpZQ0py5w1SAlMYOLwWl5gyDQg5K4JJ5iXQfrhhxBkgbNVhXaTxK2vYwaSRBfxeIZuL2S4R/fKURESN3cIipvfbtlfVdZPGwJaLY9HrJYWsSTaCTRvkomHzStJEPczOotRrw73E0OQU2v8VMSb0hw7QoMhREqVdKIp1j4sk7hGi22zbTfSsTLVs/6PB6HaFdlSzofMkbE6+snI95DIPDU4gn3V9SpO8JFrFmK1ILEg9WTegIWJGvV8ULAGONn3IYMLAiymKCUbnkMtj4eLPQD8RSNqDPiFSeuTSJcqxEvWz1EgRGBlAagRgsn+gZ3n7Smz2NSJYGHENSyxgXF2kKfEU+UoGuREa8QfJN1nqJ9zOOwdUfeS12ZfLB+IANpf9DA4r1K4kkSQ3GGTrvXh6RUqSY0EfpViVdZCczNqpaPTD7FPF8GK7gWjFv+DouHjVvuHgncDPHJ3woEbKxLbg1Wry8NQvgm5G8JhHLrhStrkvKkpAYnXgi/cjUNAJFMlsU72GeiXGbUbGtli3eIAF+d/rbAUltHN4ndQM5eV3DFABDtpEnffyriFZDytg88hCU+ullNXncNZu26SQWH8p4BL9r7eAYNUMYxosxTEq8iYHHRQUJJEoL1nFweAK36rPle4XC3/sTD0JzL6xJPk6toPXmc+p6aeAchAQlxugF/0yxhL8qttHhmSRMUITO4atGJ1wleaBTPrVqYIjA5YFS+gY51If6vOdRJbRblmu6mMFmitG+WNEEZ0PAkaWVwgTKGUWXc4jGQzUuKmpAj3NOmIhohzAwIWEWVJyl+jDE+3I96jGpqND5rMMaFnXgKQHO2ElxTrBGtLGJznafIBy4jNUma6MF2y0FYBRj1hyF6Yxnx+/eU++p7DSst/pKuZm/Mx9+zDCAPUrtR31SGBgLdva2ZO/az8gbru/7VD4qoponFsQBKU4cT7//oKY9plSnoyoRynYd2THJ0O+t+7b2f/cuOFMS7dbGrIVcHZI2rbWbx8r2lwHTaLWE5P1RzjTyFeNpjTyYZS1cyoeBDqfJ0fYcfj2s8LAKlNz8N1z6jCFfqXcXiVaF2JB3DVSElH1vjk1JCKqA08NJVRAa3NSNFDWdAyScjOBgpgypoin6hrcL8D9U+HMCkZRckXhkK7q5hn3uT4lApIpyIkO4FdomX3VoNuVHFkLWeUhYKhPQr3BVn4kgJslphGPm+EmySoFH6f7G5fLv1U2p80vWLioBeDaVp7qaBm920dg+uZtZA0qM53cYoQkctk8HBNxzeon7+tlf34sQr3YcVAslJX5btjbmxvtEsO1Dt29SrIZQubRmCyfaC4T2yzaXX1dUPsF7ScLIJAA2BwJElfBccgZCXp5eeRBW+TYhXhjPslmiDb2SwUrqMrB5wUV1bn4Mp+Bw091jcUcS6uapXxNNE99CJL2OMH1EFnlKu+iwYNnl/lQnwpMQrsEFJ4iwkLCAiieILiCqPB5+A1hxsJrmZ9bwbWT1UyfYIcgIBvCfJWdAz8e0GGq+IB8ZDo0qtHjpjopGz6YeFuwSFQrz8pdoex9GGFHwIf/cwMOWiWGUCMdaCOKkOAUQ4uxvxy9iAaMhe0Z5rvAyht8AfcL0Fxg8cYH0fMKg+qFrGrLVyLJe3da+m6O6VE3ChgV/uZAwh4IqIpiBUgEAAAEoXECLxNMdQeoQl/z6xryDk0RpSP5VNHl8vObpDPu3Fsa3qIXf4gzxprHmrja6L+cvyqAOENtR7Vf1ZYECsaScKM0cgyetRpcVj98nwBfWWkiKqbjgMUVU/5O+wk1z93rcTVr9abjth3klJMMWPJXgdhX/3dyOYQ30ojlzlNz1vrn6L+pmula+WI0U1V7Eir5R4ZqTLAR64g1iaSDfvtUTivI/PFrzPzS7qEi8DsbTl20mYd+orUfpMSVe3aXBmjzgEcTHx2EnEy+TDGgxRO2nunnh0vRd3Euad+trDvZWLSHiXVMRwj4/UHqMQOZByVieZeJULgD0+hPeXeXYSZmJfJZcK3zkfcK/wKbah2TNlQHmrAZisoPSxnsNGfXfrqDUhLOJVQKxk/UhZEjut8bKSK5cWWZ4K15ITQocPlfySNaStkPN+tn5oewYBX8aex0+KXJoTryJguS5A8lFJDubHsvCtoXFweWp3gzgL8jb7eMfBZo1fbg6zupqBgz/whtABb7XQcRo+K3szAU0JV8YjsngngjH6SjkMHm7NSzYClWx1P3ezeFfCmRMMSnLByFvD8GVf4I30P5Jy0xKK+37OrSyZJ5YKCa50yXzBsSNzZWNCvAsNDaGAgICUCA9TgYF2LZ8BxoTjPpUpB0G5gjCrfLaIwLncHFZn+7RC8iBXeSBo2+JdKaRyjSHGBTx6aY8FA4z9RbnfoWiGEI8igFlb4XoDJxUFMC+jQiAnQkM5LSFz04inQtFfdgQ2R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R+B/Ko8pvJqFIPEAAAAASUVORK5CYII=",alt:"eISO Logo"})}),Object(v.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__company",children:[Object(v.jsx)("h1",{children:"Company"}),Object(v.jsxs)("p",{children:["78B Telok Blangah Street 32,",Object(v.jsx)("br",{})," #03-06, Singapore 102078"]}),Object(v.jsx)("a",{href:"#",children:"Contact Us"})]}),Object(v.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__legal",children:[Object(v.jsx)("h1",{children:"Legal"}),Object(v.jsx)("a",{href:"#",children:"Privacy Policy"}),Object(v.jsx)("a",{href:"#",children:"Terms Of Service"})]})]}),Object(v.jsx)("hr",{className:"c-Footer__hr"}),Object(v.jsx)(P.a,{className:"c-Footer__caption",children:Object(v.jsx)("p",{children:"Copyright \xa9 2021 Associates Consulting Pte Ltd. All rights reserved."})})]})})},q=a(25),H=function(e){var t=e.sideNavListObj,a=e.index,c=e.activeLink,r=N.getToken(),s=N.getDecodedToken(),i=s.employee_id,o=s.company_id,l=Object(n.useState)(null),j=Object(d.a)(l,2),u=j[0],m=j[1],p=Object(n.useState)((function(){return c===t.link})),h=Object(d.a)(p,2),x=h[0],A=h[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/employees/").concat(i),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){m((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e),m((function(){return null}))}))}),[]);var f=function(){A((function(){return!x}))};return Object(v.jsxs)(v.Fragment,{children:[t.link===c?Object(v.jsxs)("div",{className:"c-Sidenav__Links-header--active c-Sidenav__Links-header",onClick:f,children:[Object(v.jsx)("p",{children:t.display}),x?Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.b,{})}):Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.a,{})})]},""+a):Object(v.jsxs)("div",{className:"c-Sidenav__Links-header ",onClick:f,children:[Object(v.jsx)("p",{children:t.display}),x?Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.b,{})}):Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.a,{})})]},""+a),Object(v.jsx)("div",{className:"l-Sidenav__Sub-links--outer",children:x?Object(v.jsx)("div",{className:"l-Sidenav__Sub-links--inner",children:t.subLinksArr.map((function(e,a){var n=!1;if("Organisation Settings"===e.header&&3===u)n=!0;else if("Organisation Settings"===e.header&&2!==u)return null;return Object(v.jsxs)("div",{className:"c-Sidenav__Sub-links",children:[Object(v.jsx)("h2",{className:"c-Sub-links__Header",children:e.header},""+a),e.subLinks.map((function(e){return!n||"/manage-users"!==e.link&&"/manage-organization"!==e.link?Object(v.jsx)(b.b,{to:t.link+e.link,className:"c-Sub-links__Links",children:e.display},""+e.link):null})),t.subLinksArr.length-1!==a?Object(v.jsx)("hr",{className:"c-Sub-links__HR"}):null]},a)}))}):null})]})},Y=[{link:"/dashboard",display:"Dashboard"},{link:"/announcements",display:"Announcements"},{link:"/swot",display:"4.1 SWOT"},{link:"/interested-party",display:"4.2 Interested Party"},{link:"/scope-of-qms",display:"4.3 Scope of QMS"},{link:"/company-policy",display:"5.2 Company Policy"},{link:"/responsibility-n-authority",display:"5.3 Resp. & Authority"},{link:"/risk-n-opportunity",display:"6.1 Risk & Opp."},{link:"/objective-achievement-program",display:"6.2 Obj. Achiv. Program"},{link:"/equipment-maintenance",display:"7.1 Equipment Maintenance Program"},{link:"/licenses",display:"7.2 Permits Licenses"},{link:"/training",display:"7.3 Training"},{link:"/settings",display:"Settings",minHeight:"380.8px",subLinksArr:[{header:"Overview",subLinks:[{link:"",display:"Settings Overview"}]},{header:"User Settings",subLinks:[{link:"/manage-account",display:"Manage Account"},{link:"/notifications",display:"Notifications"}]},{header:"Organisation Settings",subLinks:[{link:"/manage-organization",display:"Manage Organization"},{link:"/manage-users",display:"Manage Users"},{link:"/manage-invites",display:"Manage Invites"},{link:"/induction-templates",display:"Manage Induction Templates"},{link:"/trainings",display:"Manage Trainings"}]}]}],U=function(e){var t=e.sideNavStatus,a=e.activeLink,n="100%";return!1===t&&(n="0px"),Object(v.jsx)("div",{className:"c-Sidenav",style:{width:n},children:Y.map((function(e,t){return"subLinksArr"in e?Object(v.jsx)(H,{activeLink:a,index:t,sideNavListObj:e},t):e.link===a?Object(v.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header--active c-Sidenav__Links-header ",children:e.display},""+t):Object(v.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header ",children:e.display},""+t)}))})},L=function(e){var t=e.sideNavStatus,a=e.setSideNavStatus,n=e.title,c=e.activeLink,r=e.children;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{title:n}),Object(v.jsx)(w,{sideNavStatus:t,setSideNavStatus:a}),Object(v.jsxs)("main",{className:"l-Main__Outer",children:[Object(v.jsx)(U,{sideNavStatus:t,activeLink:c}),Object(v.jsxs)("div",{className:t?"l-Main__Inner l-Main__Inner--uncollapsed":"l-Main__Inner l-Main__Inner--collapsed",children:[r,Object(v.jsx)(R,{})]})]})]})},Q=function(e){var t=e.isEditor,a=e.organisationContent,c=e.heading,r=e.type,s=N.getToken(),i=N.getDecodedToken(),o=Object(n.useState)(!1),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(void 0),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(n.useState)(void 0),A=Object(d.a)(x,2),f=A[0],_=A[1];Object(n.useEffect)((function(){void 0!==a[r]&&null!==a[r]?(h((function(){return a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):a[r]})),_((function(){return a[r]}))):null===a[r]&&(h((function(){})),_((function(){})))}),[a]);var y=function(e){_((function(){return e.target.value})),h((function(){return e.target.value.split("\n").length>1?e.target.value.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e.target.value}))},D=function(e){if("cancel"===e)_((function(){return a[r]})),h((function(){return void 0!==a[r]&&a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):a[r]}));else if("save"===e){var t;"companyScope"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/scopes"):"companyReferences"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/references"):"companyTerms"===r&&(t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/terms")),O.a.post(t,{content:f},{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:[c," has been updated!"]})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),_((function(){return a[r]})),h((function(){return void 0!==a[r]&&a[r].split("\n").length>1?a[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):a[r]})),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}u((function(e){return!e}))};return console.log(t),Object(v.jsx)("div",{className:"l-Dashboard-Info-Cards",children:Object(v.jsxs)("div",{className:"c-Dashboard-Info-Cards",children:[Object(v.jsxs)("div",{className:"c-Dashboard-Info-Cards__Heading",children:[c||"Data not found!",t?j?null:Object(v.jsx)("button",{type:"button",onClick:function(){return D("edit")},className:"c-Btn c-Btn--link",children:"Edit"}):null]}),Object(v.jsx)("div",{className:"c-Dashboard-Info-Cards__Content",children:j?Object(v.jsx)("textarea",{className:"c-Content__Textarea",value:f,onChange:y}):p||"Data not found!"}),Object(v.jsx)("div",{className:"c-Dashboard-Info-Cards__Btn",children:j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",onClick:function(){return D("save")},className:"c-Btn c-Btn--primary",children:"Save"}),Object(v.jsx)("button",{type:"button",onClick:function(){return D("cancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]}):null})]})})},z=function(e){var t=e.type;return Object(v.jsx)("div",{className:"c-Status-pill c-Status-pill--".concat(t?"active"===t?"active":"overdue"===t?"overdue":"almostDue"===t?"almost-due":"pending"===t?"pending":"active":"active"),children:Object(v.jsx)("h1",{children:t?"active"===t?"Active":"overdue"===t?"Overdue":"almostDue"===t?"Almost Due":"pending"===t?"Pending":"Active":"Active"})})},V=function(e){var t=e.username,a=e.date,n=e.title,c=e.content,r=e.link;return t&&(t="@"+t),Object(v.jsxs)("div",{className:"l-Announcements-bento-box",children:[Object(v.jsx)("div",{className:"l-Announcements-bento-box__Top-line"}),Object(v.jsxs)("div",{className:"c-Announcements-bento-box",children:[Object(v.jsxs)("div",{className:"c-Announcements-bento-box__Account",children:[Object(v.jsx)("h1",{children:t}),Object(v.jsx)("p",{children:a})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"c-Announcements-bento-box__Content",children:[Object(v.jsx)("h1",{children:n}),Object(v.jsx)("p",{children:c})]}),Object(v.jsx)("div",{className:"c-Announcements-bento-box__Link",children:Object(v.jsx)(b.b,{to:"/".concat(r),children:"View more"})})]})]})},W=a(11),J=a.n(W),G=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.display_name,c=t.company_id,r=t.employee_id,s=_.toastTiming,i={headers:{Authorization:"Bearer ".concat(e)}},o=["companyScope","companyReferences","companyTerms"],l=[O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/scopes"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/references"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/terms"),i)],u=[O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m01_01/employees"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m02_01/employees"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m03_01/employees"),i)],p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({companyScope:void 0,companyReferences:void 0,companyTerms:void 0}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)({companyScope:!1,companyReferences:!1,companyTerms:!1}),I=Object(d.a)(S,2),M=I[0],E=I[1];return Object(n.useEffect)((function(){Promise.all(l).then((function(e){e.forEach((function(e,t){200===e.status&&T((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(m.a)({},o[t],e.data.content))}))}))})).catch((function(e){console.log(e)})),Promise.all(u).then((function(e){e.forEach((function(e,t){if(200===e.status){var a=!1;e.data.results.forEach((function(e,t){e.employee_id===r&&(a=!0)})),!0===a&&E((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},o[t],!0))}))}}))})).catch((function(e){console.log(e)}))}),[]),console.log(M),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"Dashboard",activeLink:"/dashboard",children:Object(v.jsxs)(k.a,{className:"c-Dashboard",children:[Object(v.jsxs)(P.a,{className:"c-Dashboard__Welcome",children:[Object(v.jsx)("h1",{children:"Welcome!"}),Object(v.jsx)("h2",{children:a||"Error in retrieving name"})]}),Object(v.jsxs)(P.a,{className:"c-Dashboard__Latest-announcements",children:[Object(v.jsx)("div",{className:"c-Latest-announcements__Heading",children:Object(v.jsx)("h1",{children:"Latest Announcements"})}),Object(v.jsxs)(P.a,{className:"c-Latest-announcements__Content",children:[Object(v.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(v.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly."})}),Object(v.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(v.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n"})})]}),Object(v.jsx)("div",{className:"c-Latest-announcements__Link",children:Object(v.jsx)(b.b,{to:"/announcements",children:"View more Announcements"})})]}),Object(v.jsxs)("div",{className:"c-Dashboard__Organisation-info",children:[Object(v.jsx)("div",{className:"c-Organisation-Info__Heading",children:Object(v.jsx)("h1",{children:"Your organisation"})}),Object(v.jsxs)("div",{className:"l-Organisation-Info__Info-Cards",children:[Object(v.jsx)(Q,{isEditor:M.companyReferences,organisationContent:D,type:"companyScope",heading:"Scope"}),Object(v.jsx)(Q,{isEditor:M.companyScope,organisationContent:D,type:"companyReferences",heading:"Normative References"}),Object(v.jsx)(Q,{isEditor:M.companyTerms,organisationContent:D,type:"companyTerms",heading:"Terms and definition"})]})]})]})})]})},X=a(6),K=function(e){var t=e.id,a=e.username,n=e.date,c=e.title,r=e.content,s=Object(u.g)();return Object(v.jsxs)("div",{className:"c-Announcements-list-item",onClick:function(){s.push("/announcements/view/".concat(t))},children:[Object(v.jsxs)("div",{className:"c-Announcements-list-item__Content",children:[Object(v.jsxs)("h1",{children:["@",a]}),Object(v.jsx)("h3",{children:n}),Object(v.jsx)("h2",{children:c}),Object(v.jsx)("p",{children:r})]}),Object(v.jsx)("hr",{})]})},Z=function(){var e=_.toastTiming,t=Object(u.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:2,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:3,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Announcements",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-Announcements c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Announcements"})]}),Object(v.jsxs)("div",{className:"c-Announcements__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Announcements"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/announcements/create")},children:"Create announcements"})]}),Object(v.jsx)("div",{className:"c-Announcements__Filter"}),Object(v.jsx)("div",{className:"c-Announcements__List",children:i?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{}),i.map((function(e,t){return Object(v.jsx)(K,{id:e.id,username:e.username,date:e.date,title:e.title,content:e.content},t)}))]}):Object(v.jsx)("p",{children:"No records found."})})]})})]})},$=function(e){e.match.params.aid;var t=_.toastTiming,a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"View Announcement",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-View-announcements c-Main",children:[Object(v.jsxs)(X.a,{className:"c-View-announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Announcement"})]}),Object(v.jsx)("div",{className:"c-View-announcements__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"View Announcement"})}),Object(v.jsxs)("div",{className:"c-View-announcements__Content",children:[Object(v.jsxs)("div",{className:"c-Content__Top",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("h1",{children:"@BobSong"}),Object(v.jsx)("h3",{children:"10 Nov 2021, 3:45PM"}),Object(v.jsx)("p",{children:Object(v.jsx)("i",{children:"This announcement was sent to all employee's email of this company"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"c-Content__Main",children:[Object(v.jsx)("h1",{children:"Important: Double check for roles"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:["Hi all, ",Object(v.jsx)("br",{}),"I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Regards,",Object(v.jsx)("br",{}),"Bob Song"]})]}),Object(v.jsxs)("div",{className:"c-Content__Attachments",children:[Object(v.jsx)("p",{children:Object(v.jsx)("i",{children:"2 Attachments"})}),Object(v.jsx)("div",{className:"c-Content__Attachments-section"})]}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)("div",{className:"c-View-announcements__Danger",children:[Object(v.jsx)("h1",{children:"Danger Zone"}),Object(v.jsxs)("div",{className:"c-Danger__Row",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Delete"}),Object(v.jsx)("p",{children:"This action cannot be reversed."})]})]})]})})]})},ee=a(62),te=a(17),ae=a(75),ne=function(){var e=_.toastTiming,t=N.getDecodedToken().company_id,a=Object(n.useState)([{label:"Swedish",value:"Swedish"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"}]),c=Object(d.a)(a,2),r=c[0],s=(c[1],Object(n.useState)([])),i=Object(d.a)(s,2),j=i[0],u=i[1],b=Object(n.useState)(C),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(n.useState)((function(){return te.EditorState.createEmpty()})),A=Object(d.a)(x,2),f=A[0],y=A[1];return Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function a(){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/employees"));case 3:n=a.sent,c=n.data.results,console.log(n),console.log(c),e&&u((function(){return c.map((function(e,t){return{label:"@".concat(e.account.username),value:e.account.username}}))})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))(),function(){e=!1}}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"View Announcement",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-Create-announcement c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Announcement"})]}),Object(v.jsxs)("div",{className:"c-Create-announcement__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Announcement"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Publish"})]}),Object(v.jsxs)("div",{className:"c-Create-announcement__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Fields__Recipients",children:[Object(v.jsx)("h2",{children:"Send to"}),Object(v.jsx)(ae.a,{isMulti:!0,options:r,placeholder:"Select recipient group"}),Object(v.jsx)("h3",{children:"Or"}),Object(v.jsx)(ae.a,{isMulti:!0,options:j,placeholder:"Select specific recipients"})]}),Object(v.jsxs)("div",{className:"c-Fields__Title",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Fields__Content",children:[Object(v.jsx)("h2",{children:"Content"}),Object(v.jsx)(ee.Editor,{editorState:f,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:y,placeholder:"Enter content"})]}),Object(v.jsxs)("div",{className:"c-Fields__More-info",children:[Object(v.jsx)("h2",{children:"More info"}),Object(v.jsx)("input",{type:"checkbox",name:"sendEmail"}),Object(v.jsx)("label",{htmlFor:"sendEmail",children:"Send announcement to specified employees via email"})]})]}),Object(v.jsx)("span",{className:"c-Fields__VL"}),Object(v.jsx)("div",{className:"c-Fields__Right",children:Object(v.jsx)("h2",{children:"Attachments"})})]})]})})]})},ce=function(e){var t=e.isDocCollapsed,a=e.children;return Object(v.jsx)("div",{className:t?"l-Document l-Document__collapsed":"l-Document",children:a})},re=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#",headerAttrs:{hidden:!0}},{dataField:"content",text:"Name",headerAttrs:{hidden:!0}}],se=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],ie=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"interested_parties",text:"Interested Parties"},{dataField:"needs_n_expectations",text:"Needs and Expectations"}],oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],le=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"site_name",text:"Site Name"},{dataField:"site_address",text:"Site Address"},{dataField:"site_scope",text:"Site Scope"}],de=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],je=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"updated_at",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],ue=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],be=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],me=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"createdOn",text:"Created On",hidden:!0},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],pe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],he=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_view",text:"View",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"View"}):"N.a."}}],Oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"fileName",text:"File Name"},{dataField:"description",text:"Description"},{dataField:"maintenanceFrequency",text:"Maintenance Frequency"},{dataField:"uploader",text:"Uploader"},{dataField:"uploadDate",text:"Upload Date"},{dataField:"action_download",text:"",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Download"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),"Delete"}}],xe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],ve=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"Approver"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"evaluation",text:"Evaluation",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"attendance",text:"Attendance",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],Ae=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],fe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],ge=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],_e=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_title",text:"Template Title"},{dataField:"version",text:"Version"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Created On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],ye=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],Ne=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],De=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"form_name",text:"Form Name"},{dataField:"version_label",text:"Version Label"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)(b.b,{to:e,children:"View"})}}],Te=[{dataField:"id",text:"Id",hidden:!0},{dataField:"description",text:"Description"},{dataField:"file",text:"file"},{dataField:"done_at",text:"Done On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(z,{type:"active"})}},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Mark Done"})}}],Se=a(9),Ie=a.n(Se),Ce={ACTIVE:"Active",PENDING:"Pending",REJECTED:"Rejected",EDITING:"Editing",COLLAPSE:"Dark",NULL:null,INACTIVE:"Inactive"},Me="rating",Ee="open",Fe="bool",we="default",ke="edit",Pe="view",Be=function(e){var t=e.handleTabOnClick,a=e.tabType,n=e.children,c=e.focus,r=e.tabSettings;return Object(v.jsx)(v.Fragment,{children:a?Object(v.jsx)("div",{className:"c-Tab",children:Object(v.jsx)("div",{className:c?"c-Tab--focused":"c-Tab--unfocused",children:Object(v.jsx)("span",{onClick:t||null,className:a?"Active"===a&&r.secondTab===Ce.EDITING||"Inactive"===a&&r.secondTab===Ce.EDITING?"c-Tab--disabled c-Tab--"+a.toLowerCase():"c-Tab--"+a.toLowerCase():null,children:n||a})})}):null})},Re=function(e){var t=e.TokenManager.getDecodedToken(),a=null===t||void 0===t?void 0:t.company_id,c=Object(n.useState)({swot:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots/")},interestedParty:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties/")},scopeOfQMS:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes/")},companyPolicy:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies/")},respNAuth:{},riskNOpp:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses/")},objAchivProgram:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements/")}}),r=Object(d.a)(c,2),s=r[0],i=(r[1],Object(n.useState)({swot:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/rejected")},interestedParty:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/rejected")},scopeOfQMS:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/rejected")},companyPolicy:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/rejected")},respNAuth:{},riskNOpp:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/rejected")},objAchivProgram:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/rejected")}})),o=Object(d.a)(i,2),l=o[0];o[1];return[s,l]},qe=function(e){var t=e.setIsDocCollapsed,a=e.setDocQueryEnum,n=e.setTabSettings,c=e.tabSettings,r=e.isDocCollapsed,s=e.setQueryUrl,i=e.pageType,o=Re({TokenManager:N}),l=Object(d.a)(o,2),u=(l[0],l[1]),b=function(e,t){t===Ce.ACTIVE?(a((function(){return"active"})),"swot"===i?s({firstUrl:u.swot.active,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.active,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.active,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.active,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.active,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.active,secondUrl:u.objAchivProgram.getAll})):t===Ce.PENDING?(console.log("setting query enum"),a((function(){return"pending"})),"swot"===i?s({firstUrl:u.swot.pending,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.pending,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.pending,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.pending,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.pending,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.pending,secondUrl:u.objAchivProgram.getAll})):t===Ce.EDITING||t===Ce.REJECTED&&(a((function(){return"rejected"})),"swot"===i?s({firstUrl:u.swot.rejected,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.rejected,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.rejected,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.rejected,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.rejected,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.rejected,secondUrl:u.objAchivProgram.getAll})),n((function(t){return Object(j.a)(Object(j.a)({},t),{},{focusTabIndex:e})}))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"l-Tabs__Row",children:[Object(v.jsxs)("div",{className:"l-Tabs__Row--left l-Tabs__Side",children:[Object(v.jsx)(Be,{focus:0===c.focusTabIndex,tabType:c.firstTab,handleTabOnClick:function(){return b(0,c.firstTab)},tabSettings:c}),Object(v.jsx)(Be,{focus:1===c.focusTabIndex,tabType:c.secondTab,handleTabOnClick:function(){return b(1,c.secondTab)}})]}),Object(v.jsx)("div",{className:"l-Tabs__Row--right l-Tabs__Side",children:Object(v.jsx)(Be,{handleTabOnClick:function(){t((function(e){return!e}))},tabType:Ce.COLLAPSE,children:r?Object(v.jsx)(v.Fragment,{children:"Expand Document"}):Object(v.jsx)(v.Fragment,{children:"Collapse Document"})})})]})})},He=a(22),Ye=function(e){var t=e.message,a=e.type,n=void 0===a?"primary":a,c=e.handler,r=e.heading,s=e.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--send-invite",children:[Object(v.jsx)("h1",{children:r}),Object(v.jsx)("p",{children:t}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--"+n,onClick:function(){return c(s)},children:"Confirm"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:s,children:" Cancel"})]})]})},Ue=function(e){var t=e.setQueryUrl,a=e.setTabSettings,c=e.tabSettings,r=e.docEditTableData,s=e.docEditHeaderData,i=(e.docPendingTableData,e.docPendingHeaderData),o=e.docRejectedHeaderData,l=e.pageType,u=e.isApprover,b=e.isEditor,m=e.docQueryEnum,p=e.setDocQueryEnum,h=e.editorState,x=(e.setEditorState,e.tempFileArr),A=e.startNewDoc,f=e.setStartNewDoc,_=Re({TokenManager:N}),y=Object(d.a)(_,2),D=y[0],T=y[1],S=N.getToken(),I=N.getDecodedToken().employee_id,C=Object(n.useRef)(""),M=function(e){if(console.log(r),"edit"===e)a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.EDITING,focusTabIndex:1}}));else if("editSubmit"===e){if(console.log(s),void 0===s.approvedBy||isNaN(s.approvedBy))return console.log("Error! No approver selected!"),void g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select an approver!"})]}));var n={},c="";if("swot"===l)n={strengths:r.strength.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),weaknesses:r.weakness.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:(console.log("docQueryEnum:"+m),"rejected"===m?e.parentItemID:e.id)})})),opportunities:r.opp.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),threats:r.threat.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),approved_by:parseInt(s.approvedBy)},c=D.swot.editSubmit;else if("interestedParty"===l)n={approved_by:s.approvedBy,title:s.title,interested_parties:r.map((function(e){return{interested_party:e.interested_parties,expectations:e.needs_n_expectations,display_order:e.serialNo,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.interestedParty.editSubmit;else if("scopeOfQMS"===l)n={approved_by:s.approvedBy,title:s.title,content:JSON.stringify(Object(te.convertToRaw)(h.getCurrentContent())),boundaries:r.map((function(e){return{site_name:e.site_name,site_scope:e.site_scope,address:e.site_address,display_order:e.serialNo,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.scopeOfQMS.editSubmit;else if("companyPolicy"===l)n={approved_by:s.approvedBy,title:s.title,policies:r.map((function(e,t){return{title:e.title,content:e.content,display_order:t+1,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.companyPolicy.editSubmit;else if("respNAuth"===l);else if("riskNOpp"===l)n={approved_by:s.approvedBy,title:s.title,strengths:r.strength.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),weaknesses:r.weakness.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),opportunities:r.opp.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),threats:r.threat.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})}))},c=D.riskNOpp.editSubmit;else if("objAchivProgram"===l){var d=!1;if(r.forEach((function(e,t){(void 0===e.personel_responsible||isNaN(e.personel_responsible))&&(d=!0)})),d)return void g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select a personel responsible for all items!"})]}));var u=new FormData;u.append("approved_by",s.approvedBy),u.append("title",s.title),u.append("achievements",JSON.stringify(r));for(var b=0;b<x.length;b++)u.append(x[b].key,x[b].fileObj);return c=D.objAchivProgram.editSubmit,void O.a.post(c,u,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document submitted for approval!"})]})),t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.PENDING,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}O.a.post(c,n,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document submitted for approval!"})]})),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l&&t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.PENDING,focusTabIndex:0}})),p((function(){return"active"})),f((function(){return!1}))})).catch((function(e){console.error(e);var t=e.response.status,a=e.response.data.message;g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}else if("editCancel"===e)"rejected"===m?("swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.REJECTED,focusTabIndex:1}})),p((function(){return"rejected"}))):("swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.NULL,focusTabIndex:0}})),p((function(){return"active"})));else if("rejectedEdit"===e)console.log("edit btn click"),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.EDITING,focusTabIndex:1}})),p((function(){return"rejected"}));else if("rejectedDelete"===e){var A={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return _(e)},heading:"Confirm Delete?",type:"alert"};Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},A),{},{onClose:t}))}});var _=function(e){var n="";"swot"===l?n=D.swot.rejectedDelete+o.docID:"interestedParty"===l?n=D.interestedParty.rejectedDelete+o.docID:"scopeOfQMS"===l?n=D.scopeOfQMS.rejectedDelete+o.docID:"companyPolicy"===l?n=D.companyPolicy.rejectedDelete+o.docID:"riskNOpp"===l?n=D.riskNOpp.rejectedDelete+o.docID:"objAchivProgram"===l&&(n=D.objAchivProgram.rejectedDelete+o.docID),O.a.delete(n,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(n){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Rejected document has been deleted!"})]})),e(),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.NULL,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(t){console.log(t),e();var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}}else if("pendingApprove"===e){var y="";"swot"===l?y=D.swot.pendingApprove+i.docID:"interestedParty"===l?y=D.interestedParty.pendingApprove+i.docID:"scopeOfQMS"===l?y=D.scopeOfQMS.pendingApprove+i.docID:"companyPolicy"===l?y=D.companyPolicy.pendingApprove+i.docID:"riskNOpp"===l?y=D.riskNOpp.pendingApprove+i.docID:"objAchivProgram"===l&&(y=D.objAchivProgram.pendingApprove+i.docID),O.a.put(y,{},{headers:{Authorization:"Bearer ".concat(S)}}).then((function(e){"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document approved!"})]})),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.NULL,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(e){console.log(e);var t=e.response.status||"N.a.",a=e.response.data.message||"N.a.";g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}else if("pendingReject"===e){Object(He.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(v.jsx)("h1",{children:"Confirm Reject?"}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(v.jsx)("h2",{children:"Remarks"}),Object(v.jsx)("textarea",{name:"pendingReject",ref:C})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return function(e){var n={remarks:C.current.value},c="";"swot"===l?c=D.swot.pendingReject+i.docID:"interestedParty"===l?c=D.interestedParty.pendingReject+i.docID:"scopeOfQMS"===l?c=D.scopeOfQMS.pendingReject+i.docID:"companyPolicy"===l?c=D.companyPolicy.pendingReject+i.docID:"riskNOpp"===l?c=D.riskNOpp.pendingReject+i.docID:"objAchivProgram"===l&&(c=D.objAchivProgram.pendingReject+i.docID),O.a.put(c,n,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(n){e(),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),a((function(){return{firstTab:Ce.ACTIVE,secondTab:Ce.REJECTED,focusTabIndex:1}})),p((function(){return"rejected"})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been rejected!"})]}))})).catch((function(t){console.log(t),console.error(t),e();var a=t.response.status,n=t.response.data.message;g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}(n)},children:"Confirm Reject"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:n,children:" Cancel"})]})]})}})}};return c.firstTab===Ce.ACTIVE&&0===c.focusTabIndex&&b?c.secondTab===Ce.NULL?Object(v.jsx)("div",{className:"l-IP__Btns",children:Object(v.jsx)("button",{type:"button",onClick:function(){return M("edit")},className:"c-Btn c-Btn--primary",children:"Edit"},"edit")}):null:c.firstTab===Ce.INACTIVE&&0===c.focusTabIndex&&A?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(v.jsx)("button",{type:"button",onClick:function(){return f((function(){return!1}))},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]}):c.secondTab===Ce.EDITING&&1===c.focusTabIndex?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("editCancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]})}):c.secondTab===Ce.REJECTED&&1===c.focusTabIndex?o.created_by_id===I?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("rejectedEdit")},className:"c-Btn c-Btn--primary",children:"Edit"},"rejectedEdit"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("rejectedDelete")},className:"c-Btn c-Btn--alert",children:"Delete"},"rejectedDelete")]}):null:c.secondTab===Ce.PENDING&&1===c.focusTabIndex&&u?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("pendingApprove")},className:"c-Btn c-Btn--ok",children:"Approve"},"pendingApprove"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("pendingReject")},className:"c-Btn c-Btn--alert",children:"Reject"},"pendingReject")]}):null},Le=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns,c=e.docKeyfield;return Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data!"})]})]}),Object(v.jsx)(Ie.a,{keyField:c,data:a,columns:n})]})},Qe=function(e){var t=e.docPendingTableData,a=(e.setDocPendingTableData,e.docPendingHeaderData),c=(e.docHeaderData,e.docTableData),r=e.docColumns,s=e.docKeyfield,i=Object(n.useState)({newRowArr:[],deletedRowArr:[],editedRowArr:[]}),o=Object(d.a)(i,2),l=o[0],j=o[1],u=Object(n.useState)(null),b=Object(d.a)(u,2),m=b[0],p=b[1];return Object(n.useEffect)((function(){j((function(){var e=[],a=[],n=[];return t.filter((function(e,t){return null===e.parentItemID})).forEach((function(t){e.push(t.id)})),c.forEach((function(e,n){var c=!0;t.forEach((function(t,a){t.parentItemID===e.id&&(c=!1)})),!0===c&&a.push(e.id)})),t.forEach((function(e,t){c.forEach((function(t,a){e.parentItemID===t.id&&(e.interested_parties===t.interested_parties&&e.needs_n_expectations===t.needs_n_expectations||n.push(e.id))}))})),{newRowArr:e,deletedRowArr:a,editedRowArr:n}}))}),[t,c]),Object(n.useEffect)((function(){p((function(){return function(e,t){var a={};return l.newRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),l.deletedRowArr.forEach((function(t){e.id})),l.editedRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}}))}),[l]),Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{children:a.title?a.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:a.approved_by?a.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:a.created_by?a.created_by:"Failed to load data!"})]})]}),Object(v.jsx)(Ie.a,{keyField:s,data:t,columns:r,rowStyle:m})]})},ze=a(27),Ve=a(31),We=a.n(Ve),Je=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=Object(n.useState)([]),u=Object(d.a)(l,2),b=u[0],p=u[1],h=N.getToken(),x=N.getDecodedToken(),A=x.display_name,f=x.company_id;Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{needs_n_expectations:e.needs_n_expectations_raw})}))})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(A)})})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;p((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var g=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Ve.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return _(t.serialNo)}})})}}],_=function(e){a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},y=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-IP__Document-title",children:Object(v.jsx)("input",{type:"text",name:"title",onChange:y,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:y,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:b?"Please select an approver":"No approver found!"}),b?b.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsx)(Ie.a,{keyField:o,data:t,columns:g,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-IP__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})},Ge=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns,c=e.docKeyfield;return console.log(t),Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsx)(Ie.a,{keyField:c,data:a,columns:n})]})},Xe=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=e.tabSettings,u=e.startNewDoc,b=e.setStartNewDoc,p=N.getToken(),h=N.getDecodedToken(),x=h.company_id,A=h.display_name,f=h.employee_id,g=Object(n.useState)([]),_=Object(d.a)(g,2),y=_[0],D=_[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}]})),r((function(){return{submittedBy:"".concat(A)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(p)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(p)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===f&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:Ve.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return E(t.serialNo)}})})}}],E=function(e){a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},w=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return console.log(l),console.log(l.secondTab),console.log(l===Ce.NULL),console.log(Ce.NULL),Object(v.jsx)("div",{className:"c-IP__Document-content c-Document",children:l.secondTab===Ce.NULL?I?u?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-IP__Document-title",children:Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Title",onChange:w,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:w,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:y?"Please select an approver":"No approver found!"}),y?y.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsx)(Ie.a,{keyField:o,data:t,columns:M,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-IP__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("div",{className:"c-IP__Document-new",children:Object(v.jsx)("button",{onClick:function(){b((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-IP__Document-new",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-IP__Document-new",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Ke=function(e){var t=e.header,a=e.children;return Object(v.jsxs)("div",{className:"c-Swot-item",children:[Object(v.jsx)("h1",{className:"c-Swot-item__Header",children:t}),a]})},Ze=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsx)(Ke,{header:"Strengths",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:n})}),Object(v.jsx)(Ke,{header:"Weaknesses",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:n})}),Object(v.jsx)(Ke,{header:"Opportunities",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:n})}),Object(v.jsx)(Ke,{header:"Threats",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:n})})]})},$e=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData,c=e.docTableData,r=e.docColumns;e.docKeyfield;console.log(t),console.log(a);var s=Object(n.useState)({newStrengthRowArr:[],newWeaknessRowArr:[],newOppRowArr:[],newThreatRowArr:[],editedStrengthRowArr:[],editedWeaknessRowArr:[],editedOppRowArr:[],editedThreatRowArr:[]}),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(null),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(n.useState)(null),h=Object(d.a)(p,2),O=h[0],x=h[1],A=Object(n.useState)(null),f=Object(d.a)(A,2),g=f[0],_=f[1],y=Object(n.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1];return Object(n.useEffect)((function(){l((function(){var e=[],t=[],n=[],r=[],s=[],i=[],o=[],l=[];return a.strength.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(t){e.push(t.id)})),a.weakness.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){t.push(e.id)})),a.opp.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){n.push(e.id)})),a.threat.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){r.push(e.id)})),a.strength.forEach((function(e,t){c.strength.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&s.push(e.id)}))})),a.weakness.forEach((function(e,t){c.weakness.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&i.push(e.id)}))})),a.opp.forEach((function(e,t){c.opp.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&o.push(e.id)}))})),a.threat.forEach((function(e,t){c.threat.forEach((function(t,a){e.parentItemID===t.id&&e.content!==t.content&&l.push(e.id)}))})),{newStrengthRowArr:e,newWeaknessRowArr:t,newOppRowArr:n,newThreatRowArr:r,editedStrengthRowArr:s,editedWeaknessRowArr:i,editedOppRowArr:o,editedThreatRowArr:l}}))}),[a,c]),Object(n.useEffect)((function(){console.log("rowstyle chanigng"),m((function(){return function(e,t){var a={};return o.newStrengthRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedStrengthRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),x((function(){return function(e,t){var a={};return o.newWeaknessRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedWeaknessRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),_((function(){return function(e,t){var a={};return o.newOppRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedOppRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}})),T((function(){return function(e,t){var a={};return o.newThreatRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.textDecoration="underline")})),o.editedThreatRowArr.forEach((function(t){e.id===t&&(a.backgroundColor="#FFF3CD",a.fontWeight="bold")})),a}}))}),[o]),Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(v.jsx)(Ke,{header:"Strengths",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:r,rowStyle:b})}),Object(v.jsx)(Ke,{header:"Weaknesses",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:r,rowStyle:O})}),Object(v.jsx)(Ke,{header:"Opportunities",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:r,rowStyle:g})}),Object(v.jsx)(Ke,{header:"Threats",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:r,rowStyle:D})})]})},et=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,N.getToken()),l=N.getDecodedToken(),u=l.company_id,b=Object(n.useState)([]),p=Object(d.a)(b,2),h=p[0],x=p[1],A=l.display_name;Object(n.useEffect)((function(){r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(A)})})),a((function(){return i})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[i]);var f=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return _(t.serialNo,t.type)}})})}}],g=function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e,[].concat(Object(ze.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},_=function(e,n){console.log(t),a((function(t){var a=t[n].filter((function(t){return t.serialNo!==e}));console.log(a);var c=a.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},n,c));return console.log(r),r}))};return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(v.jsx)("option",{children:h?"Please select an approver":"No approver found!"}),h?h.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(v.jsxs)(Ke,{header:"Strengths",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:f,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return g("strength")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Weaknesses",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:f,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return g("weakness")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Opportunities",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:f,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return g("opp")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Threats",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:f,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return g("threat")},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})]})},tt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Rejected By:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsx)(Ke,{header:"Strengths",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.strength,columns:n})}),Object(v.jsx)(Ke,{header:"Weaknesses",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.weakness,columns:n})}),Object(v.jsx)(Ke,{header:"Opportunities",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.opp,columns:n})}),Object(v.jsx)(Ke,{header:"Threats",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.threat,columns:n})})]})},at=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=N.getToken(),p=N.getDecodedToken(),h=p.company_id,x=p.display_name,A=p.employee_id,f=Object(n.useState)([]),g=Object(d.a)(f,2),_=g[0],y=g[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(n.useEffect)((function(){a((function(){return Object(j.a)({},i)})),r((function(){return{submittedBy:"".concat(x)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&y((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/edit/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===A&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return E(t.serialNo,t.type)}})})}}],M=function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e,[].concat(Object(ze.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},E=function(e,n){console.log(t),a((function(t){var a=t[n].filter((function(t){return t.serialNo!==e}));console.log(a);var c=a.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},n,c));return console.log(r),r}))};return Object(v.jsx)("div",{className:"c-SWOT__Document-content c-Document",children:o.secondTab===Ce.NULL?S?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(v.jsx)("option",{children:_?"Please select an approver":"No approver found!"}),_?_.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(v.jsxs)(Ke,{header:"Strengths",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:C,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("strength")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Weaknesses",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:C,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("weakness")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Opportunities",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:C,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("opp")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ke,{header:"Threats",children:[Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:C,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("threat")},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},nt=function(e){var t=e.docHeaderData,a=e.docTableData,n=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"Active on:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"id",data:a,columns:n})]})]})},ct=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData,n=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"id",data:a,columns:n})]})]})},rt=a(54),st=a.n(rt),it=a(60),ot=a.n(it),lt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,e.editorState),l=e.setEditorState,u=N.getToken(),b=N.getDecodedToken().company_id,p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1];localStorage.getItem("displayName");console.log(t),console.log(c),Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{site_scope:e.site_scope_raw})}))})),r((function(){return s})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){var t=e.data.results;A((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var f=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},g=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Ve.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Form name"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:f,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:f,value:c.title||""})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"serialNo",data:t,columns:g,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})},dt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData,n=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"id",data:a,columns:n})]})]})},jt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.editorState),l=e.setEditorState,u=e.tabSettings,b=e.startNewDoc,p=e.setStartNewDoc,h=N.getToken(),x=N.getDecodedToken(),A=x.company_id,f=(x.display_name,x.employee_id),g=Object(n.useState)([]),_=Object(d.a)(g,2),y=_[0],D=_[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}]})),r((function(){return s})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(A,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(A,"/edit/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===f&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},E=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:Ve.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,a){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void a((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(v.jsx)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:u.secondTab===Ce.NULL?I?b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Form name"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:M,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:y?"Please select an approver":"No approver found!"}),y?y.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:M,value:c.title||""})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"serialNo",data:t,columns:E,cellEdit:We()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){p((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},ut=function(e){var t=e.itemTitle,a=e.itemContent,n=e.itemIndex,c=e.docType,r=e.setDocEditTableData,s=function(e){r((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},i=function(e){r((function(t){return t.map((function(t,a){return n===a?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))}))};return Object(v.jsx)(v.Fragment,{children:"editing"===c?Object(v.jsx)("div",{className:(n+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(v.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(v.jsxs)("div",{className:"c-Company-Policy-Item__Top",children:[Object(v.jsx)("input",{type:"text",name:"title",onChange:i,value:t}),Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return s(n+1)}})})]}),Object(v.jsx)("textarea",{type:"text",name:"content",onChange:i,value:a})]})}):Object(v.jsx)("div",{className:(n+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(v.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(v.jsx)("h1",{children:t||"Error"}),Object(v.jsx)("p",{children:a||"itemContent"})]})})})},bt=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),a.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},mt=function(e){var t=e.docPendingTableData,a=(e.setDocPendingTableData,e.docPendingHeaderData);e.docHeaderData,e.docTableData,e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:a.title?a.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:a.approved_by?a.approved_by:"Error"}),Object(v.jsx)("p",{children:a.created_by?a.created_by:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},pt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,N.getToken()),l=N.getDecodedToken(),u=l.company_id,b=l.display_name,p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1];Object(n.useEffect)((function(){a((function(){return Object(ze.a)(i)})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(b)})})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;A((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var f=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:f,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:f,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:a},t)})),Object(v.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})},ht=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),a.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},Ot=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=N.getToken(),p=N.getDecodedToken(),h=p.company_id,x=p.display_name,A=p.employee_id,f=Object(n.useState)([]),g=Object(d.a)(f,2),_=g[0],y=g[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(n.useEffect)((function(){a((function(){return[{serialNo:1,title:"Enter Input",content:"Enter input Test"}]})),r((function(){return{submittedBy:"".concat(x)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&y((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/edit/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===A&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsx)("div",{className:"c-Company-Policy__Document-content c-Document",children:o.secondTab===Ce.NULL?S?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:C,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:C,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:_?"Please select an approver":"No approver found!"}),_?_.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:a},t)})),Object(v.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},xt=function(e){var t=e.docType,a=e.rnoType,c=e.rnoItemData,r=e.rnoItemIndex,s=e.docEditTableData,i=e.setDocEditTableData,o=Object(n.useState)({type:"c-RNO-item__Options-item",severity:"c-RNO-item__Options-item",likelihood:"c-RNO-item__Options-item"}),l=Object(d.a)(o,2),u=l[0],b=l[1],p=Object(n.useState)(),h=Object(d.a)(p,2),O=h[0],x=h[1];Object(n.useEffect)((function(){var e=u.type,a=u.severity,n=u.likelihood;c.type&&"opportunity"===c.type?e+=" c-RNO-item__Options-item--green":c.type&&"risk"===c.type&&(e+=" c-RNO-item__Options-item--red"),c.severity&&1===c.severity?a+=" c-RNO-item__Options-item--red":c.severity&&5===c.severity&&(a+=" c-RNO-item__Options-item--green"),c.likelihood&&1===c.likelihood?n=a+" c-RNO-item__Options-item--red":c.likelihood&&5===c.likelihood&&(n=a+" c-RNO-item__Options-item--green"),"edit"===t&&c.severity&&c.likelihood?x((function(){return c.severity*c.likelihood})):x("edit"===t?function(){return null}:function(){return c.rpn}),b((function(){return{type:e,severity:a,likelihood:n}}))}),[c]);var A=function(e){var t,n=e.target.value;"type"!==e.target.name&&(n=parseInt(n),"likelihood"===e.target.name?t=c.severity:"severity"===e.target.name&&(t=c.likelihood)),i((function(c){return Object(j.a)(Object(j.a)({},c),{},Object(m.a)({},a,c[a].map((function(a,c){var s;return r===c?Object(j.a)(Object(j.a)({},a),{},(s={},Object(m.a)(s,e.target.name,n),Object(m.a)(s,"rpn","type"!==e.target.name?n*t:a.rpn),s)):a}))))})),x((function(){return s[a][r].severity*s[a][r].likelihood}))},f=function(e){i((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},a,t[a].map((function(t,a){return r===a?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))))}))};return Object(v.jsx)("div",{className:"l-RNO-item",children:Object(v.jsxs)("div",{className:"c-RNO-item",children:[Object(v.jsxs)("div",{className:"l-RNO-item__Options",children:[Object(v.jsx)("div",{className:"c-RNO-item__Options c-RNO-item__Options--left",children:"edit"===t?function(){if(0!==s.length)return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("select",{value:s[a][r].type||"",name:"type",onChange:A,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:"risk",children:"Risk"}),Object(v.jsx)("option",{value:"opportunity",children:"Opportunity"})]}),Object(v.jsxs)("select",{value:s[a][r].severity||"",name:"severity",onChange:A,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:1,children:"Negligible"}),Object(v.jsx)("option",{value:2,children:"Minor"}),Object(v.jsx)("option",{value:3,children:"Moderate"}),Object(v.jsx)("option",{value:4,children:"Major"}),Object(v.jsx)("option",{value:5,children:"Catastrophic"})]}),Object(v.jsxs)("select",{value:s[a][r].likelihood||"",name:"likelihood",onChange:A,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:1,children:"Rare"}),Object(v.jsx)("option",{value:2,children:"Remote"}),Object(v.jsx)("option",{value:3,children:"Occasional"}),Object(v.jsx)("option",{value:4,children:"Frequent"}),Object(v.jsx)("option",{value:5,children:"Almost Certain"})]})]})}():function(){var e=c.type,t=null,a=null;switch(c.severity){case 1:t="Negligible";break;case 2:t="Minor";break;case 3:t="Moderate";break;case 4:t="Major";break;case 5:t="Catastrophic";break;default:t="Nil"}switch(c.likelihood){case 1:a="Rare";break;case 2:a="Remote";break;case 3:a="Occasional";break;case 4:a="Frequent";break;case 5:a="Almost Certain";break;default:a="Nil"}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:u.type,children:e||"Nil"}),Object(v.jsx)("span",{className:u.severity,children:t}),Object(v.jsx)("span",{className:u.likelihood,children:a})]})}()}),Object(v.jsxs)("div",{className:"c-RNO-item__Options c-RNO-item__Options--right",children:[Object(v.jsxs)("p",{children:["RPN: ",O||"Nil"]}),Object(v.jsxs)("p",{children:["Modified: ",c.modified?c.modified:"Nil"]})]})]}),Object(v.jsxs)("div",{className:"c-RNO-item__SWOT",children:[Object(v.jsx)("p",{children:r+1}),Object(v.jsx)("p",{children:c.content})]}),Object(v.jsx)("div",{className:"c-RNO-item__Action-plan",children:"edit"===t?O<12||null===O?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(v.jsx)("input",{type:"text",name:"action",readOnly:!0,placeholder:"Rpn < 12",value:""})]}):0!==s.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(v.jsx)("input",{type:"text",name:"action",onChange:f,value:c.action||""})]}):void 0:Object(v.jsxs)("p",{children:["Action Plan: ",c.action?c.action:"Nil"]})})]})})},vt=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},At=function(e){var t=e.docPendingHeaderData,a=e.docPendingTableData;e.docTableData,e.docColumns;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},ft=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=N.getToken(),l=N.getDecodedToken(),u=l.company_id,b=Object(n.useState)([]),p=Object(d.a)(b,2),h=p[0],x=p[1],A=l.display_name;Object(n.useEffect)((function(){r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(A)})})),a((function(){return i})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[i]);var f=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-RNO__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:f,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:f,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:h?"Please select an approver":"No approver found!"}),h?h.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),0!==t.length?t.strength.map((function(e,n){return Object(v.jsx)(xt,{docType:"edit",rnoType:"strength",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(v.jsx)("h1",{children:"Weakness"}),0!==t.length?t.weakness.map((function(e,n){return Object(v.jsx)(xt,{docType:"edit",rnoType:"weakness",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(v.jsx)("h1",{children:"Opportunities"}),0!==t.length?t.opp.map((function(e,n){return Object(v.jsx)(xt,{docType:"edit",rnoType:"opp",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null,Object(v.jsx)("h1",{children:"Threats"}),0!==t.length?t.threat.map((function(e,n){return Object(v.jsx)(xt,{docType:"edit",rnoType:"threat",rnoItemData:e,rnoItemIndex:n,docEditTableData:t,setDocEditTableData:a},n)})):null]})]})},gt=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Rejected By:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),a.strength.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),a.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),a.opp.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),a.threat.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},_t=function(e){e.docEditTableData;var t=e.setDocEditTableData,a=(e.docEditHeaderData,e.setDocEditHeaderData),c=e.docHeaderData,r=e.docTableData,s=(e.docKeyfield,e.tabSettings,e.startNewDoc,e.setStartNewDoc,N.getToken()),i=N.getDecodedToken(),o=i.company_id,l=i.display_name,j=i.employee_id,u=Object(n.useState)([]),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(!1),h=Object(d.a)(p,2),x=(h[0],h[1]);return Object(n.useEffect)((function(){console.log(r),t((function(){return r})),a((function(){return{submittedBy:"".concat(l)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=e.data.results;void 0!==t&&m((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/edit/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===j&&(t=!0)})),!0===t&&x((function(){return!0}))})).catch((function(e){console.log(e)}))}),[c,r]),Object(v.jsx)("div",{className:"c-RNO__Document-content c-Document",children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing swot documents"}),Object(v.jsx)("p",{children:"Please proceed by having an active swot documents first"})]})})},yt=a(93),Nt=a.n(yt),Dt=function(e){var t=e.docType,a=e.itemContent,c=e.setDocEditTableData,r=e.itemIndex,s=(e.docEditHeaderData,e.docEditTableData),i=e.tempFileArr,o=e.setTempFileArr,l=e.personelResponsibleList,u=Object(n.useRef)(),b=N.getToken(),p=Object(n.useState)(!1),h=Object(d.a)(p,2),x=h[0],A=h[1],f=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return S(t.serialNo)}})})}}],_=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_download",text:"",formatter:function(e,t){return Object(v.jsx)("button",{onClick:function(){return y(t.fk_file_id,t.file_name)},className:"c-Btn c-Btn--link",children:"Download"},e)}}],y=function(e,t){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(b)},responseType:"blob"}).then((function(e){Nt()(e.data,t),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},D=function(e){c((function(t){return t.map((function(t,a){return r===a?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))}))},T=function(){var e=[];c((function(t){return t.filter((function(e){return e.serialNo!==r+1})).map((function(t,a){return Object(j.a)(Object(j.a)({},t),{},{serialNo:a+1,files:t.files.map((function(a,n){return 0!==t.files.length&&a.new?(e.push(Object(j.a)(Object(j.a)({},a),{},{serialNo:n+1,key:"files_".concat(r,"_").concat(t.files.length)})),Object(j.a)(Object(j.a)({},a),{},{serialNo:n+1,key:"files_".concat(r,"_").concat(t.files.length)})):a}))})}))})),o((function(){return e}))},S=function(e){var t=[];console.log(e),c((function(a){return a.map((function(a,n){return Object(j.a)(Object(j.a)({},a),{},{files:function(){var c=a.files.filter((function(t,n){return r+1===a.serialNo?e!==t.serialNo:t}));return console.log(c),c.map((function(e,r){return 0!==a.files.length&&e.new?(t.push(Object(j.a)(Object(j.a)({},e),{},{serialNo:r+1,key:"files_".concat(n,"_").concat(c.length)})),Object(j.a)(Object(j.a)({},e),{},{serialNo:r+1,key:"files_".concat(n,"_").concat(c.length)})):e}))}()})}))})),o((function(e){return t}))};return Object(v.jsx)("div",{className:"l-Obj-Achiv-Program-item",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program-item",children:[Object(v.jsx)("div",{className:"c-Obj-Achiv-Program-item__Top",children:"edit"===t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"function",children:"Function:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"function",value:a.function||""})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"quality_objective",children:"Quality Objectives:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"quality_objective",value:a.quality_objective||""})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"personel_responsible",children:"Personel Responsible:"}),Object(v.jsxs)("select",{type:"text",name:"personel_responsible",onChange:D,value:a.personel_responsible||"",children:[Object(v.jsx)("option",{children:l?"Please select a role":"No roles found"}),l?l.map((function(e,t){return Object(v.jsx)("option",{value:e.role_id,children:e.name},t)})):null]})]})]}),Object(v.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"data_collection",children:"Collecting / Measuring Data:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_collection",value:a.data_collection||""})]}),Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"data_analysis",children:"Analysing Data:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_analysis",value:a.data_analysis||""})]})]}),Object(v.jsx)("div",{className:"c-Top__Delete",children:Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return T(r+1)}})})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Function:"}),Object(v.jsxs)("p",{children:[a.function||"Nil"," "]})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Quality Objectives:"}),Object(v.jsx)("p",{children:a.quality_objective||"Nil"})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Personel Responsible:"}),Object(v.jsx)("p",{children:a.role&&a.role.name||"Nil"})]})]}),Object(v.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("h1",{children:"Collecting / Measuring Data:"}),Object(v.jsx)("p",{children:a.data_collection||"Nil"})]}),Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("h1",{children:"Analysing Data:"}),Object(v.jsx)("p",{children:a.data_analysis||"Nil"})]})]})]})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program-item__Table",children:[Object(v.jsx)("h1",{children:"Data tracking information"}),"edit"===t?Object(v.jsxs)("form",{className:"c-Table__Add-files",children:[Object(v.jsx)("div",{className:"c-Add-files__Left",children:Object(v.jsx)("input",{type:"file",name:"file",onChange:function(e){var t=e.target.files[0];x?o((function(e){return e.map((function(e,a){return e.itemIndex===r?{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}:e}))})):(A((function(){return!0})),o((function(e){return[].concat(Object(ze.a)(e),[{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}])})))},ref:u})}),Object(v.jsx)("div",{className:"c-Add-files__Right",children:Object(v.jsx)("button",{onClick:function(){if(""!==u.current.value){u.current.value="";var e=!1;s.forEach((function(t,a){r===a&&3===t.files.length&&(e=!0)})),e?g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maximum of 3 files per item!"})]})):c((function(e){return e.map((function(e,t){return r===t?0===e.files.length?Object(j.a)(Object(j.a)({},e),{},{files:[{serialNo:1,new:!0,fileObj:function(){var t={};return console.log(e.files.length),i.forEach((function(a,n){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=a.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}]}):Object(j.a)(Object(j.a)({},e),{},{files:[].concat(Object(ze.a)(e.files),[{serialNo:e.files.length+1,new:!0,fileObj:function(){var t={};return i.forEach((function(a,n){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=e.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}])}):e}))}))}else g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select a file!"})]}));A((function(){return!1}))},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})})]}):null,"edit"===t?0!==a.files.length?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.files,columns:f}):"No records found!":0!==a.data.length?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:a.data,columns:_}):"No records found!"]})]})})},Tt=function(e){var t=e.docHeaderData,a=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),a.map((function(e,t){return Object(v.jsx)(Dt,{docType:"active",itemContent:e},t)}))]})},St=function(e){var t=e.docPendingTableData,a=e.docPendingHeaderData;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:a.title?a.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:a.approved_by?a.approved_by:"Error"}),Object(v.jsx)("p",{children:a.created_by?a.created_by:"Error"}),"                "]})]}),t.map((function(e,t){return Object(v.jsx)(Dt,{docType:"pending",itemContent:e},t)}))]})},It=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyField,e.tempFileArr),l=e.setTempFileArr,u=N.getToken(),b=N.getDecodedToken(),p=b.display_name,h=b.company_id,x=Object(n.useState)([]),A=Object(d.a)(x,2),f=A[0],g=A[1],_=Object(n.useState)([]),y=Object(d.a)(_,2),D=y[0],T=y[1];Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(j.a)(Object(j.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(p)})})),l((function(){return[]})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/roles"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){console.log(e),T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){var t=e.data.results;g((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var S=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:S,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:S,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:f?"Please select an approver":"No approver found!"}),f?f.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,n){return Object(v.jsx)(Dt,{docType:"edit",itemContent:e,itemIndex:n,setDocEditTableData:a,docEditHeaderData:c,docEditTableData:t,tempFileArr:o,setTempFileArr:l,personelResponsibleList:D},n)})),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})},Ct=function(e){var t=e.docRejectedHeaderData,a=e.docRejectedTableData;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),a.map((function(e,t){return Object(v.jsx)(Dt,{docType:"active",itemContent:e},t)}))]})},Mt=function(e){var t=e.docEditTableData,a=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=e.tempFileArr,p=e.setTempFileArr,h=N.getToken(),x=N.getDecodedToken(),A=x.company_id,f=x.display_name,g=x.employee_id,_=Object(n.useState)([]),y=Object(d.a)(_,2),D=y[0],T=y[1],S=Object(n.useState)([]),I=Object(d.a)(S,2),C=I[0],M=I[1],E=Object(n.useState)(!1),F=Object(d.a)(E,2),w=F[0],k=F[1];Object(n.useEffect)((function(){a((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(j.a)(Object(j.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return{submittedBy:"".concat(f)}})),p((function(){return[]})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(A,"/roles"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){console.log(e),void 0!==e.data.results&&T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(A,"/approve/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;void 0!==t&&M((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(A,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===g&&(t=!0)})),!0===t&&k((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var P=function(e){console.log(e.target.value),console.log(e.target.name),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};console.log(c);return Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:o.secondTab===Ce.NULL?w?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:P,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:P,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:C?"Please select an approver":"No approver found!"}),C?C.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,n){return Object(v.jsx)(Dt,{docType:"edit",itemContent:e,itemIndex:n,setDocEditTableData:a,docEditHeaderData:c,docEditTableData:t,tempFileArr:b,setTempFileArr:p,personelResponsibleList:D},n)})),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){a((function(e){return[].concat(Object(ze.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Et=function(e){var t=e.tabSettings,a=e.docHeaderData,n=e.docTableData,c=e.docPendingHeaderData,r=e.docPendingTableData,s=e.setDocPendingTableData,i=e.docRejectedHeaderData,o=e.docRejectedTableData,l=e.docColumns,d=e.docType,j=e.docEditTableData,u=e.setDocEditTableData,b=e.docEditHeaderData,m=e.setDocEditHeaderData,p=e.editorState,h=e.setEditorState,O=e.tempFileArr,x=e.setTempFileArr,A=e.startNewDoc,f=e.setStartNewDoc,g={swot:{Active:Ze,Pending:$e,Editing:et,Rejected:tt,Inactive:at},interestedParty:{Active:Le,Pending:Qe,Editing:Je,Rejected:Ge,Inactive:Xe},scopeOfQMS:{Active:nt,Pending:ct,Editing:lt,Rejected:dt,Inactive:jt},companyPolicy:{Active:bt,Pending:mt,Editing:pt,Rejected:ht,Inactive:Ot},riskNOpp:{Active:vt,Pending:At,Editing:ft,Rejected:gt,Inactive:_t},objAchivProgram:{Active:Tt,Pending:St,Editing:It,Rejected:Ct,Inactive:Mt}}[d];if(0===t.focusTabIndex)if(t.firstTab===Ce.ACTIVE){if("swot"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("objAchivProgram"===d)return Object(v.jsx)(g.Active,{docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"})}else{if("swot"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:A,setStartNewDoc:f});if("scopeOfQMS"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",editorState:p,setEditorState:h,tabSettings:t,startNewDoc:A,setStartNewDoc:f});if("interestedParty"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:A,setStartNewDoc:f});if("companyPolicy"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:A,setStartNewDoc:f});if("riskNOpp"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:A,setStartNewDoc:f});if("objAchivProgram"===d)return Object(v.jsx)(g.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,tempFileArr:O,setTempFileArr:x,tabSettings:t,startNewDoc:A,setStartNewDoc:f})}else{if(1!==t.focusTabIndex)return Object(v.jsx)("div",{className:"l-Document__Error",children:Object(v.jsx)("p",{children:"There was an error in loading the document =("})});if(t.secondTab===Ce.PENDING){if("swot"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"id"});if("scopeOfQMS"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"id"});if("riskNOpp"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l});if("objAchivProgram"===d)return Object(v.jsx)(g.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:n,docColumns:l})}else if(t.secondTab===Ce.EDITING){if("swot"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo",editorState:p,setEditorState:h});if("companyPolicy"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n});if("objAchivProgram"===d)return Object(v.jsx)(g.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:a,docTableData:n,tempFileArr:O,setTempFileArr:x})}else if(t.secondTab===Ce.REJECTED){if("swot"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o});if("objAchivProgram"===d)return Object(v.jsx)(g.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o})}}},Ft=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(d.a)(s,2),j=i[0],u=i[1],b=N.getToken();return Object(n.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return n=e.sent,e.next=6,O.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 6:c=e.sent,r((function(){return{resultDocTable:n.data,resultHeaderData:c.data}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),u((function(){return e.t0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl)}),[e]),[c,j]},wt=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(d.a)(s,2),j=i[0],u=i[1],b=N.getToken();return Object(n.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return c=e.sent,e.next=6,O.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 6:return s=e.sent,e.next=9,O.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 9:i=e.sent,r((function(){return{checkIfEmployeeCanEdit:c,checkIfPendingExist:s,checkIfRejectedExist:i}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),u((function(){return e.t0}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl,e.thirdUrl)}),[e]),[c,j]},kt=function(e){var t=e.deleteUrl,a=e.docHeaderUrl,n=e.setArchivedDocData,c=e.docType,r=e.idName,s=N.getToken(),i=N.getDecodedToken().company_id;return Object(v.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return o(e)},heading:"Confirm Delete?",type:"alert"};Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},e),{},{onClose:a}))}});var o=function(e){O.a.delete(t,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){O.a.get(a,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){var a=(void 0!==t.data.results?t.data.results.filter((function(e){return"archived"===e.status})):t.data.filter((function(e){return"archived"===e.status}))).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e[r],serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/".concat(c,"/archived/").concat(e[r]),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/").concat(c,"/").concat(e[r])})}));n((function(){return a})),e(),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document Deleted!"})]}))})).catch((function(t){console.log(t);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))})).catch((function(e){console.log(e)}))}}})})})},Pt=a(18),Bt=a.n(Pt),Rt=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),w=Object(d.a)(F,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),ie=ne[0],oe=ne[1],le=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),de=Object(d.a)(le,2),je=de[0],ue=de[1],be=Object(n.useState)({}),me=Object(d.a)(be,2),pe=me[0],he=me[1],Oe=Object(n.useState)("active"),xe=Object(d.a)(Oe,2),ve=xe[0],Ae=xe[1],fe=Object(n.useState)([]),ge=Object(d.a)(fe,2),_e=ge[0],ye=ge[1],Ne=Object(n.useState)(!1),De=Object(d.a)(Ne,2),Te=De[0],Se=(De[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots")})),Me=Object(d.a)(Se,2),Ee=Me[0],Fe=Me[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Qe=Object(n.useState)(!1),ze=Object(d.a)(Qe,2),Ve=ze[0],We=ze[1],Je=Ft(Ee),Ge=Object(d.a)(Je,2),Xe=Ge[0],Ke=(Ge[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/rejected")})),Ze=Object(d.a)(Ke,2),$e=Ze[0],et=(Ze[1],wt($e)),tt=Object(d.a)(et,2),at=tt[0];tt[1];Object(n.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){m((function(){return!1}));var t={strength:Xe.resultDocTable.results.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:Xe.resultDocTable.results.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:Xe.resultDocTable.results.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:Xe.resultDocTable.results.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};if("active"===ve){if(null!==at){var n=!1;at.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(n=!0)})),void 0!==at.checkIfPendingExist.result&&(n=!1),void 0!==at.checkIfRejectedExist.result&&(n=!1),console.log(at),Le(!0===n?function(){return!0}:function(){return!1})}P((function(){return t}))}else"pending"===ve?te((function(){return t})):"rejected"===ve&&(D.secondTab===Ce.EDITING?P((function(){return t})):ue((function(){return t})))}if(console.log(Xe),void 0!==Xe.resultHeaderData.results){var r,s,i=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),r=!0}else if("pending"===e.status){var a={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.swot_id};c===e.approved_by?Be((function(){return!0})):Be((function(){return!1})),oe((function(){return a})),s=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.swot_id};D.secondTab===Ce.EDITING?H((function(){return n})):he((function(){return n})),i=!0}})),m(r?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==r?Ce.INACTIVE:Ce.ACTIVE,secondTab:!0===s?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===i?Ce.EDITING:!0===i?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===ve?0:1}}));var o=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.swot_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/swot/archived/".concat(e.swot_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots/").concat(e.swot_id)})}));ye((function(){return o}))}else m((function(){return!0})),T((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===ve?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&We((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe,at]);var nt=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swots"),setArchivedDocData:ye,docType:"swots",idName:"swot_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"SWOT",activeLink:"/swot",children:Object(v.jsxs)("div",{className:"c-Swot c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Swot-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Swot"})]}),Te?"loading...":Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Swot__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Swot"}),Object(v.jsx)(Ue,{setQueryUrl:Fe,setTabSettings:T,tabSettings:D,docEditTableData:Q,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:ie,docRejectedHeaderData:pe,pageType:"swot",isApprover:Pe,isEditor:Ye,docQueryEnum:ve,setDocQueryEnum:Ae,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Swot_Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:E,setDocQueryEnum:Ae,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Fe,pageType:"swot"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:ie,docPendingTableData:ee,docRejectedHeaderData:pe,docRejectedTableData:je,docColumns:re,docType:"swot",docEditTableData:Q,setDocEditTableData:z,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Swot__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?Ve?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:_e,columns:nt,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:_e,columns:se,pagination:Bt()()}):"No records found!"]})]})]})})]})},qt=function(e){var t=e.match.params.swotID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/swots/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:e.data.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:e.data.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:e.data.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"SWOT Archived",activeLink:"/swot",children:Object(v.jsxs)("div",{className:"c-Swot c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Swot__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/swot",children:"SWOT"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Swot__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"SWOT (Archived)"})}),Object(v.jsx)("div",{className:"c-Swot__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Error"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Error"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Error"})]})]}),Object(v.jsx)(Ke,{header:"Strengths",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h.strength,columns:re})}),Object(v.jsx)(Ke,{header:"Weaknesses",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h.weakness,columns:re})}),Object(v.jsx)(Ke,{header:"Opportunities",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h.opp,columns:re})}),Object(v.jsx)(Ke,{header:"Threats",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h.threat,columns:re})})]})})})]})})},Ht=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(C),b=Object(d.a)(u,2),m=b[0],p=b[1],h=Object(n.useState)({}),x=Object(d.a)(h,2),A=x[0],f=x[1],y=Object(n.useState)(!1),D=Object(d.a)(y,2),T=D[0],S=D[1],I=Object(n.useState)([]),M=Object(d.a)(I,2),E=M[0],F=M[1],w=Object(n.useState)({}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(n.useState)([]),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=Object(n.useState)({}),Q=Object(d.a)(U,2),z=Q[0],V=Q[1],W=Object(n.useState)([]),G=Object(d.a)(W,2),K=G[0],Z=G[1],$=Object(n.useState)({}),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(d.a)(ne,2),se=re[0],le=re[1],de=Object(n.useState)({}),je=Object(d.a)(de,2),ue=je[0],be=je[1],me=Object(n.useState)("active"),pe=Object(d.a)(me,2),he=pe[0],Oe=pe[1],xe=Object(n.useState)([]),ve=Object(d.a)(xe,2),Ae=ve[0],fe=ve[1],ge=Object(n.useState)(!1),_e=Object(d.a)(ge,2),ye=_e[0],Ne=(_e[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-party/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties")})),De=Object(d.a)(Ne,2),Te=De[0],Se=De[1],Me=Object(n.useState)(!1),Ee=Object(d.a)(Me,2),Fe=Ee[0],we=Ee[1],ke=Object(n.useState)(!1),Pe=Object(d.a)(ke,2),Be=Pe[0],Re=Pe[1],He=Object(n.useState)(!1),Ye=Object(d.a)(He,2),Le=Ye[0],Qe=Ye[1],ze=Object(n.useState)(!1),Ve=Object(d.a)(ze,2),We=(Ve[0],Ve[1]),Je=Ft(Te),Ge=Object(d.a)(Je,2),Xe=Ge[0];Ge[1];Object(n.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){We((function(){return!1}));var t=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));if("active"===he){var n=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Re((function(){return!0}))})).catch((function(e){console.log(e)})),F((function(){return n}))}else if("pending"===he){var r=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));Z((function(){return r}))}else"rejected"===he&&(A.secondTab===Ce.EDITING?F((function(){return t})):le((function(){return t})))}if(void 0!==Xe.resultHeaderData.results){var s,i,o=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};B((function(){return t})),s=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.party_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ae((function(){return a})),i=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.party_id};A.secondTab===Ce.EDITING?B((function(){return n})):be((function(){return n})),o=!0}})),We(s?function(){return!0}:function(){return!1}),f((function(e){return{firstTab:!0!==s?Ce.INACTIVE:Ce.ACTIVE,secondTab:!0===i?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===o?Ce.EDITING:!0===o?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===he?0:1}}));var l=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.party_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/interested-party/archived/".concat(e.party_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties/").concat(e.party_id)})}));fe((function(){return l}))}else We((function(){return!0})),f((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===he?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Qe((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe]);var Ke=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/interested-parties"),setArchivedDocData:fe,docType:"interested-parties",idName:"party_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:m,setSideNavStatus:p,title:"Interested Party",activeLink:"/interested-party",children:Object(v.jsxs)("div",{className:"c-IP c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Interested Party"})]}),ye?"loading...":Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-IP__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Interested Parties"}),Object(v.jsx)(Ue,{setQueryUrl:Se,setTabSettings:f,tabSettings:A,docEditTableData:H,docEditHeaderData:z,docPendingTableData:K,docPendingHeaderData:te,docRejectedHeaderData:ue,pageType:"interestedParty",isApprover:Fe,isEditor:Be,docQueryEnum:he,setDocQueryEnum:Oe,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-IP__Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:S,setDocQueryEnum:Oe,setTabSettings:f,tabSettings:A,isDocCollapsed:T,setQueryUrl:Se,pageType:"interestedParty"}),Object(v.jsx)(ce,{isDocCollapsed:T,children:Object(v.jsx)(Et,{tabSettings:A,docHeaderData:P,docTableData:E,docPendingHeaderData:te,docPendingTableData:K,setDocPendingTableData:Z,docRejectedHeaderData:ue,docRejectedTableData:se,docColumns:ie,docType:"interestedParty",docEditTableData:H,setDocEditTableData:Y,docEditHeaderData:z,setDocEditHeaderData:V,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-IP__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==Ae.length?Le?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:Ke,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:oe,pagination:Bt()()}):"No records found!"]})]})]})})]})},Yt=function(e){var t=e.match.params.ipID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/interested-parties/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Interested Party Archived",activeLink:"/interested-party",children:Object(v.jsxs)("div",{className:"c-IP c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/interested-party",children:"Interested Party"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-IP__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Interested Parties (Archived)"})}),Object(v.jsx)("div",{className:"c-IP__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:u.title?u.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Failed to load data!"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Failed to load data!"})]})]}),Object(v.jsx)(Ie.a,{keyField:"serialNo",data:h,columns:ie})]})})})]})})})},Ut=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)([]),w=Object(d.a)(F,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],ae=$[1],ne=Object(n.useState)({}),re=Object(d.a)(ne,2),se=re[0],ie=re[1],oe=Object(n.useState)([]),je=Object(d.a)(oe,2),ue=je[0],be=je[1],me=Object(n.useState)({}),pe=Object(d.a)(me,2),he=pe[0],Oe=pe[1],xe=Object(n.useState)("active"),ve=Object(d.a)(xe,2),Ae=ve[0],fe=ve[1],ge=Object(n.useState)([]),_e=Object(d.a)(ge,2),ye=_e[0],Ne=_e[1],De=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scope/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes")}),Te=Object(d.a)(De,2),Se=Te[0],Me=Te[1],Ee=Object(n.useState)(!1),Fe=Object(d.a)(Ee,2),we=Fe[0],ke=Fe[1],Pe=Object(n.useState)(!1),Be=Object(d.a)(Pe,2),Re=Be[0],He=Be[1],Ye=Object(n.useState)(!1),Le=Object(d.a)(Ye,2),Qe=Le[0],ze=Le[1],Ve=Object(n.useState)((function(){return te.EditorState.createEmpty()})),We=Object(d.a)(Ve,2),Je=We[0],Ge=We[1],Xe=Ft(Se),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(n.useEffect)((function(){if(null!==Ze){if(void 0!==Ze.resultDocTable.results){var t=Ze.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,a){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_scope"+a)})):e.site_scope,site_scope_raw:e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,a){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_address"+a)})):e.address,parentItemID:e.parent_item_id})}));"active"===Ae?(O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&He((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===Ae?ae((function(){return t})):"rejected"===Ae&&(D.secondTab===Ce.EDITING?P((function(){return t})):be((function(){return t})))}if(void 0!==Ze.resultHeaderData.results){var n,r,s=!1;Ze.resultHeaderData.results.forEach((function(e){if(e.content?Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):Ge((function(){return te.EditorState.createEmpty()})),console.log(st()(Object(te.convertToRaw)(Je.getCurrentContent()))),"active"===e.status){var t={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),ot()(st()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),n=!0}else if("pending"===e.status){var a={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),ot()(st()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};console.log(a),c===e.approved_by?ke((function(){return!0})):ke((function(){return!1})),ie((function(){return a})),r=!0}else if("rejected"===e.status){var i={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),ot()(st()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};D.secondTab===Ce.EDITING?H((function(){return i})):Oe((function(){return i})),s=!0}})),m(n?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==n?Ce.INACTIVE:Ce.ACTIVE,secondTab:!0===r?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===s?Ce.EDITING:!0===s?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===Ae?0:1}}));var i=Ze.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/scope-of-qms/archived/".concat(e.qms_scope_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes/").concat(e.qms_scope_id)})}));Ne((function(){return i}))}else m((function(){return!0})),T((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===Ae?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&ze((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/qms-scopes"),setArchivedDocData:Ne,docType:"qms-scopes",idName:"qms_scope_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Scope of QMS"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Scope of QMS"}),Object(v.jsx)(Ue,{setQueryUrl:Me,setTabSettings:T,tabSettings:D,docEditTableData:Q,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:se,docRejectedHeaderData:he,pageType:"scopeOfQMS",isApprover:we,isEditor:Re,docQueryEnum:Ae,setDocQueryEnum:fe,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:E,setDocQueryEnum:fe,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Me,pageType:"scopeOfQMS"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:se,docPendingTableData:ee,docRejectedHeaderData:he,docRejectedTableData:ue,docColumns:le,docType:"scopeOfQMS",docEditTableData:Q,setDocEditTableData:z,docEditHeaderData:G,setDocEditHeaderData:K,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS_Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==ye.length?Qe?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ye,columns:$e,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ye,columns:de,pagination:Bt()()}):"No records found!"]})]})})]})},Lt=function(e){var t=e.match.params.scopeOfQMSID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)((function(){return te.EditorState.createEmpty()})),g=Object(d.a)(f,2),_=(g[0],g[1]);return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/qms-scopes/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,a){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_scope"+a)})):e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,a){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_address"+a)})):e.address,parentItemID:e.parent_item_id})}));A((function(){return t})),e.data.forEach((function(e){e.content?_((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):_((function(){return te.EditorState.createEmpty()}));var t={title:e.title,content:e.content?(_((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),ot()(st()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(_((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};m((function(){return t}))}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/scope-of-qms",children:"Scope of QMS"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Scope Of QMS (Archived)"})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"Active on:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.title?b.title:"Failed to load data"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Failed to load data"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:b.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ie.a,{keyField:"id",data:x,columns:le})]})]})})})]})})},Qt=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)([]),w=Object(d.a)(F,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],ue=Object(n.useState)({}),be=Object(d.a)(ue,2),me=be[0],pe=be[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],Ae=Object(n.useState)([]),fe=Object(d.a)(Ae,2),ge=fe[0],_e=fe[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policy/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Me=Object(d.a)(Se,2),Ee=Me[0],Fe=Me[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Qe=Ft(De),ze=Object(d.a)(Qe,2),Ve=ze[0];ze[1];Object(n.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));if("active"===xe){var n=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return n}))}else if("pending"===xe){var r=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));te((function(){return r}))}else"rejected"===xe&&(D.secondTab===Ce.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var s,i,o=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),s=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};c===e.approved_by?Fe((function(){return!0})):Fe((function(){return!1})),se((function(){return a})),i=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};D.secondTab===Ce.EDITING?H((function(){return n})):pe((function(){return n})),o=!0}})),m(s?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==s?Ce.INACTIVE:Ce.ACTIVE,secondTab:!0===i?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===o?Ce.EDITING:!0===o?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===xe?0:1}}));var l=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/company-policy/archived/".concat(e.policy_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies/").concat(e.policy_id)})}));_e((function(){return l}))}else m((function(){return!0})),T((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var We=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/policies"),setArchivedDocData:_e,docType:"policies",idName:"policy_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"Company Policy",activeLink:"/company-policy",children:Object(v.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Company Policy"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Company Policy"}),Object(v.jsx)(Ue,{setQueryUrl:Te,setTabSettings:T,docEditTableData:Q,docEditHeaderData:G,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,tabSettings:D,pageType:"companyPolicy",isApprover:Ee,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:E,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"companyPolicy"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:le,docType:"companyPolicy",docEditTableData:Q,setDocEditTableData:z,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==ge.length?Ye?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:We,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:je,pagination:Bt()()}):"No records found!"]})]})})]})},zt=function(e){var t=e.match.params.companyPolicyID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/policies/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));A((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Company Policy",activeLink:"/company-policy",children:Object(v.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/company-policy",children:"Company Policy"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View archived"})]}),Object(v.jsx)("div",{className:"c-Company-Policy__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Company Policy (Archived)"})}),Object(v.jsx)("div",{className:"c-Company-Policy__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(v.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),x.map((function(e,t){return Object(v.jsx)(ut,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})})})]})})},Vt=a(34),Wt=a.n(Vt),Jt=function(e){var t=e.deleteUrl,a=e.refreshUrl,n=e.setRoleData,c=(e.idName,N.getToken()),r=N.getDecodedToken().company_id;return Object(v.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this role? Click confirm to proceed.",handler:function(e){return s(e)},heading:"Confirm Delete?",type:"alert"};Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},e),{},{onClose:a}))}});var s=function(e){O.a.delete(t,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){O.a.get(a,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){n((function(){return t.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(e.role_id)})}))})),e(),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role Deleted!"})]}))})).catch((function(t){console.log(t);var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),e(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))})).catch((function(t){console.log(t),e();var a="Error!",n="Error!";void 0!==t.response&&(a=t.response.status,n=t.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}}})})})},Gt=function(){var e=Object(u.g)(),t=Vt.Search.SearchBar,a=Vt.Search.ClearSearchButton,c=N.getToken(),r=N.getDecodedToken(),s=r.company_id,i=r.employee_id,o=r.admin_level,l=_.toastTiming,b=Object(n.useState)(C),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(n.useState)([]),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)(!1),E=Object(d.a)(M,2),F=E[0],w=E[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-charts"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),console.log(e.data.results),void 0!==e.data.results&&I((function(){return e.data.results.map((function(e,t){return{id:e.chart_id,serialNo:t+1,title:e.title,description:e.description,created_by:e.author.account.username,created_on:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_view:"/responsibility-n-authority/manage-org-chart/".concat(e.chart_id)}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),void 0!==e.data.results&&y((function(){return e.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/role/").concat(e.role_id)})}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===i&&(t=!0)})),!0===t&&w((function(){return!0}))})).catch((function(e){console.log(e)}))}),[]);var k=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"title",text:"Title"},{dataField:"description",text:"Description"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Submitted On"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View more"})}}],P=[{dataField:"role_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Role"},{dataField:"created_at",text:"Created"},{dataField:"updated_at",text:"Last Updated"},{dataField:"action_manage",text:"",hidden:2!==o,formatter:function(e,t){return Object(v.jsx)("a",{href:"/responsibility-n-authority/manage-role/".concat(t.role_id),children:"Manage"})}},{dataField:"action_delete",text:"",hidden:2!==o,formatter:function(e,t){return Object(v.jsx)(Jt,{deleteUrl:e,refreshUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),setRoleData:y,idName:"role_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:l,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Resp-N-Auth c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Resp-N-Auth__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Resp. & Authority"})]}),Object(v.jsx)("div",{className:"c-Resp-N-Auth__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Responsibility & Authority"})}),Object(v.jsxs)("div",{className:"c-Resp-N-Auth__Org-Chart",children:[Object(v.jsxs)("div",{className:"c-Org-Chart__Top",children:[Object(v.jsx)("h1",{children:"Organisation Chart"}),F?Object(v.jsx)("button",{onClick:function(){return e.push("/responsibility-n-authority/add-org-chart")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload Chart"}):null]}),Object(v.jsx)("div",{className:"c-Org-Chart__Table",children:0===S.length?"No records found!":Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:S,columns:k,pagination:Bt()()})})]}),Object(v.jsxs)("div",{className:"c-Resp-N-Auth__Roles",children:[Object(v.jsx)("div",{className:"c-Roles__Top",children:Object(v.jsx)("h1",{children:"Roles"})}),Object(v.jsx)("div",{className:"c-Roles__Table",children:Object(v.jsx)(Wt.a,{search:!0,keyField:"serialNo",data:f,columns:P,children:function(n){return Object(v.jsxs)("div",{className:"c-Table",children:[Object(v.jsxs)("div",{className:"c-Table__Top",children:[Object(v.jsx)(t,Object(j.a)({},n.searchProps)),Object(v.jsx)(a,Object(j.a)({className:"c-Table__Clear-btn"},n.searchProps)),2!==o?null:Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return e.push("/responsibility-n-authority/add-role")},children:"Add role"})]}),Object(v.jsx)("hr",{}),0!==f.length?Object(v.jsx)(Ie.a,Object(j.a)(Object(j.a)({},n.baseProps),{},{bordered:!1,pagination:Bt()()})):"No records found!"]})}})})]})]})})]})},Xt=[{moduleCode:"m01_01",description:{edit:"Edit Scope"}},{moduleCode:"m02_01",description:{edit:"Edit Normative References"}},{moduleCode:"m03_01",description:{edit:"Edit Terms and Definition"}},{moduleCode:"m04_01",description:{edit:"Edit SWOT",approve:"Approve/Reject SWOT documents "}},{moduleCode:"m04_02",description:{edit:"Edit Interested Parties",approve:"Approve/Reject Interested Parties documents"}},{moduleCode:"m04_03",description:{edit:"Edit Scope of QMS",approve:"Approve/Reject Scope of QMS"}},{moduleCode:"m05_02",description:{edit:"Edit Company Policy",approve:"Approve/Reject Company Policy"}},{moduleCode:"m05_03",description:{edit:"Upload and Edit Organisation Chart"}},{moduleCode:"m06_01",description:{edit:"Edit Risk & Opportunity",approve:"Approve/Reject Risk & Opportunity"}},{moduleCode:"m06_02",description:{edit:"Edit Objective Achievement Program",approve:"Approve/Reject Objective Achievement Program"}},{moduleCode:"m07_01",description:{edit:"Permission to edit all Equipment Maintenance Program attributes"}},{moduleCode:"m07_02",description:{edit:"Permission to edit all Register of Permits, Licences & Cert attributes"}}],Kt=function(){var e=Object(u.g)(),t=N.getToken(),a=N.getDecodedToken().company_id,c=_.toastTiming,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({name:"",responsibility:"",rights:[]}),b=Object(d.a)(l,2),p=b[0],h=b[1];Object(n.useEffect)((function(){window.scrollTo(0,0),h((function(e){return Object(j.a)(Object(j.a)({},e),{},{rights:Xt.map((function(e,t){return Object(m.a)({},e.moduleCode,{edit:!1,approve:!1})}))})}))}),[]),console.log(p);var x=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},A=function(e){var t=e.split(" ")[0],a=e.split(" ")[1],n=!1;return p.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(n="edit"===a?e[r].edit:e[r].approve)})),n},f=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},{rights:(console.log(t),t.rights.map((function(t,a){var n=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return n===c?r?Object(m.a)({},n,{approve:t[n].approve,edit:!t[n].edit}):Object(m.a)({},n,{approve:!t[n].approve,edit:t[n].edit}):t})))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:c,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"c-Add-role c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Add-role__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Role"})]}),Object(v.jsx)("div",{className:"c-Add-role__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Add Role"})}),Object(v.jsxs)("div",{className:"c-Add-role__Configs",children:[Object(v.jsxs)("div",{className:"l-Configs__Left",children:[Object(v.jsx)("h1",{children:"Basic Details"}),Object(v.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:p.name,onChange:x})]}),Object(v.jsxs)("div",{className:"c-Configs__Description",children:[Object(v.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(v.jsx)("textarea",{wrap:"hard",name:"responsibility",value:p.responsibility,onChange:x})]})]}),Object(v.jsx)("div",{className:"l-Configs__VL",children:Object(v.jsx)("span",{className:"c-Configs__VL"})}),Object(v.jsx)("div",{className:"l-Configs__Right",children:Object(v.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(v.jsx)("h1",{children:"Permissions"}),Xt.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(v.jsx)("input",{type:"checkbox",onChange:f,checked:A(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode||"m07_01"===e.moduleCode||"m07_02"===e.moduleCode?null:Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(v.jsx)("input",{type:"checkbox",onChange:f,checked:A(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(v.jsxs)("div",{className:"c-Add-role__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){var n=Object(j.a)(Object(j.a)({},p),{},{rights:function(){for(var e={},t=0;t<p.rights.length;t++){var a=Object.keys(p.rights[t])[0];e[a]={approve:p.rights[t][a].approve,edit:p.rights[t][a].edit}}return e}()});console.log(n),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/roles"),n,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),e.push("/responsibility-n-authority"),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role has been added!"})]}))}),0)})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},className:"c-Btn c-Btn--primary",children:"Add Role"}),Object(v.jsx)("button",{type:"button",onClick:function(){return e.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},Zt=function(e){var t=e.match.params.roleID,a=Object(u.g)(),c=(Vt.Search.SearchBar,Vt.Search.ClearSearchButton,N.getToken()),r=N.getDecodedToken().company_id,s=_.toastTiming,i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(n.useState)({name:"",responsibility:"",rights:[]}),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)(!1),y=Object(d.a)(f,2);y[0],y[1];Object(n.useEffect)((function(){window.scrollTo(0,0),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),A((function(){return{name:e.data.results.name,responsibility:e.data.results.responsibility,rights:function(){for(var t=Xt.map((function(e,t){return Object(m.a)({},e.moduleCode,{edit:!1,approve:!1})})),a=Object.keys(e.data.results.rights).length,n=0;n<a;n++){var c=Object.keys(e.data.results.rights)[n];if(e.data.results.rights[c].edit)for(var r=0;r<t.length;r++){var s=Object.keys(t[r])[0];if(console.log(t[r]),s===c){t[r]=Object(m.a)({},c,Object(j.a)(Object(j.a)({},t[r][c]),{},{edit:!0}));break}}if(e.data.results.rights[c].approve)for(var i=0;i<t.length;i++){if(c===Object.keys(t[i])[0]){t[i]=Object(m.a)({},c,Object(j.a)(Object(j.a)({},t[i][c]),{},{approve:!0}));break}}}return console.log(t),t}()}}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}),[]);var D=function(e){var t=e.split(" ")[0],a=e.split(" ")[1],n=!1;return console.log(x),x.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(n="edit"===a?e[r].edit:e[r].approve)})),n},T=function(e){A((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},S=function(e){A((function(t){return Object(j.a)(Object(j.a)({},t),{},{rights:t.rights.map((function(t,a){var n=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return n===c?r?Object(m.a)({},n,{approve:t[n].approve,edit:!t[n].edit}):Object(m.a)({},n,{approve:!t[n].approve,edit:t[n].edit}):t}))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Manage-role c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-role__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Role"})]}),Object(v.jsx)("div",{className:"c-Manage-role__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Role"})}),Object(v.jsxs)("div",{className:"c-Manage-role__Configs",children:[Object(v.jsxs)("div",{className:"l-Configs__Left",children:[Object(v.jsx)("h1",{children:"Basic Details"}),Object(v.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:x.name,onChange:T})]}),Object(v.jsxs)("div",{className:"c-Configs__Description",children:[Object(v.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(v.jsx)("textarea",{wrap:"hard",name:"responsibility",value:x.responsibility,onChange:T})]})]}),Object(v.jsx)("div",{className:"l-Configs__VL",children:Object(v.jsx)("span",{className:"c-Configs__VL"})}),Object(v.jsx)("div",{className:"l-Configs__Right",children:Object(v.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(v.jsx)("h1",{children:"Permissions"}),Xt.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(v.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode||"m07_01"===e.moduleCode||"m07_02"===e.moduleCode?null:Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(v.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(v.jsxs)("div",{className:"c-Manage-role__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){var e=Object(j.a)(Object(j.a)({},x),{},{rights:function(){for(var e={},t=0;t<x.rights.length;t++){var a=Object.keys(x.rights[t])[0];e[a]={approve:x.rights[t][a].approve,edit:x.rights[t][a].edit}}return e}()});console.log(e),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),e,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role has been updated!"})]})),window.scrollTo(0,0)})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},className:"c-Btn c-Btn--primary",children:"Save"}),Object(v.jsx)("button",{type:"button",onClick:function(){return a.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},$t=function(){var e=Object(u.g)(),t=Object(n.useRef)(),a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({title:"",description:"",file:""}),b=Object(d.a)(l,2),p=b[0],h=b[1],x=_.toastTiming,A=function(t){if("submit"===t){if(""===p.title||""===p.description||""===p.file)return void g.b.error(Object(v.jsx)(v.Fragment,{children:"Error! Some fields are empty!"}));var n=new FormData;n.append("title",p.title),n.append("description",p.description),n.append("display_order",1),n.append("chart",p.file),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/org-charts"),n,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Chart has been added!"})]}))}),0),e.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}else h((function(){return{title:"",description:"",file:""}})),e.push("/responsibility-n-authority")},f=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:x,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Add-chart c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Add-chart__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Organisation Chart"})]}),Object(v.jsx)("div",{className:"c-Add-chart__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Add Organisation Chart"})}),Object(v.jsxs)("div",{className:"c-Add-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Add-chart__Title c-Input",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{onChange:f,type:"text",value:p.title||"",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Description c-Input",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{onChange:f,type:"text",value:p.description||"",name:"description",placeholder:"Enter description"})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Upload-file c-Input",children:[Object(v.jsx)("label",{htmlFor:"file",children:"File"}),Object(v.jsx)("input",{onChange:function(e){var t=e.target.files[0];h((function(e){return Object(j.a)(Object(j.a)({},e),{},{file:t})}))},type:"file",name:"file",ref:t})]})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return A("submit")},children:"Submit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return A("cancel")},children:"Cancel"})]})]})})]})},ea=function(e){var t=e.match.params.orgChartID,a=Object(u.g)(),c=N.getToken(),r=N.getDecodedToken(),s=r.company_id,i=r.employee_id,o=_.toastTiming,l=Object(n.useState)(C),b=Object(d.a)(l,2),p=b[0],h=b[1],x=Object(n.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)(!1),E=Object(d.a)(M,2),F=E[0],w=E[1],k=Object(n.useState)(!1),P=Object(d.a)(k,2),B=P[0],R=P[1],q=Object(n.useState)(!1),H=Object(d.a)(q,2),Y=H[0],U=H[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),y((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name,fileID:e.data.results.file_id}})),I((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name}}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===i&&(t=!0)})),!0===t&&U((function(){return!0}))})).catch((function(e){console.log(e)}))}),[B]);var Q=function(e){if("submit"===e){if(""===S.title||""===S.description)return void g.b.error(Object(v.jsx)(v.Fragment,{children:"Error! Some fields are empty!"}));var n={title:S.title,description:S.description,display_order:1};O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Organisation chart details successfully updated!"})]})),w((function(){return!1})),R((function(e){return!e}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}else"delete"===e?O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Organisation chart has been deleted!"})]}))}),0),w((function(){return!1})),a.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))})):"edit"===e?w((function(){return!0})):(I((function(){return f})),w((function(){return!1})))},z=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},V=function(e,t){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(c)},responseType:"blob"}).then((function(e){Nt()(e.data,t),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:o,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Manage-chart c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-chart__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Organisation Chart"})]}),Object(v.jsx)("div",{className:"c-Manage-chart__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Organisation Chart"})}),F?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("textarea",{onChange:z,type:"text",value:S.title||"",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("textarea",{onChange:z,type:"text",value:S.description||"",name:"description",placeholder:"Enter description"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(v.jsx)("label",{htmlFor:"createdBy",children:"Created By"}),Object(v.jsx)("input",{type:"text",value:f.createdBy||"Error",name:"createdBy",disabled:!0})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(v.jsx)("label",{htmlFor:"submittedOn",children:"Submitted On"}),Object(v.jsx)("input",{type:"text",value:f.submittedOn||"Error",name:"submittedOn",disabled:!0})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(v.jsx)("label",{htmlFor:"details",children:"Details"}),""===f.fileName?"Failed to load data":Object(v.jsx)("button",{onClick:function(){return V(t,f.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(v.jsx)("h1",{children:"Title"}),Object(v.jsx)("p",{children:f.title||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(v.jsx)("h1",{children:"Description"}),Object(v.jsx)("p",{children:f.description||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(v.jsx)("h1",{children:"Created By"}),Object(v.jsx)("p",{children:f.createdBy||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(v.jsx)("h1",{children:"Submitted On"}),Object(v.jsx)("p",{children:f.submittedOn||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(v.jsx)("h1",{children:"Details"}),""===f.fileName?"Failed to load data":Object(v.jsx)("button",{onClick:function(){return V(t,f.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}),Y?""===f.title?null:F?Object(v.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return Q("submit")},children:"Submit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return Q("cancel")},children:"Cancel"})]}):Object(v.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return Q("edit")},children:"Edit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return Q("delete")},children:"Delete"})]}):null]})})]})},ta=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)([]),w=Object(d.a)(F,2),k=w[0],P=w[1],B=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(n.useState)({}),be=Object(d.a)(je,2),me=be[0],pe=be[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],Ae=Object(n.useState)([]),fe=Object(d.a)(Ae,2),ge=fe[0],_e=fe[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analysis/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Me=Object(d.a)(Se,2),Ee=Me[0],Fe=Me[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Qe=Ft(De),ze=Object(d.a)(Qe,2),Ve=ze[0],We=(ze[1],Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m06_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/swot/rejected")})),Je=Object(d.a)(We,2),Ge=Je[0],Xe=(Je[1],wt(Ge)),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(n.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){m((function(){return!1}));var t={strength:Ve.resultDocTable.results.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),weakness:Ve.resultDocTable.results.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),opp:Ve.resultDocTable.results.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),threat:Ve.resultDocTable.results.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}}))};if("active"===xe){if(null!==Ze){var n=!1;Ze.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(n=!0)})),void 0!==Ze.checkIfPendingExist.result&&(n=!1),void 0!==Ze.checkIfRejectedExist.result&&(n=!1),console.log(Ze),Be(!0===n?function(){return!0}:function(){return!1})}H((function(){return t}))}else"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Ce.EDITING?H((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var r,s,i=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};P((function(){return t})),r=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.risks_analysis_id};c===e.approved_by?Fe((function(){return!0})):Fe((function(){return!1})),se((function(){return a})),s=!0}else if("rejected"===e.status){var n={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.risks_analysis_id};D.secondTab===Ce.EDITING?P((function(){return n})):pe((function(){return n})),i=!0}})),T((function(e){return{firstTab:!0!==r?Ce.NEW:Ce.ACTIVE,secondTab:!0===s?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===i?Ce.EDITING:!0===i?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===xe?0:1}}));var o=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.risks_analysis_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/risk-n-opportunity/archived/".concat(e.risks_analysis_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses/").concat(e.risks_analysis_id)})}));_e((function(){return o}))}else m((function(){return!0})),T((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve,Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/risks-analyses"),setArchivedDocData:_e,docType:"risks-analyses",idName:"risks_analysis_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(v.jsxs)("div",{className:"c-RNO c-Main",children:[Object(v.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Risk and Opportunity"})]}),Object(v.jsxs)("div",{className:"c-RNO__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Risk and Opportunity"}),Object(v.jsx)(Ue,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:Q,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"riskNOpp",isApprover:Ee,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-RNO__Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:E,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"riskNOpp"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:k,docTableData:q,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:le,docType:"riskNOpp",docEditHeaderData:G,setDocEditHeaderData:K,docEditTableData:Q,setDocEditTableData:z,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-RNO__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==ge.length?Ye?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:$e,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:ue,pagination:Bt()()}):"No records found!"]})]})})]})},aa=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(n.useState)(C),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)([]),w=Object(d.a)(F,2),k=w[0],P=w[1],B=Object(n.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(n.useState)([]),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(n.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({}),ne=Object(d.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(n.useState)({}),ue=Object(d.a)(je,2),me=ue[0],pe=ue[1],he=Object(n.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],Ae=Object(n.useState)([]),fe=Object(d.a)(Ae,2),ge=fe[0],_e=fe[1],ye=Object(n.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievement/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(n.useState)(!1),Me=Object(d.a)(Se,2),Ee=Me[0],Fe=Me[1],we=Object(n.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(n.useState)(!1),He=Object(d.a)(Re,2),Ye=He[0],Le=He[1],Qe=Ft(De),ze=Object(d.a)(Qe,2),Ve=ze[0],We=(ze[1],Object(n.useState)([])),Je=Object(d.a)(We,2),Ge=Je[0],Xe=Je[1],Ke=[{dataField:"id",text:"Id"},{dataField:"serialNo",text:"#"},{dataField:"filename",text:"File Name"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}];Object(n.useEffect)((function(){if(null!==Ve){if(console.log(Ve),void 0!==Ve.resultDocTable.results){m((function(){return!1})),console.log(Ve.resultDocTable);var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_item_id,serialNo:t+1,parentItemID:e.parent_item_id,data:e.data.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,file:Object(j.a)(Object(j.a)({},e.file),{},{name:e.file_name})})}))})}));console.log(t),"active"===xe?(O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Ce.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var n,r,s=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),n=!0}else if("pending"===e.status){var a={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.achievement_id};c===e.approved_by?Fe((function(){return!0})):Fe((function(){return!1})),se((function(){return a})),r=!0}else if("rejected"===e.status){var i={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.achievement_id};D.secondTab===Ce.EDITING?H((function(){return i})):pe((function(){return i})),s=!0}})),m(n?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==n?Ce.INACTIVE:Ce.ACTIVE,secondTab:!0===r?Ce.PENDING:e.secondTab===Ce.EDITING&&!0===s?Ce.EDITING:!0===s?Ce.REJECTED:Ce.NULL,focusTabIndex:"active"===xe?0:1}}));var i=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/objective-achievement-program/archived/".concat(e.achievement_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements/").concat(e.achievement_id)})}));_e((function(){return i}))}else m((function(){return!0})),T((function(e){return{firstTab:Ce.INACTIVE,secondTab:Ce.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,a){e.employee_id===c&&(t=!0)})),!0===t&&Le((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var Ze=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Title"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(kt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/objective-achievements"),setArchivedDocData:_e,docType:"objective-achievements",idName:"achievement_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:A,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Objective Achivement Program"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Objective Achievement Program"}),Object(v.jsx)(Ue,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:Q,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"objAchivProgram",isApprover:Ee,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,tempFileArr:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:[Object(v.jsx)(qe,{setIsDocCollapsed:E,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"objAchivProgram"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,setDocPendingTableData:te,docRejectedHeaderData:me,docRejectedTableData:le,docColumns:Ke,docType:"objAchivProgram",docEditTableData:Q,setDocEditTableData:z,docEditHeaderData:G,setDocEditHeaderData:K,tempFileArr:Ge,setTempFileArr:Xe,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==ge.length?Ye?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:Ze,pagination:Bt()()}):Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:ge,columns:be,pagination:Bt()()}):"No records found!"]})]})})]})},na=function(e){var t=e.match.params.oapID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/objective-achievements/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){if(void 0!==e.data.results){var t=e.data.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id})}));A((function(){return t}));var a={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:J()(new Date(e.data.results.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return a}))}else{var n=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id})}));A((function(){return n}));var c={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return c}))}})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/objective-achievement-program",children:"Objective Achivement Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Objective Achievement Program"})}),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(v.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),x.map((function(e,t){return Object(v.jsx)(Dt,{docType:"active",itemContent:e},t)}))]})})})]})})},ca=function(e){var t=e.type,a=e.link,n=e.linkDisplay,c=e.children;return Object(v.jsx)("div",{className:"l-Settings-Bento-Box",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box",children:[Object(v.jsx)("div",{className:"row"===t?"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row":"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column",children:c}),Object(v.jsx)("div",{className:"c-Settings-Bento-Box__Link",children:Object(v.jsx)("a",{href:a,children:n})})]})})},ra=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.company_id,c=t.display_name,r=t.display_title,s=t.email,i=t.company_name,o=t.company_alias,l=t.employee_id,j=Object(n.useState)(C),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(n.useState)(null),h=Object(d.a)(p,2),x=h[0],A=h[1];return Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(a,"/employees/").concat(l),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),A((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{sideNavStatus:b,setSideNavStatus:m,title:"Settings",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Settings c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Settings__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Settings"})]}),Object(v.jsx)("div",{className:"c-Settings__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Settings"})}),Object(v.jsxs)("div",{className:"l-Settings__Bento-box",children:[Object(v.jsxs)("div",{className:"l-Bento-box__User-settings l-Bento-box",children:[Object(v.jsx)("h2",{className:"l-Bento-box__Header",children:"User Settings"}),Object(v.jsxs)(ca,{type:"row",link:"/settings/manage-account",linkDisplay:"Manage your account settings",children:[Object(v.jsx)("div",{className:"c-Settings-Bento-Box__User-image",children:Object(v.jsx)("img",{src:M,alt:"User pic"})}),Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__User-details",children:[Object(v.jsx)("p",{children:c||"Error"}),Object(v.jsx)("p",{children:r||"Error"}),Object(v.jsx)("p",{children:s||"Error"}),Object(v.jsx)("p",{children:i||"Error"})]})]})]}),2===x||3===x?Object(v.jsxs)("div",{className:"l-Bento-box__Org-settings l-Bento-box",children:[Object(v.jsx)("h2",{className:"l-Bento-box__Header",children:"Organisation Settings"}),2===x?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ca,{type:"column",link:"/settings/manage-organization",linkDisplay:"Manage your organization settings",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-org",children:[Object(v.jsx)("h1",{children:o||"Error"}),Object(v.jsx)("h2",{children:i||"Error"})]})}),Object(v.jsx)(ca,{type:"column",link:"/settings/manage-users",linkDisplay:"Manage your users",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-users",children:[Object(v.jsx)("h1",{children:"Manage users"}),Object(v.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null,Object(v.jsx)(ca,{type:"column",link:"/settings/manage-invites",linkDisplay:"Manage invites",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-invites",children:[Object(v.jsx)("h1",{children:"Manage invites"}),Object(v.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null]})]})})})},sa=a(192),ia=function(e){var t=e.tagListing,a=e.deletable;return Object(v.jsx)("div",{className:"l-Role-tags",children:Object(v.jsxs)("div",{className:"c-Role-tags",children:[Object(v.jsx)("h1",{children:t}),a?Object(v.jsx)("button",{type:"button",children:Object(v.jsx)(F.b.Provider,{value:{color:"white",size:"16px"},children:Object(v.jsx)(sa.a,{})})}):null]})})},oa=a(50),la=function(e){var t=e.errMsg,a=e.errStatus,n=e.errStatusText;return Object(v.jsx)("div",{className:"l-Error-card",children:Object(v.jsx)("div",{className:"c-Error-card",children:Object(v.jsxs)(oa.a,{variant:"danger",children:[Object(v.jsxs)(oa.a.Heading,{children:["Error Code: ",a||"Unknown"," ",n||null," "]}),Object(v.jsx)("p",{children:t||"An unknown error has occured, try accessing again later!"})]})})})},da=function(){var e=N.getToken(),t=N.getDecodedToken(),a=t.employee_id,c=t.company_id,r=_.toastTiming,s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(n.useState)(!1),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),I=T[0],E=T[1],F=Object(n.useState)(!1),w=Object(d.a)(F,2),R=w[0],q=w[1],H=/\d/,Y=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,U=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),Q=Object(d.a)(U,2),z=Q[0],V=Q[1],W=Object(n.useState)({oldpassword:"",password:"",confirmPassword:""}),J=Object(d.a)(W,2),G=J[0],K=J[1],Z=Object(n.useState)({fullName:"Error",username:"Error",jobTitle:"Error",email:"Error",emailDisplay:"Error",companyName:"Error",firstName:"Error",lastName:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"},roles:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ne=Object(d.a)(ae,2),ce=ne[0],re=ne[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(a,"?roles=true&address=true&company=true"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,a={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,emailDisplay:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code},roles:t.roles};te((function(){return a}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),re((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))})),V((function(){return{minChar:G.password.length>=8,number:!!H.test(G.password),specialChar:!!Y.test(G.password),match:G.password===G.confirmPassword}}))}),[G]);var se=function(e){K((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},ie=function(e){te((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},oe=function(e){te((function(t){return Object(j.a)(Object(j.a)({},t),{},{address:Object(j.a)(Object(j.a)({},t.address),{},Object(m.a)({},e.target.name,e.target.value))})}))},le=function(e){if("editAccount"!==e&&"editAccountCancel"!==e||h((function(e){return!e})),"editAccountSave"===e){var t={message:"You are about to save account details. Click confirm to proceed.",handler:function(e){return je(e)},heading:"Confirm Save?",type:"primary"};return Object(He.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},t),{},{onClose:a}))}})}if("changePassword"!==e&&"changePasswordCancel"!==e||y((function(e){return!e})),"changePasswordSave"===e){var a={message:"You are about to change password. Click confirm to proceed.",handler:function(e){return de(e)},heading:"Confirm Change Password?",type:"primary"};return Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},a),{},{onClose:t}))}})}},de=function(t){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/change"),{old_password:G.oldPassword,new_password:G.password},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Changed Password successfully!");var a=e.data;console.log(a),q((function(){return!1})),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),t()})).catch((function(e){console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),q((function(){return!1})),t()}))},je=function(t){q((function(){return!0})),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(a),{firstname:ee.firstName,lastname:ee.lastName,email:ee.email,address:{address_line_one:ee.address.line1,address_line_two:ee.address.line2,city:ee.address.city,state:ee.address.state,country:ee.address.country,postal_code:ee.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated User Details successfully!");var a=e.data;console.log(a),q((function(){return!1})),te((function(e){return Object(j.a)(Object(j.a)({},e),{},{emailDisplay:ee.email})})),h((function(){return!1})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated User Details successfully!"})]})),t()})).catch((function(e){console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),q((function(){return!1})),t()}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage Account",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Account"})]}),Object(v.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Account"}),p||ce.render?null:Object(v.jsx)("button",{onClick:function(){return le("editAccount")},type:"button",className:f?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!f,children:"Edit"})]}),ce.render?Object(v.jsx)(la,{errMsg:ce.errMsg,errStatus:ce.errStatus,errStatusText:ce.errStatusText}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Manage-account__Profile-card c-Profile-card",children:[Object(v.jsxs)("div",{className:"l-Profile-card__Left",children:[Object(v.jsx)("img",{src:M,alt:"Profile img"}),Object(v.jsx)("span",{children:"Change profile picture"})]}),Object(v.jsxs)("div",{className:"l-Profile-card__Right",children:[Object(v.jsx)("h1",{children:ee.fullName}),Object(v.jsxs)("h2",{children:["@",ee.username]}),Object(v.jsx)("p",{children:ee.jobTitle}),Object(v.jsx)("p",{children:ee.emailDisplay}),Object(v.jsx)("p",{children:ee.companyName})]})]}),p?Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:ie,name:"firstName",value:ee.firstName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:ie,name:"lastName",value:ee.lastName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:ie,name:"email",value:ee.email})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("p",{children:"Role(s)"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"line1",value:ee.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"line2",value:ee.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"city",value:ee.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"country",value:ee.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"postalCode",value:ee.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"text",onChange:oe,name:"state",value:ee.address.state})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[I?Object(v.jsx)("button",{onClick:function(){return le("editAccountSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:R?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return le("editAccountCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"firstName",value:ee.firstName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"lastName",value:ee.lastName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"email",value:ee.email})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"username",value:ee.username})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("p",{children:"Role(s)"}),ee.roles.map((function(e,t){return Object(v.jsx)(ia,{tagListing:"".concat(e.name),deletable:!1},t)}))]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"organisation",children:"Organisation"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"organisation",value:ee.companyName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"address_line_one",children:"Address Line One"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"address_line_one",value:ee.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"address_line_two",children:"Address Line Two"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"address_line_two",value:ee.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"city",value:ee.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"country",value:ee.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"postal_code",value:ee.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"state",value:ee.address.state})]})]})]}),Object(v.jsxs)("div",{className:"l-Manage-account__Password",children:[Object(v.jsx)("h1",{children:"Password and Authentication"}),f?Object(v.jsxs)("div",{className:"c-Change-Password",children:[Object(v.jsx)("p",{children:"Enter your current password and a new password"}),Object(v.jsxs)("div",{className:"c-Change-Password__Current-password",children:[Object(v.jsx)("label",{htmlFor:"oldPassword",children:"Current Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"oldPassword"})]}),Object(v.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(v.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"password"})]}),Object(v.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"confirmPassword"})]}),Object(v.jsx)(S,{validity:z}),Object(v.jsxs)("div",{className:"c-Change-Password__Btns",children:[!0===z.minChar&&!0===z.number&&!0===z.specialChar&&!0===z.match?Object(v.jsx)("button",{onClick:function(){return le("changePasswordSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:"Save"}),Object(v.jsx)("button",{onClick:function(){return le("changePasswordCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsx)("div",{className:"c-Change-Password__Btns",children:Object(v.jsx)("button",{onClick:function(){return le("changePassword")},type:"button",className:p?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!p,children:"Change Password"})})]})]})]})})]})},ja=function(){var e=Vt.Search.SearchBar,t=Vt.Search.ClearSearchButton,a=(Object(u.g)(),N.getToken()),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,c.admin_level),i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],A=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),f=Object(d.a)(A,2),g=f[0],_=f[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/employees?roles=true"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,username:e.account.username,accountStatus:e.account.status})}));console.log(t),x((function(){return t}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),_((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))}))}),[]);var y=[{dataField:"employee_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#",editable:!1},{dataField:"admin_level",text:"Admin level",formatter:function(e,t){return 0===e?"Normal user":1===e?"Platform admin":2===e?"System admin":3===e?"Secondary Admin":void 0}},{dataField:"email",text:"Email",editable:!1},{dataField:"title",text:"Job Title"},{dataField:"username",text:"Username",editable:!1},{dataField:"roles",text:"Role(s)",editable:!1,formatter:function(e,t){return 0===e.length?"Nil":e.map((function(t,a){return e.length===a+1?t.name:Object(v.jsxs)("div",{children:[t.name+",",Object(v.jsx)("br",{})]},a)}))}},{dataField:"accountStatus",text:"Status",formatter:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)}},{dataField:"account_action",text:"",hidden:2!==s,isDummyField:!0,formatter:function(e,t){return Object(v.jsx)("a",{href:"/settings/manage-users/manage-user/".concat(t.employee_id),children:"Manage"})}}];return Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Manage Users",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-users c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-users l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Users"})]}),Object(v.jsx)("div",{className:"c-Manage-users__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Users"})}),g.render?Object(v.jsx)(la,{errMsg:g.errMsg,errStatus:g.errStatus,errStatusText:g.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"c-Manage-users__Table",children:Object(v.jsx)(Wt.a,{keyField:"employee_id",data:h,columns:y,search:!0,children:function(a){return Object(v.jsxs)("div",{className:"c-Table",children:[Object(v.jsxs)("div",{className:"c-Table__Top",children:[Object(v.jsx)(e,Object(j.a)({},a.searchProps)),Object(v.jsx)(t,Object(j.a)({className:"c-Table__Clear-btn"},a.searchProps))]}),Object(v.jsx)("hr",{}),Object(v.jsx)(Ie.a,Object(j.a)(Object(j.a)({},a.baseProps),{},{bordered:!1,pagination:Bt()()}))]})}})})})]})})},ua=function(e){var t=e.match.params.employeeID,a=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)({roles:[]}),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(n.useState)([]),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)({roles:"",jobTitle:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)({jobTitle:!1}),E=Object(d.a)(M,2),w=E[0],k=E[1],P=Object(n.useState)(!1),B=Object(d.a)(P,2),R=B[0],H=B[1],Y=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)(0),W=Object(d.a)(V,2),J=W[0],G=W[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t,"?roles=true&company=true"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results,a={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,roles:t.roles,accountStatus:t.account.status,adminLevel:t.admin_level};G((function(){return t.admin_level})),h((function(){return a}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),z((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/roles"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e);var t=e.data.results;y((function(){return t}))})).catch((function(e){console.log(e),console.log(e.response),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),z((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[R]),Object(n.useEffect)((function(){I((function(){return{role:"",jobTitle:p.jobTitle}}))}),[p]);var K=function(e,n){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(t,"/roles"),{roles:function(){if("add"===e){var t=p.roles.map((function(e,t){return e.role_id}));return t.push(S.roles),console.log(t),t}if("delete"===e){var a=p.roles.map((function(e,t){return e.role_id})),c=a.indexOf(n);return a.splice(c,1),console.log(a),a}}()},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),H((function(e){return!e})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Roles updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},Z=function(e){var n;if("activated"===e){n="active";var r={message:"Are you sure you want to activate this account?",handler:function(e){return i(e)},heading:"Confirm Activate?",type:"primary"};Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},r),{},{onClose:t}))}})}else{n="deactivated";var s={message:"Are you sure you want to deactivate this account?",handler:function(e){return i(e)},heading:"Confirm Dectivate?",type:"alert"};Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},s),{},{onClose:t}))}})}var i=function(r){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{account_status:n},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),H((function(e){return!e})),r(),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),r(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage User",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-user c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-user__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-users",children:"Manage users"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage user"})]}),Object(v.jsx)("div",{className:"c-Manage-user__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage User"})}),Q.render?Object(v.jsx)(la,{errMsg:Q.errMsg,errStatus:Q.errStatus,errStatusText:Q.errStatusText}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h1",{className:"c-Manage-user__User-heading",children:["You are viewing settings for @","".concat(p.username)]}),Object(v.jsxs)("div",{className:"c-Manage-user__Inputs",children:[Object(v.jsxs)("div",{className:"c-Inputs__Left",children:[Object(v.jsxs)("div",{className:"c-Left__Admin-level",children:[Object(v.jsx)("label",{htmlFor:"adminLevel",children:"Admin Level"}),Object(v.jsxs)("select",{disabled:2===J,name:"adminLevel",onChange:function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,[e.target.value]))}))},value:p.adminLevel||0,children:[Object(v.jsx)("option",{value:"0",children:"Normal User"}),Object(v.jsx)("option",{value:"3",children:"Secondary Admin"})]}),Object(v.jsx)("button",{disabled:2===J,type:"button",className:2===J?"c-Btn c-Btn--disabled":"c-Btn c-Btn--primary",onClick:function(){2!==J?(console.log(p.adminLevel),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{admin_level:p.adminLevel},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),H((function(e){return!e})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:" Admin level has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))):g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error! Message: ",Object(v.jsx)("b",{children:"Super admin cannot change its own level"})]}))},children:"Save"})]}),Object(v.jsxs)("div",{className:"c-Left__Job-title",children:[Object(v.jsx)("h2",{children:"Job Title"}),Object(v.jsx)("div",{className:"c-Job-title__Input",children:w.jobTitle?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"text",name:"jobTitle",value:S.jobTitle||"",onChange:function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))}}),Object(v.jsxs)("div",{className:"c-Input__Btn-section",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{title:S.jobTitle},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e),I((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:p.jobTitle})})),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})),H((function(e){return!e})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Job title has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},children:"Save"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){"jobTitle"==="jobTitle"&&(I((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:p.jobTitle})})),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})))},children:"Cancel"})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"text",value:p.jobTitle||"",disabled:!0}),Object(v.jsx)("div",{className:"c-Input__Btn-section c-Btn-section--edit",children:Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&(k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})),console.log(S))},children:"Edit"})})]})})]})]}),Object(v.jsxs)("div",{className:"c-Inputs__Right",children:[Object(v.jsx)("label",{htmlFor:"roles",children:"Current Role(s)"}),Object(v.jsxs)("select",{name:"roles",onChange:function(e){var t=parseInt(e.target.value);I((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(m.a)({},e.target.name,t))}))},value:S.roles,children:[Object(v.jsx)("option",{value:"",children:"Please select a role"}),f.map((function(e,t){var a=!1;return p.roles.forEach((function(t,n){e.role_id===t.role_id&&(a=!0)})),a?null:Object(v.jsx)("option",{value:e.role_id,children:e.name},t)}))]}),p.roles.map((function(e,t){return Object(v.jsxs)("div",{className:"c-Roles__Data",children:[e.name,Object(v.jsx)("div",{className:"c-Data__Delete-Btn",children:Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return K("delete",e.role_id)}})})})]},t)})),function(){var e=!1,t=f.map((function(e,t){return e.role_id})),a=p.roles.map((function(e,t){return e.role_id}));return JSON.stringify(t.sort())===JSON.stringify(a.sort())&&(e=!0),e?Object(v.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--disabled",disabled:!0,children:"Add"}):Object(v.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--primary",onClick:function(){return K("add")},children:"Add"})}()]})]}),Object(v.jsx)("div",{className:"c-Manage-user__Inputs"}),2===J?null:Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"c-Manage-user__Inputs",children:Object(v.jsxs)("div",{className:"c-Inputs__Danger-zone",children:[Object(v.jsx)("h2",{children:"Danger Zone"}),Object(v.jsx)("div",{className:"c-Danger-zone__Row",children:"active"===p.accountStatus?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return Z("deactivated")},children:"Deactivate user"}),Object(v.jsxs)("div",{className:"c-Row__Info",children:[Object(v.jsx)("h3",{children:"Deactivate this user"}),Object(v.jsx)("p",{children:"The user will not have access to the company's eISO system."})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return Z("activated")},children:"Activate user"}),Object(v.jsxs)("div",{className:"c-Row__Info",children:[Object(v.jsx)("h3",{children:"Activate this user"}),Object(v.jsx)("p",{children:"The user will regain access to the company's eISO system."})]})]})})]})})})]})]})})]})},ba=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=(t[0],t[1],Object(u.g)());return Object(v.jsx)("div",{className:"c-Page-not-found",children:Object(v.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(v.jsxs)(oa.a,{variant:"danger",children:[Object(v.jsx)(oa.a.Heading,{children:"Oh snap! You got an error!"}),Object(v.jsx)("p",{children:"This page doesn't exists :/ Would you like to go back?"}),Object(v.jsx)("button",{className:"c-Alert-box__Back-btn c-Btn c-Btn--cancel",onClick:function(){a.goBack()},children:"Go back"})]})})})},ma=function(e){var t=e.match.params.rnoID,a=N.getToken(),c=N.getDecodedToken().company_id,r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(n.useState)({strength:[],weakness:[],opp:[],threat:[]}),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(n.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/risks-analyses/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),weakness:e.data.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),opp:e.data.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),threat:e.data.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}}))};x((function(){return t}));var a={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(a),b((function(){return a}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(v.jsxs)("div",{className:"c-RNO c-Main",children:[Object(v.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/risk-n-opportunity",children:"Risk and Opportunity"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-RNO__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Risk and Opportunity (Archived)"})}),Object(v.jsx)("div",{className:"c-RNO__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:u.title?u.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Error"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Error"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),h.strength.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),h.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),h.opp.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),h.threat.map((function(e,t){return console.log(e),Object(v.jsx)(xt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})})})]})})},pa=a(195),ha=function(){Vt.Search.SearchBar,Vt.Search.ClearSearchButton,Object(u.g)();var e=N.getToken(),t=N.getDecodedToken().company_id,a=_.toastTiming,c=Object(n.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)([]),l=Object(d.a)(o,2),b=(l[0],l[1],Object(n.useState)(!1)),p=Object(d.a)(b,2),h=p[0],x=p[1],A=Object(n.useState)({name:"",email:"",title:""}),f=Object(d.a)(A,2),y=f[0],D=f[1],T=function(e){console.log(y),console.log(e.target.name),console.log(e.target.value),D((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Invites",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-invites c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-invites l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Invites"})]}),Object(v.jsx)("div",{className:"c-Manage-invites__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Invites"})}),Object(v.jsxs)("div",{className:"c-Manage-invites__Send-email",children:[Object(v.jsx)("h2",{children:"Send Invite*"}),h?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(pa.a,{animation:"border",role:"status"}),Object(v.jsx)("p",{children:"Loading..."})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Send-email__Input",children:[Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"name",placeholder:"Name",value:y.name})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Job Title"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"title",placeholder:"Job Title",value:y.title})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"email",placeholder:"Email",value:y.email})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"induction_template",children:"Induction Template"}),Object(v.jsx)("select",{name:"induction_template",children:Object(v.jsx)("option",{value:null,children:"Assign an induction template"})})]})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"*"}),"Users who sign up through the invite link will have the role of 'Normal User'."]}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){var a={message:"You are about to send an invite link to ".concat(y.email," to the system. Click confirm to proceed."),handler:function(e){return n(e)},heading:"Confirm send invite?",type:"primary"};Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},a),{},{onClose:t}))}});var n=function(a){a(),x((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/invites/new/user"),y,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["Email has been sent to: ","".concat(y.email),"!"]})]})),x((function(){return!1})),D((function(){return{name:"",email:"",title:""}}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),x((function(){return!1})),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}},children:"Send Invite"})]})]}),Object(v.jsxs)("div",{className:"c-Manage-invites__Table",children:[Object(v.jsx)("h2",{children:"Invites List"}),Object(v.jsx)("p",{children:"Coming soon..."})]})]})})]})},Oa=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,a=_.toastTiming,c=Object(n.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),u=l[0],b=l[1],p=Object(n.useState)(!1),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)(!1),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)({companyName:"Error",businessRegNum:"Error",companyAlias:"Error",createdOn:"Error",status:"Error",description:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"}}),I=Object(d.a)(S,2),M=I[0],E=I[1],F=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),w=Object(d.a)(F,2),R=w[0],q=w[1];Object(n.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,a={companyName:t.name,businessRegNum:t.business_registration_number,companyAlias:t.alias,createdOn:t.created_at,status:t.status,description:t.description,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code}};E((function(){return a}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),q((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[e,t]);var H=function(e){E((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},Y=function(e){E((function(t){return Object(j.a)(Object(j.a)({},t),{},{address:Object(j.a)(Object(j.a)({},t.address),{},Object(m.a)({},e.target.name,e.target.value))})}))},U=function(e){if("editCompany"!==e&&"editCompanyCancel"!==e||b((function(e){return!e})),"editCompanySave"===e){var t={message:"You are about to save new company details. Click confirm to proceed.",handler:function(e){return Q(e)},heading:"Confirm Save?",type:"primary"};return Object(He.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},t),{},{onClose:a}))}})}},Q=function(a){T((function(){return!0})),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{name:M.companyName,business_registration_number:M.businessRegNum,alias:M.companyAlias,status:M.status,description:M.description,address:{address_line_one:M.address.line1,address_line_two:M.address.line2,city:M.address.city,state:M.address.state,country:M.address.country,postal_code:M.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated Company Details successfully!");var t=e.data;console.log(t),T((function(){return!1})),b((function(){return!1})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated Company Details successfully!"})]})),a()})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),T((function(){return!1})),a()}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Account",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Organization"})]}),Object(v.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Organization"}),u||R.render?null:Object(v.jsx)("button",{onClick:function(){return U("editCompany")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),R.render?Object(v.jsx)(la,{errMsg:R.errMsg,errStatus:R.errStatus,errStatusText:R.errStatusText}):u?Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:H,name:"companyName",value:M.companyName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:H,name:"businessRegNum",value:M.businessRegNum})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:H,name:"companyAlias",value:M.companyAlias})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"line1",value:M.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"line2",value:M.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"city",value:M.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"country",value:M.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"postalCode",value:M.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:Y,name:"state",value:M.address.state})]})]}),Object(v.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:H,name:"description",value:M.description})]})}),Object(v.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[x?Object(v.jsx)("button",{onClick:function(){return U("editCompanySave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return U("editCompanyCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"companyName",value:M.companyName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"businessRegNum",value:M.businessRegNum})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"companyAlias",value:M.companyAlias})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:J()(new Date(M.createdOn)).format("MMMM D, YYYY h:mm A")})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"line1",value:M.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"line2",value:M.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"city",value:M.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"country",value:M.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"postalCode",value:M.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"state",value:M.address.state})]})]}),Object(v.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"description",value:M.description})]})})]})]})})]})},xa=a(196),va=a.n(xa),Aa=a(94),fa=function(){var e=Object(u.g)(),t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(n.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=p[1],y=Object(n.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1],S=Object(n.useState)({username:"",password:""}),I=Object(d.a)(S,2),C=I[0],M=I[1],E=Object(n.useState)(!1),w=Object(d.a)(E,2),R=w[0],q=w[1],H=_.toastTiming;Object(n.useEffect)((function(){""!==C.username?r((function(){return!0})):r((function(){return!1})),l(""!==D?function(){return!0}:function(){return!1})}),[C,D]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:H,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(A,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsxs)("div",{className:"c-Login__Card",children:[Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.username.value;console.log(t),e.preventDefault(),q((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/new"),{username:t},{}).then((function(e){console.log("Sent OTP successfully!");var t=e.data;console.log(t),q((function(){return!1})),x(!0),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"OTP has been sent!"})]}))})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),q((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:f,alt:"logo"})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(P.a,{children:[Object(v.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(Aa.a,{onClick:function(){return e.goBack()}})})}),Object(v.jsx)(B.a,{xs:11,children:Object(v.jsx)("h4",{children:"Forgot Password"})})]})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:C.username||"",onChange:function(e){M((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},placeholder:"username"}),Object(v.jsx)("p",{className:"c-Username__Information-message text-muted",children:"We will send a one time password for verification to your email address"})]}),c?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Send OTP"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Send OTP"})]}),h?Object(v.jsxs)("form",{onSubmit:function(t){console.log(D),console.log(C.username),t.preventDefault(),q((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/check"),{username:C.username,otp:D},{}).then((function(t){console.log("Checked OTP successfully!");var a=t.data;console.log(a),q((function(){return!1})),e.push("/change-password/".concat(C.username,"/").concat(D))})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),q((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Username",children:Object(v.jsx)("label",{htmlFor:"otp",children:"Key in OTP"})}),Object(v.jsx)(va.a,{value:D,onChange:function(e){T((function(){return e}))},numInputs:6,inputStyle:"",className:"otpInput",name:"otp"}),o?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Submit"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Submit"})]}):""]})})})]})},ga=function(e){var t=e.match,a=t.params.username,c=t.params.otp,r=/\d/,s=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,i=_.toastTiming,o=Object(u.g)(),l=Object(n.useState)(!1),b=Object(d.a)(l,2),p=b[0],h=b[1],x=Object(n.useState)(!1),y=Object(d.a)(x,2),N=y[0],D=y[1],T=Object(n.useState)({password:"",confirmPassword:""}),I=Object(d.a)(T,2),C=I[0],M=I[1],E=Object(n.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),w=Object(d.a)(E,2),R=w[0],q=w[1],H=Object(n.useState)(!1),Y=Object(d.a)(H,2),U=Y[0],L=Y[1];Object(n.useEffect)((function(){""!==C.password&&""!==C.confirmPassword?h((function(){return!0})):h((function(){return!1})),q((function(){return{minChar:C.password.length>=8,number:!!r.test(C.password),specialChar:!!s.test(C.password),match:C.password===C.confirmPassword}}))}),[C]);var Q=function(e){M((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:i,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(A,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsx)("div",{className:"c-Login__Card",children:Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.password.value;e.preventDefault(),L((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/change"),{otp:c,password:t,username:a},{}).then((function(e){console.log("Changed Password successfully!");var t=e.data;console.log(t),L((function(){return!1})),setTimeout((function(){g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),o.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),L((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:f,alt:"logo"})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(P.a,{children:[Object(v.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(v.jsx)(F.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(Aa.a,{onClick:function(){return o.goBack()}})})}),Object(v.jsx)(B.a,{xs:11,children:Object(v.jsx)("h4",{children:"Change Password"})})]})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(v.jsx)("input",{type:"password",onFocus:function(){return D(!0)},name:"password",value:C.password||"",onChange:Q,placeholder:"Password"})]}),Object(v.jsxs)("div",{className:"c-Card__Password",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",name:"confirmPassword",value:C.confirmPassword||"",onChange:Q,placeholder:"Confirm Password"})]}),N&&Object(v.jsx)(S,{validity:R}),p&&!0===R.minChar&&!0===R.number&&!0===R.specialChar&&!0===R.match?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:U?"Loading...":"Change Password"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Change Password"})]})})})})]})},_a=function(){var e=_.toastTiming,t=Object(u.g)(),a=N.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),j=i[0],b=i[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],A=Object(n.useState)([]),f=Object(d.a)(A,2),y=f[0],D=f[1],T=Object(n.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i,l,d,j,u,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 3:if(a=t.sent,!e){t.next=39;break}if(n=!1,a.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),s=[],i=[],l=[],!n){t.next=31;break}return t.next=13,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"));case 13:return d=t.sent,console.log(d),s=d.data.results,console.log(s),t.next=19,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 19:return j=t.sent,console.log(j),i=j.data.results,console.log(i),t.next=25,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment?archived=1"));case 25:u=t.sent,console.log(u),l=u.data.results,console.log(l),t.next=36;break;case 31:return t.next=33,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/assigned-equipment"));case 33:b=t.sent,console.log(b),s=b.data.results;case 36:D((function(){return i.map((function(e,t){return{id:e.category_id,serialNo:t+1,name:e.name,createdOn:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_manage:"/equipment-maintenance/manage-category/".concat(e.category_id)}}))})),x((function(){return s.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e,a){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,action_manage:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))})),M((function(){return l.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e,a){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,archived_on:J()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_view:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))}));case 39:t.next=44;break;case 41:t.prev=41,t.t0=t.catch(0),console.log(t.t0);case 44:case"end":return t.stop()}}),t,null,[[0,41]])})))(),function(){e=!1}}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:j,setSideNavStatus:b,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(v.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Equipment Maintenance Program"})]}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Equipment Maintenance Programme"}),Object(v.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-equipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Equipment"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h,columns:pe,pagination:Bt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance-category__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Equipment Categories"}),Object(v.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-category")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Category"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:y,columns:me,pagination:Bt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ie.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:I,columns:he,pagination:Bt()()})]})]})})]})},ya=a(74),Na=a.n(ya),Da=function(e){var t=e.match,a=N.getToken(),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(n.useState)(!1),b=Object(d.a)(i,2),p=(b[0],b[1]),h=Object(u.g)(),x=Object(n.useState)([]),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(n.useState)(!1)),M=Object(d.a)(I,2),E=M[0],F=M[1],w=Object(n.useState)({users:""}),R=Object(d.a)(w,2),q=(R[0],R[1],Object(n.useState)({username:[]})),H=Object(d.a)(q,2),Y=(H[0],H[1],Object(n.useState)({name:"Error",category:"Error",refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",archivedAt:null})),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),W=Object(d.a)(V,2),J=W[0],G=(W[1],Object(n.useState)(!1)),K=Object(d.a)(G,2),Z=K[0],$=(K[1],Object(n.useState)(C)),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(d.a)(ne,2),re=(ce[0],ce[1],Object(n.useState)([])),se=Object(d.a)(re,2),ie=(se[0],se[1],t.params.emID);Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(ie));case 4:a=e.sent,console.log(a),t=a.data.results,console.log(t),z((function(){return{name:t.name,category:function(){var e="";return t.categories.map((function(t,a){e+=t.name+", "})),e.slice(0,-2)}(),refNo:t.reference_number,regNo:t.register_number,model:t.model,serialNo:t.serial_number,archivedAt:t.archived_at}})),y((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:1,maintenanceType:e.type,responsible:function(){var t=[],a="";return e.assignees.map((function(e){a+=e.account.username+", "})),t.push(a.slice(0,-2)),a="",t}(),maintenanceFrequency:(console.log(e.freq_unit_time),7==e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30==e.freq_unit_time?"".concat(e.freq_multiplier," months"):365==e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0),lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id),action_manage:"/equipment-maintenance/manage-equipment/".concat(ie,"/manage-cycle/").concat(e.maintenance_id),action_delete:"asd"}}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[Q.archivedAt]);var oe=function(e){"add"===e&&h.push("/equipment-maintenance/manage-equipment/".concat(ie,"/add-cycle"))},le=function(e){z((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},de=function(e){if("activated"===e){"active";var t={message:"Are you sure you want to activate this account?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(He.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},t),{},{onClose:a}))}})}else{"deactivated";var n={message:"Are you sure you want to deactivate this account?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(He.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},n),{},{onClose:t}))}})}var c=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(ie,"/activate"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log(a),p((function(e){return!e})),t(),z(Object(j.a)(Object(j.a)({},Q),{},{archivedAt:null})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),t(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},s=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(ie,"/archive"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log(a),p((function(e){return!e})),t(),z(Object(j.a)(Object(j.a)({},Q),{},{archivedAt:"refresh"})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),t(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:te,setSideNavStatus:ae,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Equipment"}),Z||J.render?null:Object(v.jsx)("button",{onClick:function(){return oe("editEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),J.render?Object(v.jsx)(la,{errMsg:J.errMsg,errStatus:J.errStatus,errStatusText:J.errStatusText}):Object(v.jsx)(v.Fragment,{children:Z?Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"name",value:Q.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"category",value:Q.category})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"refNo",value:Q.refNo})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"regNo",value:Q.regNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"model",value:Q.model})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:le,name:"serialNo",value:Q.serialNo})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[E?Object(v.jsx)("button",{onClick:function(){return oe("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return oe("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"name",value:Q.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"category",value:Q.category})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"refNo",value:Q.refNo})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"regNo",value:Q.regNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"model",value:Q.model})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"serialNo",value:Q.serialNo})]})]})]})}),Object(v.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(v.jsxs)("div",{className:"c-Danger-zone__Row",children:[console.log(Q.archivedAt),null===Q.archivedAt?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return de("deactivated")},children:"Archive Equipment"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"The equipment will be moved to archives."})})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return de("activated")},children:"Unarchive Equipment"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"The equipment will be restored from archives."})})]})})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Maintenance Cycles"}),Object(v.jsx)("button",{onClick:function(){return oe("add")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:[console.log(f),0!==f.length?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:f,columns:Oe,pagination:Bt()()}):"No records found!"]})]})})]})},Ta=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,a=_.toastTiming,c=Object(u.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=(s[1],Object(n.useState)(!1)),p=Object(d.a)(b,2),h=p[0],x=p[1],A=Object(n.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),f=Object(d.a)(A,2),y=f[0],D=f[1],T=Object(n.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],E=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),F=Object(d.a)(E,2),w=F[0],R=(F[1],Object(n.useState)(C)),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=function(a){"addEquipment"===a?(console.log(y),Object(l.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/all-equipment"),y,{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=a.sent,console.log(n),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()):"cancel"===a&&c.push("/equipment-maintenance")},Q=function(e){D((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 4:n=e.sent,console.log(n),a=n.data.results,console.log(a),M((function(){return 0===a.length?null:a.map((function(e){return{name:"".concat(e.name)}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:H,setSideNavStatus:Y,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Equipment"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[h?Object(v.jsx)("button",{onClick:function(){return U("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return U("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),w.render?Object(v.jsx)(la,{errMsg:w.errMsg,errStatus:w.errStatus,errStatusText:w.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"name",value:y.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category"}),Object(v.jsxs)("select",{onFocus:function(){return x(!0)},type:"text",name:"category",onChange:Q,value:y.category||"Error",children:[Object(v.jsx)("option",{children:I?"Select Category":"No categories found!"}),I?I.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)})):null]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"reference_number",children:"Ref. No."}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"reference_number",value:y.reference_number})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"register_number",children:"Reg. No."}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"register_number",value:y.register_number})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"model",value:y.model})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"serial_number",children:"Serial No."}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"serial_number",value:y.serial_number})]}),Object(v.jsx)(B.a,{className:"c-Input"})]})]})})]})})]})},Sa=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,a=_.toastTiming,c=Object(u.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=s[1],p=Object(n.useState)(!1),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)({name:""}),y=Object(d.a)(f,2),D=y[0],T=y[1],S=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),I=Object(d.a)(S,2),M=I[0],E=(I[1],Object(n.useState)(C)),F=Object(d.a)(E,2),w=F[0],R=F[1],q=function(a){"addCategory"===a?(console.log(D),Object(l.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(!0),a.next=4,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"),D,{headers:{Authorization:"Bearer ".concat(e)}});case 4:n=a.sent,console.log(n),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Inserted new category!"})]})),b(!1),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),b(!1),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a.t0.response.status}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a.t0.response.data.message})]}));case 15:case"end":return a.stop()}}),a,null,[[0,10]])})))()):"cancel"===a&&c.push("/equipment-maintenance")},H=function(e){T((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:w,setSideNavStatus:R,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-category",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Category"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Category"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[x?Object(v.jsx)("button",{onClick:function(){return q("addCategory")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return q("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),M.render?Object(v.jsx)(la,{errMsg:M.errMsg,errStatus:M.errStatus,errStatusText:M.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsx)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{onFocus:function(){return A(!0)},type:"text",onChange:H,name:"name",value:D.name})]})})})})]})})]})},Ia=function(e){var t=e.match,a=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=(Object(u.g)(),t.params.catID),i=Object(n.useState)(!1),b=Object(d.a)(i,2),p=b[0],h=b[1],x=Object(n.useState)(!1),A=Object(d.a)(x,2),f=A[0],y=(A[1],Object(n.useState)(!1)),D=Object(d.a)(y,2),T=D[0],S=D[1],I=Object(n.useState)({name:"",description:"f"}),M=Object(d.a)(I,2),E=M[0],F=M[1],w=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),R=Object(d.a)(w,2),q=R[0],H=(R[1],Object(n.useState)(C)),Y=Object(d.a)(H,2),U=Y[0],Q=Y[1],z=function(e){"save"===e?(console.log(E),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(s),E,{headers:{Authorization:"Bearer ".concat(a)}});case 3:t=e.sent,console.log(t),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated category!"})]})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:e.t0.response.status}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:e.t0.response.data.message})]}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()):"cancel"===e?h(!1):"edit"===e&&h(!0)},V=function(e){F((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(s,"/assigned-equipment"));case 3:t=e.sent,console.log(t),a=t.data.results.name,n=t.data.results.created_at,p||F((function(){return{name:a,createdOn:J()(new Date(n)).format("MMMM D, YYYY h:mm A")}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:U,setSideNavStatus:Q,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/manage-category",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Category"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Category"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[p?T?Object(v.jsx)("button",{onClick:function(){return z("save")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:f?"Loading...":"Save"}):Object(v.jsx)("button",{onClick:function(){return z("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}),p?Object(v.jsx)("button",{onClick:function(){return z("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"}):null]})]}),q.render?Object(v.jsx)(la,{errMsg:q.errMsg,errStatus:q.errStatus,errStatusText:q.errStatusText}):Object(v.jsx)(v.Fragment,{children:p?Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{onFocus:function(){return S(!0)},type:"text",onChange:V,name:"name",value:E.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:E.createdOn})]})]})}):Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"name",value:E.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:E.createdOn})]})]})})})]})})]})},Ca=function(){var e=_.toastTiming,t=Object(u.g)(),a=N.getDecodedToken(),c=a.company_id,r=a.employee_id,s=Object(n.useState)(C),i=Object(d.a)(s,2),j=i[0],b=i[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],A=Object(n.useState)([]),f=Object(d.a)(A,2),y=f[0],D=f[1];Object(n.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var a,n,s,i,l,d,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 3:if(a=t.sent,!e){t.next=31;break}if(n=!1,a.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),s=[],i=[],!n){t.next=24;break}return t.next=12,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licences/all"));case 12:return l=t.sent,console.log(l),s=l.data.results,console.log(s),t.next=18,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/equipment/archives"));case 18:d=t.sent,console.log(d),i=d.data.results,console.log(i),t.next=29;break;case 24:return t.next=26,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/equipment/assignments"));case 26:j=t.sent,console.log(j),s=j.data.results;case 29:x((function(){return s.map((function(e,t){return{id:e.licence_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at,externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,a){t+=e.account.username+", "})),t.slice(0,-2)}(),status:"",action_manage:"/licenses/manage-licenses/".concat(e.licence_id)}}))})),D((function(){return i.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e,a){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,archived_on:J()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_view:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))}));case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.log(t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})))(),function(){e=!1}}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:j,setSideNavStatus:b,title:"Permits Licenses",activeLink:"/licenses",children:Object(v.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Register of Permits, Licenses, Approvals & Certificates"})]}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(v.jsx)("button",{onClick:function(){t.push("/licenses/add-license")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:h,columns:xe,pagination:Bt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ie.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:y,columns:he,pagination:Bt()()})]})]})})]})},Ma=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,a=_.toastTiming,c=Object(u.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=(s[1],Object(n.useState)(!1)),p=Object(d.a)(b,2),h=p[0],x=p[1],A=Object(n.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),f=Object(d.a)(A,2),y=f[0],D=f[1],T=Object(n.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],E=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),F=Object(d.a)(E,2),w=F[0],R=(F[1],Object(n.useState)(C)),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=function(a){"addEquipment"===a?(console.log(y),Object(l.a)(o.a.mark((function a(){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/equipment/all"),y,{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=a.sent,console.log(n),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()):"cancel"===a&&c.push("/licenses")},Q=function(e){D((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/edit/m07_02/employees"));case 3:return a=e.sent,console.log(a),n=[],e.next=8,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 8:c=e.sent,console.log(c),n=c.data.results,console.log(n),M((function(){return 0===n.length?null:n.map((function(e){return{name:"".concat(e.name)}}))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:H,setSideNavStatus:Y,title:"Licenses",activeLink:"/licenses/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add License/Permit/Certificate"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add License/Permit/Certificate"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[h?Object(v.jsx)("button",{onClick:function(){return U("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return U("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),w.render?Object(v.jsx)(la,{errMsg:w.errMsg,errStatus:w.errStatus,errStatusText:w.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"license",value:y.license})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"licenseNo",value:y.licenseNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"expDate",value:y.expDate})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"externalAgency",children:"Responsible External Agency"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:Q,name:"externalAgency",value:y.externalAgency})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(v.jsxs)("select",{onFocus:function(){return x(!0)},type:"text",name:"responsibleUser",onChange:Q,value:y.responsibleUser||"Error",children:[Object(v.jsx)("option",{children:I?"Select User":"No users found!"}),I?I.map((function(e,t){return Object(v.jsx)("option",{value:e.username,children:e.username},t)})):null]})]})]})]})})]})})]})},Ea=function(){Object(u.g)(),N.getToken(),N.getDecodedToken();var e=Object(n.useState)(C),t=Object(d.a)(e,2),a=t[0],c=t[1],r=[{id:1,serialNo:1,template_name:"IT Department Induction Template",action_manage:"/settings/manage-induction-templates/manage-induction-template/".concat(1)}];return Object(v.jsx)(L,{sideNavStatus:a,setSideNavStatus:c,title:"Manage Induction Templates",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-templates c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-templates__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Induction Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Induction Templates"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Add Template"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates__Table",children:[Object(v.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:r,columns:ye})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:r,columns:Ne,pagination:Bt()()})]})]})})},Fa=function(e){var t=e.match,a=(Object(u.g)(),N.getToken(),N.getDecodedToken(),t.params.templateID,Object(n.useState)(C)),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,form_name:"AY2021 Induction Form for IT Department",version_label:"IT2021.1",status:"test",action_view:"/settings/manage-induction-templates/manage-induction-template/".concat(1,"/manage-induction-form/",1)}];return Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Induction Forms",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-template c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-templat l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-induction-templates",children:"Manage Induction Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Induction Template"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-template__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Induction Template"}),Object(v.jsxs)("div",{className:"c-Manage-indudction-template__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Edit Active Version"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",children:"Archive"})]})]}),Object(v.jsx)("div",{className:"c-Manage-induction-template__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:De})})]})})},wa=function(e){var t=e.taskData;return Object(v.jsxs)("div",{className:"c-Induction-form-task",children:[Object(v.jsx)("div",{className:"c-Induction-form-task__Header",children:Object(v.jsxs)("p",{className:"c-Induction-form-task__Text",children:["Task: ",(null===t||void 0===t?void 0:t.task)?t.task:"Could not retrieve section name"]})}),Object(v.jsx)("div",{className:"c-Induction-form-task__Table",children:0!==(null===t||void 0===t?void 0:t.length)?Object(v.jsx)(Ie.a,{keyField:"order",bordered:!1,data:t.descriptions,columns:Te}):"No records found!"})]})},ka=function(e){var t,a=e.sectionData;return console.log(a),Object(v.jsxs)("div",{className:"c-Induction-form-section",children:[Object(v.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(v.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===a||void 0===a?void 0:a.section)?a.section:"Could not retrieve section name"})}),Object(v.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===a||void 0===a||null===(t=a.tasks)||void 0===t?void 0:t.length)?a.tasks.map((function(e,t){return Object(v.jsx)(wa,{taskData:e},t)})):"No records found!"})]})},Pa=function(e){var t=e.match,a=(Object(u.g)(),N.getToken(),N.getDecodedToken(),t.params.formID,t.params.templateID,Object(n.useState)(C)),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),o=Object(d.a)(i,2),l=o[0];o[1],"/settings/manage-induction-templates/manage-induction-template/".concat(1);return Object(n.useEffect)((function(){}),[]),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Induction Templates",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-form c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-form l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-induction-templates",children:"Manage Induction Templates"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-induction-templates/manage-induction-template/".concat(1),children:"Manage Induction Template"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Induction Form"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Induction Form"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Change to Active"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document c-Main__Document",children:[Object(v.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document-content",children:[Object(v.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Manage-indcution-form__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsx)("div",{className:"c-IP__Document-header--right c-Document__Header--right"})]}),0!==l.length?l.map((function(e,t){return Object(v.jsx)(ka,{sectionData:e},t)})):"No records found!"]})})]})]})})},Ba=function(){var e=_.toastTiming,t=Object(u.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""}],o=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),request_status:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),request_status:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Training",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Training c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Training__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Training"})]}),Object(v.jsx)("div",{className:"c-Training__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Training"})}),Object(v.jsxs)("div",{className:"c-Training__Records",children:[Object(v.jsx)("h2",{children:"My Training Records"}),Object(v.jsx)("div",{className:"c-Training__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:ve})})]}),Object(v.jsxs)("div",{className:"c-Training__Requests c-Requests",children:[Object(v.jsxs)("div",{className:"c-Requests__Top",children:[Object(v.jsx)("h2",{children:"My Training Requests"}),Object(v.jsx)("button",{onClick:function(){return t.push("/training/training-request/create")},type:"button",className:"c-Btn c-Btn--primary",children:"Create Training Request"})]}),Object(v.jsx)("div",{className:"c-Training__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:o,columns:Ae})})]})]})})]})},Ra=function(e){var t=e.text,a=Object(n.useRef)(null);return Object(v.jsxs)("div",{className:"c-File-select",children:[Object(v.jsx)("span",{className:"c-File-select__Area",onClick:function(){a.current.click()},children:Object(v.jsx)("p",{children:t||"Please click to select file"})}),Object(v.jsx)("input",{className:"c-File-select__Raw",type:"file",ref:a})]})},qa=function(e){var t=e.match,a=_.toastTiming,c=Object(u.g)(),r=t.params.trainingRecordID,s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1];return Object(n.useEffect)((function(){h((function(){return!0}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage My Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-my-training-record c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-my-training-record__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage My Training Record"})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage my Training Record"}),p?Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/manage/".concat(r,"/post-training-evaluation"))},children:"Complete Post Evaluation"}):Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--training-record-file-upload",children:[Object(v.jsx)("h1",{children:"Upload File"}),Object(v.jsxs)("div",{className:"c-Confirm-alert__File",children:[Object(v.jsx)(Ra,{}),Object(v.jsx)("p",{children:"This training record's attendance will be updated to completed upon uploading the file"})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return e(a)},children:"Upload"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:a,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Upload File"})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Evaluation Status"}),Object(v.jsx)("p",{children:"Na"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approver"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Attendance Status"}),Object(v.jsx)(z,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective request permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},e),{},{onClose:a}))}});var t=function(){}}()},children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Ha=function(e){var t=e.mode,a=e.qns,c=e.qnsType,r=e.index,s=e.viewType,i=e.setQuestions,o=e.formType,l=Object(n.useState)(we),u=Object(d.a)(l,2),b=u[0],m=u[1];Object(n.useEffect)((function(){c&&m((function(){return c}))}),[]);return Object(v.jsx)("div",{className:"c-Evaluation-qns",children:t===ke?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Edit",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(v.jsxs)("div",{className:"c-Top__Left",children:[Object(v.jsxs)("label",{htmlFor:"qns",children:[r+1,"."]}),Object(v.jsx)("input",{name:"qns",type:"text",placeholder:"Enter question",value:a||"",onChange:function(e){return function(e){i("trainee"===o?function(t){return Object(j.a)(Object(j.a)({},t),{},{trainee:t.trainee.map((function(t){return t.serialNo===r?Object(j.a)(Object(j.a)({},t),{},{question:e.target.value}):t}))})}:function(t){return Object(j.a)(Object(j.a)({},t),{},{supervisor:t.supervisor.map((function(t){return t.serialNo===r?Object(j.a)(Object(j.a)({},t),{},{question:e.target.value}):t}))})})}(e)}})]}),Object(v.jsxs)("div",{className:"c-Top__Right",children:[Object(v.jsx)("label",{htmlFor:"qnsType",children:"Qns Type:"}),Object(v.jsxs)("select",{name:"qnsType",value:b,onChange:function(e){return function(e){m((function(){return e.target.value}))}(e)},children:[Object(v.jsx)("option",{value:we,children:"Select a qns type"}),Object(v.jsx)("option",{value:Ee,children:"Open Ended"}),Object(v.jsx)("option",{value:Me,children:"1 - 5 Rating"}),Object(v.jsx)("option",{value:Fe,children:"Yes or No"})]})]})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Types",children:[b===Fe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):b===Me?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):b===Ee?Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(v.jsx)("textarea",{name:"open",disabled:!0,placeholder:"Enter something"})}):Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(v.jsx)("p",{children:"Please select a question type"})}),Object(v.jsx)("div",{className:"c-Evaluation-qns__Del",children:Object(v.jsx)(F.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{className:"c-Delete",onClick:function(){i((function(e){var t="",a=e[t="trainee"===o?"trainee":"supervisor"].filter((function(e){return e.serialNo!==r+1})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));return"trainee"===t?Object(j.a)(Object(j.a)({},e),{},{trainee:a}):Object(j.a)(Object(j.a)({},e),{},{supervisor:a})}))}})})})]}),Object(v.jsx)("hr",{})]}):t===Pe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__View",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(v.jsxs)("p",{children:[r+1,"."]}),Object(v.jsx)("p",{children:a})]}),Object(v.jsx)("div",{className:"c-Evaluation-qns__Types",children:s===Fe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",value:"yes"}),Object(v.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",value:"no"}),Object(v.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):s===Me?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"1"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"2"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"3"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"4"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"5"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):s===Ee?Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(v.jsx)("textarea",{name:"open",placeholder:"Enter something"})}):Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(v.jsx)("p",{children:"Error! Invalid Question type."})})}),Object(v.jsx)("hr",{})]}):void 0})},Ya=function(e){var t=e.match,a=_.toastTiming,c=Object(u.g)(),r=Object(u.h)().pathname.split("/"),s=Object(n.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)([]),b=Object(d.a)(j,2),m=(b[0],b[1],t.params.trainingRecordID,Object(n.useState)(null)),p=Object(d.a)(m,2),h=p[0],O=p[1];Object(n.useEffect)((function(){"settings"===r[1]?O((function(){return"approver"})):"training"===r[1]?O((function(){return"trainee"})):c.push("/page-not-found")}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Post Evaluation Form",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Post-evaluation-form c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Post-evaluation-form__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{href:"/training/training-record",children:"Manage My Training Record"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Post Training Evaluation"})]}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){console.log("Clicked on submit")},children:"Submit"})]}),Object(v.jsx)("div",{className:"c-Post-evaluation-form__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-content",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"}),Object(v.jsx)("p",{children:"S$1599.90"}),Object(v.jsx)("p",{children:"Completed"}),Object(v.jsx)("p",{children:"PTEF.2022.1"}),Object(v.jsx)("p",{children:"@bobSong"}),Object(v.jsx)("p",{children:"@appleKim"}),Object(v.jsx)("p",{children:"6/1/2022"}),Object(v.jsx)("p",{children:"7/1/2022"})]})]}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit",children:[Object(v.jsx)("div",{className:"c-Document-form__Heading",children:Object(v.jsxs)("h1",{children:["approver"===h?"Approver":"Trainee"," Section"]})}),Object(v.jsx)("div",{className:"c-Document-form__Fields"})]})]})})})]})})]})},Ua=function(){var e=_.toastTiming,t=(Object(u.g)(),Object(n.useState)(C)),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(new Date),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:c,setSideNavStatus:r,title:"Create Training Request",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Create-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Training Request"})]}),Object(v.jsxs)("div",{className:"c-Create-training-request__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Training Request"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){},children:"Create Training Request"})]}),Object(v.jsxs)("div",{className:"c-Create-training-request__Form c-Form",children:[Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"courseTitle",children:"Course Title"}),Object(v.jsx)("input",{name:"courseTitle",type:"text",placeholder:"Enter Course Title"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(v.jsx)(Na.a,{onChange:l,value:o,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"organisation",children:"Organisation/Institution"}),Object(v.jsx)("input",{name:"organisation",type:"text",placeholder:"Enter Organisation/Instition"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(v.jsx)(Na.a,{onChange:l,value:o,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"cost",children:"Cost"}),Object(v.jsx)("input",{name:"cost",type:"text",placeholder:"Enter training cost S$"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"approver",children:"To be approved by"}),Object(v.jsx)("select",{name:"approver",className:"c-Form__Approver",children:Object(v.jsx)("option",{children:"Select an approver"})})]})]}),Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"justification",children:"Justification"}),Object(v.jsx)("textarea",{name:"justification",type:"text",placeholder:"Enter Justification"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"recommendations",children:"Recommendations"}),Object(v.jsx)("textarea",{name:"recommendations",type:"text",placeholder:"Enter Recommendations"})]})]}),Object(v.jsx)("div",{className:"c-Form__Row",children:Object(v.jsxs)("div",{className:"c-Form__File-upload",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"No File Detected."}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Upload File"})]})})]})]})})]})},La=function(){var e=_.toastTiming,t=Object(u.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Trainings",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-trainings c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-trainings__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Trainings"})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Trainings"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates")},children:"Manage Post Evaluation Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Pending-requests",children:[Object(v.jsx)("h2",{children:"Training Requests pending for your approval"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:fe})})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Requests c-Requests",children:[Object(v.jsx)("h2",{children:"All Training Requests"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:ge})})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Records c-Requests",children:[Object(v.jsx)("h2",{children:"All Training Records"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:ge})})]})]})})]})},Qa=function(){var e=_.toastTiming,t=Object(u.g)(),a=Object(n.useState)(C),c=Object(d.a)(a,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,template_title:"Post Evaluation Template 2022",version:"PETF.2022.2",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""},{id:2,serialNo:2,template_title:"Post Evaluation Template 2022",version:"PETF.2022.1",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Post Evaluation Templates",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Post Evaluation Templates"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates/create-template")},children:"Create New Template"})]}),Object(v.jsx)("div",{className:"c-Manage-PET__Table",children:Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:i,columns:_e})})]})})]})},za={meta:{template:{name:"Post training evaluation 20XX",version:"20XX.X",created_by:null,created_at:null,effective_at:null},form:{trainee_id:null,supervisor_id:null,created_at:"",updated_at:""}},evaluation:{trainee:[{order:2,type:Me,question:"Rating question"},{order:1,type:Ee,question:"Open Ended question"},{order:3,type:Fe,question:"Yes or No Question"}],supervisor:[{order:2,type:Me,question:"Rating question"},{order:1,type:Ee,question:"Open Ended question"},{order:3,type:Fe,question:"Yes or No Question"}]}},Va=function(){var e,t,a,c,r=_.toastTiming,s=Object(u.g)(),i=Object(n.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(n.useState)({trainee:[],supervisor:[]}),h=Object(d.a)(p,2),O=h[0],x=h[1],A=Object(n.useState)({}),f=Object(d.a)(A,2),y=f[0],N=f[1];Object(n.useEffect)((function(){x((function(){var e=za.evaluation.trainee.sort((function(e,t){return e.order-t.order})),t=za.evaluation.supervisor.sort((function(e,t){return e.order-t.order}));return{trainee:e.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})})),supervisor:t.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}})),N((function(){return za.meta}))}),[]);var D=function(e){x("trainee"===e?function(e){return Object(j.a)(Object(j.a)({},e),{},{trainee:[].concat(Object(ze.a)(e.trainee),[{serialNo:e.trainee.length+1,question:"",answer:"",type:we}])})}:function(e){return Object(j.a)(Object(j.a)({},e),{},{supervisor:[].concat(Object(ze.a)(e.supervisor),[{serialNo:e.supervisor.length+1,question:"",answer:"",type:we}])})})},T=function(e){N((function(t){return Object(j.a)(Object(j.a)({},t),{},{template:Object(j.a)(Object(j.a)({},t.template),{},Object(m.a)({},e.target.name,e.target.value))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Create Post Evaluation Template",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Create-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Post Evaluation Template"})]}),Object(v.jsxs)("div",{className:"c-Create-PET__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Post Evaluation Template"}),Object(v.jsxs)("div",{className:"c-Top__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return s.push("/settings/trainings/post-evaluation-templates")},children:"Cancel"})]})]}),Object(v.jsx)("div",{className:"c-Create-PET__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Create-PET__Document-content",children:[Object(v.jsx)("div",{className:"c-Create-PET__Document-title",children:Object(v.jsx)("input",{type:"text",placeholder:"Enter form title",name:"name",value:null===(e=y.template)||void 0===e?void 0:e.name,onChange:function(e){return T(e)}})}),Object(v.jsxs)("div",{className:"c-Create-PET__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",name:"version",value:null===(t=y.template)||void 0===t?void 0:t.version,onChange:function(e){return T(e)}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})]}),Object(v.jsxs)("div",{className:"c-Create-PET__Document-form c-Document-form",children:[Object(v.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Trainee Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===O||void 0===O||null===(a=O.trainee)||void 0===a?void 0:a.length)>0?O.trainee.map((function(e,t){return Object(v.jsx)(Ha,{mode:ke,qnsType:e.type,qns:e.question,index:t,setQuestions:x,formType:"trainee"},t)})):Object(v.jsx)("p",{children:"No questions detected!"}),Object(v.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("trainee")},children:Object(v.jsx)("p",{children:"Add New Row"})})]})]}),Object(v.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===O||void 0===O||null===(c=O.supervisor)||void 0===c?void 0:c.length)>0?O.supervisor.map((function(e,t){return Object(v.jsx)(Ha,{mode:ke,qnsType:e.type,qns:e.question,index:t,setQuestions:x,formType:"supervisor"},t)})):Object(v.jsx)("p",{children:"No questions detected!"}),Object(v.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("supervisor")},children:Object(v.jsx)("p",{children:"Add New Row"})})]})]})]})]})})})]})})]})},Wa=function(e){var t=e.match,a=_.toastTiming,c=(Object(u.g)(),t.params.trainingReqID,Object(n.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage My Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-my-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-my-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage My Training Request"})]}),Object(v.jsx)("div",{className:"c-Manage-my-training-request__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage my Training Request"})}),Object(v.jsxs)("div",{className:"c-Manage-my-training-request__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Justification"}),Object(v.jsx)("p",{children:"I need to learn how to clean my house better! #wfh #uncondusive_working_environment"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"To be Approved by"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Other Recommendations"}),Object(v.jsx)("p",{children:"Nil"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approval Status"}),Object(v.jsx)(z,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-request__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective record (if any) permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},e),{},{onClose:a}))}});var t=function(){}}()},children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Ja=function(e){var t=e.match,a=_.toastTiming,c=Object(u.g)(),r=(t.params.trainingRecordID,Object(n.useState)(C)),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),b=j[0];j[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Manage Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-training-record c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-training-record__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Training Record"})]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Training Record"}),b?Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/post-training-evaluation")},children:"Complete Post Evaluation"}):null]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Evaluation Status"}),Object(v.jsx)("p",{children:"Na"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approver"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Attendance Status"}),Object(v.jsx)(z,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Ga=function(e){var t=e.match,a=_.toastTiming,c=(Object(u.g)(),t.params.trainingReqID,Object(n.useRef)("")),r=Object(n.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Manage Training Request",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Training Request"})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Training Request"}),Object(v.jsxs)("div",{className:"c-Top__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--ok",onClick:function(){},children:"Approve"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return function(){Object(He.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(v.jsx)("h1",{children:"Confirm Reject?"}),Object(v.jsx)("p",{children:"Please key in reason for rejection and click on confirm reject."}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(v.jsx)("h2",{children:"Remarks"}),Object(v.jsx)("textarea",{name:"pendingReject",ref:c})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return e(a)},children:"Confirm Reject"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:a,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Reject"})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Justification"}),Object(v.jsx)("p",{children:"I need to learn how to clean my house better! #wfh #uncondusive_working_environment"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"To be Approved by"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Other Recommendations"}),Object(v.jsx)("p",{children:"Nil"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approval Status"}),Object(v.jsx)(z,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Xa=function(e){var t=e.match,a=_.toastTiming,c=(Object(u.g)(),t.params.templateID,Object(n.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)({trainee:[],supervisor:[]}),l=Object(d.a)(o,2),j=(l[0],l[1]),b=Object(n.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:a,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Post Evaluation Template",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Template"})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Top c-Top",children:[Object(v.jsxs)("div",{className:"c-Top__Row",children:[Object(v.jsx)("h1",{children:"Manage Post Evaluation Template"}),Object(v.jsx)("div",{className:"c-Top__Btns",children:p?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return h((function(e){return!e}))},children:"Cancel"})]}):Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return h((function(e){return!e}))},children:"Edit"})})]}),Object(v.jsxs)("div",{className:"c-Top__Row",children:[Object(v.jsx)("h2",{children:"Status:"}),Object(v.jsx)(z,{type:"active"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--link",children:"Change Status to Active"})]})]}),Object(v.jsx)("div",{className:"c-Manage-PET__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Manage-PET__Document-content",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(v.jsxs)("div",{className:"c-Manage-PET__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",value:"PTEF.2022.1",disabled:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Document-form c-Document-form",children:[Object(v.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Trainee Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[Object(v.jsx)(Ha,{mode:Pe,qns:"Boolean?",viewType:Ee,index:"1",setQuestions:j,formType:"trainee"}),Object(v.jsx)(Ha,{mode:Pe,qns:"Boolean?",viewType:Me,index:"1",setQuestions:j,formType:"trainee"}),Object(v.jsx)(Ha,{mode:Pe,qns:"Boolean?",viewType:Fe,index:"1",setQuestions:j,formType:"trainee"})]})]}),Object(v.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(v.jsx)("div",{className:"c-Document-form__Fields",children:Object(v.jsx)(Ha,{mode:Pe,qns:"A question?",index:"1",viewType:Ee})})]})]})]})})})]})})]})},Ka=function(e){var t=e.match,a=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=Object(u.g)(),i=t.params.emID,b=Object(n.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=(p[1],Object(n.useState)(!1)),A=Object(d.a)(x,2),f=A[0],y=A[1],D=Object(n.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(n.useState)([]),E=Object(d.a)(M,2),F=E[0],w=E[1],R=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(R,2),H=q[0],Y=(q[1],Object(n.useState)(C)),U=Object(d.a)(Y,2),Q=U[0],z=U[1],V=function(e){"addEquipment"===e?(console.log(S),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"),S,{headers:{Authorization:"Bearer ".concat(a)}});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()):"cancel"===e&&s.push("/equipment-maintenance/manage-equipment/".concat(i))},W=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 4:a=e.sent,console.log(a),t=a.data.results,console.log(t),w((function(){return 0===t.length?null:t.map((function(e){return{name:"".concat(e.name)}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:Q,setSideNavStatus:z,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i),children:"Manage Equipment"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Equipment"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[f?Object(v.jsx)("button",{onClick:function(){return V("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:h?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return V("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),H.render?Object(v.jsx)(la,{errMsg:H.errMsg,errStatus:H.errStatus,errStatusText:H.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Maintenance-type c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"type",children:"Maintenance Type"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"type",value:S.type})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsxs)("select",{onFocus:function(){return y(!0)},type:"text",name:"responsible",onChange:W,value:S.responsible||"Error",children:[Object(v.jsx)("option",{children:F?"Select Users":"No users found!"}),F?F.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)})):null]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"maintenanceMultiplier",value:S.maintenanceMultiplier}),Object(v.jsxs)("select",{onFocus:function(){return y(!0)},type:"text",name:"maintenanceUnitTime",onChange:W,value:S.maintenanceUnitTime,children:[Object(v.jsx)("option",{children:"Select Time Unit"}),Object(v.jsx)("option",{children:"Days"}),Object(v.jsx)("option",{children:"Weeks"}),Object(v.jsx)("option",{children:"Months"})]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"lastServiceDate",value:S.lastServiceDate})]})]})})})]})})]})},Za=function(e){var t=e.match,a=N.getToken(),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(n.useState)(!1),u=Object(d.a)(i,2),b=(u[0],u[1]),p=Object(n.useState)([]),h=Object(d.a)(p,2),x=h[0],A=h[1],f=Object(n.useState)(!1),y=Object(d.a)(f,2),D=y[0],T=(y[1],Object(n.useState)(!1)),S=Object(d.a)(T,2),I=S[0],M=S[1],E=Object(n.useState)({users:""}),F=Object(d.a)(E,2),w=(F[0],F[1],Object(n.useState)({username:[]})),R=Object(d.a)(w,2),q=(R[0],R[1],Object(n.useState)({name:"Error",category:"Error",refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",archivedAt:null})),H=Object(d.a)(q,2),Y=H[0],U=H[1],Q=Object(n.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),z=Object(d.a)(Q,2),V=z[0],W=(z[1],Object(n.useState)(!1)),G=Object(d.a)(W,2),K=G[0],Z=G[1],$=Object(n.useState)(C),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(d.a)(ne,2),re=(ce[0],ce[1],Object(n.useState)([])),se=Object(d.a)(re,2),ie=(se[0],se[1],t.params.emID),oe=t.params.maintenanceID;Object(n.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(ie));case 4:a=e.sent,console.log(a),t=a.data.results,console.log(t),U((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:1,maintenanceType:e.type,responsible:function(){var t=[],a="";return e.assignees.map((function(e){a+=e.account.username+", "})),t.push(a.slice(0,-2)),a="",t}(),maintenanceFrequency:(console.log(e.freq_unit_time),7==e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30==e.freq_unit_time?"".concat(e.freq_multiplier," months"):365==e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0),lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id)}}))})),A((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:1,maintenanceType:e.type,responsible:function(){var t=[],a="";return e.assignees.map((function(e){a+=e.account.username+", "})),t.push(a.slice(0,-2)),a="",t}(),maintenanceFrequency:(console.log(e.freq_unit_time),7==e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30==e.freq_unit_time?"".concat(e.freq_multiplier," months"):365==e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0),lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id),action_manage:"/equipment-maintenance/manage-equipment/manage-cycle/".concat(e.maintenance_id),action_delete:"asd"}}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[Y.archivedAt]);var le=function(e){"editEquipment"!==e&&"editEquipmentCancel"!==e||Z((function(e){return!e}))},de=function(e){U((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},je=[{id:1,serialNo:1,maintenanceType:"Preventive",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"active",action_manage:"",action_delete:""},{id:2,serialNo:2,maintenanceType:"Corrective",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"almostDue",action_manage:"",action_delete:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:te,setSideNavStatus:ae,title:"Equipment Maintenance Cycle",activeLink:"/equipment-maintenance/manage-equipment/".concat(ie,"/manage-cycle/").concat(oe),children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(ie),children:"Manage Equipment"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Maintenance Cycle"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Maintenance cycle"}),K||V.render?null:Object(v.jsx)("button",{onClick:function(){return le("editEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),V.render?Object(v.jsx)(la,{errMsg:V.errMsg,errStatus:V.errStatus,errStatusText:V.errStatusText}):Object(v.jsx)(v.Fragment,{children:K?Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:de,name:"maintenanceType",value:Y.maintenanceType})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:de,name:"responsible",value:Y.responsible})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:de,name:"maintenanceMultiplier",value:Y.maintenanceMultiplier}),Object(v.jsxs)("select",{onFocus:function(){return M(!0)},type:"text",name:"maintenanceUnitTime",onChange:de,value:Y.maintenanceUnitTime,children:[Object(v.jsx)("option",{children:"Select Time Unit"}),Object(v.jsx)("option",{children:"Days"}),Object(v.jsx)("option",{children:"Weeks"}),Object(v.jsx)("option",{children:"Months"})]})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:de,name:"lastServiceDate",value:Y.lastServiceDate})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"status",children:"Status"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:de,name:"status",value:Y.status})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[I?Object(v.jsx)("button",{onClick:function(){return le("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return le("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceType",value:Y.maintenanceType})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"responsible",value:Y.responsible})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceMultiplier",value:Y.maintenanceMultiplier}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceUnitTime",value:Y.maintenanceUnitTime})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"lastServiceDate",value:Y.lastServiceDate})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"status",children:"Status"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"status",value:Y.status})]})]})]})}),Object(v.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(v.jsx)("div",{className:"c-Danger-zone__Row",children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("activated"===e){var t={message:"Are you sure you want to activate this account?",handler:function(e){return n(e)},heading:"Confirm Activate?",type:"primary"};Object(He.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(v.jsx)(Ye,Object(j.a)(Object(j.a)({},t),{},{onClose:a}))}})}var n=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(ie,"/activate"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log(a),b((function(e){return!e})),t(),U(Object(j.a)(Object(j.a)({},Y),{},{archivedAt:null})),g.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var a="Error!",n="Error!";void 0!==e.response&&(a=e.response.status,n=e.response.data.message),t(),g.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:a}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}}()},children:"Delete Cycle"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"This action cannot be undone"})})]})}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Maintenance Records"}),Object(v.jsx)("button",{onClick:function(){return le("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:[console.log(x),0!==je.length?Object(v.jsx)(Ie.a,{bordered:!1,keyField:"serialNo",data:x,columns:Oe,pagination:Bt()()}):"No records found!"]})]})})]})},$a=function(){var e=function(e){return function(t){return N.getToken()?Object(v.jsx)(e,Object(j.a)({},t)):Object(v.jsx)(u.a,Object(j.a)({to:"/login"},t))}};return Object(v.jsx)(b.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:"/login",render:function(){return Object(v.jsx)(D,{})}}),Object(v.jsx)(u.b,{path:"/forgot-password",render:function(){return Object(v.jsx)(fa,{})}}),Object(v.jsx)(u.b,{path:"/change-password/:username/:otp",render:function(e){return Object(v.jsx)(ga,Object(j.a)({},e))}}),Object(v.jsx)(u.b,{path:"/create-account/:token",render:function(e){return Object(v.jsx)(I,Object(j.a)({},e))}}),Object(v.jsx)(u.b,{exact:!0,path:"/",children:Object(v.jsx)(u.a,{to:"/dashboard"})}),Object(v.jsx)(u.b,{path:"/dashboard",render:function(t){return e(G)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/announcements",render:function(t){return e(Z)(t)}}),Object(v.jsx)(u.b,{path:"/announcements/view/:aID",render:function(t){return e($)(t)}}),Object(v.jsx)(u.b,{path:"/announcements/create",render:function(t){return e(ne)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/swot",render:function(t){return e(Rt)(t)}}),Object(v.jsx)(u.b,{path:"/swot/archived/:swotID",render:function(t){return e(qt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/interested-party",render:function(t){return e(Ht)(t)}}),Object(v.jsx)(u.b,{path:"/interested-party/archived/:ipID",render:function(t){return e(Yt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/scope-of-qms",render:function(t){return e(Ut)(t)}}),Object(v.jsx)(u.b,{path:"/scope-of-qms/archived/:scopeOfQMSID",render:function(t){return e(Lt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/company-policy",render:function(t){return e(Qt)(t)}}),Object(v.jsx)(u.b,{path:"/company-policy/archived/:companyPolicyID",render:function(t){return e(zt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/responsibility-n-authority",render:function(t){return e(Gt)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/add-org-chart",render:function(t){return e($t)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/manage-org-chart/:orgChartID",render:function(t){return e(ea)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/add-role",render:function(t){return e(Kt)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/manage-role/:roleID",render:function(t){return e(Zt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/risk-n-opportunity",render:function(t){return e(ta)(t)}}),Object(v.jsx)(u.b,{path:"/risk-n-opportunity/archived/:rnoID",render:function(t){return e(ma)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/objective-achievement-program",render:function(t){return e(aa)(t)}}),Object(v.jsx)(u.b,{path:"/objective-achievement-program/archived/:oapID",render:function(t){return e(na)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance",render:function(t){return e(_a)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID",render:function(t){return e(Da)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/add-equipment",render:function(t){return e(Ta)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/add-category",render:function(t){return e(Sa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/add-cycle",render:function(t){return e(Ka)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID",render:function(t){return e(Za)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-category/:catID",render:function(t){return e(Ia)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/licenses",render:function(t){return e(Ca)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/licenses/add-license",render:function(t){return e(Ma)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training",render:function(t){return e(Ba)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID",render:function(t){return e(qa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-request/manage/:trainingReqID",render:function(t){return e(Wa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID/post-training-evaluation",render:function(t){return e(Ya)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-request/create",render:function(t){return e(Ua)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings",render:function(t){return e(ra)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-account",render:function(t){return e(da)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/manage-users",render:function(t){return e(ja)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-users/manage-user/:employeeID",render:function(t){return e(ua)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-organization",render:function(t){return e(Oa)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-invites",render:function(t){return e(ha)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates",render:function(t){return e(Ea)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates/induction-template/:templateID",render:function(t){return e(Fa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates/induction-template/:templateID/manage/:formID",render:function(t){return e(Pa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings",render:function(t){return e(La)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-record/manage/:trainingID",render:function(t){return e(Ja)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-record/manage/:trainingID/post-training-evaluation",render:function(t){return e(Ya)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-request/manage/:trainingID",render:function(t){return e(Ga)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates",render:function(t){return e(Qa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates/manage/:templateID",render:function(t){return e(Xa)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates/create-template",render:function(t){return e(Va)(t)}}),Object(v.jsx)(u.b,{path:"*",render:function(){return Object(v.jsx)(ba,{})}})]})})},en=a(197),tn=a(198),an=a(200),nn=a(199),cn=function(e){Object(an.a)(a,e);var t=Object(nn.a)(a);function a(){var e;Object(en.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(tn.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(v.jsx)("div",{className:"c-Page-not-found",children:Object(v.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(v.jsxs)(oa.a,{variant:"danger",children:[Object(v.jsx)(oa.a.Heading,{children:"Oh snap! You got an error!"}),Object(v.jsx)("p",{children:"Something went wrong, try again later!"})]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),a}(c.a.Component),rn=function(){return Object(v.jsxs)("div",{className:"c-Loading",children:[Object(v.jsx)(pa.a,{animation:"border",role:"status",variant:"secondary"}),Object(v.jsx)("p",{children:"Loading"})]})},sn=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],j=s[1],u=Object(n.useCallback)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(){return!0})),e.next=3,b();case 3:c((function(){return!1}));case 4:case"end":return e.stop()}}),e)}))),[]),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("attempted to refresh token again"),O.a.defaults.withCredentials=!0,e.next=5,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/refresh"),{},{withCredentials:!0});case 5:t=e.sent,console.log(t),200===t.status?(a=t.data.results.token,N.setToken(a),O.a.defaults.headers.common.Authorization="bearer ".concat(a),setTimeout(b,18e5)):N.logout(),j((function(){return!1})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),401!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(j((function(){return!0})),N.logout()),N.setMessage(null===(c=e.t0.response)||void 0===c?void 0:c.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(cn,{children:i?Object(v.jsx)(la,{}):a?Object(v.jsx)(rn,{}):Object(v.jsx)($a,{})})})};a(426),a(427),a(428),a(429),a(430),a(431);s.a.render(Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(sn,{})}),document.getElementById("eISO-root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.c980de78.chunk.js.map