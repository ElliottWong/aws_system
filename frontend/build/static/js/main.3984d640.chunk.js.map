{"version":3,"sources":["assets/images/eISO-logo.png","common/Title.js","config/config.js","utilities/tokenManager.js","pages/Login.js","common/PasswordCriteria.js","pages/CreateAccount.js","common/AnnouncementsBentoBox.js","utilities/localStorageUtils.js","common/DashboardInfoCards.js","assets/images/default-profile-pic.jpg","layout/Header.js","layout/Footer.js","assets/images/eISO-logo-white.png","common/sideNav/SideNavSubMenu.js","config/sideNavListArr.js","common/sideNav/SideNav.js","layout/PageLayout.js","utilities/sideNavUtils.js","pages/Dashboard.js","common/AnnouncementsListItem.js","pages/Announcements/Announcements.js","pages/Announcements/ViewAnnouncements.js","pages/Announcements/CreateAnnouncement.js","config/enums.js","hooks/useEndpoints.js","common/CustomConfirmAlert.js","common/DocumentBtnSection.js","common/ManageDeleteArchivedDoc.js","pages/InterestedParty/InterestedPartyActive.js","pages/InterestedParty/InterestedPartyPending.js","pages/InterestedParty/InterestedPartyEditing.js","pages/InterestedParty/InterestedPartyRejected.js","pages/InterestedParty/InterestedPartyInactive.js","common/SwotItems.js","pages/Swot/SwotActive.js","pages/Swot/SwotPending.js","pages/Swot/SwotEditing.js","pages/Swot/SwotRejected.js","pages/Swot/SwotInactive.js","pages/ScopeOfQMS/ScopeOfQMSActive.js","pages/ScopeOfQMS/ScopeOfQMSPending.js","pages/ScopeOfQMS/ScopeOfQMSEditing.js","pages/ScopeOfQMS/ScopeOfQMSRejected.js","pages/ScopeOfQMS/ScopeOfQMSInactive.js","common/CompanyPolicyItem.js","pages/CompanyPolicy/CompanyPolicyActive.js","pages/CompanyPolicy/CompanyPolicyPending.js","pages/CompanyPolicy/CompanyPolicyEditing.js","pages/CompanyPolicy/CompanyPolicyRejected.js","pages/CompanyPolicy/CompanyPolicyInactive.js","common/RiskNOppItem.js","pages/RiskNOpp/RiskNOppActive.js","pages/RiskNOpp/RiskNOppPending.js","pages/RiskNOpp/RiskNOppEditing.js","pages/RiskNOpp/RiskNOppRejected.js","pages/RiskNOpp/RiskNOppInactive.js","common/StatusPill.js","config/tableColumns.js","common/ObjAchivProgramItem.js","pages/ObjAchivProgram/ObjAchivProgramActive.js","pages/ObjAchivProgram/ObjAchivProgramPending.js","pages/ObjAchivProgram/ObjAchivProgramEditing.js","pages/ObjAchivProgram/ObjAchivProgramRejected.js","pages/ObjAchivProgram/ObjAchivProgramInactive.js","common/RenderDocument.js","common/Tab.js","common/TabRow.js","hooks/useCheckEditableAxios.js","hooks/useDocAxios.js","layout/DocumentLayout.js","pages/Swot/Swot.js","pages/Swot/SwotArchived.js","pages/InterestedParty/InterestedParty.js","pages/InterestedParty/InterestedPartyArchived.js","pages/ScopeOfQMS/ScopeOfQMS.js","pages/ScopeOfQMS/ScopeOfQMSArchived.js","pages/CompanyPolicy/CompanyPolicy.js","pages/CompanyPolicy/CompanyPolicyArchived.js","pages/ManageDeleteRole.js","pages/RespNAuthority/RespNAuthority.js","config/permissionListArr.js","pages/RespNAuthority/RespNAuthorityAddRole.js","pages/RespNAuthority/RespNAuthorityManageRole.js","pages/RespNAuthority/RespNAuthorityAddChart.js","pages/RespNAuthority/RespNAuthorityManageChart.js","pages/RiskNOpp/RiskNOpp.js","pages/ObjAchivProgram/ObjAchivProgram.js","pages/ObjAchivProgram/ObjAchivProgramArchived.js","common/SettingsBentoBox.js","pages/Settings.js","common/ErrorCard.js","common/RoleTags.js","pages/ManageAccount.js","pages/ManageUsers.js","pages/ManageUser.js","pages/PageNotFound.js","pages/RiskNOpp/RiskNOppArchived.js","pages/ManageInvites.js","pages/ManageOrganization.js","pages/ForgotPassword/ForgotPassword.js","pages/ForgotPassword/ChangePassword.js","pages/EquipmentMaintenance/EquipmentMaintenance.js","pages/EquipmentMaintenance/ManageEquipmentMaintenance.js","pages/EquipmentMaintenance/AddEquipmentMaintenance.js","pages/EquipmentMaintenance/AddEquipmentCategory.js","pages/EquipmentMaintenance/ManageEquipmentCategory.js","pages/PermitLicenses/Licenses.js","pages/PermitLicenses/AddLicense.js","pages/PermitLicenses/UploadLicense.js","pages/InductionForm/ManageInductionTemplates.js","pages/InductionForm/ManageInductionVersions.js","common/InductionFormSection.js","pages/InductionForm/ManageInductionForm.js","common/FileSelect.js","common/Loading.js","pages/Training/ManageMyTrainingRecord.js","common/EvaluationQuestions.js","pages/Training/PostEvaluationForm.js","pages/Training/CreateTrainingRequest.js","pages/Training/ManagePostEvaluationTemplates.js","config/trainingEvaluation.js","pages/Training/CreateEvaluationTemplate.js","pages/Training/ManageMyTrainingRequest.js","pages/Training/ManageTrainingRecord.js","pages/Training/ManageTrainingRequest.js","pages/Training/ManageEvaluationTemplate.js","pages/EquipmentMaintenance/AddMaintenanceCycle.js","pages/EquipmentMaintenance/ManageMaintenanceCycle.js","pages/InductionForm/CreateInductionForm.js","pages/PermitLicenses/ManageLicense.js","pages/Training/MyTrainingRequests.js","pages/Training/MyTrainingRecords.js","pages/Training/ManageTrainingRequests.js","pages/Training/ManageTrainingRecords.js","pages/EquipmentMaintenance/UploadMaintenance.js","Routes.js","pages/ErrorBoundary.js","App.js","index.js"],"names":["Title","title","Helmet","charSet","config","baseUrl","process","toastTiming","tokenManager","accessToken","message","getToken","getDecodedToken","jwtDecode","setToken","pToken","removeToken","logout","a","axios","post","withCredentials","window","localStorage","setItem","Date","now","console","log","response","getMessage","setMessage","pMsg","Login","history","useHistory","useState","formFilled","setFormFilled","username","password","inputValues","setInputValues","loading","setLoading","useEffect","handleInputChange","event","prevValues","target","name","value","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","className","onSubmit","preventDefault","defaults","then","res","data","results","token","TokenManager","headers","common","push","catch","err","errCode","errMsg","undefined","status","toast","error","src","logo","alt","htmlFor","type","onChange","placeholder","href","disabled","PasswordStrengthIndicatorItem","isValid","text","highlightClass","PasswordCriteria","validity","minChar","number","specialChar","match","CreateAccount","decodedToken","companyName","company_name","adminLevel","admin_level","isNumberRegx","specialCharacterRegx","firstName","lastName","confirmPassword","addressLineOne","addressLineTwo","city","state","country","postalCode","passwordFocused","setPasswordFocused","passwordValidity","setPasswordValidity","length","test","createNormalUserAccount","email","company_id","setTimeout","success","createAdminUserAccount","onFocus","AnnouncementsBentoBox","date","content","link","to","saveUserSideNavStatus","sideNavStatus","DashboardInfoCards","isEditor","organisationContent","heading","userCompanyID","editMode","setEditMode","tempDisplayData","setTempDisplayData","tempEditedData","setTempEditedData","split","map","strLine","index","handleTextareaChange","handleBtnClick","btnType","saveUrl","prevState","onClick","Header","setSideNavStatus","displayName","display_name","userEmail","company_alias","isProfilePopUpOpen","setIsProfilePopUpOpen","handleLogOutClick","Provider","color","size","profilePic","Footer","Container","Row","Col","md","xl","SideNavSubMenu","sideNavListObj","activeLink","userID","employee_id","setAdminLevel","access","setAccess","isSubMenuOpen","setIsSubMenuOpen","componentMounted","get","employeeDataRes","checkEditTrainingRequestRes","checkApproveTrainingRequestRes","editerListData","approverListData","tempIsEditer","tempIsApprover","every","editer","approver","handleSubMenuIcon","display","subLinksArr","subLinkObj","calMapIndex","isSecondaryAdmin","header","isEditer","isApprover","oneAccess","moduleCode","Object","keys","edit","approve","subLinks","subLink","sideNavListArr","minHeight","SideNav","sideNavWidth","style","width","PageLayout","children","getSideNavStatus","tempSideNavStatus","getItem","Dashboard","axiosConfig","contentVariableArr","dataUrlArr","editorUrlArr","companyScope","companyReferences","companyTerms","setOrganisationContent","setIsEditor","Promise","all","forEach","resObj","i","canEdit","lg","dayjs","format","AnnouncementsListItem","id","Announcements","announcementData","Breadcrumb","Item","active","ViewAnnouncements","params","aid","CreateAnnouncement","label","recipientGroup","allRecipients","setAllRecipients","EditorState","createEmpty","editorState","setEditorState","employeesData","account","isMulti","options","wrapperClassName","editorClassName","onEditorStateChange","TAB","ACTIVE","PENDING","REJECTED","EDITING","COLLAPSE","NULL","INACTIVE","QUESTION_TYPE","TRAINING_EVALUATION_MODE","useEndpoints","swot","editSubmit","pendingApprove","pendingReject","rejectedEdit","rejectedDelete","interestedParty","scopeOfQMS","companyPolicy","respNAuth","riskNOpp","objAchivProgram","btnEndpointsListObj","getAll","pending","rejected","tabEndpointsListObj","CustomConfirmAlert","handler","onClose","DocumentBtnSection","setQueryUrl","setTabSettings","tabSettings","docEditTableData","docEditHeaderData","docPendingHeaderData","docPendingTableData","docRejectedHeaderData","pageType","docQueryEnum","setDocQueryEnum","tempFileArr","startNewDoc","setStartNewDoc","rejectRemarks","useRef","handleDocActionBtns","firstTab","secondTab","focusTabIndex","approvedBy","isNaN","editSubmitAxiosReqData","editSubmitUrl","strengths","strength","row","parent_item_id","parentItemID","weaknesses","weakness","opportunities","opp","threats","threat","approved_by","parseInt","interested_parties","interested_party","expectations","needs_n_expectations","display_order","serialNo","JSON","stringify","convertToRaw","getCurrentContent","boundaries","site_name","site_scope","address","site_address","policies","action","rpn","missingPersonelResponsible","personel_responsible","objAchivFormData","FormData","append","key","fileObj","firstUrl","secondUrl","handleRejectDelete","confirmAlert","customUI","rejectedDeleteUrl","docID","delete","pendingApproveUrl","put","ref","pendingRejectAxiosReqData","remarks","current","pendingRejectUrl","handleRejectPendingDocument","created_by_id","ManageDeleteArchivedDoc","deleteUrl","docHeaderUrl","setArchivedDocData","docType","idName","handleDeleteArchiveDoc","formattedArchivedDocData","filter","archivedData","approved_on","active_till","updated_at","action_view","action_delete","InterestedPartyActive","docHeaderData","docTableData","docColumns","docKeyfield","created_by","keyField","columns","InterestedPartyPending","setDocPendingTableData","newRowArr","deletedRowArr","editedRowArr","rowStyle","setRowStyle","rowStyleTable","setRowStyleTable","activeData","activeIndex","isDeleted","pendingData","pendingIndex","rowIndex","backgroundColor","textDecoration","fontWeight","InterestedPartyEditing","setDocEditTableData","setDocEditHeaderData","approverList","setApproverList","userDisplayName","needs_n_expectations_raw","submittedBy","acc","firstname","lastname","approvalID","docEditingColumns","dataField","hidden","editable","editor","Type","TEXTAREA","height","wordWrap","formatter","cell","isDummyField","handleDocDeleteRow","deleteRowSerialID","prevDocTableData","dataElem","readOnly","cellEdit","cellEditFactory","mode","blurToSave","InterestedPartyRejected","docRejectedTableData","InterestedPartyInactive","SwotItems","SwotActive","bordered","SwotPending","newStrengthRowArr","newWeaknessRowArr","newOppRowArr","newThreatRowArr","editedStrengthRowArr","editedWeaknessRowArr","editedOppRowArr","editedThreatRowArr","rowStrengthStyleTable","setRowStrengthStyleTable","rowWeaknessStyleTable","setRowWeaknessStyleTable","rowOppStyleTable","setRowOppStyleTable","rowThreatStyleTable","setRowThreatStyleTable","SwotEditing","headerAttrs","handleDocAddRow","tableType","swotType","newSwotTypeTableData","formattedSwotTypeTableData","formattedDocTableData","SwotRejected","SwotInactive","ScopeOfQMSActive","ScopeOfQMSPending","ScopeOfQMSEditing","site_scope_raw","approvalListData","ScopeOfQMSRejected","ScopeOfQMSInactive","CompanyPolicyItem","itemTitle","itemContent","itemIndex","CompanyPolicyActive","CompanyPolicyPending","CompanyPolicyEditing","CompanyPolicyRejected","CompanyPolicyInactive","RiskNOppItem","rnoType","rnoItemData","rnoItemIndex","severity","likelihood","optionsColorTheme","setOptionsColorTheme","setRpn","handleSelectChange","toBeMultipliedWithNewSelectValue","newSelectValue","renderEditOptions","renderOptions","modified","RiskNOppActive","strengthData","RiskNOppPending","RiskNOppEditing","setApprovalList","weaknessData","oppData","threatData","RiskNOppRejected","RiskNOppInactive","StatusPill","docSwotColumns","historySwotColumns","docInterestedPartyColumns","historyInterestedPartyColumns","docScopeOfQMSColumns","historyScopeOfQMSColumns","historyCompanyPolicyColumns","historyRiskNOppColumns","historyObjAchivColumns","categoryColumns","equipmentMaintenanceColumns","historyEquipmentMaintenanceColumns","maintenanceCycleColumns","timeLeft","frequency","licenseColumns","isNA","historyLicenseColumns","myTrainingRecordsColumns","dateField","request_status","attendance","myTrainingRequestsColumns","sort","managePendingTrainingRequestsColumns","manageAllTrainingRequestsColumns","manageAllTrainingRecordsColumns","managePETColumns","manageInductionTemplatesColumns","historyInductionTemplatesColumns","manageInductionTemplateColumns","manageInductionFormSectionColumns","done_at","ObjAchivProgramItem","setTempFileArr","personelResponsibleList","fileRef","fileUploadInProgress","setFileUploadInProgress","docObjAchivProgramFilesEditableColumns","handleDeleteFile","docObjAchivProgramFilesColumns","handleFileDownload","fk_file_id","file_name","fileID","fileName","responseType","FileDownload","formattedTempFileArr","files","fileData","fileIndex","new","fileSerialNo","newFileArr","innerData","innerIndex","newData","newIndex","function","quality_objective","prData","prIndex","role_id","data_collection","data_analysis","role","threeFilesAlready","toBeReturnedFileObj","ObjAchivProgramActive","ObjAchivProgramPending","ObjAchivProgramEditing","docKeyField","setPersonelResponsibleList","file","ObjAchivProgramRejected","ObjAchivProgramInactive","RenderDocument","SpecificDocType","Active","SWOTActive","Pending","SWOTPending","Editing","SWOTEditing","Rejected","SWOTRejected","Inactive","SWOTInactive","Tab","handleTabOnClick","tabType","focus","toLowerCase","TabRow","setIsDocCollapsed","isDocCollapsed","newTabIndex","useCheckEditableAxios","url","setResponse","setError","thirdUrl","checkIfEmployeeCanEdit","checkIfPendingExist","checkIfRejectedExist","checkIfCanEdit","useDocAxios","resultDocTable","resultHeaderData","fetchDocData","DocumentLayout","Swot","setIsNewDoc","setDocTableData","setDocHeaderData","setDocPendingHeaderData","setDocRejectedTableData","setDocRejectedHeaderData","archivedDocData","queryUrl","isApproverOfPendingDoc","setIsApproverOfPendingDoc","setIsApprover","axiosResponse","queryCheckEditableAxiosUrl","checkEditableAxiosResponse","strengthIndex","swot_item_id","weaknessIndex","oppIndex","threatIndex","result","docActive","docPending","docRejected","formattedData","author","approved_at","swot_id","prevTabSettings","canApprove","historySwotDeletableColumns","pagination","paginationFactory","SwotArchived","swotID","InterestedParty","items","party_item_id","formattedDocActiveTableData","party_id","historyInterestedPartyDeletableColumns","InterestedPartyArchived","ipID","ScopeOfQMS","qms_scope_item_id","strLineIndex","createWithContent","convertFromRaw","parse","draftToHtml","convert","qms_scope_id","historyScopeOfQMSDeletableColumns","ScopeOfQMSArchived","scopeOfQMSID","CompanyPolicy","policy_item_id","formattedDocPendingTableData","policy_id","historyCompanyPolicyDeletableColumns","CompanyPolicyArchived","companyPolicyID","ManageDeleteRole","refreshUrl","setRoleData","handleDeleteRole","created_at","RespNAuthority","SearchBar","Search","ClearSearchButton","roleData","orgChartData","setOrgChartData","isUploader","setIsUploader","chart_id","description","created_on","docRespNAuthOrgChartColumns","docRespNAuthRolesColumns","search","props","searchProps","baseProps","normalPermissionListArr","RespNAuthorityAddRole","responsibility","rights","roleInputData","setRoleInputData","scrollTo","handeInputChange","checkCheckboxChecked","moduleCodeAndRights","checkModuleCode","checkModuleRights","handleCheckboxChange","checkIfEditExist","wrap","checked","formattedInsertData","tempRightsObj","RespNAuthorityManageRole","roleID","fullPermissionList","rightsObjSize","v","RespNAuthorityAddChart","handleBtn","formData","RespNAuthorityManageChart","orgChartID","createdBy","submittedOn","editableOrgChartData","setEditableOrgChartData","rerender","setRerender","file_id","axiosSubmitData","RiskNOpp","fk_risks_analysis_id","fk_swot_item_id","risks_analysis_id","NEW","historyRiskNOppDeletableColumns","ObjAchivProgram","mockDataColumns","achievement_item_id","achievement_id","filteredArchivedDocData","historyObjAchivDeletableColumns","ObjAchivProgramArchived","oapID","SettingsBentoBox","linkDisplay","Settings","jobTitle","display_title","companyAlias","ErrorCard","errStatus","errStatusText","Alert","variant","Heading","RoleTags","tagListing","deletable","ManageAccount","isEditing","setIsEditing","isChangingPassword","setIsChangingPassword","inputTouched","setInputTouched","oldpassword","fullName","emailDisplay","line1","line2","roles","userData","setUserData","render","renderErrorCard","setRenderErrorCard","resDataResults","formattedUserData","company","addressID","address_id","address_line_one","address_line_two","postal_code","statusText","handlePasswordInputChange","handleAddressInputChange","buttonType","editUserDetails","changePassword","old_password","oldPassword","new_password","ManageUsers","usersData","setUsersData","formattedUsersData","accountStatus","usersColumn","charAt","toUpperCase","slice","ManageUser","employeeID","editData","setEditData","realAdminLevel","setRealAdminLevel","formattedRoleData","handleEditRole","handleType","tempRoleArrList","indexOfToBeDeletedRoleID","indexOf","splice","handleUserActivation","actionType","accountStatusType","handleActivateAccount","account_status","selectValue","data1","index1","userHaveAlready","data2","index2","userHaveAllRoles","roleDataArr","userRoleDataArr","renderAddRoleBtnSection","PageNotFound","goBack","RiskNOppArchived","rnoID","ManageInvites","sendInviteInputData","setSendInviteInputData","Spinner","animation","handleSendInviteAxios","ManageOrganization","businessRegNum","createdOn","companyData","setCompanyData","formattedCompanyData","business_registration_number","alias","editCompanyDetails","ForgotPassword","otpFormFilled","setOtpFormFilled","sentEmail","setSentEmail","otp","setOtp","xs","numInputs","inputStyle","ChangePassword","EquipmentMaintenance","setCanApprove","setCanEdit","equipmentData","setEquipmentData","categoryData","setCategoryData","archivedEquipmentData","setArchivedEquipmentData","filteredCategoryID","setFilteredCategoryID","resClausePermission","resClausePermissionEdit","tempEquipmentData","tempCategoryData","tempArchivedEquimentData","resAllEquipments","equipment","resAllCategories","resArchivedEquipments","resSpecificEquipments","category_id","action_manage","equipment_id","category","categoryString","categories","catData","refNo","reference_number","model","archived_on","archived_at","wrapperClasses","ManageEquipmentMaintenance","equipmentID","emID","maintenanceCyclesData","setMaintenanceCyclesData","regNo","location","archivedAt","categoryList","setCategoryList","resOneEquipment","register_number","serial_number","maintenance","maintenance_id","maintenanceType","responsible","personArray","personString","assignees","eachPerson","maintenanceFrequency","freq_unit_time","freq_multiplier","lastServiceDate","last_service_at","days_left","handleDeleteCycle","maintenanceID","handleDelete","resUpdateEquipment","handleInputArrayChange","handleEquipmentArchive","handleDeactivateAccount","catStr","AddEquipmentMaintenance","handleAddEquipment","AddEquipmentCategory","resInsertOneCategory","ManageEquipmentCategory","categoryID","catID","resUpdateOneCategory","resCategoryData","dbName","handleDeleteCategory","Licenses","licenseData","setLicenseData","archivedLicenseData","setArchivedLicenseData","tempLicenseData","tempArchivedLicenseData","resAllLicenses","resArchivedLicenses","resSpecificLicenses","licence_id","license","licence_name","licenseNo","licence_number","expDate","expires_at","externalAgency","external_organisation","responsibleUser","userString","Math","ceil","abs","issued_at","AddLicense","userList","setUserList","issuedOn","resInsertOneLicence","setExpDate","setIssuedDate","tempUserData","UploadLicense","licenseID","licenseFile","setLicenseFile","property","newLicenseFormData","resUploadOneLicense","click","ManageInductionTemplates","newTemplateName","fakeInductionTemplateData","template_name","confirmAddTemplate","handleAddTemplate","ManageInductionVersions","templateID","form_name","version_label","InductionFormTask","taskMode","taskData","task","descriptions","InductionFormSection","sectionData","formMode","section","tasks","ManageInductionForm","formID","order","done","sectionsData","FileSelect","Loading","ManageMyTrainingRecord","trainingRecordID","completedTraining","setCompletedTraining","myTrainingRecord","setMyTrainingRecord","attendanceFileRef","resMyTrainingRequest","tempMyTrainingRecord","training_id","organisation","training_institution","course_title","cost","training_cost","supervisor_evaluation_done","trainee_evaluation_done","start_date","training_start","end_date","training_end","attendance_upload","attendance_file","handleCompletePostEvaluation","fileRes","confirmUploadFile","handleCancelFileUpload","uploadFileFormData","handleUploadFileBtn","confirmCancelRecord","handleCancelRecord","EvaluationQuestions","qns","qnsType","viewType","setQuestions","formType","answer","setType","handleRadioInputChange","trainee","question","supervisor","handleQnsInputChange","handleSelectQnsType","formTypeUsage","PostEvaluationForm","pathnameArr","useLocation","pathname","questions","editQuestions","setEditQuestions","meta","setMeta","setFormType","trainingRecordRes","tempTrainingRecord","version","evaluation","template","form_title","displayType","handleSubmitPostEvaluation","axiosBodyData","CreateTrainingRequest","justification_text","newTrainingRequest","setNewTrainingRequest","newJustificationFile","setNewJustificationFile","submitting","setSubmitting","resApprover","handleSubmitTrainingRequest","newTrainingRequestFormData","handleDateChange","ManagePostEvaluationTemplates","templates","setTemplates","resAllTemplates","tempAllTemplates","evaluation_template_id","template_title","defaultTemplate","effective_at","CreateEvaluationTemplate","sortedTraineeQnsRaw","b","sortedSupervisorQnsRaw","handleAddQns","handleSubmit","formattedTemplateData","immediate","ManageMyTrainingRequest","trainingReqID","myTrainingRequest","setMyTrainingRequest","tempMyTrainingRequest","approval_status","justification_upload","justification_upload_filename","justification_file","handleDownloadFile","confirmRemoveOrCancelRequest","handleRemoveOrCancelRequest","ManageTrainingRecord","trainingID","boolCompletedTraining","setBoolCompletedTraining","trainingRecord","setTrainingRecord","resTrainingRecord","ManageTrainingRequest","trainingRequest","setTrainingRequest","handleApprove","confirmReject","handleReject","ManageEvaluationTemplate","editMeta","setEditMeta","resOneTemplate","tempOneTemplate","handleSubmitNewTemplate","handleActivateTemplate","AddMaintenanceCycle","freq_unit_time_UI","maintenanceData","setMaintenanceData","resInsertOneMaintenance","handleTimeInputChange","unitTime","setLastServiceDate","tempUsersData","resAllUsers","ManageMaintenanceCycle","maintenanceRecordsData","setMaintenanceRecordsData","tempPersonsData","uploads","uploader","uploadDate","action_download","handleDeleteRecord","maintenanceRecordColumns","resUpdateCycle","personStr","CreateInductionForm","ManageLicense","responsibleExternalAgency","resOneLicense","personData","upload","resUpdateLicense","setIssuedOn","handleLicenseArchive","handleActivateLicense","handleDeactivateLicense","MyTrainingRequests","myTrainingRequests","setMyTrainingRequests","resMyTrainingRequests","tempMyTrainingRequests","MyTrainingCords","myTrainingRecords","setMyTrainingRecords","resMyTrainingRecords","tempMyTrainingRecords","ManageTrainingRequests","pendingTrainingRequests","setPendingTrainingRequests","trainingRequests","setTrainingRequests","resPendingTrainingRequests","resTrainingRequests","tempPendingTrainingRequests","tempTrainingRequests","ManageTrainingRecords","trainingRecords","setTrainingRecords","resTrainingRecords","tempTrainingRecords","UploadMaintenance","serviced_at","recordData","setRecordData","recordFile","setRecordFile","newRecordFormData","resUploadOneRecord","Routes","authGuard","Component","path","exact","CreateAnnouncements","MyTrainingRecords","ErrorBoundary","hasError","this","React","App","verifyUser","useCallback","getRefreshToken","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3984d640.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import Helmet from \"react-helmet\";\r\nimport React from 'react';\r\n\r\nconst Title = ({title}) => {\r\n    const defaultTitle = \"eISO System\";\r\n    return (\r\n        <Helmet>\r\n            <meta charSet=\"utf-8\"/>\r\n            <title>{title ? title : defaultTitle}</title>\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nexport default Title;","const config = {\r\n    baseUrl: process.env.REACT_APP_BASEURL,\r\n    toastTiming: 2000\r\n}\r\n\r\nexport default config;","import jwtDecode from \"jwt-decode\";\r\nimport axios from 'axios';\r\n\r\nconst tokenManager = () => {\r\n    let accessToken = null;\r\n    let message = \"\";\r\n\r\n    const getToken = () => accessToken;\r\n\r\n    const getDecodedToken = () => {\r\n        if (accessToken) {\r\n            return jwtDecode(accessToken);\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const setToken = (pToken) => {\r\n        accessToken = pToken;\r\n        return true;\r\n    };\r\n\r\n    const removeToken = () => {\r\n        accessToken = null;\r\n        return true;\r\n    };\r\n\r\n    const logout = async () => {\r\n        try {\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/logout`, {}, {withCredentials: true});\r\n            window.localStorage.setItem(\"logout\", Date.now());\r\n            accessToken = null;\r\n            return true;\r\n        } catch (error) {\r\n            console.log(error);\r\n            console.log(error.response)\r\n            return false;\r\n        };\r\n    };\r\n\r\n    const getMessage = () => message;\r\n\r\n    const setMessage = (pMsg) => {\r\n        message = pMsg;\r\n        return true;\r\n    };\r\n\r\n    return {\r\n        getToken,\r\n        getDecodedToken,\r\n        setToken,\r\n        removeToken,\r\n        logout,\r\n        getMessage,\r\n        setMessage\r\n    };\r\n};\r\n\r\nexport default tokenManager();","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport Title from '../common/Title';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    const toastTiming = config.toastTiming;\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.username !== '' && inputValues.password !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n    }, [inputValues]);\r\n    \r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        let username = event.target.username.value;\r\n        let password = event.target.password.value;\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n        axios.defaults.withCredentials = true;\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/login`, {\r\n            \"username\": username,\r\n            \"password\": password\r\n    })\r\n            .then((res) => {\r\n                const data = res.data.results;\r\n                console.log(data);\r\n                const accessToken = res.data.results.token;\r\n                TokenManager.setToken(accessToken);\r\n                console.log(TokenManager.getToken());\r\n                axios.defaults.headers.common['Authorization'] = `bearer ${accessToken}`;\r\n                // saveUserData(data.token, data.data.display_name, data.data.display_title, data.data.username, data.data.email, data.data.company_id, data.data.company_alias, data.data.company_name);\r\n                setLoading(() => (false));\r\n                history.push('/dashboard');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                \r\n                toast.error(<>Error Code: <b>{errCode}</b><br/>Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Username */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"Username\" />\r\n                            </div>\r\n                            {/* Password */}\r\n                            <div className=\"c-Card__Password\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\" name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                                <a href=\"/forgot-password\" className=\"c-Card__Forgot-password\">Forgot password?</a>\r\n                            </div>\r\n                            {\r\n                                // Check if user has touched both inputs\r\n                                formFilled ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Login\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Login</button>\r\n                            }\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\n\r\nconst PasswordCriteria = ({\r\n    validity: { minChar, number, specialChar, match }\r\n}) => {\r\n    return (\r\n        <div className=\"c-Card__Password-criteria\">\r\n            <div className=\"c-Password-criteria__Header\">\r\n                <b>Password Criteria</b>\r\n            </div>\r\n            <ul>\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={minChar}\r\n                    text=\"Have at least 8 characters\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={number}\r\n                    text=\"Have at least 1 number\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={specialChar}\r\n                    text=\"Have at least 1 special character\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={match}\r\n                    text=\"Passwords must match\"\r\n                />\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PasswordStrengthIndicatorItem = ({ isValid, text }) => {\r\n    const highlightClass = isValid\r\n        ? \"text-success\"\r\n        : \"text-danger\";\r\n    return <li className={highlightClass}>{text}</li>;\r\n};\r\n\r\nexport default PasswordCriteria;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport PasswordCriteria from '../common/PasswordCriteria';\r\nimport Title from '../common/Title';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst CreateAccount = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    console.log(\"------------Decoded Token-------------\");\r\n    console.log(decodedToken);\r\n    const companyName = decodedToken.company_name;\r\n    const adminLevel = decodedToken.admin_level;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // Regex for password criteria\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        addressLineOne: '',\r\n        addressLineTwo: '',\r\n        city: '',\r\n        state: '',\r\n        country: '',\r\n        postalCode: '',\r\n\r\n    });\r\n    const [passwordFocused, setPasswordFocused] = useState(false);\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.firstName !== '' && inputValues.lastName !== '' && inputValues.username !== '' &&\r\n            inputValues.password !== '' && inputValues.confirmPassword !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        // Company id set to 1 & email set to abc@gmail.com & title set to placeholder\r\n        // These should be taken from jwt token\r\n        let firstName = event.target.firstName.value;\r\n        let lastName = event.target.lastName.value;\r\n        let username = event.target.username.value;\r\n        let email = decodedToken.email;\r\n        let password = event.target.password.value;\r\n        let addressLineOne = event.target.addressLineOne.value;\r\n        let addressLineTwo = event.target.addressLineTwo.value;\r\n        let city = event.target.city.value;\r\n        let state = event.target.state.value;\r\n        let country = event.target.country.value;\r\n        let postalCode = event.target.postalCode.value;\r\n        let title = \"placeholder\";\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n        if (adminLevel === 2) {\r\n            createAdminUserAccount(firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title);\r\n        } else if (adminLevel === 0) {\r\n            createNormalUserAccount(firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title);\r\n        }\r\n    }\r\n\r\n    // End point for creating normal user account\r\n    const createNormalUserAccount = (firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${decodedToken.company_id}/invites/accept/${token}`, {\r\n            \"firstname\": firstName,\r\n            \"lastname\": lastName,\r\n            \"username\": username,\r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"address\": {\r\n                \"address_line_one\": addressLineOne,\r\n                \"address_line_two\": addressLineTwo,\r\n                \"city\": city,\r\n                \"state\": state,\r\n                \"country\": country,\r\n                \"postal_code\": postalCode,\r\n            },\r\n            \"title\": title,\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Create account successful!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Account has been created!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // End point for creating normal user account\r\n    const createAdminUserAccount = (firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${decodedToken.company_id}/invites/accept/${token}`, {\r\n            \"firstname\": firstName,\r\n            \"lastname\": lastName,\r\n            \"username\": username,\r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"address\": {\r\n                \"address_line_one\": addressLineOne,\r\n                \"address_line_two\": addressLineTwo,\r\n                \"city\": city,\r\n                \"state\": state,\r\n                \"country\": country,\r\n                \"postal_code\": postalCode,\r\n            },\r\n            \"title\": title,\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Create account successful!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Account has been created!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Create Account\" />\r\n            <div className=\"c-Create-account\">\r\n                <div className=\"l-Create-account__Card\">\r\n                    <div className=\"c-Create-account__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div >\r\n                            {/* Title */}\r\n                            <div className=\"c-Card__Form-title\">\r\n                                <h5><b>Create Your Account</b></h5>\r\n                                <p>Hello, {decodedToken.name}! You are invited to eISO as a {adminLevel === 2 ? \"super admin\" : \"normal user\"} by {adminLevel === 2 ? \"the platform admin\" : companyName || 'Error'}.</p>\r\n                            </div>\r\n                            {/* Form input first title */}\r\n                            <div className=\"c-Card__Form-input-title\">\r\n                                <b>Basic Details</b>\r\n                            </div>\r\n                            {/* Basic Details First Row */}\r\n                            <div className=\"c-Card__Basic-details-first-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"firstName\">First Name</label>\r\n                                    <input type=\"text\" name=\"firstName\" value={inputValues.firstName || ''} onChange={handleInputChange} placeholder=\"First Name\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"lastName\">Last Name</label>\r\n                                    <input type=\"text\" name=\"lastName\" value={inputValues.lastName || ''} onChange={handleInputChange} placeholder=\"Last Name\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Second Row */}\r\n                            <div className=\"c-Card__Basic-details-second-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"addressLineOne\">Address Line One</label>\r\n                                    <input type=\"text\" name=\"addressLineOne\" value={inputValues.addressLineOne || ''} onChange={handleInputChange} placeholder=\"Address Line One\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"addressLineTwo\">Address Line Two</label>\r\n                                    <input type=\"text\" name=\"addressLineTwo\" value={inputValues.addressLineTwo || ''} onChange={handleInputChange} placeholder=\"Address Line Two\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Third Row */}\r\n                            <div className=\"c-Card__Basic-details-third-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"city\">City</label>\r\n                                    <input type=\"text\" name=\"city\" value={inputValues.city || ''} onChange={handleInputChange} placeholder=\"City\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"state\">State</label>\r\n                                    <input type=\"text\" name=\"state\" value={inputValues.state || ''} onChange={handleInputChange} placeholder=\"State\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Fourth Row */}\r\n                            <div className=\"c-Card__Basic-details-fourth-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"country\">Country</label>\r\n                                    <input type=\"text\" name=\"country\" value={inputValues.country || ''} onChange={handleInputChange} placeholder=\"Country\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"postalCode\">Postal Code</label>\r\n                                    <input type=\"text\" name=\"postalCode\" value={inputValues.postalCode || ''} onChange={handleInputChange} placeholder=\"Postal Code\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Fifth Row*/}\r\n                            <div className=\"c-Card__Basic-details-fifth-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"username\">Username</label>\r\n                                    <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"Username\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Form input second title */}\r\n                            <div className=\"c-Card__Form-input-title\">\r\n                                <b>Password Info</b>\r\n                            </div>\r\n                            {/* Password Info */}\r\n                            <div className=\"c-Card__Password-info row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"password\">Password</label>\r\n                                    <input onFocus={() => setPasswordFocused(true)} type=\"password\" name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                                    <input type=\"password\" name=\"confirmPassword\" value={inputValues.confirmPassword || ''} onChange={handleInputChange} placeholder=\"confirmPassword\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Password Criteria */}\r\n                            {passwordFocused && (\r\n                                <PasswordCriteria\r\n                                    validity={passwordValidity}\r\n                                />\r\n                            )}\r\n                            {/* Submit button */}\r\n                            <div className=\"c-Card__Submit-btn\">\r\n                                {\r\n                                    // Check if user has touched both inputs\r\n                                    formFilled && (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                        passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                        <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Create Account\"}</button> :\r\n                                        <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Create Account</button>\r\n                                }\r\n                            </div>\r\n                            {/* Terms message */}\r\n                            <div className=\"c-Card__Terms-message\">\r\n                                <p>By creating an account, you agree to our <a href=\"#\">Terms of Service</a> and <a href=\"#\">Privacy Policy</a></p>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAccount;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst AnnouncementsBentoBox = ({ username, date, title, content, link }) => {\r\n    if (username) {\r\n        username = \"@\" + username;\r\n    }\r\n    return (\r\n        <div className=\"l-Announcements-bento-box\">\r\n            {/* Top Line (Deco) */}\r\n            <div className=\"l-Announcements-bento-box__Top-line\"></div>\r\n            <div className=\"c-Announcements-bento-box\">\r\n\r\n                {/* Account Information */}\r\n                <div className=\"c-Announcements-bento-box__Account\">\r\n                    <h1>{username}</h1>\r\n                    <p>{date}</p>\r\n                </div>\r\n                <hr />\r\n                {/* Announcement Content */}\r\n                <div className=\"c-Announcements-bento-box__Content\">\r\n                    <h1>{title}</h1>\r\n                    <p>{content}</p>\r\n                </div>\r\n                {/* View More Link */}\r\n                <div className=\"c-Announcements-bento-box__Link\">\r\n                    <NavLink to={`/${link}`}>View more</NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AnnouncementsBentoBox;","// Set user's side navigation collapsed status\r\nexport const saveUserSideNavStatus = (sideNavStatus) => {\r\n    localStorage.setItem('sideNavStatus', sideNavStatus);\r\n}\r\n\r\n// Return user's side navigation collapsed status\r\nexport const getUserSideNavStatus = () => {\r\n    return localStorage.getItem('sideNavStatus') || null;\r\n}\r\n\r\n// Return the user's token\r\nexport const getToken = () => {\r\n    return localStorage.getItem('token') || null;\r\n}\r\n\r\n// Return the user's first name and last name\r\nexport const getUserDisplayName = () => {\r\n    return localStorage.getItem('displayName') || null;\r\n}\r\n\r\n// Return user's job title\r\nexport const getUserJobTitle= () => {\r\n    return localStorage.getItem('jobTitle') || null;\r\n}\r\n\r\n// Return username\r\nexport const getUsername = () => {\r\n    return localStorage.getItem('username') || null;\r\n}\r\n\r\n// Return user's email\r\nexport const getUserEmail = () => {\r\n    return localStorage.getItem('email') || null;\r\n}\r\n// Return user's company alias\r\nexport const getUserCompanyAlias = () => {\r\n    return localStorage.getItem('companyAlias') || null;\r\n}\r\n\r\n// Return the user's company name\r\nexport const getUserCompanyName = () => {\r\n    return localStorage.getItem('companyName') || null;\r\n}\r\n\r\n// Return the user's company id\r\nexport const getUserCompanyID = () => {\r\n    return localStorage.getItem('companyID') || null;\r\n}\r\n\r\n// Set the user's token when signing in\r\nexport const saveUserData = (token, displayName, jobTitle, username, email, companyID, companyAlias, companyName) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('displayName', displayName);\r\n    localStorage.setItem('jobTitle', jobTitle);\r\n    localStorage.setItem('username', username);\r\n    localStorage.setItem('email', email);\r\n    localStorage.setItem('companyID', companyID);\r\n    localStorage.setItem('companyAlias', companyAlias);\r\n    localStorage.setItem('companyName', companyName);\r\n}\r\n\r\n// Clear user's localStorage\r\nexport const clearLocalStorage = () => {\r\n    localStorage.clear();\r\n}","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { getUserCompanyID, getToken } from '../utilities/localStorageUtils';\r\nimport { toast } from 'react-toastify';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\nconst DashboardInfoCards = ({ isEditor, organisationContent, heading, type }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken;\r\n\r\n\r\n    // State declarations\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [tempDisplayData, setTempDisplayData] = useState(undefined);  // Had to create another state for storing formatted display data\r\n    const [tempEditedData, setTempEditedData] = useState(undefined);    // This state is for storing the raw content data\r\n\r\n    useEffect(() => {\r\n        if (organisationContent[type] !== undefined && organisationContent[type] !== null) {\r\n            setTempDisplayData(() => {\r\n                if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                    return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                }\r\n                return organisationContent[type];\r\n            });\r\n            setTempEditedData(() => organisationContent[type]);\r\n        } else if (organisationContent[type] === null) {\r\n            setTempDisplayData(() => {\r\n                return undefined;\r\n            });\r\n            setTempEditedData(() => {\r\n                return undefined;\r\n            });\r\n        }\r\n    }, [organisationContent]);\r\n\r\n    const handleTextareaChange = (event) => {\r\n        setTempEditedData(() => {\r\n            return event.target.value;\r\n        });\r\n        setTempDisplayData(() => {\r\n            if (event.target.value.split(\"\\n\").length > 1) {\r\n                return event.target.value.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            }\r\n            return event.target.value;\r\n        });\r\n    }\r\n\r\n    const handleBtnClick = (btnType) => {\r\n        if (btnType === \"cancel\") {\r\n            setTempEditedData(() => organisationContent[type]);\r\n            setTempDisplayData(() => {\r\n                if (organisationContent[type] !== undefined) {\r\n                    if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                        return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                    }\r\n                }\r\n\r\n                return organisationContent[type];\r\n            });\r\n        } else if (btnType === \"save\") {\r\n            let saveUrl;\r\n            if (type === \"companyScope\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/scopes`;\r\n            } else if (type === \"companyReferences\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/references`\r\n            } else if (type === \"companyTerms\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/terms`\r\n            }\r\n            axios.post(saveUrl, {\r\n                content: tempEditedData\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json;charset=UTF-8',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>{heading} has been updated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    setTempEditedData(() => organisationContent[type]);\r\n                    setTempDisplayData(() => {\r\n                        if (organisationContent[type] !== undefined) {\r\n                            if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                                return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                            }\r\n                        }\r\n\r\n                        return organisationContent[type];\r\n                    });\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                })\r\n        }\r\n        setEditMode((prevState) => !prevState);\r\n    }\r\n\r\n    const renderEditMode = () => {\r\n        return (\r\n            <textarea className=\"c-Content__Textarea\" value={tempEditedData} onChange={handleTextareaChange}></textarea>\r\n        );\r\n    }\r\n\r\n    const renderNormalMode = () => {\r\n        if (tempDisplayData) {\r\n            return tempDisplayData;\r\n        } else {\r\n            return \"Data not found!\";\r\n        }\r\n    }\r\n\r\n    console.log(isEditor);\r\n    return (\r\n        <div className=\"l-Dashboard-Info-Cards\">\r\n            <div className=\"c-Dashboard-Info-Cards\">\r\n                {/* Heading */}\r\n                <div className=\"c-Dashboard-Info-Cards__Heading\">\r\n                    {heading ? heading : \"Data not found!\"}\r\n                    {\r\n                        !isEditor ?\r\n                            null :\r\n                            !editMode ?\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"edit\")} className=\"c-Btn c-Btn--link\">Edit</button> :\r\n                                null\r\n                    }\r\n\r\n                </div>\r\n                {/* Content */}\r\n                <div className=\"c-Dashboard-Info-Cards__Content\">\r\n                    {\r\n                        editMode ?\r\n                            renderEditMode() :\r\n                            renderNormalMode()\r\n                    }\r\n                </div>\r\n                {/* Button section */}\r\n                <div className=\"c-Dashboard-Info-Cards__Btn\">\r\n                    {\r\n                        editMode ?\r\n                            <>\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"save\")} className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"cancel\")} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                            </> :\r\n                            null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashboardInfoCards;","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAGfAZ8DAREAAhEBAxEB/8QAhQABAAIDAQEBAAAAAAAAAAAAAAYHAwQFCAIBAQEAAAAAAAAAAAAAAAAAAAAAEAEAAQMCAgUIBQkHAgcAAAAAAQIDBBEFMQYhQVESB2FxgaEiMhMUkbFCYiPB0VJygpKishXhwkNTcyQXM5Njg8M0VCVVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBl5mHh2vi5d+3j2/07tUURPm14gi24+KnKOHM02btzNrjqsUz3f3qtIBHczxpvzMxhbZTTHVXfuTM/u0xp6wci/wCLfNtyfY+WsR1dyzMz/FVINX/k/nT/AOZT/wBq3+YH7HihznExPzdE+SbVvT1QDbx/Fzmq3MfEoxr1PX3rdVM/TTV+QHYwvGmdYjO2vo66rFzWf3a4j6wSXbfE3lHNmKasqrEuT9nIpmmNezvRrAJNYv2Mi1F2xdovWp4XLdUVU/TGoMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOVv3M+y7FZ+JuGRFFcxrRYp9q9V5qI6QVrvvi5u2V3rW1WowbM9EXa9K70x/LT6wQjMzs7OvTezL9zIuzxru1TVPrBrAAAAAAAA3du3fc9tuxdwMm5jVx126piJ88cJBO9h8YMu1NNre8eL9vhOTYiKbkeWqj3Z9GgLI2ffdp3fH+Pt2TRfo+1THRXT5KqZ6YBvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Lt21ZtV3btdNu1biaq7lU6U0xHXMyCsubPFiqZrxNg6I6Yqz6o6f8AyqZ/mkFbZGRfyL1d/IuVXr1c613K5mqqZntmQYQAAAAAAAAAAAbODuGbt+TTk4V6vHv0e7ctzpP9oLS5S8VcfKqow987uPkTpTRmUxpaqn78fYny8PMCxImJiJiYmJjWJjpiYnsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABp7pu2BtWDczc67FjHt8ap4zPVTTHXM9gKU5x553LmK9NqJnH2yifwsWJ97ThVd04z5OEAi4AAAAAAAAAAAAAAAJpyR4iZeyVUYWfNWRtMzpEca7OvXR20/d+gFy4eVjZeNbysa5Tex71MVW7lM6xMSDMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV3PcsPbcG7nZlyLWPZjWuqfVER1zPUCiObebM7mPP+NembeJamYxcWJ9miO2e2qeuQcEAAAAAAAAAAAAAAAAAEr5H53yOXsv4V6aru03p/Gs669yf8yiO3tjrBd+PkWMqxbyMeuLti7TFdu5TOsVUzwmAZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAflVVNFM11zFNFMTNVU9EREdMzIKO8QOcrm/7h8DHqmNqxapixT/mVcJu1f3fICJAAAAAAAAAAAAAAAAAAAAnvhnzpO25VO0Z1z/6/Iq/Arqnos3Z/u1fWC4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAV14sc1zjY8bFiV6X8imK82qJ921PCj9vr8gKlAAAAAAAAAAAAAAAAAAAAABdnhnzXO77V8jlV97cMGIpmZ43LXCmrzxwkEzAAAAAAAAAAAAAAAAAAAAAAAAAABp7tumPtW25O4ZH/AEsaia5jrmeFNMeeegHnbcc/J3HPv52TV3r+RXNyuezXhEeSI6IBqgAAAAAAAAAAAAAAAAAAAAA6nLe9Xtk3nG3C1rpaq0vUR9q1V0V0/R6weh7F+1kWLd+zVFdm7TFduuOE01RrEgyAAAAAAAAAAAAAAAAAAAAAAAAAArPxi32aaMXZLVXTV/uMqI7OFumfXIKsAAAAAAAAAAAAAAAAAAAAAAABcnhJvs5mx3Ntu1a3tvq/D14zZuTrH7tWsAnYAAAAAAAAAAAAAAAAAAAAAAAAGsR0zOkR0zPkB535q3WrdeYs7OmdaLl6abXkt0ezTp6I1ByAAAAAAAAAAAAAAAAAAAAAAAASnw33b+nc24venSzl6413s9v3Z/e0BewAAAAAAAAAAAAAAAAAAAAAAAAOPzhuM7dyzuOXTOldFmqm3PZXX7FPrqB54iNI07AAAAAAAAAAAAAAAAAAAAAAAAAZLdy5auUXbc6XLdUV0T2VUzrE/SD0lt2ZRm7fjZtHu5Fqi7H7dMSDZAAAAAAAAAAAAAAAAAAAAAAABBvF3Lm1yxbsRPTk5FFMx92iJqn1xAKZAAAAAAAAAAAAAAAAAAAAAAAAABfPhtmTlcnbfMzrVZ79mr9iudP4ZgEmAAAAAAAAAAAAAAAAAAAAAAABWXjVen4W02Y66r1c/RREAq0AAAAAAAAAAAAAAAAAAAAAAAAAFyeD16a+W8i1M6/CyqpjzVUU/mBOwAAAAAAAAAAAAAAAAAAAAAAAVV40/wDu9r/07n80ArUAAAAAAAAAAAAAAAAAAAAAAAAAFt+DFcztO409VN+iY9NE/mBYgAAAAAAAAAAAAAAAAAAAAAAAKt8arc/G2m51TTdp+iaZ/KCsgAAAAAAAAAAAAAAAAAAAAAAAAAW/4N29Nhzq9PfyIjXt7tH9oLAAAAAAAAAAAAAAAAAAAAAAAABXnjNjzVtO35GnRav10TP+pRr/AOmCowAAAAAAAAAAAAAAAAAAAAAAAAAXb4T4/wALlGivT/r37tyJ8kaUf3ATIAAAAAAAAAAAAAAAAAAAAAAAEV8TML5rk/LmI1qx5ov0/sVaVT+7MgooAAAAAAAAAAAAAAAAAAAAAAAAAHoflDCnB5Y23GmNKqbFNVcdlVft1euoHYAAAAAAAAAAAAAAAAAAAAAAABgzcO3mYV/EuRrbyLdVqqPJXEwDzbkY93GyLuNdjS7Yrqt1+eidJ+oGEAAAAAAAAAAAAAAAAAAAAAAAHR5f22rc97wsCI1jIvU01x9yJ1r/AIYkHo6IimIpjhHRHmgAAAAAAAAAAAAAAAAAAAAAAAAAFKeKmzTt/M1WXRTpY3GmL0T1fEj2a4/KCFgAAAAAAAAAAAAAAAAAAAAAAAsXwd2abu45W7Xafw8Wj4Fmf/Eue99FMAtoAAAAAAAAAAAAAAAAAAAAAAAAAEW8RtgneOW7s2qe9l4MzfsRHGdI9umPPT64gFEgAAAAAAAAAAAAAAAAAAAAAA+6KK7ldNuimaq65imimOMzM6REA9C8pbFTsewY2DpHx4j4mVVHXer6avo4egHXAAAAAAAAAAAAAAAAAAAAAAAAAABRniLyxOyb9Xcs06YGbM3caeqmqZ9u36J4eQETAAAAAAAAAAAAAAAAAAAAABPfCrlidw3Wd3yKNcPBn8HXhXf6v3I6QXEAAAAAAAAAAAAAAAAAAAAAAAAAAADkc0cvYu/7PdwL2lNc+3j3f0Lke7Pm6pBQGdhZWDm3sPKom3kWKpouUT1TH5J6gawAAAAAAAAAAAAAAAAAAAOjsWy5u87pZ2/Ep1uXZ9qvqooj3q6vJAPQOz7VibVttjb8WnSzYp0ieuqftVVeWqQboAAAAAAAAAAAAAAAAAAAAAAAAAAAAIZ4icjxveJ89hUxG7Y9OkUx0fGoj7E/ej7P0ApaqmqmqaaommqmZiqmeiYmOMTAPgAAAAAAAAAAAAAAAAAGbGxsjKyLePj26rt+7VFNu3TGs1TPVAL05H5Pscu7fpXpc3HIiJyr0dMR2W6Z/Rp9YJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB+IHh5TusV7ptVEUblEa3rEdEX4jrj7/1gqC5buW7lVu5TNFyiZproqjSYmOMTEgxgAAAAAAAAAAAAAAAz4eJk5mTbxsW1VeyLs923bojWZmQXVyLyHY2CzGVk6X91u06V1x002onjRR+WQS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEU5y8P8Df6asmzMYu6RHs39PZuadVyI/m4gprdtn3LaM2rE3CxVZvR7uvTTVHbTVwqgGgAAAAAAAAAAAAADq8v8t7rvuX8vgWu9ET+Lfq6LduO2qr8nEF0cp8l7Vy9Y1tR8fOrjS9l1x7U/doj7NIJEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS3XZtt3bEnF3CxTfszw73vUz201R00z5gVbzJ4TbliTXf2Wqc7Hjp+Xq0i9THk6q/rBBL1m7Zu1Wr1FVq7T0VW64mmqPRIMQAAAAAAAAANjEw8vMv04+JZryL9XRTbt0zVV9EAsLlrwjv3JoyN/ufCo4/J2p1rn9euOiPNALNwdvwtvxqMXCs0Y+PR7tu3GkefyyDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzt45e2beLfc3HEovzwpuTGlynzVx0ggm7+DduZmvaM2aOyxkxrHorp6fpiQQ/cfD/m7AmZu7fXetx/iWNLtOnb7PTHpgHBu2b1mqabtuq3VHRMV0zT9YMWsTwAAAmYjjIM1jGyciuKLFmu7VVwiimatfoBItu8OObs6YmMKca3P+JkzFvT9mda/UCY7P4OYNuabm7ZdWRPXYsfh0eaap9qfUCc7Xs+1bVZ+Dt+LbxrfCe5Gkz+tVxkG6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmZnMuw4eVbxMncbNrJuVRTTamqNYmeHe0930g6YAAAAAAAMV/Hx8iNMizbvR2XKKa/wCaJBzL/J/Kt+db21Y1X7Hd/lmAav8Ax7yV/wDl2vpq/OBHh7yVExP9KtTp1TNUx9YNzH5T5XxZibG141Exw9iKv5tQdSzas2ae7Zt0Wqf0bdMUR9FMQD6AAAAAAB+V10UUVV11RTRTGtVUzpERHXMgwYedhZtmL2Fft5Fqft2qorj1A2AAAAAAAAAAAAAAAAAAAAAAAAAAR/mXnjY9hpmjIufGzNNacS1pNfk708KI84Kt5h8SeYt2mq1aufIYc9EWbEzFUx96570+gETnpmZnpmemZBNeT/ErcNnijD3DvZm2x0UzM63bUfdmfej7sgt3a9227dsWMrAv037M8Zp40z2VRxpnzg3AAAAAAAAAAAAAAAAAAc3fOYdp2PG+Y3C/FuJ1+HajpuVzHVTT1gp3m/xA3XmCqrHo1xNsifZxqZ6a/Ldq6/NwBHtv3PcNvvxfwci5jXo+3bqmNfPHCfSCw+XPF65TNGPv9nv08PnbMaVR5a7fX6AWTt+5YO4Y1OThX6MixVwronWPNPZPkkGyAAAAAAAAAAAAAAAAAAAAADFfv2MezXfv3KbVm3E1XLlc6U0xHXMyCrOb/FW/fmvC2CZs2PdrzpjS5V/pxPux5eIK7rrruVTXXVNVdU61VVTMzMz1zMg+AAAb217xuW05UZO35FePfjjNM+zVHZVTwqjzgs/lnxcwMruY++2/lL89HzVETNmqfvR71HrBPsfIx8i1Tex7lN+xX003LdUVUz5pgGQAAAAAAAAAAAAAGvnZ2FgWKsjMv0Y9injcuTFMf2grvmXxdt0xVj7Da79XCc29GlMfqUdfnkFa5udmZ+TXk5l6vIyK/euXJ1nzeSPJANYAAHR2Xf8Adtmyoyduv1Wq/t0caK4jqrp4SC4uUPEDbd/inHu6Ym56dOPM+zX2zbqnj5uIJYAAAAAAAAAAAAAAAAAAADT3Xd8DasK5m512LVi31zxqnqppjrmQUjzfzvuHMV+aJ1x9uonWziRPHsquae9V9QI0AAAAAADo7Tv28bRd+Jt2VXjzM61UROtFX61E60yCf7L4yzHdt7zh69uXjfXNur8kgm+1c38tbrEfJ59uq5P+DXPw7nm7tWmvoB2AAAAAAAAAJ6I1nhHGQcLdueOV9riYyM+iu7H+DY/Gr/h6I9Mggu9eMWbdiq1s2JTj0z0RkX/br9FEezHpBA9x3Xctyv8Ax8/JuZN3qmudYj9WOEegGmAAAAAD7pqqoqiuiqaa6Z1pqpnSYmOExMAtTkPxLjIm3tW/XIi/OlGLnVdEVzwim52VfeBZAAAAAAAAAAAAAAAAAANLd92wdpwLufnXPh49qOn9KqeqmmOuZBRXNfNefzFnzfv/AIeNbmYxsaJ9mintntqnrkHCAAAAAAAAAAB1tt5p5j26IjD3C9aop4W5q79EfsV96n1AkmD4vczWdIyLOPlUx20zbqn00zMeoHaxvGnHnT5raq4nr+Dcif5ogHRteMHLNUfiWcm1PZ3Iq+qQZ/8Alrk3/Myf+xP5wP8Alrk39PJ/7E/nBr3vGLlqiPwsfJuz2d2mj65Bzcrxqo0n5Tapmer492I/kiQcPN8Wuar8TFiLGJTPCaKO/VHprmY9QI3uHMO+bjrGdn3r9M8aKq5ij9yNKfUDmgAAAAAAAAAAs7w68QJiq3s28XtaZ0pwsuuemJ6rVdU/wyC0QAAAAAAAAAAAAAAAY8rJx8XHuZORci1YsUzXduVdERTHGQURzrzfkcx7h3o1t7fYmYxLE9n6dX3qvUCNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt3w154nOop2Xc7mubbjTEvVT03aI+xMz9uPXALCAAAAAAAAAAAAAABT/ifzlOflVbNhXP9jj1f7mumei7dp6v1aPrBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZLV27Zu0XrNc27tuqKrddM6TTVHTEwC9uRebbfMW1RVcmKdxxtKMu3HXPVcpjsq+sElAAAAAAAAAAAABDvEnmz+ibV8ri16bjnRNNuY427fCq55+qAUiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq8tb9lbFu1nPsazTTPdv2uqu3PvUz+Tyg9BYObjZ2DZzMWv4mPkURXbqjsnt8sdYNgAAAAAAAAAAGDNzcfCxL2Zk1dyxYom5cqnqiAeeuYt6yN73e/uF/om7Olqj9C3HuUx5oBzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWT4S80fBv1bBk1/hXpm5hTPVc410ftcYBawAAAAAAAAAAKy8XuY5pps7Bj1+9pfzdOz/Don6wVaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLYv3se/bv2apov2qort1xxiqmdYkHoXljfbW+bHjbjRpFdyO7foj7N2norj6ekHVAAAAAAAABrbln2NvwMjNvzpZx7dVyvy92OEeWeEA867puORuW45GfkTreya5rq8mvCmPJEdANMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+8JeYZw92ubTeq/wBvn9NrXhTeoj+9T0AuEAAAAAAAAFceMG+/BwsbZrVXt5M/GydP8uifYj01dPoBU4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM2Pfu49+3fs1TRdsVU126o4xVTOsT9IPRWxbra3XaMTcbemmRbiqqmPs18K6fRUDfAAAAAAA6I6Z4RxB555u3id45hzM2KtbU1/Dx/9K37NOnn4g4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALU8G9671nM2a5V025+ZxYnsq6K4j06SCywAAAAAAR/nzd52zlbNv01d2/dp+Xszwnv3ujo81OsgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHa5O3f8ApXM2DmzV3bUXIt3+z4dz2atfNrr6AehQAAAAAAVb4zbprc27aqZ6KYqyLseWfZoifomQVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0Pyhun9T5Z2/Lme9cqtRRdnr79v2KtfPpqDsAAAAAAoLn/AHH+oc3bhcidbdquLFv9W1Gn16gjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALc8G9w+JtGbgVT0416LtEfduxpPrpBYYAAAAMWTfox8e7frnSm1RVXVPZFMag81X79d+/cv1+/erquVeeuZqn6wYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATjwizfgcz148zpTl49VPnqomKqfygucAAAAHG5yuXrfK26VWaaqrvy9dMRREzPtR3Zno7I6QeeQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDkO7dtc37XXapqr/ABtKqaYmZ7tVM0zOkdUcQX+AAD//2Q==\"","import React, { useState } from 'react';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { saveUserSideNavStatus, clearLocalStorage, getUserDisplayName, getUsername, getUserEmail, getUserCompanyAlias, getUserCompanyName } from '../utilities/localStorageUtils';\r\nimport * as FaIcons from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\nimport { toast } from 'react-toastify';\r\n// import { Badge } from '@material-ui/core';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\n\r\nconst Header = ({ sideNavStatus, setSideNavStatus }) => {\r\n    let history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const displayName = decodedToken.display_name;\r\n    const username = decodedToken.username;\r\n    const userEmail = decodedToken.email;\r\n    const companyAlias = decodedToken.company_alias;\r\n    const companyName = decodedToken.company_name;\r\n\r\n    // States declaration\r\n    const [isProfilePopUpOpen, setIsProfilePopUpOpen] = useState(false);\r\n\r\n\r\n    // Handler for side navigation hamburger icon\r\n    const handleSideNavHamburger = () => {\r\n        saveUserSideNavStatus(!sideNavStatus);\r\n        setSideNavStatus((prevState) => {\r\n            return !prevState;\r\n        });\r\n    }\r\n\r\n    // Handler for clicking on profile picture\r\n    const handleProfilePicClick = () => {\r\n        setIsProfilePopUpOpen((prevState) => (!prevState));\r\n    }\r\n\r\n    // Handler for logging out of system\r\n    const handleLogOutClick = async () => {\r\n        const res = await TokenManager.logout();\r\n        if (res) {\r\n          toast(\"Logged out successfully\");\r\n          history.push(\"/login\");\r\n        } else {\r\n          toast(\"Logged out failed\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            {/* Left section */}\r\n            <div className=\"l-left\">\r\n                <div className=\"c-Hamburger\">\r\n                    <button onClick={handleSideNavHamburger}>\r\n                        <IconContext.Provider value={{ color: \"#1666BA\", size: \"21px\" }}>\r\n                            <FaIcons.FaBars />\r\n                        </IconContext.Provider>\r\n                    </button>\r\n                </div>\r\n                <div className=\"c-Logo\">\r\n                    <a href=\"/dashboard\"><img src={logo} alt=\"logo\" /></a>\r\n                    <p>{companyName || ''}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right section */}\r\n            <div className=\"l-right\">\r\n\r\n                {/* Notification bell section\r\n                <div className=\"header-notification-icon-section\">\r\n                    <Badge badgeContent={1} color=\"secondary\" variant=\"dot\">\r\n                        <IconContext.Provider value={{ color: \"black\", size: \"21px\" }}>\r\n                            <FaIcons.FaBell />\r\n                        </IconContext.Provider>\r\n                    </Badge>\r\n                </div> */}\r\n\r\n                {/* Profile section */}\r\n                <div className=\"l-Profile\">\r\n                    <div className=\"c-Profile\">\r\n                        <button onClick={handleProfilePicClick}>\r\n                            <img src={profilePic} alt = \"Profile img\" />\r\n                        </button>\r\n\r\n                        {/* Profile picture pop up box */}\r\n                        {isProfilePopUpOpen ?\r\n                            <div className=\"l-ProfilePopUp\">\r\n                                <div className=\"c-ProfilePopUp\">\r\n                                    <div className=\"c-ProfilePopUp__top\">\r\n                                        <img src={profilePic} alt=\"Profile img\" />\r\n                                        <h1>{displayName ? displayName : \"Error\"}</h1>\r\n                                        <h2>@{username ? username: \"Error\"}</h2>\r\n                                        <h2>{userEmail ? userEmail : \"Error\" }</h2>\r\n                                    </div>\r\n                                    <div className=\"c-ProfilePopUp__bottom\">\r\n                                        <a href=\"/settings/manage-account\">Manage Account</a>\r\n                                        <hr />\r\n                                        <button onClick={handleLogOutClick}>Log Out</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                    <div className=\"c-ProfileName\">\r\n                        <h1>{displayName ? displayName : \"Error\"}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n    ;","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport logoWhite from '../assets/images/eISO-logo-white.png';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <Container className=\"l-Footer\">\r\n        <footer className=\"c-Footer\">\r\n                {/* Main Content */}\r\n                <Row className=\"c-Footer__top\">\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__img\">\r\n                        <img src={logoWhite} alt=\"eISO Logo\" />\r\n                    </Col>\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__company\">\r\n                        <h1>Company</h1>\r\n                        <p>78B Telok Blangah Street 32,<br/> #03-06, Singapore 102078</p>\r\n                        <a href=\"#\">Contact Us</a>\r\n                    </Col>\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__legal\">\r\n                        <h1>Legal</h1>\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                        <a href=\"#\">Terms Of Service</a>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Horizontal Line */}\r\n                <hr className=\"c-Footer__hr\" />\r\n\r\n                {/* Caption */}\r\n                <Row className=\"c-Footer__caption\">\r\n                    <p>Copyright &copy; 2021 Associates Consulting Pte Ltd. All rights reserved.</p>\r\n                </Row>\r\n        </footer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport * as RiIcons from \"react-icons/ri\";\r\nimport { IconContext } from 'react-icons';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport TokenManager from \"../../utilities/tokenManager\";\r\n\r\n\r\nconst SideNavSubMenu = ({ sideNavListObj, index, activeLink }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [adminLevel, setAdminLevel] = useState(null);\r\n    const [access, setAccess] = useState([]);\r\n\r\n    const [isSubMenuOpen, setIsSubMenuOpen] = useState(() => {\r\n        if (activeLink === sideNavListObj.link) {\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const employeeDataRes = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`);\r\n\r\n                if (componentMounted) {\r\n                    setAdminLevel(() => employeeDataRes.data.results.admin_level);\r\n\r\n                    if (sideNavListObj.link === \"/training\") {\r\n                        const checkEditTrainingRequestRes = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_03a/employees`);\r\n                        const checkApproveTrainingRequestRes = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_03a/employees`);\r\n\r\n                        const editerListData = checkEditTrainingRequestRes.data.results;\r\n                        const approverListData = checkApproveTrainingRequestRes.data.results;\r\n\r\n                        let tempIsEditer = false;\r\n                        let tempIsApprover = false;\r\n                        if (editerListData !== undefined) {\r\n                            editerListData.every((editer) => {\r\n                                if (editer.employee_id === userID) {\r\n                                    tempIsEditer = true;\r\n                                    return false;\r\n                                }\r\n                                return true;\r\n                            });\r\n                        }\r\n\r\n                        if (approverListData !== undefined) {\r\n                            approverListData.every((approver) => {\r\n                                if (approver.employee_id === userID) {\r\n                                    tempIsApprover = true;\r\n                                    return false;\r\n                                }\r\n                                return true;\r\n                            });\r\n                        }\r\n\r\n                        // TO BE IMPROVED\r\n                        setAccess((prevState) => ([\r\n                            {\r\n                                \"7.3a\": {\r\n                                    \"edit\": tempIsEditer,\r\n                                    \"approve\": tempIsApprover\r\n                                }\r\n                            }\r\n                        ]));\r\n                    }\r\n                }\r\n\r\n            } catch (err) {\r\n                setAdminLevel(() => null);\r\n                console.log(err);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    // Handler for sub menu\r\n    const handleSubMenuIcon = () => {\r\n        setIsSubMenuOpen(() => (!isSubMenuOpen));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Sidebar label */}\r\n            {\r\n                sideNavListObj.link === activeLink ?\r\n                    <div key={\"\" + index} className=\"c-Sidenav__Links-header--active c-Sidenav__Links-header\" onClick={handleSubMenuIcon}>\r\n                        <p>{sideNavListObj.display}</p>\r\n                        {\r\n                            isSubMenuOpen ?\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropUpLine />\r\n                                </IconContext.Provider>\r\n                                :\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropDownLine />\r\n                                </IconContext.Provider>\r\n                        }\r\n\r\n                    </div>\r\n                    :\r\n                    <div key={\"\" + index} className=\"c-Sidenav__Links-header \" onClick={handleSubMenuIcon}>\r\n                        <p>{sideNavListObj.display}</p>\r\n                        {\r\n                            isSubMenuOpen ?\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropUpLine />\r\n                                </IconContext.Provider>\r\n                                :\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropDownLine />\r\n                                </IconContext.Provider>\r\n                        }\r\n                    </div>\r\n            }\r\n\r\n            <div className=\"l-Sidenav__Sub-links--outer\" >\r\n                {isSubMenuOpen ?\r\n                    <div className=\"l-Sidenav__Sub-links--inner\">\r\n                        {sideNavListObj.subLinksArr.map((subLinkObj, calMapIndex) => {\r\n                            let isSecondaryAdmin = false;\r\n                            // if user is secondary admin\r\n                            if (subLinkObj.header === \"Organisation Settings\" && adminLevel === 3) {\r\n                                isSecondaryAdmin = true;\r\n                            }\r\n                            // if user is not super admin\r\n                            else if (subLinkObj.header === \"Organisation Settings\" && adminLevel !== 2) {\r\n                                return null;\r\n                            }\r\n\r\n                            // If sub page is training pages\r\n                            if (subLinkObj.header === \"Training Pages\") {\r\n                                let isEditer = false;\r\n                                let isApprover = false;\r\n                                access.every((oneAccess) => {\r\n                                    let moduleCode =  Object.keys(oneAccess)[0];\r\n                                    if (moduleCode === \"7.3a\") {\r\n                                        isEditer = oneAccess[moduleCode].edit;\r\n                                        isApprover = oneAccess[moduleCode].approve;\r\n                                        return false;\r\n                                    }\r\n                                    return true;\r\n                                });\r\n                                // User is not an editer or approver for this clause\r\n                                if (!isEditer && !isApprover) {\r\n                                    return \"You do not have access to this section.\";\r\n                                }\r\n                            }\r\n\r\n\r\n                            return (\r\n                                <div className=\"c-Sidenav__Sub-links\" key={calMapIndex}>\r\n                                    <h2 key={\"\" + calMapIndex} className=\"c-Sub-links__Header\">{subLinkObj.header}</h2>\r\n                                    {subLinkObj.subLinks.map((subLink) => {\r\n                                        // Restrict access to training pages to only users with edit and/or approve permission roles\r\n                                        if (subLinkObj.header === \"Training Pages\") {\r\n                                            let isEditer = false;\r\n                                            let isApprover = false;\r\n                                            access.every((oneAccess) => {\r\n                                                let moduleCode =  Object.keys(oneAccess)[0];\r\n                                                if (moduleCode === \"7.3a\") {\r\n                                                    isEditer = oneAccess[moduleCode].edit;\r\n                                                    isApprover = oneAccess[moduleCode].approve;\r\n                                                    return false;\r\n                                                }\r\n                                                return true;\r\n                                            });\r\n\r\n                                            if (subLink.link === \"/requests\" || subLink.link === \"/records\") {\r\n      \r\n                                                if (!isEditer) {\r\n                                                    return null;\r\n                                                }\r\n                                            }\r\n\r\n                                            if (subLink.link === \"/manage/requests\" || subLink.link === \"/manage/records\") {\r\n                                                if (!isApprover) {\r\n                                                    return null;\r\n                                                }\r\n                                            }\r\n                                        }\r\n\r\n                                        if (isSecondaryAdmin) {\r\n                                            if (subLink.link === \"/manage-users\" || subLink.link === \"/manage-organization\") {\r\n                                                return null\r\n                                            }\r\n                                        }\r\n                                        return <NavLink key={\"\" + subLink.link} to={sideNavListObj.link + subLink.link} className=\"c-Sub-links__Links\">{subLink.display}</NavLink>\r\n                                    })}\r\n\r\n                                    {/* Don't render horizontal line if it's last sub link section*/}\r\n                                    {sideNavListObj.subLinksArr.length - 1 !== calMapIndex ? <hr className=\"c-Sub-links__HR\" /> : null}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SideNavSubMenu;\r\n","const sideNavListArr = [\r\n    {\r\n        link: \"/dashboard\",\r\n        display: \"Dashboard\"\r\n    },\r\n    {\r\n        link: \"/announcements\",\r\n        display: \"Announcements\"\r\n    },\r\n    {\r\n        link: \"/swot\",\r\n        display: \"4.1 SWOT\"\r\n    },\r\n    {\r\n        link: \"/interested-party\",\r\n        display: \"4.2 Interested Party\"\r\n    },\r\n    {\r\n        link: \"/scope-of-qms\",\r\n        display: \"4.3 Scope of QMS\"\r\n    },\r\n    {\r\n        link: \"/company-policy\",\r\n        display: \"5.2 Company Policy\"\r\n    },\r\n    {\r\n        link: \"/responsibility-n-authority\",\r\n        display: \"5.3 Resp. & Authority\"\r\n    },\r\n    {\r\n        link: \"/risk-n-opportunity\",\r\n        display: \"6.1 Risk & Opp.\"\r\n    },\r\n    {\r\n        link: \"/objective-achievement-program\",\r\n        display: \"6.2 Obj. Achiv. Program\"\r\n    },\r\n    {\r\n        link: \"/equipment-maintenance\",\r\n        display: \"7.1 Equipment Maintenance Program\"\r\n    },\r\n    {\r\n        link: \"/licenses\",\r\n        display: \"7.2 Permits Licenses\"\r\n    },\r\n    {\r\n        link: \"/training\",\r\n        display: \"7.3 Training\",\r\n        subLinksArr: [\r\n            {\r\n                header: \"Training Pages\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"/requests\",\r\n                        display: \"My Requests\"\r\n                    },\r\n                    {\r\n                        link: \"/records\",\r\n                        display: \"My Records\"\r\n                    },\r\n                    {\r\n                        link: \"/manage/requests\",\r\n                        display: \"Incoming Requests\"\r\n                    },\r\n                    {\r\n                        link: \"/manage/records\",\r\n                        display: \"Assigned Records\"\r\n                    },\r\n                    {\r\n                        link: \"/post-evaluation-templates\",\r\n                        display: \"Manage Post Evaluation Templates\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        link: \"/settings\",\r\n        display: \"Settings\",\r\n        minHeight: \"380.8px\",\r\n        subLinksArr: [\r\n            {\r\n                header: \"Overview\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"\",\r\n                        display: \"Settings Overview\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                header: \"User Settings\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"/manage-account\",\r\n                        display: \"Manage Account\"\r\n                    },\r\n                    {\r\n                        link: \"/notifications\",\r\n                        display: \"Notifications\"\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                header: \"Organisation Settings\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"/manage-organization\",\r\n                        display: \"Manage Organization\"\r\n                    },\r\n                    {\r\n                        link: \"/manage-users\",\r\n                        display: \"Manage Users\"\r\n                    },\r\n                    {\r\n                        link: \"/manage-invites\",\r\n                        display: \"Manage Invites\"\r\n                    },\r\n                    {\r\n                        link: \"/induction-templates\",\r\n                        display: \"Manage Induction Templates\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n];\r\nexport default sideNavListArr;","import React from 'react';\r\nimport SideNavSubMenu from './SideNavSubMenu';\r\nimport { NavLink } from 'react-router-dom';\r\nimport sideNavListArr from '../../config/sideNavListArr';\r\n\r\n/*\r\n    Array data for side nav can be found/modified in utilities/sideNavList.js\r\n*/\r\n\r\nconst SideNav = ({ sideNavStatus, activeLink }) => {\r\n\r\n    var sideNavWidth = \"100%\";\r\n    if (sideNavStatus === false) {\r\n        sideNavWidth = \"0px\";\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Sidenav\" style={{ width: sideNavWidth }}>\r\n            {  sideNavListArr.map((sideNavListObj, index) => {\r\n\r\n                // Check if there's sub link\r\n                if (\"subLinksArr\" in sideNavListObj) {\r\n                    return (\r\n                        <SideNavSubMenu key = {index} activeLink={activeLink} index={index} sideNavListObj={sideNavListObj} />\r\n                    )\r\n                } else {\r\n                    if (sideNavListObj.link === activeLink) {\r\n                        return <NavLink key={\"\" + index} to={sideNavListObj.link} className=\"c-Sidenav__Links-header--active c-Sidenav__Links-header \">{sideNavListObj.display}</NavLink>\r\n                    }\r\n                    return <NavLink key={\"\" + index} to={sideNavListObj.link} className = \"c-Sidenav__Links-header \" >{sideNavListObj.display}</NavLink>\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideNav;\r\n\r\n\r\n","import Title from '../common/Title';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport SideNav from '../common/sideNav/SideNav';\r\n\r\nconst PageLayout = ({ sideNavStatus, setSideNavStatus, title, activeLink, children }) => {\r\n\r\n    return (\r\n        <>\r\n            <Title title={title} />\r\n            <Header sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} />\r\n            <main className=\"l-Main__Outer\">\r\n                <SideNav sideNavStatus={sideNavStatus} activeLink={activeLink} />\r\n                <div className={sideNavStatus ? \"l-Main__Inner l-Main__Inner--uncollapsed\" : \"l-Main__Inner l-Main__Inner--collapsed\"}>\r\n                    {children}\r\n                    <Footer />\r\n                </div>\r\n\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PageLayout;","import { getUserSideNavStatus, saveUserSideNavStatus } from './localStorageUtils.js';\r\n\r\nexport const getSideNavStatus = () => {\r\n    const tempSideNavStatus = getUserSideNavStatus();\r\n\r\n    // Default value\r\n    if (tempSideNavStatus == null || tempSideNavStatus === \"true\") {\r\n        saveUserSideNavStatus(true);\r\n        return true;\r\n    }\r\n    saveUserSideNavStatus(false);\r\n    return false;\r\n}","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport AnnouncementsBentoBox from '../common/AnnouncementsBentoBox.js';\r\nimport DashboardInfoCards from '../common/DashboardInfoCards';\r\nimport config from '../config/config';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport TokenManager from '../utilities/tokenManager.js';\r\n\r\nconst Dashboard = () => {\r\n\r\n    // Variable declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const displayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n    const axiosConfig = {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    }\r\n    const contentVariableArr = [\"companyScope\", \"companyReferences\", \"companyTerms\"];\r\n    const dataUrlArr = [\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/scopes`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/references`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/terms`, axiosConfig)\r\n    ];\r\n    const editorUrlArr = [\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m01_01/employees`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m02_01/employees`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m03_01/employees`, axiosConfig),\r\n    ];\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [organisationContent, setOrganisationContent] = useState({\r\n        companyScope: undefined,\r\n        companyReferences: undefined,\r\n        companyTerms: undefined\r\n    });\r\n    const [isEditor, setIsEditor] = useState({\r\n        companyScope: false,\r\n        companyReferences: false,\r\n        companyTerms: false\r\n    });\r\n\r\n    useEffect(() => {\r\n        Promise.all(dataUrlArr)\r\n            .then((res) => {\r\n                // Go through response object, if document is found then set organisation content\r\n                res.forEach((resObj, i) => {\r\n                    if (resObj.status === 200) {\r\n                        setOrganisationContent((prevState) => ({\r\n                            ...prevState,\r\n                            [contentVariableArr[i]]: resObj.data.content\r\n                        }));\r\n                    }\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        Promise.all(editorUrlArr)\r\n            .then((res) => {\r\n                // Go through response object, if document is found then set content as editable\r\n                res.forEach((resObj, i) => {\r\n                    if (resObj.status === 200) {\r\n                        let canEdit = false;\r\n                        resObj.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (canEdit === true) {\r\n                            setIsEditor((prevState) => ({\r\n                                ...prevState,\r\n                                [contentVariableArr[i]]: true\r\n                            }));\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n    console.log(isEditor);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Dashboard' activeLink=\"/dashboard\">\r\n                {/* Welcome message */}\r\n                <Container className=\"c-Dashboard\">\r\n                    <Row className=\"c-Dashboard__Welcome\">\r\n                        <h1>Welcome!</h1>\r\n                        <h2>{displayName ? displayName : \"Error in retrieving name\"}</h2>\r\n                    </Row>\r\n\r\n                    {/* Latest Announcements */}\r\n                    <Row className=\"c-Dashboard__Latest-announcements\">\r\n                        {/* Heading */}\r\n                        <div className=\"c-Latest-announcements__Heading\">\r\n                            <h1>Latest Announcements</h1>\r\n                        </div>\r\n                        <Row className=\"c-Latest-announcements__Content\">\r\n                            <Col className=\"c-Latest-announcements__Wrapper\" md = {12} lg = {6}>\r\n                                <AnnouncementsBentoBox\r\n                                    username=\"BobSong\"\r\n                                    date={dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\")}\r\n                                    title=\"Important: Double check for roles\"\r\n                                    content=\"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly.\"\r\n                                />\r\n                            </Col>\r\n                            <Col className=\"c-Latest-announcements__Wrapper\" md = {12} lg = {6}>\r\n                                <AnnouncementsBentoBox\r\n                                    username=\"BobSong\"\r\n                                    date={dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\")}\r\n                                    title=\"Important: Double check for roles\"\r\n                                    content=\"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n\"\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <div className=\"c-Latest-announcements__Link\">\r\n                            <NavLink to=\"/announcements\">View more Announcements</NavLink>\r\n                        </div>\r\n\r\n                    </Row>\r\n\r\n                    {/* Statistic section\r\n                    <div className=\"c-Dashboard__Stats\">\r\n                        <DashboardBentoBox bgVariation={1} stat=\"N.a.\" statType=\"Coming soon...\" />\r\n                        <DashboardBentoBox bgVariation={2} stat=\"N.a.\" statType=\"Coming soon...\" />\r\n                    </div> */}\r\n                    {/* Clause 1 - 3 Organisation info*/}\r\n                    <div className=\"c-Dashboard__Organisation-info\">\r\n                        {/* Heading */}\r\n                        <div className=\"c-Organisation-Info__Heading\">\r\n                            <h1>Your organisation</h1>\r\n                        </div>\r\n                        {/* Info cards */}\r\n                        <div className=\"l-Organisation-Info__Info-Cards\">\r\n                            <DashboardInfoCards isEditor={isEditor.companyReferences} organisationContent={organisationContent} type=\"companyScope\" heading=\"Scope\" />\r\n                            <DashboardInfoCards isEditor={isEditor.companyScope} organisationContent={organisationContent} type=\"companyReferences\" heading=\"Normative References\" />\r\n                            <DashboardInfoCards isEditor={isEditor.companyTerms} organisationContent={organisationContent} type=\"companyTerms\" heading=\"Terms and definition\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                </Container>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst AnnouncementsListItem = ({ id, username, date, title, content }) => {\r\n    const history = useHistory();\r\n\r\n    const handleClick = () => {\r\n        history.push(`/announcements/view/${id}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Announcements-list-item\" onClick={() => handleClick()}>\r\n            <div className=\"c-Announcements-list-item__Content\">\r\n                <h1>@{username}</h1>\r\n                <h3>{date}</h3>\r\n                <h2>{title}</h2>\r\n                <p>{content}</p>\r\n            </div>\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AnnouncementsListItem;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserDisplayName, getToken, getUserCompanyID } from '../../utilities/localStorageUtils.js';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport dayjs from 'dayjs';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport AnnouncementsListItem from '../../common/AnnouncementsListItem.js';\r\n\r\nconst Announcements = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    const announcementData = [\r\n        {\r\n            id: 1,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        {\r\n            id: 2,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        {\r\n            id: 3,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        \r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Announcements' activeLink=\"/announcements\">\r\n                {/* Welcome message */}\r\n                <div className=\"c-Announcements c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Announcements</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Announcements__Top c-Main__Top\">\r\n                        <h1>Announcements</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => history.push(\"/announcements/create\")}>Create announcements</button>\r\n                    </div>\r\n\r\n                    {/* Filter section */}\r\n                    <div className=\"c-Announcements__Filter\">\r\n\r\n                    </div>\r\n\r\n                    {/* Annouoncement list */}\r\n                    <div className=\"c-Announcements__List\">\r\n                        {\r\n                            announcementData ?\r\n                                <>\r\n                                    <hr />\r\n                                    {\r\n                                        announcementData.map((data, index) =>\r\n                                            <AnnouncementsListItem\r\n                                                key={index}\r\n                                                id={data.id}\r\n                                                username={data.username}\r\n                                                date={data.date}\r\n                                                title={data.title}\r\n                                                content={data.content}\r\n                                            />\r\n                                        )\r\n                                    }\r\n                                </>\r\n                                :\r\n                                <p>No records found.</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Announcements;","import React, { useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\n\r\nconst ViewAnnouncements = ({ match }) => {\r\n    const aID = match.params.aid;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='View Announcement' activeLink=\"/announcements\">\r\n                {/* Welcome message */}\r\n                <div className=\"c-View-announcements c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-View-announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/announcements\">Announcements</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>View Announcement</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-View-announcements__Top c-Main__Top\">\r\n                        <h1>View Announcement</h1>\r\n                    </div>\r\n\r\n                    {/* Content section */}\r\n                    <div className=\"c-View-announcements__Content\">\r\n                        <div className=\"c-Content__Top\">\r\n                            <hr/>\r\n                            <h1>@BobSong</h1>\r\n                            <h3>10 Nov 2021, 3:45PM</h3>\r\n                            <p><i>This announcement was sent to all employee's email of this company</i></p>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"c-Content__Main\">\r\n                            <h1>Important: Double check for roles</h1>\r\n                            <hr />\r\n                            <p>\r\n                                Hi all, <br />I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n                                <br />\r\n                                <br />\r\n                                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n                                <br />\r\n                                <br />\r\n                                Regards,\r\n                                <br />\r\n                                Bob Song\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"c-Content__Attachments\">\r\n                            <p><i>2 Attachments</i></p>\r\n                            <div className=\"c-Content__Attachments-section\">\r\n\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                    </div>\r\n\r\n                    {/* Danger zone */}\r\n                    <div className=\"c-View-announcements__Danger\">\r\n                        <h1>Danger Zone</h1>\r\n                        <div className=\"c-Danger__Row\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\">Delete</button>\r\n                            <p>This action cannot be reversed.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ViewAnnouncements;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport config from '../../config/config';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport Select from \"react-select\";\r\nimport axios from 'axios';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst CreateAnnouncement = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [recipientGroup, setRecipientGroup] = useState([\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ]);\r\n    const [allRecipients, setAllRecipients] = useState([]);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n        (async () => {\r\n            try {\r\n                const res = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees`);\r\n                const employeesData = res.data.results;\r\n                console.log(res);\r\n                console.log(employeesData);\r\n                if (componentMounted) {\r\n                    setAllRecipients(() => employeesData.map((data, index) => ({\r\n                        label: `@${data.account.username}`,\r\n                        value: data.account.username\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='View Announcement' activeLink=\"/announcements\">\r\n                <div className=\"c-Create-announcement c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/announcements\">Announcements</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Announcement</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-announcement__Top c-Main__Top\">\r\n                        <h1>Create Announcement</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\">Publish</button>\r\n                    </div>\r\n\r\n                    {/* Content section */}\r\n                    <div className=\"c-Create-announcement__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Fields__Recipients\">\r\n                                <h2>Send to</h2>\r\n                                <Select\r\n                                    isMulti\r\n                                    options={recipientGroup}\r\n                                    placeholder=\"Select recipient group\"\r\n                                />\r\n                                <h3>Or</h3>\r\n                                <Select\r\n                                    isMulti\r\n                                    options={allRecipients}\r\n                                    placeholder=\"Select specific recipients\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"c-Fields__Title\">\r\n                                <label htmlFor=\"title\">Title</label>\r\n                                <input type=\"text\" name=\"title\" placeholder=\"Enter title\" />\r\n                            </div>\r\n                            <div className=\"c-Fields__Content\">\r\n                                <h2>Content</h2>\r\n                                <Editor\r\n                                    editorState={editorState}\r\n                                    wrapperClassName=\"demo-wrapper\"\r\n                                    editorClassName=\"demo-editor\"\r\n                                    onEditorStateChange={setEditorState}\r\n                                    placeholder='Enter content'\r\n                                />\r\n                            </div>\r\n                            <div className=\"c-Fields__More-info\">\r\n                                <h2>More info</h2>\r\n                                <input type=\"checkbox\" name=\"sendEmail\" />\r\n                                <label htmlFor=\"sendEmail\">Send announcement to specified employees via email</label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <span className=\"c-Fields__VL\"></span>\r\n\r\n                        <div className=\"c-Fields__Right\">\r\n                            <h2>Attachments</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAnnouncement\r\n","/* \r\n    State enums\r\n    Ensures user can only be in one of these states at one point of time\r\n    Refer to pluralsight video 'Managing react state' By Cory House module 6.\r\n*/\r\n\r\n// Track the tabs that the user can see\r\nexport const TAB = {\r\n    ACTIVE: \"Active\",\r\n    PENDING: \"Pending\",\r\n    REJECTED: \"Rejected\",\r\n    EDITING: \"Editing\",\r\n    COLLAPSE: \"Dark\",\r\n    NULL: null,\r\n    INACTIVE: \"Inactive\"\r\n}\r\n\r\n// Tracks the document submission status\r\nexport const DOCUMENT = {\r\n    IDLE: \"IDLE\",\r\n    SUBMITTED: \"SUBMITTED\",\r\n    SUBMITTING: \"SUBMITTING\",\r\n    COMPLETED: \"COMPLETED\",\r\n}\r\n\r\n// Type of questions for post training evaluation\r\nexport const QUESTION_TYPE = {\r\n    RATING: 'rating', // rate 1 to 5\r\n    OPEN: 'open', // open ended question\r\n    BOOLEAN: 'bool', // yes or no\r\n    DEFAULT: 'default' // default\r\n};\r\n\r\nexport const TRAINING_EVALUATION_MODE = {\r\n    EDIT: 'edit',\r\n    DO: 'do',\r\n    VIEW: 'view'\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst useEndpoints = ({TokenManager}) => {\r\n\r\n    let decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const userCompanyID = decodedToken?.company_id;\r\n\r\n    const [btnEndpointsListObj, setBtnEndpointsListObj] = useState({\r\n        swot: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/`,\r\n        },\r\n        interestedParty: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/`,\r\n        },\r\n        scopeOfQMS: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/`,\r\n        },\r\n        companyPolicy: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/`,\r\n        },\r\n        respNAuth: {\r\n    \r\n        },\r\n        riskNOpp: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/`,\r\n        },\r\n        objAchivProgram: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/`\r\n        }\r\n    });\r\n\r\n    const [tabEndpointsListObj, setTabEndpointsListObj] = useState({\r\n        swot: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/rejected`,\r\n        },\r\n        interestedParty: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/rejected`,\r\n        },\r\n        scopeOfQMS: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/rejected`,\r\n        },\r\n        companyPolicy: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/rejected`,\r\n        },\r\n        respNAuth: {\r\n    \r\n        },\r\n        riskNOpp: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/rejected`,\r\n        },\r\n        objAchivProgram: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/rejected`,\r\n        }\r\n    });\r\n\r\n\r\n    return [btnEndpointsListObj, tabEndpointsListObj];\r\n}\r\n\r\nexport default useEndpoints;","import React from 'react';\r\n\r\nconst CustomConfirmAlert = ({ message, type = \"primary\", handler, heading, onClose }) => {\r\n    return (\r\n        <div className='c-Confirm-alert c-Confirm-alert--send-invite'>\r\n            <h1>{heading}</h1>\r\n            <p>{message}</p>\r\n            <div className='c-Confirm-alert__Buttons'>\r\n                <button className={\"c-Btn c-Btn--\" + type} onClick={() => (handler(onClose))}>Confirm</button>\r\n                <button className=\"c-Btn c-Btn--cancel\" onClick={onClose}> Cancel</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CustomConfirmAlert;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { getToken } from '../utilities/localStorageUtils';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { TAB } from '../config/enums';\r\n// import { btnEndpointsListObj, tabEndpointsListObj } from '../config/endpointsListObj';\r\nimport useEndpoints from '../hooks/useEndpoints';\r\nimport { toast } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { convertToRaw } from 'draft-js';\r\nimport CustomConfirmAlert from './CustomConfirmAlert';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\n\r\nconst DocumentBtnSection = ({\r\n    setQueryUrl,\r\n    setTabSettings,\r\n    tabSettings,\r\n    docEditTableData,\r\n    docEditHeaderData,\r\n    docPendingTableData,\r\n    docPendingHeaderData,\r\n    docRejectedHeaderData,\r\n    pageType,\r\n    isApprover,\r\n    isEditor,\r\n    docQueryEnum,\r\n    setDocQueryEnum,\r\n    editorState,\r\n    setEditorState,\r\n    tempFileArr,\r\n    startNewDoc,\r\n    setStartNewDoc }) => { // Start of DocumentBtnSection\r\n    const [btnEndpointsListObj, tabEndpointsListObj] = useEndpoints({TokenManager});\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n\r\n    const rejectRemarks = useRef(\"\");\r\n    // Handler for document action buttons\r\n    const handleDocActionBtns = (btnType) => {\r\n        console.log(docEditTableData)\r\n        if (btnType === \"edit\") {\r\n            setTabSettings(() => ({\r\n                firstTab: TAB.ACTIVE,\r\n                secondTab: TAB.EDITING,\r\n                focusTabIndex: 1\r\n            }));\r\n        } else if (btnType === \"editSubmit\") {\r\n            console.log(docEditHeaderData);\r\n            // Validation check\r\n            if (docEditHeaderData.approvedBy === undefined || isNaN(docEditHeaderData.approvedBy)) {\r\n                console.log(\"Error! No approver selected!\");\r\n                toast.error(<>Error!<br />Message: <b>Please select an approver!</b></>);\r\n                return;\r\n            }\r\n\r\n\r\n            let editSubmitAxiosReqData = {};\r\n            let editSubmitUrl = \"\";\r\n            if (pageType === \"swot\") {\r\n                editSubmitAxiosReqData = {\r\n                    strengths: docEditTableData.strength.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    })),\r\n                    weaknesses: docEditTableData.weakness.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            console.log(\"docQueryEnum:\" + docQueryEnum);\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    })),\r\n                    opportunities: docEditTableData.opp.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    threats: docEditTableData.threat.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    approved_by: parseInt(docEditHeaderData.approvedBy)\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.swot.editSubmit;\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    interested_parties: docEditTableData.map((row) => ({\r\n                        interested_party: row.interested_parties,\r\n                        expectations: row.needs_n_expectations,\r\n                        display_order: row.serialNo,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.interestedParty.editSubmit;\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                // console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    content: JSON.stringify(convertToRaw(editorState.getCurrentContent())),\r\n                    boundaries: docEditTableData.map((row) => ({\r\n                        site_name: row.site_name,\r\n                        site_scope: row.site_scope,\r\n                        address: row.site_address,\r\n                        display_order: row.serialNo,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.scopeOfQMS.editSubmit;\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    policies: docEditTableData.map((row, index) => ({\r\n                        title: row.title,\r\n                        content: row.content,\r\n                        display_order: index + 1,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.companyPolicy.editSubmit;\r\n            }\r\n            else if (pageType === \"respNAuth\") {\r\n\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    strengths: docEditTableData.strength.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    weaknesses: docEditTableData.weakness.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    opportunities: docEditTableData.opp.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    threats: docEditTableData.threat.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.riskNOpp.editSubmit;\r\n            }\r\n            else if (pageType === \"objAchivProgram\") {\r\n                let missingPersonelResponsible = false;\r\n                docEditTableData.forEach((data, index) => {\r\n                    if (data.personel_responsible === undefined || isNaN(data.personel_responsible)) {\r\n                        missingPersonelResponsible = true;\r\n                    }\r\n                });\r\n                if (missingPersonelResponsible) {\r\n                    toast.error(<>Error!<br />Message: <b>Please select a personel responsible for all items!</b></>);\r\n                    return;\r\n                }\r\n                const objAchivFormData = new FormData();\r\n                objAchivFormData.append(\"approved_by\", docEditHeaderData.approvedBy);\r\n                objAchivFormData.append(\"title\", docEditHeaderData.title);\r\n                objAchivFormData.append(\"achievements\", JSON.stringify(docEditTableData));\r\n\r\n                for (let i = 0; i < tempFileArr.length; i++) {\r\n                    objAchivFormData.append(tempFileArr[i].key, tempFileArr[i].fileObj);\r\n                };\r\n\r\n                editSubmitUrl = btnEndpointsListObj.objAchivProgram.editSubmit;\r\n                // obj achiv program has its own axios call\r\n                axios.post(editSubmitUrl, objAchivFormData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`,\r\n                        'Content-Type': 'multipart/form-data',\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        console.log(res);\r\n                        toast.success(<>Success!<br />Message: <b>Document submitted for approval!</b></>);\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                            secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                        });\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.PENDING,\r\n                            focusTabIndex: 0\r\n                        }));\r\n                        setDocQueryEnum(() => ('active'));\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        let errCode = \"Error!\";\r\n                        let errMsg = \"Error!\"\r\n                        if (err.response !== undefined) {\r\n                            errCode = err.response.status;\r\n                            errMsg = err.response.data.message;\r\n                        }\r\n\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    });\r\n                // end here for obj achiv program\r\n                return;\r\n            }\r\n\r\n            axios.post(editSubmitUrl, editSubmitAxiosReqData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json;charset=UTF-8',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    toast.success(<>Success!<br />Message: <b>Document submitted for approval!</b></>);\r\n                    if (pageType === \"swot\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.swot.active,\r\n                            secondUrl: tabEndpointsListObj.swot.getAll,\r\n                        });\r\n                    } else if (pageType === \"interestedParty\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                            secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                        });\r\n                    } else if (pageType === \"scopeOfQMS\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                            secondUrl: tabEndpointsListObj.scopeOfQMS.getAll\r\n                        })\r\n                    } else if (pageType === \"companyPolicy\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                            secondUrl: tabEndpointsListObj.companyPolicy.getAll\r\n                        })\r\n                    } else if (pageType === \"riskNOpp\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                            secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                        });\r\n                    }\r\n                    setTabSettings(() => ({\r\n                        firstTab: TAB.ACTIVE,\r\n                        secondTab: TAB.PENDING,\r\n                        focusTabIndex: 0\r\n                    }));\r\n                    setDocQueryEnum(() => ('active'));\r\n                    setStartNewDoc(() => false)\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    const errCode = err.response.status;\r\n                    const errMsg = err.response.data.message;\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n\r\n        } else if (btnType === \"editCancel\") {\r\n            // Check if there is currently a rejected document\r\n            if (docQueryEnum === \"rejected\") {\r\n                if (pageType === \"swot\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.swot.rejected,\r\n                        secondUrl: tabEndpointsListObj.swot.getAll,\r\n                    });\r\n                } else if (pageType === \"interestedParty\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                        secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                    });\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                        secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                    });\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                        secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                    });\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                        secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                    });\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                        secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                    });\r\n                }\r\n                setTabSettings(() => ({\r\n                    firstTab: TAB.ACTIVE,\r\n                    secondTab: TAB.REJECTED,\r\n                    focusTabIndex: 1\r\n                }));\r\n                setDocQueryEnum(() => ('rejected'));\r\n            } else {\r\n                if (pageType === \"swot\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.swot.active,\r\n                        secondUrl: tabEndpointsListObj.swot.getAll,\r\n                    });\r\n                } else if (pageType === \"interestedParty\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                        secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                    });\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                        secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                    });\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                        secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                    });\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                        secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                    });\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                        secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                    });\r\n                }\r\n\r\n                setTabSettings(() => ({\r\n                    firstTab: TAB.ACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: 0\r\n                }));\r\n                setDocQueryEnum(() => ('active'));\r\n            }\r\n        } else if (btnType === \"rejectedEdit\") {\r\n            console.log(\"edit btn click\");\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.rejected,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            } else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            } else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            } else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            } else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n\r\n            setTabSettings(() => ({\r\n                firstTab: TAB.ACTIVE,\r\n                secondTab: TAB.EDITING,\r\n                focusTabIndex: 1\r\n            }));\r\n            setDocQueryEnum(() => ('rejected'));\r\n        } else if (btnType === \"rejectedDelete\") {\r\n            // Confirmation dialogue for deleting rejected document\r\n            const message = `Are you sure you want to delete this document? Click confirm to proceed.`;\r\n            const handler = (onClose) => handleRejectDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n\r\n            // Deleting document from the client side doesn't actually delete the dataset in the database\r\n            // We are merely marking the table row that's deleted as deleted by setting \"deleted_at\" column with a value\r\n            const handleRejectDelete = (onClose) => {\r\n                let rejectedDeleteUrl = \"\";\r\n\r\n                if (pageType === \"swot\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.swot.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"interestedParty\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.interestedParty.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.scopeOfQMS.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.companyPolicy.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.riskNOpp.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.objAchivProgram.rejectedDelete + docRejectedHeaderData.docID;\r\n\r\n                }\r\n\r\n                axios.delete(rejectedDeleteUrl, {\r\n                    headers: {\r\n                        \"Authorization\": `Bearer ${token}`\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        toast.success(<>Success!<br />Message: <b>Rejected document has been deleted!</b></>);\r\n                        onClose();\r\n                        if (pageType === \"swot\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.swot.active,\r\n                                secondUrl: tabEndpointsListObj.swot.getAll,\r\n                            });\r\n                        } else if (pageType === \"interestedParty\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                                secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                            });\r\n                        } else if (pageType === \"scopeOfQMS\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                                secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                            });\r\n                        } else if (pageType === \"companyPolicy\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                                secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                            });\r\n                        } else if (pageType === \"riskNOpp\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                                secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                            });\r\n                        } else if (pageType === \"objAchivProgram\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                                secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                            });\r\n                        }\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.NULL,\r\n                            focusTabIndex: 0\r\n                        }));\r\n                        setDocQueryEnum(() => ('active'));\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        onClose();\r\n                        let errCode = \"Error!\";\r\n                        let errMsg = \"Error!\"\r\n                        if (err.response !== undefined) {\r\n                            errCode = err.response.status;\r\n                            errMsg = err.response.data.message;\r\n                        }\r\n\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    });\r\n            };\r\n\r\n        } else if (btnType === \"pendingApprove\") {\r\n            let pendingApproveUrl = \"\";\r\n\r\n\r\n            if (pageType === \"swot\") {\r\n                pendingApproveUrl = btnEndpointsListObj.swot.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"interestedParty\") {\r\n                pendingApproveUrl = btnEndpointsListObj.interestedParty.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"scopeOfQMS\") {\r\n                pendingApproveUrl = btnEndpointsListObj.scopeOfQMS.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"companyPolicy\") {\r\n                pendingApproveUrl = btnEndpointsListObj.companyPolicy.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"riskNOpp\") {\r\n                pendingApproveUrl = btnEndpointsListObj.riskNOpp.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                pendingApproveUrl = btnEndpointsListObj.objAchivProgram.pendingApprove + docPendingHeaderData.docID;\r\n            }\r\n\r\n            axios.put(pendingApproveUrl, {}, {\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    if (pageType === \"swot\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.swot.active,\r\n                            secondUrl: tabEndpointsListObj.swot.getAll,\r\n                        });\r\n                    } else if (pageType === \"interestedParty\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                            secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                        });\r\n                    } else if (pageType === \"scopeOfQMS\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                            secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                        });\r\n                    } else if (pageType === \"companyPolicy\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                            secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                        });\r\n                    } else if (pageType === \"riskNOpp\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                            secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                        });\r\n                    } else if (pageType === \"objAchivProgram\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                            secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                        });\r\n                    }\r\n                    toast.success(<>Success!<br />Message: <b>Document approved!</b></>);\r\n                    setTabSettings(() => ({\r\n                        firstTab: TAB.ACTIVE,\r\n                        secondTab: TAB.NULL,\r\n                        focusTabIndex: 0\r\n                    }));\r\n                    setDocQueryEnum(() => ('active'));\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    const errCode = err.response.status || \"N.a.\";\r\n                    const errMsg = err.response.data.message || \"N.a.\";\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n        } else if (btnType === \"pendingReject\") {\r\n\r\n            const handleRejectPendingDocument = (onClose) => {\r\n\r\n                const pendingRejectAxiosReqData = {\r\n                    remarks: rejectRemarks.current.value\r\n                }\r\n\r\n                let pendingRejectUrl = \"\";\r\n\r\n                if (pageType === \"swot\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.swot.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"interestedParty\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.interestedParty.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.scopeOfQMS.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.companyPolicy.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.riskNOpp.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.objAchivProgram.pendingReject + docPendingHeaderData.docID;\r\n                }\r\n\r\n                axios.put(pendingRejectUrl, pendingRejectAxiosReqData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        onClose();\r\n                        if (pageType === \"swot\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.swot.rejected,\r\n                                secondUrl: tabEndpointsListObj.swot.getAll,\r\n                            });\r\n                        } else if (pageType === \"interestedParty\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                                secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                            });\r\n                        } else if (pageType === \"scopeOfQMS\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                                secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                            });\r\n                        } else if (pageType === \"companyPolicy\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                                secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                            });\r\n                        } else if (pageType === \"riskNOpp\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                                secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                            });\r\n                        } else if (pageType === \"objAchivProgram\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                                secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                            });\r\n                        }\r\n\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.REJECTED,\r\n                            focusTabIndex: 1\r\n                        }));\r\n                        setDocQueryEnum(() => ('rejected'));\r\n                        toast.success(<>Success!<br />Message: <b>Document has been rejected!</b></>);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        console.error(err);\r\n                        onClose();\r\n                        const errCode = err.response.status;\r\n                        const errMsg = err.response.data.message;\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    })\r\n            }\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return (\r\n                        <div className='c-Confirm-alert c-Confirm-alert--pending-reject'>\r\n                            <h1>Confirm Reject?</h1>\r\n                            <div className=\"c-Confirm-alert__Remarks\">\r\n                                <h2>Remarks</h2>\r\n                                <textarea name=\"pendingReject\" ref={rejectRemarks}></textarea>\r\n                            </div>\r\n                            <div className='c-Confirm-alert__Buttons'>\r\n                                <button className=\"c-Btn c-Btn--alert\" onClick={() => (handleRejectPendingDocument(onClose))}>Confirm Reject</button>\r\n                                <button className=\"c-Btn c-Btn--dark\" onClick={onClose}> Cancel</button>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // User focusing on active tab\r\n    if (tabSettings.firstTab === TAB.ACTIVE && tabSettings.focusTabIndex === 0 && isEditor) {\r\n        // Return null if second tab is either pending, rejected or editing\r\n        if (tabSettings.secondTab === TAB.NULL) {\r\n            return (\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"edit\" type=\"button\" onClick={() => (handleDocActionBtns(\"edit\"))} className=\"c-Btn c-Btn--primary\">Edit</button>\r\n                </div>\r\n            )\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    // User on inactive tab with startNewDoc\r\n    else if (tabSettings.firstTab === TAB.INACTIVE && tabSettings.focusTabIndex === 0 && startNewDoc) {\r\n        return (\r\n            <div className=\"l-IP__Btns\">\r\n                <button key=\"editSubmit\" type=\"button\" onClick={() => (handleDocActionBtns(\"editSubmit\"))} className=\"c-Btn c-Btn--primary\" >Submit</button>\r\n                <button key=\"editCancel\" type=\"button\" onClick={() => (setStartNewDoc(() => false))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n            </div>\r\n        )\r\n    }\r\n    // User focusing on editing tab\r\n    else if (tabSettings.secondTab === TAB.EDITING && tabSettings.focusTabIndex === 1) {\r\n        return (\r\n            <>\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"editSubmit\" type=\"button\" onClick={() => (handleDocActionBtns(\"editSubmit\"))} className=\"c-Btn c-Btn--primary\" >Submit</button>\r\n                    <button key=\"editCancel\" type=\"button\" onClick={() => (handleDocActionBtns(\"editCancel\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    // User focusing on rejected tab\r\n    else if (tabSettings.secondTab === TAB.REJECTED && tabSettings.focusTabIndex === 1) {\r\n        if (docRejectedHeaderData.created_by_id === userID) {\r\n            return (\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"rejectedEdit\" type=\"button\" onClick={() => (handleDocActionBtns(\"rejectedEdit\"))} className=\"c-Btn c-Btn--primary\" >Edit</button>\r\n                    <button key=\"rejectedDelete\" type=\"button\" onClick={() => (handleDocActionBtns(\"rejectedDelete\"))} className=\"c-Btn c-Btn--alert\">Delete</button>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    else if (tabSettings.secondTab === TAB.PENDING && tabSettings.focusTabIndex === 1 && isApprover) {\r\n        return (\r\n            <div className=\"l-IP__Btns\">\r\n                {/* TBC Need to do checking of roles to authorise users to have access to this account */}\r\n                <button key=\"pendingApprove\" type=\"button\" onClick={() => (handleDocActionBtns(\"pendingApprove\"))} className=\"c-Btn c-Btn--ok\">Approve</button>\r\n                <button key=\"pendingReject\" type=\"button\" onClick={() => (handleDocActionBtns(\"pendingReject\"))} className=\"c-Btn c-Btn--alert\">Reject</button>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default DocumentBtnSection;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport dayjs from 'dayjs';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from './CustomConfirmAlert';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\n\r\nconst ManageDeleteArchivedDoc = ({ deleteUrl, docHeaderUrl, setArchivedDocData, docType, idName }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // Call endpoint to delete doc first\r\n    const deleteArchivedDoc = () => {\r\n        // Confirmation dialogue for deleting archived document\r\n        const message = `Are you sure you want to delete this document? Click confirm to proceed.`;\r\n        const handler = (onClose) => handleDeleteArchiveDoc(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleDeleteArchiveDoc = (onClose) => {\r\n            axios.delete(deleteUrl, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    axios.get(docHeaderUrl, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let filteredArchivedDocData;\r\n                            if (res.data.results !== undefined) {\r\n                                // Set archives data\r\n                                filteredArchivedDocData = res.data.results.filter((resObj) => {\r\n                                    return resObj.status === 'archived';\r\n                                });\r\n                            } else {\r\n                                // Set archives data\r\n                                filteredArchivedDocData = res.data.filter((resObj) => {\r\n                                    return resObj.status === 'archived';\r\n                                });\r\n                            }\r\n\r\n\r\n                            var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                                return ({\r\n                                    ...archivedData,\r\n                                    id: archivedData[idName],\r\n                                    serialNo: index + 1,\r\n                                    name: archivedData.title,\r\n                                    approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                    active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                    action_view: `/${docType}/archived/${archivedData[idName]}`,\r\n                                    action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/${docType}/${archivedData[idName]}`\r\n                                });\r\n                            })\r\n                            setArchivedDocData(() => (formattedArchivedDocData));\r\n                            onClose();\r\n                            toast.success(<>Success!<br />Message: <b>Document Deleted!</b></>);\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            let errCode = \"Error!\";\r\n                            let errMsg = \"Error!\"\r\n                            if (err.response !== undefined) {\r\n                                errCode = err.response.status;\r\n                                errMsg = err.response.data.message;\r\n                            }\r\n                            onClose();\r\n\r\n                            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Archived-Delete-Btn\">\r\n            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                <RiIcons.RiDeleteBin7Line onClick={deleteArchivedDoc} />\r\n            </IconContext.Provider>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ManageDeleteArchivedDoc;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst InterestedPartyActive = ({docHeaderData, docTableData, docColumns, docKeyfield}) => {\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable keyField={docKeyfield} data={docTableData} columns={docColumns} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyActive;","import React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\n\r\nconst InterestedPartyPending = ({\r\n    docPendingTableData, \r\n    setDocPendingTableData,\r\n    docPendingHeaderData, \r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns, \r\n    docKeyfield}) => { // start of InterestedPartyPending\r\n\r\n    const [rowStyle, setRowStyle] = useState({\r\n        newRowArr: [],\r\n        deletedRowArr: [],\r\n        editedRowArr: []\r\n    });\r\n    const [rowStyleTable, setRowStyleTable] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Check if table row is edited/deleted/added\r\n        setRowStyle(() => {\r\n            let newRowArr = [];\r\n            let deletedRowArr = [];\r\n            let editedRowArr = [];\r\n            // Obtain rows that are newly added\r\n            const checkNewRow = docPendingTableData.filter((data, index) => {\r\n                return data.parentItemID === null;\r\n            });\r\n            checkNewRow.forEach((data) => {\r\n                newRowArr.push(data.id);\r\n            });\r\n\r\n            // Obtain deleted rows\r\n            docTableData.forEach((activeData, activeIndex) => {\r\n                let isDeleted = true;\r\n                docPendingTableData.forEach((pendingData, pendingIndex) => {\r\n                    if (pendingData.parentItemID === activeData.id) {\r\n                        isDeleted = false;\r\n                    }\r\n                });\r\n                if (isDeleted === true) {\r\n                    deletedRowArr.push(activeData.id);\r\n                }\r\n            });\r\n\r\n            // Obtain edited rows\r\n            docPendingTableData.forEach((pendingData, pendingIndex) => {\r\n                \r\n                docTableData.forEach((activeData, activeIndex) => {\r\n                    if (pendingData.parentItemID === activeData.id) {\r\n                        // Check if the fields has been edited\r\n                        if (pendingData.interested_parties !== activeData.interested_parties || pendingData.needs_n_expectations !== activeData.needs_n_expectations) {\r\n                            editedRowArr.push(pendingData.id);\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n            return ({\r\n                newRowArr,\r\n                deletedRowArr,\r\n                editedRowArr\r\n            });\r\n\r\n        })}, [docPendingTableData, docTableData]);\r\n\r\n    useEffect(() => {\r\n        setRowStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n    \r\n            rowStyle.deletedRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                }\r\n            })\r\n          \r\n            rowStyle.editedRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n    }, [rowStyle]);\r\n    \r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1>{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable keyField={docKeyfield} data={docPendingTableData} columns={docColumns} rowStyle={ rowStyleTable } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyPending;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyEditing = ({ docEditTableData, setDocEditTableData, docEditHeaderData, setDocEditHeaderData, docHeaderData, docTableData, docKeyfield }) => {\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    needs_n_expectations: data.needs_n_expectations_raw\r\n                }\r\n            })\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\",\r\n        editable: true,\r\n    }, {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\",\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                interested_parties: \"Enter Input\",\r\n                needs_n_expectations: \"Enter input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-IP__Document-title\">\r\n                <input type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable\r\n                keyField={docKeyfield}\r\n                data={docEditTableData}\r\n                columns={docEditingColumns}\r\n                cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n            />\r\n            {/* Add row */}\r\n            <div className=\"c-IP__Add-row\" onClick={handleDocAddRow}>\r\n                <h2>Add new row</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyEditing;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst InterestedPartyRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n    docColumns, \r\n    docKeyfield}) => {  // Start of InterestedPartyRejected\r\n\r\n    console.log(docRejectedHeaderData);\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n        {/* Title */}\r\n        <h1>{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n        {/* Document Header info */}\r\n        <div className=\"c-IP__Document-header c-Document__Header\">\r\n            <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                <p>To bv approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n            </div>\r\n            <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n            </div>\r\n        </div>\r\n        {/* Table section */}\r\n        <BootstrapTable keyField={docKeyfield} data={docRejectedTableData} columns={docColumns} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            interested_parties: \"Enter Input\",\r\n            needs_n_expectations: \"Enter input\"\r\n        }]));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\",\r\n        editable: true,\r\n    }, {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\",\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                interested_parties: \"Enter Input\",\r\n                needs_n_expectations: \"Enter input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n    console.log(tabSettings);\r\n    console.log(tabSettings.secondTab);\r\n    console.log(tabSettings === TAB.NULL);\r\n    console.log(TAB.NULL);\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <h1>There are no existing documents</h1>\r\n                                <div className=\"c-IP__Document-new\">\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                < div className=\"l-IP__Document-title\">\r\n                                    <input type=\"text\" name=\"title\" placeholder=\"Title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header info */}\r\n                                <div className=\"c-IP__Document-header c-Document__Header\">\r\n                                    <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Table section */}\r\n                                <BootstrapTable\r\n                                    keyField={docKeyfield}\r\n                                    data={docEditTableData}\r\n                                    columns={docEditingColumns}\r\n                                    cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                />\r\n                                {/* Add row */}\r\n                                <div className=\"c-IP__Add-row\" onClick={handleDocAddRow}>\r\n                                    <h2>Add new row</h2>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-IP__Document-new\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-IP__Document-new\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default InterestedPartyInactive;","import React from 'react'\r\n\r\n// Swot items refer to swot heading + its list of data\r\n\r\nconst SwotItems = ({header, children}) => {\r\n    return (\r\n        <div className = \"c-Swot-item\">\r\n            <h1 className=\"c-Swot-item__Header\">{header}</h1>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotItems;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of SwotActive\r\n\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by  ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on  ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.strength}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.weakness}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.opp}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.threat}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotActive;","import React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {    // start of SwotPending\r\n    console.log(docPendingHeaderData);\r\n    console.log(docPendingTableData);\r\n\r\n    const [rowStyle, setRowStyle] = useState({\r\n        newStrengthRowArr: [],\r\n        newWeaknessRowArr: [],\r\n        newOppRowArr: [],\r\n        newThreatRowArr: [],\r\n        editedStrengthRowArr: [],\r\n        editedWeaknessRowArr: [],\r\n        editedOppRowArr: [],\r\n        editedThreatRowArr: [],\r\n    });\r\n    const [rowStrengthStyleTable, setRowStrengthStyleTable] = useState(null);\r\n    const [rowWeaknessStyleTable, setRowWeaknessStyleTable] = useState(null);\r\n    const [rowOppStyleTable, setRowOppStyleTable] = useState(null);\r\n    const [rowThreatStyleTable, setRowThreatStyleTable] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setRowStyle(() => {\r\n\r\n            // Variables declaration\r\n            let newStrengthRowArr = [];\r\n            let newWeaknessRowArr = [];\r\n            let newOppRowArr = [];\r\n            let newThreatRowArr = [];\r\n            let editedStrengthRowArr = [];\r\n            let editedWeaknessRowArr = [];\r\n            let editedOppRowArr = [];\r\n            let editedThreatRowArr = [];\r\n\r\n            const checkNewRow = () => {\r\n                // Obtain rows that are newly added\r\n                const checkStrengthNewRow = docPendingTableData.strength.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkStrengthNewRow.forEach((data) => {\r\n                    newStrengthRowArr.push(data.id);\r\n                });\r\n                const checkWeaknessNewRow = docPendingTableData.weakness.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkWeaknessNewRow.forEach((data) => {\r\n                    newWeaknessRowArr.push(data.id);\r\n                });\r\n                const checkOppNewRow = docPendingTableData.opp.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkOppNewRow.forEach((data) => {\r\n                    newOppRowArr.push(data.id);\r\n                });\r\n                const checkThreatNewRow = docPendingTableData.threat.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkThreatNewRow.forEach((data) => {\r\n                    newThreatRowArr.push(data.id);\r\n                });\r\n            }\r\n\r\n            const checkEditedRow = () => {\r\n                // Obtain edited rows\r\n                docPendingTableData.strength.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.strength.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedStrengthRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.weakness.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.weakness.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedWeaknessRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.opp.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.opp.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedOppRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.threat.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.threat.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedThreatRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n            checkNewRow();\r\n            checkEditedRow();\r\n\r\n            return ({\r\n                newStrengthRowArr,\r\n                newWeaknessRowArr,\r\n                newOppRowArr,\r\n                newThreatRowArr,\r\n                editedStrengthRowArr,\r\n                editedWeaknessRowArr,\r\n                editedOppRowArr,\r\n                editedThreatRowArr\r\n            });\r\n        });\r\n\r\n\r\n    }, [docPendingTableData, docTableData]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"rowstyle chanigng\")\r\n        setRowStrengthStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newStrengthRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedStrengthRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowWeaknessStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newWeaknessRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedWeaknessRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowOppStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newOppRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedOppRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowThreatStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newThreatRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedThreatRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n    }, [rowStyle]);\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.strength}\r\n                    columns={docColumns}\r\n                    rowStyle={rowStrengthStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.weakness}\r\n                    columns={docColumns}\r\n                    rowStyle={rowWeaknessStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.opp}\r\n                    columns={docColumns}\r\n                    rowStyle={rowOppStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.threat}\r\n                    columns={docColumns}\r\n                    rowStyle={rowThreatStyleTable}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotPending;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst SwotEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield,\r\n}) => { // start of SwotEditing\r\n\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApproverList] = useState([]);\r\n    const userDisplayName = decodedToken.display_name;\r\n\r\n    useEffect(() => {\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n\r\n        setDocEditTableData(() => (docTableData));\r\n\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docTableData]);\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false,\r\n    }, {\r\n        dataField: 'type',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'content',\r\n        text: \"Swot content\",\r\n        editable: true,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            console.log(row);\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo, row.type))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n    \r\n    // Handler for adding row to document, table type refers to either strength, weakness, opportunity, or threat in swot.\r\n    const handleDocAddRow = (tableType) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            let newDocTableData = {\r\n                ...prevDocTableData,\r\n                [tableType]: [\r\n                    ...prevDocTableData[tableType],\r\n                    {\r\n                        serialNo: prevDocTableData[tableType].length + 1,\r\n                        content: `Click to input`,\r\n                        type: tableType,\r\n                        display_order: 0\r\n                    }\r\n                ]\r\n            }\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID, swotType) => {\r\n\r\n        console.log(docEditTableData);\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from specific swot type array\r\n            const newSwotTypeTableData = prevDocTableData[swotType].filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n            console.log(newSwotTypeTableData);\r\n\r\n            // Update serial no.\r\n            const formattedSwotTypeTableData = newSwotTypeTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            });\r\n            console.log(formattedSwotTypeTableData);\r\n\r\n            // final formatted data with previous data\r\n            const formattedDocTableData = {\r\n                ...prevDocTableData,\r\n                [swotType]: formattedSwotTypeTableData\r\n            }\r\n            console.log(formattedDocTableData);\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>To be Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || 'Error' }>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                </div>\r\n            </div>\r\n            <div className=\"c-Swot__Tables--edit\">\r\n                {/* Swot table section */}\r\n                <SwotItems header=\"Strengths\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.strength}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"strength\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Weaknesses\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.weakness}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"weakness\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Opportunities\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.opp}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"opp\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Threats\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.threat}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"threat\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotEditing;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Rejected By:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.strength}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.weakness}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.opp}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.threat}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst SwotInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ({ ...docTableData }));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false,\r\n    }, {\r\n        dataField: 'type',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'content',\r\n        text: \"Swot content\",\r\n        editable: true,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            console.log(row);\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo, row.type))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document, table type refers to either strength, weakness, opportunity, or threat in swot.\r\n    const handleDocAddRow = (tableType) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            let newDocTableData = {\r\n                ...prevDocTableData,\r\n                [tableType]: [\r\n                    ...prevDocTableData[tableType],\r\n                    {\r\n                        serialNo: prevDocTableData[tableType].length + 1,\r\n                        content: `Click to input`,\r\n                        type: tableType,\r\n                        display_order: 0\r\n                    }\r\n                ]\r\n            }\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID, swotType) => {\r\n\r\n        console.log(docEditTableData);\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from specific swot type array\r\n            const newSwotTypeTableData = prevDocTableData[swotType].filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n            console.log(newSwotTypeTableData);\r\n\r\n            // Update serial no.\r\n            const formattedSwotTypeTableData = newSwotTypeTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            });\r\n            console.log(formattedSwotTypeTableData);\r\n\r\n            // final formatted data with previous data\r\n            const formattedDocTableData = {\r\n                ...prevDocTableData,\r\n                [swotType]: formattedSwotTypeTableData\r\n            }\r\n            console.log(formattedDocTableData);\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-SWOT__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                                        <p>To be Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || 'Error'}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"c-Swot__Tables--edit\">\r\n                                    {/* Swot table section */}\r\n                                    <SwotItems header=\"Strengths\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.strength}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"strength\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Weaknesses\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.weakness}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"weakness\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Opportunities\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.opp}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"opp\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Threats\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.threat}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"threat\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotInactive;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of ScopeOfQMSActive\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>Company Name:</p>\r\n                    <p>Active on:</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.title ? docHeaderData.title : \"Failed to load data\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className = \"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSActive;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>Company Name:</p>\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data\"}</p>\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className = \"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docPendingHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docPendingTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSPending;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { getUserDisplayName } from '../../utilities/localStorageUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield,\r\n    editorState,\r\n    setEditorState\r\n}) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const userDisplayName = getUserDisplayName();\r\n    console.log(docEditTableData);\r\n    console.log(docEditHeaderData);\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    site_scope: data.site_scope_raw\r\n                }\r\n            })\r\n        });\r\n        setDocEditHeaderData(() => (docHeaderData));\r\n\r\n\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approvalListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approvalListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approvalListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                site_name: \"Enter Input\",\r\n                site_address: \"Enter Input\",\r\n                site_scope: \"Enter Input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'site_name',\r\n        text: 'Site Name',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_address',\r\n        text: 'Site Address',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope',\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }\r\n    ];\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Form name</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input placeholder=\"Form Name\" type=\"text\" name=\"title\" onChange={handleInputChange} value = {docEditHeaderData.title || ''} />\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* Insert wysiwyg editor here */}\r\n                <Editor\r\n                    editorState={editorState}\r\n                    wrapperClassName=\"demo-wrapper\"\r\n                    editorClassName=\"demo-editor\"\r\n                    onEditorStateChange={setEditorState}\r\n                />\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='serialNo'\r\n                    data={docEditTableData}\r\n                    columns={docEditingColumns}\r\n                    cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                />\r\n                {/* Add row */}\r\n                <div className=\"c-Scope-of-QMS__Add-row\" onClick={handleDocAddRow}>\r\n                    <h2>Add new row</h2>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSEditing;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>To bv approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"}\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className=\"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docRejectedHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docRejectedTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    editorState,\r\n    setEditorState,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            site_name: \"Enter Input\",\r\n            site_address: \"Enter Input\",\r\n            site_scope: \"Enter Input\"\r\n        }]));\r\n        setDocEditHeaderData(() => (docHeaderData));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                site_name: \"Enter Input\",\r\n                site_address: \"Enter Input\",\r\n                site_scope: \"Enter Input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'site_name',\r\n        text: 'Site Name',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_address',\r\n        text: 'Site Address',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope',\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                                        <p>To be approved by:</p>\r\n                                        <p>Form name</p>\r\n                                    </div>\r\n                                    <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input placeholder=\"Form Name\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* WYSIWYG editor section */}\r\n                                <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                                    <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                    {/* Insert wysiwyg editor here */}\r\n                                    <Editor\r\n                                        editorState={editorState}\r\n                                        wrapperClassName=\"demo-wrapper\"\r\n                                        editorClassName=\"demo-editor\"\r\n                                        onEditorStateChange={setEditorState}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Table section */}\r\n                                <div className=\"c-Scope-of-QMS__Table\">\r\n                                    <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                                    <BootstrapTable\r\n                                        keyField='serialNo'\r\n                                        data={docEditTableData}\r\n                                        columns={docEditingColumns}\r\n                                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                    />\r\n                                    {/* Add row */}\r\n                                    <div className=\"c-Scope-of-QMS__Add-row\" onClick={handleDocAddRow}>\r\n                                        <h2>Add new row</h2>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSInactive;","import React from 'react';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst CompanyPolicyItem = ({\r\n    itemTitle,\r\n    itemContent,\r\n    itemIndex,\r\n    docType,\r\n    setDocEditTableData }) => { // start of CompanyPolicyItem\r\n\r\n    const renderEditItem = () => {\r\n        return (\r\n            <div className={(itemIndex + 1) % 2 === 0 ? \"l-Company-Policy-Item l-Company-Policy-Item--even\" : \"l-Company-Policy-Item l-Company-Policy-Item--odd\"}>\r\n                <div className=\"c-Company-Policy-Item\" >\r\n                    <div className=\"c-Company-Policy-Item__Top\">\r\n                        <input type=\"text\" name=\"title\" onChange={handleInputChange} value={itemTitle} />\r\n                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                            <RiIcons.RiDeleteBin7Line onClick={() => (handleDocDeleteRow(itemIndex + 1))} />\r\n                        </IconContext.Provider>\r\n                    </div>\r\n                    <textarea type=\"text\" name=\"content\" onChange={handleInputChange} value={itemContent}></textarea>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => {\r\n            return prevState.map((data, index) => {\r\n                if (itemIndex === index) {\r\n                    return {\r\n                        ...data,\r\n                        [event.target.name]: event.target.value\r\n                    }\r\n                }\r\n                return data;\r\n            });\r\n        });\r\n    }\r\n\r\n    const renderItem = () => {\r\n        return (\r\n            <div className={(itemIndex + 1) % 2 === 0 ? \"l-Company-Policy-Item l-Company-Policy-Item--even\" : \"l-Company-Policy-Item l-Company-Policy-Item--odd\"}>\r\n                <div className=\"c-Company-Policy-Item\" >\r\n                    <h1>{itemTitle ? itemTitle : \"Error\"}</h1>\r\n                    <p>{itemContent ? itemContent : \"itemContent\"}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                docType === \"editing\" ?\r\n                    renderEditItem()\r\n                    :\r\n                    renderItem()\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyItem;","import React from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of CompanyPolicyActive\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* Map through an array to display CompanyPolicyItem */}\r\n                {docTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                    />\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyActive;","import React from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyPending = ({\r\n    docPendingTableData, \r\n    setDocPendingTableData,\r\n    docPendingHeaderData, \r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns, \r\n    docKeyfield}) => { // start of CompanyPolicyPending.js\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* TBC: map through an array to display CompanyPolicyItem */}\r\n                {docPendingTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                    />\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyPending;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of CompanyPolicyActive\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    // State declaration\r\n    const [approverList, setApproverList] = useState([]);\r\n    useEffect(() => {\r\n        setDocEditTableData(() => [...docTableData]);\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                title: \"Enter Input\",\r\n                content: \"Enter input Test\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-Company-Policy__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {docEditTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                        docType=\"editing\"\r\n                        setDocEditTableData={setDocEditTableData}\r\n                    />\r\n                ))\r\n                }\r\n                {/* Add row */}\r\n                <div className=\"c-Company-Policy__Add-row\" onClick={handleDocAddRow}>\r\n                    <h2>Add new row</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyEditing;","import React from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n    docColumns, \r\n    docKeyfield}) => {  // Start of CompanyPolicyRejected\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n        {/* Title */}\r\n        <h1 className = \"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n        {/* Document Header Info */}\r\n        <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n            <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                <p>To be approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n            </div>\r\n            <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n            </div>\r\n        </div>\r\n        {/* Company policy cards section */}\r\n        <div className=\"c-Company-Policy__Cards\">\r\n            <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n            {/* TBC: map through an array to display CompanyPolicyItem */}\r\n            {docRejectedTableData.map((data, index) => (\r\n                <CompanyPolicyItem\r\n                    key={index}\r\n                    itemTitle={data.title}\r\n                    itemContent={data.content}\r\n                    itemIndex={index}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            title: \"Enter Input\",\r\n            content: \"Enter input Test\"\r\n        }]));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                title: \"Enter Input\",\r\n                content: \"Enter input Test\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                <div className=\"l-Company-Policy__Document-title\">\r\n                                    <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Company policy cards section */}\r\n                                <div className=\"c-Company-Policy__Cards\">\r\n                                    <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                    {docEditTableData.map((data, index) => (\r\n                                        <CompanyPolicyItem\r\n                                            key={index}\r\n                                            itemTitle={data.title}\r\n                                            itemContent={data.content}\r\n                                            itemIndex={index}\r\n                                            docType=\"editing\"\r\n                                            setDocEditTableData={setDocEditTableData}\r\n                                        />\r\n                                    ))\r\n                                    }\r\n                                    {/* Add row */}\r\n                                    <div className=\"c-Company-Policy__Add-row\" onClick={handleDocAddRow}>\r\n                                        <h2>Add new row</h2>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyInactive;","import React, { useState, useEffect } from 'react';\r\n\r\nconst RiskNOppItem = ({\r\n    docType,\r\n    rnoType,\r\n    rnoItemData,\r\n    rnoItemIndex,\r\n    docEditTableData,\r\n    setDocEditTableData\r\n}) => { // start of RiskNOppItem\r\n\r\n    const [optionsColorTheme, setOptionsColorTheme] = useState({\r\n        type: \"c-RNO-item__Options-item\",\r\n        severity: \"c-RNO-item__Options-item\",\r\n        likelihood: \"c-RNO-item__Options-item\",\r\n    }); // State for handling the risk evaluation sections\r\n    const [rpn, setRpn] = useState();\r\n\r\n    useEffect(() => {\r\n        let type = optionsColorTheme.type;\r\n        let severity = optionsColorTheme.severity;\r\n        let likelihood = optionsColorTheme.likelihood;\r\n\r\n        // Check type\r\n        if (rnoItemData.type && rnoItemData.type === \"opportunity\") {\r\n            type = type + \" c-RNO-item__Options-item--green\";\r\n        } else if (rnoItemData.type && rnoItemData.type === \"risk\") {\r\n            type = type + \" c-RNO-item__Options-item--red\";\r\n        }\r\n\r\n        // Check severity\r\n        if (rnoItemData.severity && rnoItemData.severity === 1) {\r\n            severity = severity + \" c-RNO-item__Options-item--red\";\r\n        } else if (rnoItemData.severity && rnoItemData.severity === 5) {\r\n            severity = severity + \" c-RNO-item__Options-item--green\";\r\n        } else {\r\n\r\n        }\r\n\r\n        // Check likelihood\r\n        if (rnoItemData.likelihood && rnoItemData.likelihood === 1) {\r\n            likelihood = severity + \" c-RNO-item__Options-item--red\";\r\n        } else if (rnoItemData.likelihood && rnoItemData.likelihood === 5) {\r\n            likelihood = severity + \" c-RNO-item__Options-item--green\";\r\n        }\r\n\r\n        // Set rpn\r\n        if (docType === \"edit\" && rnoItemData.severity && rnoItemData.likelihood) {\r\n            setRpn(() => {\r\n                return rnoItemData.severity * rnoItemData.likelihood;\r\n            });\r\n        } else if (docType === \"edit\") {\r\n            setRpn(() => {\r\n                return null;\r\n            });\r\n        } else {\r\n            setRpn(() => (rnoItemData.rpn))\r\n        }\r\n\r\n        // Set the classnames to get the color~~~ \r\n        setOptionsColorTheme(() => ({\r\n            type,\r\n            severity,\r\n            likelihood\r\n        }));\r\n    }, [rnoItemData]);\r\n\r\n    // This function is for formatting the options integer value to a human readable string\r\n    const renderOptions = () => {\r\n        const type = rnoItemData.type;\r\n        let severity = null;\r\n        let likelihood = null;\r\n\r\n        // Format severity\r\n        switch (rnoItemData.severity) {\r\n            case 1: {\r\n                severity = \"Negligible\";\r\n                break;\r\n            }\r\n            case 2: {\r\n                severity = \"Minor\";\r\n                break;\r\n            }\r\n            case 3: {\r\n                severity = \"Moderate\";\r\n                break;\r\n            }\r\n            case 4: {\r\n                severity = \"Major\";\r\n                break;\r\n            }\r\n            case 5: {\r\n                severity = \"Catastrophic\";\r\n                break;\r\n            }\r\n            default: {\r\n                severity = \"Nil\";\r\n                break;\r\n            }\r\n        }\r\n        // Format likelihood\r\n        switch (rnoItemData.likelihood) {\r\n            case 1: {\r\n                likelihood = \"Rare\";\r\n                break;\r\n            }\r\n            case 2: {\r\n                likelihood = \"Remote\";\r\n                break;\r\n            }\r\n            case 3: {\r\n                likelihood = \"Occasional\";\r\n                break;\r\n            }\r\n            case 4: {\r\n                likelihood = \"Frequent\";\r\n                break;\r\n            }\r\n            case 5: {\r\n                likelihood = \"Almost Certain\";\r\n                break;\r\n            }\r\n            default: {\r\n                likelihood = \"Nil\";\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n                <span className={optionsColorTheme.type}>{type || \"Nil\"}</span>\r\n                <span className={optionsColorTheme.severity}>{severity}</span>\r\n                <span className={optionsColorTheme.likelihood}>{likelihood}</span>\r\n            </>\r\n        )\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderEditOptions = () => {\r\n        if (docEditTableData.length !== 0) {\r\n            return (\r\n                <>\r\n                    {/* Opportunity / Risk */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].type || ''} name=\"type\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value=\"risk\">Risk</option>\r\n                        <option value=\"opportunity\">Opportunity</option>\r\n                    </select>\r\n                    {/* Severity Categories */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].severity || ''} name=\"severity\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value={1}>Negligible</option>\r\n                        <option value={2}>Minor</option>\r\n                        <option value={3}>Moderate</option>\r\n                        <option value={4}>Major</option>\r\n                        <option value={5}>Catastrophic</option>\r\n                    </select>\r\n                    {/* Likelihood Categories and description */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].likelihood || ''} name=\"likelihood\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value={1}>Rare</option>\r\n                        <option value={2}>Remote</option>\r\n                        <option value={3}>Occasional</option>\r\n                        <option value={4}>Frequent</option>\r\n                        <option value={5}>Almost Certain</option>\r\n                    </select>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    // Handle changes for select elements\r\n    const handleSelectChange = (event) => {\r\n        let newSelectValue = event.target.value;\r\n        let toBeMultipliedWithNewSelectValue;\r\n\r\n        // If the select input's name is not \"type\", change it to int type\r\n        if (event.target.name !== \"type\") {\r\n            newSelectValue = parseInt(newSelectValue);\r\n            if (event.target.name === \"likelihood\") {\r\n                toBeMultipliedWithNewSelectValue = rnoItemData.severity;\r\n            } else if (event.target.name === \"severity\") {\r\n                toBeMultipliedWithNewSelectValue = rnoItemData.likelihood;\r\n            }\r\n        }\r\n\r\n        setDocEditTableData((prevState) => ({\r\n            ...prevState,\r\n            [rnoType]: (() => ( // rnoType can be strength, weakness, opp, or threat\r\n                prevState[rnoType].map((data, index) => {\r\n                    if (rnoItemIndex === index) {\r\n                        return {\r\n                            ...data,\r\n                            [event.target.name]: newSelectValue,\r\n                            rpn: (() => {\r\n                                if (event.target.name !== \"type\") {\r\n                                    return newSelectValue * toBeMultipliedWithNewSelectValue\r\n                                } else {\r\n                                    return data.rpn\r\n                                }\r\n                            })()\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            ))()\r\n        }));\r\n        setRpn(() => {\r\n            return docEditTableData[rnoType][rnoItemIndex].severity * docEditTableData[rnoType][rnoItemIndex].likelihood;\r\n        });\r\n    }\r\n\r\n    // Handle for input change\r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => ({\r\n            ...prevState,\r\n            [rnoType]: (() => ( // rnoType can be strength, weakness, opp, or threat\r\n                prevState[rnoType].map((data, index) => {\r\n                    if (rnoItemIndex === index) {\r\n                        return {\r\n                            ...data,\r\n                            [event.target.name]: event.target.value\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            ))()\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderActionPlanEdit = () => {\r\n        if (rpn < 12 || rpn === null) {\r\n            return (\r\n                <>\r\n                    <label htmlFor=\"action\">Action Plan:</label>\r\n                    <input type=\"text\" name=\"action\" readOnly placeholder = \"Rpn < 12\" value=\"\" />\r\n                </>\r\n            );\r\n        } else if (docEditTableData.length !== 0) {\r\n            return (\r\n                <>\r\n                    <label htmlFor=\"action\">Action Plan:</label>\r\n                    <input type=\"text\" name=\"action\" onChange={handleInputChange} value={rnoItemData.action || ''} />\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"l-RNO-item\">\r\n            <div className=\"c-RNO-item\">\r\n                {/* Options */}\r\n                <div className=\"l-RNO-item__Options\">\r\n                    <div className=\"c-RNO-item__Options c-RNO-item__Options--left\">\r\n                        {docType === \"edit\" ? // to be changed to if edit\r\n                            renderEditOptions()\r\n                            :\r\n                            renderOptions()\r\n                        }\r\n                    </div>\r\n                    {/* RPN */}\r\n                    <div className=\"c-RNO-item__Options c-RNO-item__Options--right\">\r\n                        <p>RPN: {rpn ? rpn : \"Nil\"}</p>\r\n                        {/* Last modified */}\r\n                        <p>Modified: {rnoItemData.modified ? rnoItemData.modified : \"Nil\"}</p>\r\n                    </div>\r\n                </div>\r\n                {/* Swot content */}\r\n                <div className=\"c-RNO-item__SWOT\">\r\n                    <p>{rnoItemIndex + 1}</p>\r\n                    <p>{rnoItemData.content}</p>\r\n                </div>\r\n                {/* Action plan */}\r\n                <div className=\"c-RNO-item__Action-plan\">\r\n                    {\r\n                        docType === \"edit\" ? // to be changed to if edit\r\n                            renderActionPlanEdit()\r\n                            :\r\n                            <p>Action Plan: {rnoItemData.action ? rnoItemData.action : \"Nil\"}</p>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default RiskNOppItem;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield }) => {   // start of RiskNOppActive\r\n    return (\r\n     \r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docTableData.strength.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docTableData.weakness.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docTableData.opp.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docTableData.threat.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppActive;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docTableData,\r\n    docColumns,\r\n}) => { // start of RiskNOppPending\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docPendingTableData.strength.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docPendingTableData.weakness.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docPendingTableData.opp.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docPendingTableData.threat.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppPending;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RiskNOppEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData\r\n}) => {     // start of RiskNOppEditing\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApprovalList] = useState([]);\r\n    const userDisplayName =decodedToken.display_name;\r\n    useEffect(() => {\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n\r\n        setDocEditTableData(() => (docTableData));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approvalListData = res.data.results;\r\n                setApprovalList(() => {\r\n                    if (approvalListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approvalListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docTableData]);\r\n\r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-RNO__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>To be Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.strength.map((strengthData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"strength\"\r\n                            rnoItemData={strengthData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Weakness</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.weakness.map((weaknessData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"weakness\"\r\n                            rnoItemData={weaknessData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.opp.map((oppData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"opp\"\r\n                            rnoItemData={oppData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Threats</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.threat.map((threatData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"threat\"\r\n                            rnoItemData={threatData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        </div>\r\n    \r\n    );\r\n}\r\n\r\nexport default RiskNOppEditing;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n}) => { // start of RiskNOppRejected\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Rejected By:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"}\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docRejectedTableData.strength.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docRejectedTableData.weakness.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docRejectedTableData.opp.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docRejectedTableData.threat.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RiskNOppInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(docTableData);\r\n        setDocEditTableData(() => (docTableData));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Header */}\r\n            <div className=\"c-Document__New\">\r\n                <h1>There are no existing swot documents</h1>\r\n                <p>Please proceed by having an active swot documents first</p>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default RiskNOppInactive;","import React from 'react'\r\n\r\nconst StatusPill = ({ type }) => {\r\n    const renderType = () => {\r\n        if (type === \"active\") {\r\n            return \"Active\";\r\n        }\r\n        else if (type === \"completed\") {\r\n            return \"Completed\";\r\n        }\r\n        else if (type === \"approved\") {\r\n            return \"Approved\";\r\n        }\r\n        else if (type === \"overdue\") {\r\n            return \"Overdue\";\r\n        }\r\n        else if (type === \"expired\") {\r\n            return \"Expired\";\r\n        }\r\n        else if (type === \"rejected\") {\r\n            return \"Rejected\"\r\n        }\r\n        else if (type === \"inactive\") {\r\n            return \"Inactive\";\r\n        }\r\n        else if (type === \"almostDue\") {\r\n            return \"Expiring Soon\";\r\n        } else if (type === \"pending\") {\r\n            return \"Pending\";\r\n        }\r\n        else if (type === \"cancelled\") {\r\n            return \"Cancelled\";\r\n        }\r\n        else {\r\n            return \"Na\";\r\n        }\r\n    };\r\n\r\n    const renderClassName = () => {\r\n        if (type === \"active\" || type === \"completed\" || type === \"approved\") {\r\n            return \"active\";\r\n        } else if (type === \"overdue\" || type === \"rejected\" || type === \"inactive\" || type === \"expired\") {\r\n            return \"overdue\";\r\n        } else if (type === \"almostDue\") {\r\n            return \"almost-due\";\r\n        } else if (type === \"pending\") {\r\n            return \"pending\";\r\n        } else if (type === \"cancelled\") {\r\n            return \"cancelled\"\r\n        }\r\n        else {\r\n            return \"Na\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`c-Status-pill c-Status-pill--${type ? renderClassName() : \"active\"}`}>\r\n            <h1>{type ? renderType() : \"Active\"}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusPill;","import { NavLink } from 'react-router-dom';\r\nimport StatusPill from '../common/StatusPill';\r\n\r\n// ----------------------------------------------------\r\n// SWOT\r\n// ----------------------------------------------------\r\n// Document columns\r\nexport const docSwotColumns = [\r\n    {\r\n        dataField: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    },\r\n    {\r\n        dataField: 'content',\r\n        text: 'Name',\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    },\r\n];\r\n\r\n// History columns\r\nexport const historySwotColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Swot\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// Interested Party\r\n// ----------------------------------------------------\r\n// Document columns\r\nexport const docInterestedPartyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\"\r\n    },\r\n    {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\"\r\n    }];\r\n\r\n// History columns\r\nexport const historyInterestedPartyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Interested Party\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Scope of QMS\r\n// ----------------------------------------------------\r\n\r\nexport const docScopeOfQMSColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#'\r\n    },\r\n    {\r\n        dataField: 'site_name',\r\n        text: 'Site Name'\r\n    },\r\n    {\r\n        dataField: 'site_address',\r\n        text: 'Site Address'\r\n    },\r\n    {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope'\r\n    }\r\n];\r\n\r\nexport const historyScopeOfQMSColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n// ----------------------------------------------------\r\n// End of Scope of QMS\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// Start of Company Policy\r\n// ----------------------------------------------------\r\nexport const historyCompanyPolicyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'updated_at',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Company Policy\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Resp & Auth\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// End of Resp & Auth\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Risk & Opportunity\r\n// ----------------------------------------------------\r\n\r\nexport const historyRiskNOppColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Risk & Opportunity\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Obj. Achi. Program\r\n// ----------------------------------------------------\r\n\r\n\r\nexport const historyObjAchivColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Obj. Achi. Program\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Equipment Maintainence Program\r\n// ----------------------------------------------------\r\n\r\n// History columns\r\nexport const historyManageEquipmentColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'file_name',\r\n        text: 'File Name'\r\n    },\r\n    {\r\n        dataField: 'uploader',\r\n        text: 'Uploader'\r\n    },\r\n    {\r\n        dataField: 'upload_date',\r\n        text: 'Upload Date'\r\n    },\r\n    {\r\n        dataField: 'action_download',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Download</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const categoryColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'createdOn',\r\n        text: 'Created On',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"\"\r\n            }\r\n        }\r\n    },\r\n]\r\n\r\nexport const equipmentMaintenanceColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'category',\r\n        text: 'Category',\r\n    },\r\n    {\r\n        dataField: 'refNo',\r\n        text: 'Ref. No.',\r\n    },\r\n    {\r\n        dataField: 'model',\r\n        text: 'Model/Brand',\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyEquipmentMaintenanceColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'category',\r\n        text: 'Category'\r\n    },\r\n    {\r\n        dataField: 'refNo',\r\n        text: 'Ref. No.'\r\n    },\r\n    {\r\n        dataField: 'model',\r\n        text: 'Model/Brand'\r\n    },\r\n    {\r\n        dataField: 'archived_on',\r\n        text: 'Archived On'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: 'View',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >View</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const maintenanceCycleColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'maintenanceType',\r\n        text: 'Maintenance Type'\r\n    },\r\n    {\r\n        dataField: 'responsible',\r\n        text: 'Responsible'\r\n    },\r\n    {\r\n        dataField: 'maintenanceFrequency',\r\n        text: 'Maintenance Frequency'\r\n    },\r\n    {\r\n        dataField: 'lastServiceDate',\r\n        text: 'Last Service Date'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell.timeLeft <= 0) {\r\n                return <StatusPill type=\"overdue\" />\r\n            } else if (cell.timeLeft / cell.frequency < 2 / 5) {\r\n                return <StatusPill type=\"almostDue\" />\r\n            }\r\n            else {\r\n                return <StatusPill type=\"active\" />\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_delete',\r\n        text: '',\r\n        formatter: (cell) => {\r\n            return cell\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Equipment Maintenance Program\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Register of Permits, Licenses, Approvals & Certificates\r\n// ----------------------------------------------------\r\n\r\nexport const licenseColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'license',\r\n        text: 'License/Permit/Certificate',\r\n    },\r\n    {\r\n        dataField: 'licenseNo',\r\n        text: 'License No.',\r\n    },\r\n    {\r\n        dataField: 'expDate',\r\n        text: 'Exp. Date',\r\n    },\r\n    {\r\n        dataField: 'externalAgency',\r\n        text: 'Responsible External Agency',\r\n    },\r\n    {\r\n        dataField: 'responsibleUser',\r\n        text: 'Responsible User',\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell.timeLeft <= 0 && cell.isNA) {\r\n                return <StatusPill type=\"expired\" />\r\n            } else if (cell.timeLeft / cell.frequency < 1 / 5 && cell.isNA) {\r\n                return <StatusPill type=\"almostDue\" />\r\n            }\r\n            else {\r\n                return <StatusPill type=\"active\" />\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyLicenseColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'license',\r\n        text: 'License/Permit/Certificate',\r\n    },\r\n    {\r\n        dataField: 'licenseNo',\r\n        text: 'License No.',\r\n    },\r\n    {\r\n        dataField: 'expDate',\r\n        text: 'Exp. Date',\r\n    },\r\n    {\r\n        dataField: 'externalAgency',\r\n        text: 'Responsible External Agency',\r\n    },\r\n    {\r\n        dataField: 'responsibleUser',\r\n        text: 'Responsible User',\r\n    },\r\n    {\r\n        dataField: 'archived_on',\r\n        text: 'Archived On',\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Register of Permits, Licenses, Approvals & Certificates\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Training\r\n// ----------------------------------------------------\r\n\r\n// My Training records columns\r\nexport const myTrainingRecordsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dateField: 'request_status',\r\n        text: 'Request Status',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'Approver'\r\n    },\r\n    {\r\n        dataField: 'supervisor_evaluation_done',\r\n        text: 'Evaluation (Approver)',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'trainee_evaluation_done',\r\n        text: 'Evaluation (Trainee)',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'attendance',\r\n        text: 'Attendance',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// My Training requests columns\r\nexport const myTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'To be approved by'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        sort: true,\r\n        formatter: (cell, row) => {\r\n            if (cell === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === \"pending\") {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            if (cell === \"rejected\") {\r\n                return <StatusPill type=\"rejected\" />\r\n            }\r\n            return <StatusPill type=\"approved\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Mange pending Training requests columns\r\nexport const managePendingTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        sort: true,\r\n        formatter: (cell, row) => {\r\n            if (cell === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === \"pending\") {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            if (cell === \"rejected\") {\r\n                return <StatusPill type=\"rejected\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'created_by',\r\n        text: 'Created By'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage all Training requests columns\r\nexport const manageAllTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        sort: true,\r\n        formatter: (cell, row) => {\r\n            if (cell === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === \"pending\") {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            if (cell === \"rejected\") {\r\n                return <StatusPill type=\"rejected\" />\r\n            }\r\n            return <StatusPill type=\"approved\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'created_by',\r\n        text: 'Created By'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage all Training records columns\r\nexport const manageAllTrainingRecordsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'supervisor_evaluation_done',\r\n        text: 'Evaluation (Approver)',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'trainee_evaluation_done',\r\n        text: 'Evaluation (Trainee)',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'attendance',\r\n        text: 'Attendance',\r\n        formatter: (cell, row) => {\r\n            if (row.request_status === \"cancelled\") {\r\n                return <StatusPill type=\"cancelled\" />\r\n            }\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n\r\n            if (cell === false) {\r\n                return <StatusPill type=\"pending\" />\r\n            }\r\n            return <StatusPill type=\"completed\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'created_by',\r\n        text: 'Created By'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage post evaluation templates columns\r\nexport const managePETColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_title',\r\n        text: 'Template Title'\r\n    },\r\n    {\r\n        dataField: 'version',\r\n        text: 'Version'\r\n    },\r\n    {\r\n        dataField: 'created_by',\r\n        text: 'Created By'\r\n    },\r\n    {\r\n        dataField: 'created_on',\r\n        text: 'Created On'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Training\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Induction Program\r\n// ----------------------------------------------------\r\n\r\n// Manage my induction form column\r\nexport const manageMyInductionColumn = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'template_name',\r\n        text: 'Template Name'\r\n    },\r\n    {\r\n        dataField: 'version_label',\r\n        text: 'Version Label'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <StatusPill type=\"completed\" />\r\n            }\r\n            return <StatusPill type=\"pending\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage induction template columns\r\nexport const manageInductionTemplatesColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_name',\r\n        text: 'Template Name'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyInductionTemplatesColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_name',\r\n        text: 'Template Name'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const manageInductionTemplateColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'form_name',\r\n        text: 'Form Name'\r\n    },\r\n    {\r\n        dataField: 'version_label',\r\n        text: 'Version Label'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <NavLink to={cell}>View</NavLink>\r\n        }\r\n    },\r\n];\r\n\r\nexport const manageInductionFormSectionColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'description',\r\n        text: 'Description'\r\n    },\r\n    {\r\n        dataField: 'file',\r\n        text: 'file'\r\n    },\r\n    {\r\n        dataField: 'done_at',\r\n        text: 'Done On'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (row.done_at === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Mark Done</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Induction Program\r\n// ----------------------------------------------------","import React, { useState, useRef } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { docObjAchivProgramFilesColumns } from '../config/tableColumns';\r\nimport { toast } from 'react-toastify';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport axios from 'axios';\r\nimport { getToken } from '../utilities/localStorageUtils';\r\nimport FileDownload from 'js-file-download';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ObjAchivProgramItem = ({\r\n    docType,\r\n    itemContent,\r\n    setDocEditTableData,\r\n    itemIndex,\r\n    docEditHeaderData,\r\n    docEditTableData,\r\n    tempFileArr,\r\n    setTempFileArr,\r\n    personelResponsibleList\r\n}) => {\r\n\r\n    const fileRef = useRef();\r\n    const token = TokenManager.getToken();\r\n    const [fileUploadInProgress, setFileUploadInProgress] = useState(false);\r\n\r\n    const docObjAchivProgramFilesEditableColumns = [\r\n        {\r\n            dataField: 'fk_file_id',\r\n            text: 'fileID',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'file_name',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                        <RiIcons.RiDeleteBin7Line onClick={() => (handleDeleteFile(row.serialNo))} />\r\n                    </IconContext.Provider>\r\n                );\r\n            }\r\n        }\r\n    ];\r\n\r\n    const docObjAchivProgramFilesColumns = [\r\n        {\r\n            dataField: 'fk_file_id',\r\n            text: 'fileID',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'file_name',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'action_download',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <button key={cell} onClick={() => handleFileDownload(row.fk_file_id, row.file_name)} className=\"c-Btn c-Btn--link\">Download</button>\r\n            }\r\n        }\r\n    ];\r\n\r\n    // Handle file download\r\n    const handleFileDownload = (fileID, fileName) => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${fileID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n            responseType: 'blob'\r\n        })\r\n            .then((res) => {\r\n                FileDownload(res.data, fileName);\r\n                toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    const renderTopEditDetails = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Top c-Top__Left\">\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"function\">Function:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"function\" value={itemContent.function || ''}></textarea>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"quality_objective\">Quality Objectives:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"quality_objective\" value={itemContent.quality_objective || ''} ></textarea>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"personel_responsible\">Personel Responsible:</label>\r\n                        <select type=\"text\" name=\"personel_responsible\" onChange = {handleInputChange} value={itemContent.personel_responsible || ''}>\r\n                            <option>{!personelResponsibleList ? \"No roles found\" : \"Please select a role\"}</option>\r\n                            {\r\n                                !personelResponsibleList ? null : personelResponsibleList.map((prData, prIndex) => (\r\n                                    <option key={prIndex} value={prData.role_id}>\r\n                                        {prData.name}\r\n                                    </option>\r\n                                ))\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top c-Top__Right\">\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <label htmlFor=\"data_collection\">Collecting / Measuring Data:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"data_collection\" value={itemContent.data_collection || ''}></textarea>\r\n                    </div>\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <label htmlFor=\"data_analysis\">Analysing Data:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"data_analysis\" value={itemContent.data_analysis || ''}></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top__Delete\">\r\n                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                        <RiIcons.RiDeleteBin7Line onClick={() => (handleDocDeleteRow(itemIndex + 1))} />\r\n                    </IconContext.Provider>\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    };\r\n\r\n    const renderTopDetails = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Top c-Top__Left\">\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Function:</h1>\r\n                        <p>{itemContent.function || 'Nil'} </p>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Quality Objectives:</h1>\r\n                        <p>{itemContent.quality_objective || 'Nil'}</p>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Personel Responsible:</h1>\r\n                        <p>{itemContent.role && itemContent.role.name || 'Nil'}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top c-Top__Right\">\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <h1>Collecting / Measuring Data:</h1>\r\n                        <p>{itemContent.data_collection || 'Nil'}</p>\r\n                    </div>\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <h1>Analysing Data:</h1>\r\n                        <p>{itemContent.data_analysis || 'Nil'}</p>\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    // Handle input change\r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => {\r\n            return prevState.map((data, index) => {\r\n                if (itemIndex === index) {\r\n                    return {\r\n                        ...data,\r\n                        [event.target.name]: event.target.value\r\n                    }\r\n                }\r\n                return data;\r\n            });\r\n        })\r\n    };\r\n\r\n    // Handler for deleting row \r\n    const handleDocDeleteRow = () => {\r\n        let formattedTempFileArr = [];\r\n        // Reset docEditTableData\r\n        setDocEditTableData((prevState) => {\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevState.filter((dataElem) => {\r\n                return dataElem.serialNo !== (itemIndex + 1);\r\n            });\r\n            // Update serial no. and files array\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1,\r\n                    files: (() => {\r\n                        return dataElem.files.map((fileData, fileIndex) => {\r\n                            // if there are files\r\n                            if (dataElem.files.length !== 0) {\r\n                                // If files is new\r\n                                if (fileData.new) {\r\n                                    formattedTempFileArr.push({\r\n                                        ...fileData,\r\n                                        serialNo: fileIndex + 1,\r\n                                        key: `files_${itemIndex}_${dataElem.files.length}`\r\n                                    })\r\n                                    return {\r\n                                        ...fileData,\r\n                                        serialNo: fileIndex + 1,\r\n                                        key: `files_${itemIndex}_${dataElem.files.length}`\r\n                                    }\r\n                                } else {\r\n                                    return fileData;\r\n                                }\r\n\r\n                            } else {\r\n                                return fileData;\r\n                            }\r\n                        });\r\n\r\n                    })()\r\n                });\r\n            });\r\n            return formattedDocTableData;\r\n        });\r\n\r\n        // Reset temp file array\r\n        setTempFileArr(() => {\r\n            return formattedTempFileArr;\r\n        });\r\n    };\r\n\r\n    // Handle files input change\r\n    const handleFilesInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        // if else is to prevent users from submitting multiple files everytime they click on choose file\r\n        if (fileUploadInProgress) {\r\n            setTempFileArr((prevState) => {\r\n                return prevState.map((data, index) => {\r\n                    if (data.itemIndex === itemIndex) {\r\n                        return {\r\n                            fileObj: fileObj,\r\n                            itemIndex: itemIndex,\r\n                            name: fileObj.name,\r\n                            key: `files_${itemIndex}_${docEditTableData[itemIndex].files.length + 1}`\r\n                        }\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                });\r\n            })\r\n        } else {\r\n            setFileUploadInProgress(() => true);\r\n            setTempFileArr((prevState) => {\r\n                return [\r\n                    ...prevState,\r\n                    {\r\n                        fileObj: fileObj,\r\n                        itemIndex: itemIndex,\r\n                        name: fileObj.name,\r\n                        key: `files_${itemIndex}_${docEditTableData[itemIndex].files.length + 1}`\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    // Handle delete file\r\n    const handleDeleteFile = (fileSerialNo) => {\r\n        let formattedTempFileArr = [];\r\n        console.log(fileSerialNo);\r\n        setDocEditTableData((prevState) => {\r\n\r\n            return prevState.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    files: (() => {\r\n                        // Filter out the remaining files\r\n                        const newFileArr = data.files.filter((innerData, innerIndex) => {\r\n                            if ((itemIndex + 1) === data.serialNo) {\r\n                                return fileSerialNo !== innerData.serialNo;\r\n                            } else {\r\n                                return innerData;\r\n                            }\r\n                        });\r\n                        console.log(newFileArr);\r\n                        // Format the new files\r\n                        const formattedFileArr = newFileArr.map((newData, newIndex) => {\r\n                            // if there are files\r\n                            if (data.files.length !== 0) {\r\n                                // If files is new\r\n                                if (newData.new) {\r\n                                    formattedTempFileArr.push({\r\n                                        ...newData,\r\n                                        serialNo: newIndex + 1,\r\n                                        key: `files_${index}_${newFileArr.length}`\r\n                                    })\r\n                                    return {\r\n                                        ...newData,\r\n                                        serialNo: newIndex + 1,\r\n                                        key: `files_${index}_${newFileArr.length}`\r\n                                    }\r\n                                } else {\r\n                                    return newData;\r\n                                }\r\n\r\n                            } else {\r\n                                return newData;\r\n                            }\r\n\r\n                        });\r\n                        return formattedFileArr;\r\n                    })()\r\n                }\r\n            });\r\n        });\r\n        setTempFileArr((prevState) => {\r\n            return formattedTempFileArr;\r\n        });\r\n    };\r\n\r\n\r\n    // Handle upload file\r\n    const handleFileUploadBtn = () => {\r\n\r\n        // Check if there are files uploaded\r\n        if (fileRef.current.value !== \"\") {\r\n            // reset file input value\r\n            fileRef.current.value = \"\";\r\n            let threeFilesAlready = false;\r\n            // check if there's already 3 files\r\n            docEditTableData.forEach((data, index) => {\r\n                if (itemIndex === index) {\r\n                    if (data.files.length === 3) {\r\n                        threeFilesAlready = true;\r\n                    }\r\n                }\r\n            });\r\n            if (threeFilesAlready) {\r\n                toast.error(<>Error!<br />Message: <b>Maximum of 3 files per item!</b></>);\r\n            } else {\r\n                setDocEditTableData((prevState) => {\r\n                    return prevState.map((data, index) => {\r\n                        if (itemIndex === index) {\r\n                            if (data.files.length === 0) {\r\n                                return {\r\n                                    ...data,\r\n                                    files: [\r\n                                        {\r\n                                            serialNo: 1,\r\n                                            new: true,\r\n                                            fileObj: (() => {\r\n                                                let toBeReturnedFileObj = {};\r\n                                                console.log(data.files.length);\r\n                                                tempFileArr.forEach((innerData, innerIndex) => {\r\n                                                    if (data.key === `files_${itemIndex}_${data.files.length + 1}`) {\r\n                                                        toBeReturnedFileObj = innerData.fileObj;\r\n                                                    }\r\n                                                });\r\n                                                return toBeReturnedFileObj;\r\n                                            })(),\r\n                                            name: tempFileArr[tempFileArr.length - 1].name,\r\n                                            key: `files_${itemIndex}_${data.files.length + 1}`,\r\n                                            file_name: tempFileArr[tempFileArr.length - 1].name\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            } else {\r\n                                return {\r\n                                    ...data,\r\n                                    files: [\r\n                                        ...data.files,\r\n                                        {\r\n                                            serialNo: data.files.length + 1,\r\n                                            new: true,\r\n                                            fileObj: (() => {\r\n                                                let toBeReturnedFileObj = {};\r\n                                                tempFileArr.forEach((innerData, innerIndex) => {\r\n                                                    if (data.key === `files_${itemIndex}_${data.files.length + 1}`) {\r\n                                                        toBeReturnedFileObj = data.fileObj;\r\n                                                    }\r\n                                                });\r\n                                                return toBeReturnedFileObj;\r\n                                            })(),\r\n                                            name: tempFileArr[tempFileArr.length - 1].name,\r\n                                            key: `files_${itemIndex}_${data.files.length + 1}`,\r\n                                            file_name: tempFileArr[tempFileArr.length - 1].name\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }\r\n                        }\r\n                        return data;\r\n                    })\r\n                });\r\n            }\r\n\r\n        } else {\r\n            toast.error(<>Error!<br />Message: <b>Please select a file!</b></>);\r\n        }\r\n        setFileUploadInProgress(() => false);\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"l-Obj-Achiv-Program-item\">\r\n            <div className=\"c-Obj-Achiv-Program-item\">\r\n                <div className=\"c-Obj-Achiv-Program-item__Top\">\r\n                    {docType === \"edit\" ?\r\n                        renderTopEditDetails()\r\n                        :\r\n                        renderTopDetails()\r\n                    }\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program-item__Table\">\r\n                    <h1>Data tracking information</h1>\r\n                    {/* Table section */}\r\n                    {\r\n                        docType === \"edit\" ?\r\n                            <form className=\"c-Table__Add-files\">\r\n                                <div className=\"c-Add-files__Left\">\r\n                                    <input type=\"file\" name=\"file\" onChange={handleFilesInputChange} ref={fileRef} />\r\n                                </div>\r\n                                <div className=\"c-Add-files__Right\">\r\n                                    <button onClick={handleFileUploadBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload</button>\r\n                                </div>\r\n                            </form>\r\n                            :\r\n                            null\r\n                    }\r\n                    {\r\n                        docType === \"edit\" ?\r\n                            itemContent.files.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={itemContent.files}\r\n                                    columns={docObjAchivProgramFilesEditableColumns}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                            :\r\n                            itemContent.data.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={itemContent.data}\r\n                                    columns={docObjAchivProgramFilesColumns}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramItem;","import React from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\nconst ObjAchivProgramActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of ObjAchivProgramActive\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"active\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ObjAchivProgramActive;","import React from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\nconst ObjAchivProgramPending = ({\r\n    docPendingTableData,\r\n    docPendingHeaderData\r\n}) => { // start of ObjAchivProgramPending.js\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docPendingTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"pending\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramPending;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ObjAchivProgramEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyField,\r\n    tempFileArr,\r\n    setTempFileArr\r\n}) => {     // start of ObjAchivProgramEditing\r\n\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApproverList] = useState([]);\r\n    \r\n    const [personelResponsibleList, setPersonelResponsibleList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => ({\r\n                ...data,\r\n                files: (() => {\r\n                    console.log(data);\r\n                    return data.data.map((fileData, fileIndex) => {\r\n                        console.log(fileData);\r\n                        return {\r\n                            ...fileData.file,\r\n                            new: false,\r\n                            serialNo: fileIndex + 1\r\n                        }  \r\n                    });\r\n                })()\r\n            }));\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        setTempFileArr(() => []);\r\n        // Do axios call to find out the company roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {   \r\n            console.log(res);\r\n            setPersonelResponsibleList(() => {\r\n                return res.data.results.map((data, index) => {\r\n                    return data;\r\n                });\r\n            });\r\n            console.log(personelResponsibleList);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n\r\n    }, [docHeaderData, docTableData]);\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // add new role\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevState) => {\r\n            let newDocTableData = [...prevState, {\r\n                serialNo: prevState.length + 1,\r\n                function: \"\",\r\n                quality_objective: \"\",\r\n                personel_responsible: undefined,\r\n                data: [],\r\n                files: [],\r\n                data_collection: \"\",\r\n                data_analysis: \"\",\r\n                display_order: prevState.length + 1\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-Obj-Achiv-Program__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docEditTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"edit\"\r\n                    itemContent={data}\r\n                    itemIndex={index}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    docEditTableData={docEditTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                    personelResponsibleList={personelResponsibleList}\r\n                />\r\n            ))\r\n            }\r\n            {/* Add row */}\r\n            <div className=\"c-Obj-Achiv-Program__Add-row\" onClick={handleDocAddRow}>\r\n                <h2>Add new row</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramEditing;","import React from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\n\r\nconst ObjAchivProgramRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n}) => { // start of ObjAchivProgramRejected\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                <p>To be approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docRejectedTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"active\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramRejected;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\n\r\nconst ObjAchivProgramInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc,\r\n    tempFileArr,\r\n    setTempFileArr }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n    const [personelResponsibleList, setPersonelResponsibleList] = useState([]);\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => ({\r\n                ...data,\r\n                files: (() => {\r\n                    console.log(data);\r\n                    return data.data.map((fileData, fileIndex) => {\r\n                        console.log(fileData);\r\n                        return {\r\n                            ...fileData.file,\r\n                            new: false,\r\n                            serialNo: fileIndex + 1\r\n                        }\r\n                    });\r\n                })()\r\n            }));\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        setTempFileArr(() => []);\r\n        // Do axios call to find out the company roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.data.results !== undefined) {\r\n                    setPersonelResponsibleList(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return data;\r\n                        });\r\n                    });\r\n                }\r\n\r\n                console.log(personelResponsibleList);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event.target.value);\r\n        console.log(event.target.name);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n    console.log(docEditHeaderData);\r\n\r\n    // add new role\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevState) => {\r\n            let newDocTableData = [...prevState, {\r\n                serialNo: prevState.length + 1,\r\n                function: \"\",\r\n                quality_objective: \"\",\r\n                personel_responsible: undefined,\r\n                data: [],\r\n                files: [],\r\n                data_collection: \"\",\r\n                data_analysis: \"\",\r\n                display_order: prevState.length + 1\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                <div className=\"l-Obj-Achiv-Program__Document-title\">\r\n                                    <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Map through an array to display ObjAchivProgramItem */}\r\n                                {docEditTableData.map((data, index) => (\r\n                                    <ObjAchivProgramItem\r\n                                        key={index}\r\n                                        docType=\"edit\"\r\n                                        itemContent={data}\r\n                                        itemIndex={index}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        docEditTableData={docEditTableData}\r\n                                        tempFileArr={tempFileArr}\r\n                                        setTempFileArr={setTempFileArr}\r\n                                        personelResponsibleList={personelResponsibleList}\r\n                                    />\r\n                                ))\r\n                                }\r\n                                {/* Add row */}\r\n                                <div className=\"c-Obj-Achiv-Program__Add-row\" onClick={handleDocAddRow}>\r\n                                    <h2>Add new row</h2>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramInactive;","import React from 'react';\r\nimport { TAB } from '../config/enums';\r\nimport InterestedPartyActive from '../pages/InterestedParty/InterestedPartyActive';\r\nimport InterestedPartyPending from '../pages/InterestedParty/InterestedPartyPending';\r\nimport InterestedPartyEditing from '../pages/InterestedParty/InterestedPartyEditing';\r\nimport InterestedPartyRejected from '../pages/InterestedParty/InterestedPartyRejected';\r\nimport InterestedPartyInactive from '../pages/InterestedParty/InterestedPartyInactive';\r\nimport SWOTActive from '../pages/Swot/SwotActive';\r\nimport SWOTPending from '../pages/Swot/SwotPending';\r\nimport SWOTEditing from '../pages/Swot/SwotEditing';\r\nimport SWOTRejected from '../pages/Swot/SwotRejected';\r\nimport SWOTInactive from '../pages/Swot/SwotInactive';\r\nimport ScopeOfQMSActive from '../pages/ScopeOfQMS/ScopeOfQMSActive';\r\nimport ScopeOfQMSPending from '../pages/ScopeOfQMS/ScopeOfQMSPending';\r\nimport ScopeOfQMSEditing from '../pages/ScopeOfQMS/ScopeOfQMSEditing';\r\nimport ScopeOfQMSRejected from '../pages/ScopeOfQMS/ScopeOfQMSRejected';\r\nimport ScopeOfQMSInactive from '../pages/ScopeOfQMS/ScopeOfQMSInactive';\r\nimport CompanyPolicyActive from '../pages/CompanyPolicy/CompanyPolicyActive';\r\nimport CompanyPolicyPending from '../pages/CompanyPolicy/CompanyPolicyPending';\r\nimport CompanyPolicyEditing from '../pages/CompanyPolicy/CompanyPolicyEditing';\r\nimport CompanyPolicyRejected from '../pages/CompanyPolicy/CompanyPolicyRejected';\r\nimport CompanyPolicyInactive from '../pages/CompanyPolicy/CompanyPolicyInactive';\r\nimport RiskNOppActive from '../pages/RiskNOpp/RiskNOppActive';\r\nimport RiskNOppPending from '../pages/RiskNOpp/RiskNOppPending';\r\nimport RiskNOppEditing from '../pages/RiskNOpp/RiskNOppEditing';\r\nimport RiskNOppRejected from '../pages/RiskNOpp/RiskNOppRejected';\r\nimport RiskNOppInactive from '../pages/RiskNOpp/RiskNOppInactive';\r\nimport ObjAchivProgramActive from '../pages/ObjAchivProgram/ObjAchivProgramActive';\r\nimport ObjAchivProgramPending from '../pages/ObjAchivProgram/ObjAchivProgramPending';\r\nimport ObjAchivProgramEditing from '../pages/ObjAchivProgram/ObjAchivProgramEditing';\r\nimport ObjAchivProgramRejected from '../pages/ObjAchivProgram/ObjAchivProgramRejected';\r\nimport ObjAchivProgramInactive from '../pages/ObjAchivProgram/ObjAchivProgramInactive';\r\n\r\n\r\nconst RenderDocument = ({\r\n    tabSettings,\r\n    docHeaderData,\r\n    docTableData,\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    setDocPendingTableData,\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docType,\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    editorState,\r\n    setEditorState,\r\n    tempFileArr,\r\n    setTempFileArr,\r\n    startNewDoc,\r\n    setStartNewDoc\r\n}) => { // start of RenderDocument function\r\n    const DOC_COMPONENT = {\r\n        swot: {\r\n            Active: SWOTActive,\r\n            Pending: SWOTPending,\r\n            Editing: SWOTEditing,\r\n            Rejected: SWOTRejected,\r\n            Inactive: SWOTInactive\r\n        },\r\n        interestedParty: {\r\n            Active: InterestedPartyActive,\r\n            Pending: InterestedPartyPending,\r\n            Editing: InterestedPartyEditing,\r\n            Rejected: InterestedPartyRejected,\r\n            Inactive: InterestedPartyInactive\r\n        },\r\n        scopeOfQMS: {\r\n            Active: ScopeOfQMSActive,\r\n            Pending: ScopeOfQMSPending,\r\n            Editing: ScopeOfQMSEditing,\r\n            Rejected: ScopeOfQMSRejected,\r\n            Inactive: ScopeOfQMSInactive\r\n        },\r\n        companyPolicy: {\r\n            Active: CompanyPolicyActive,\r\n            Pending: CompanyPolicyPending,\r\n            Editing: CompanyPolicyEditing,\r\n            Rejected: CompanyPolicyRejected,\r\n            Inactive: CompanyPolicyInactive\r\n        },\r\n        riskNOpp: {\r\n            Active: RiskNOppActive,\r\n            Pending: RiskNOppPending,\r\n            Editing: RiskNOppEditing,\r\n            Rejected: RiskNOppRejected,\r\n            Inactive: RiskNOppInactive\r\n        },\r\n        objAchivProgram: {\r\n            Active: ObjAchivProgramActive,\r\n            Pending: ObjAchivProgramPending,\r\n            Editing: ObjAchivProgramEditing,\r\n            Rejected: ObjAchivProgramRejected,\r\n            Inactive: ObjAchivProgramInactive\r\n        }\r\n\r\n    }\r\n    const SpecificDocType = DOC_COMPONENT[docType];\r\n    if (tabSettings.focusTabIndex === 0) {\r\n        if (tabSettings.firstTab === TAB.ACTIVE) {\r\n            // Active tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n        }\r\n        // TBC No current active tab (design ui of this first)\r\n        else {\r\n            // Active tab UI with no data\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    editorState={editorState}\r\n                    setEditorState={setEditorState}\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n        }\r\n    } else if (tabSettings.focusTabIndex === 1) {\r\n        if (tabSettings.secondTab === TAB.PENDING) {\r\n            // Pending tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    setDocPendingTableData={setDocPendingTableData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"id\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    setDocPendingTableData={setDocPendingTableData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"id\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                />\r\n            }\r\n        } else if (tabSettings.secondTab === TAB.EDITING) {\r\n            // Editing tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    editorState={editorState}\r\n                    setEditorState={setEditorState}\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                />\r\n            }\r\n        } else if (tabSettings.secondTab === TAB.REJECTED) {\r\n            // Rejected tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                />\r\n            }\r\n        }\r\n    } else {\r\n        return (\r\n            <div className=\"l-Document__Error\">\r\n                <p>There was an error in loading the document =(</p>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RenderDocument;","import React from 'react';\r\nimport { TAB } from '../config/enums';\r\n\r\nconst Tab = ({ handleTabOnClick, tabType, children, focus, tabSettings }) => {\r\n\r\n    return (\r\n        <>\r\n            {tabType\r\n                ?\r\n                <div className=\"c-Tab\" >\r\n                    <div className={focus ? \"c-Tab--focused\" : \"c-Tab--unfocused\"}>\r\n                        <span \r\n                            onClick={handleTabOnClick ? handleTabOnClick : null} \r\n                            // Prevent user from clicking on active if form is in editing mode\r\n                            className={tabType ? (tabType === 'Active' && tabSettings.secondTab === TAB.EDITING || tabType === \"Inactive\" && tabSettings.secondTab === TAB.EDITING ? \"c-Tab--disabled c-Tab--\" + tabType.toLowerCase() :  \"c-Tab--\" + tabType.toLowerCase()) : null}\r\n                        >\r\n                            {children ? children : tabType}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Tab;","import React from 'react';\r\nimport Tab from \"./Tab\";\r\nimport { TAB } from '../config/enums';\r\n// import { tabEndpointsListObj } from '../config/endpointsListObj';\r\nimport useEndpoints from '../hooks/useEndpoints';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst TabRow = ({ setIsDocCollapsed, setDocQueryEnum, setTabSettings, tabSettings, isDocCollapsed, setQueryUrl, pageType }) => {\r\n    \r\n    // Handler for collapse button\r\n    const handleCollapseBtn = () => {\r\n        setIsDocCollapsed((prevState) => {\r\n            return !prevState;\r\n        })\r\n    };\r\n\r\n    const [btnEndpointsListObj, tabEndpointsListObj] = useEndpoints({TokenManager});\r\n\r\n\r\n    // Handler for tabs\r\n    const handleTabOnClick = (newTabIndex, tabType) => {\r\n        // Active tabs\r\n        if (tabType === TAB.ACTIVE) {\r\n            setDocQueryEnum(() => ('active'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.active,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            } else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        // Pending tabs\r\n        else if (tabType === TAB.PENDING) {\r\n            // Pass in data\r\n            console.log(\"setting query enum\");\r\n            setDocQueryEnum(() => ('pending'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.pending,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.pending,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.pending,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.pending,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.pending,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.pending,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n        } \r\n        \r\n        // Editing tabs\r\n        else if (tabType === TAB.EDITING) {\r\n\r\n            // Pass in data\r\n        } \r\n        \r\n        // Rejected tabs\r\n        else if (tabType === TAB.REJECTED) {\r\n            setDocQueryEnum(() => ('rejected'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.rejected,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\" ) {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n        }\r\n        setTabSettings((prevState) => ({\r\n            ...prevState,\r\n            focusTabIndex: newTabIndex\r\n        }));\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Tabs */}\r\n            <div className=\"l-Tabs__Row\">\r\n                <div className=\"l-Tabs__Row--left l-Tabs__Side\">\r\n                    <Tab\r\n                        focus={tabSettings.focusTabIndex === 0 ? true : false}\r\n                        tabType={tabSettings.firstTab}\r\n                        handleTabOnClick={() => (handleTabOnClick(0, tabSettings.firstTab))}\r\n                        tabSettings={tabSettings}\r\n                    />\r\n                    <Tab\r\n                        focus={tabSettings.focusTabIndex === 1 ? true : false}\r\n                        tabType={tabSettings.secondTab}\r\n                        handleTabOnClick={() => (handleTabOnClick(1, tabSettings.secondTab))}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"l-Tabs__Row--right l-Tabs__Side\">\r\n                    <Tab handleTabOnClick={handleCollapseBtn} tabType={TAB.COLLAPSE}>\r\n                        {\r\n                            isDocCollapsed ?\r\n                                <>Expand Document</>\r\n                                :\r\n                                <>Collapse Document</>\r\n                        }\r\n                    </Tab>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TabRow;","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\nconst useCheckEditableAxios = (url) => {\r\n    // State declarations\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const token = TokenManager.getToken();\r\n\r\n    useEffect(() => {\r\n        const checkIfCanEdit = async (firstUrl, secondUrl, thirdUrl) => {\r\n            try {\r\n                // GET document table data\r\n                const checkIfEmployeeCanEdit = await axios.get(firstUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n        \r\n                // GET basic details of the active document, and all the status of the document\r\n                const checkIfPendingExist = await axios.get(secondUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n        \r\n                const checkIfRejectedExist = await axios.get(thirdUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n                setResponse(() => {\r\n                    return ({\r\n                        checkIfEmployeeCanEdit,\r\n                        checkIfPendingExist,\r\n                        checkIfRejectedExist\r\n                    })\r\n                });\r\n            } catch (error) {\r\n                console.log(\"An error occured in useDocAxios.js\", error);\r\n                setError(() => (error));\r\n            }\r\n        };\r\n        if (url != null) {\r\n            checkIfCanEdit(url.firstUrl, url.secondUrl, url.thirdUrl);\r\n        }\r\n    }, [url]);\r\n\r\n    return [response, error];\r\n}\r\n\r\nexport default useCheckEditableAxios;","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\n/*\r\n    Custom hook for obtaining data\r\n*/\r\n\r\nconst useDocAxios = (url) => {\r\n    // State declarations\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const token = TokenManager.getToken();\r\n    useEffect(() => {\r\n        const fetchDocData = async (firstUrl, secondUrl) => {\r\n            try {\r\n                // GET document table data\r\n                const resultDocTable = await axios.get(firstUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n\r\n                // GET basic details of the active document, and all the status of the document\r\n                const resultHeaderData = await axios.get(secondUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n                setResponse(() => {\r\n                    return ({\r\n                        resultDocTable: resultDocTable.data,\r\n                        resultHeaderData: resultHeaderData.data\r\n                    })\r\n                });\r\n            } catch (error) {\r\n                console.log(\"An error occured in useDocAxios.js\", error);\r\n                setError(() => (error));\r\n            }\r\n        }\r\n        if (url != null) {\r\n            fetchDocData(url.firstUrl, url.secondUrl);\r\n        }\r\n    }, [url]);\r\n\r\n    return [response, error];\r\n}\r\n\r\nexport default useDocAxios;","import React from 'react';\r\n\r\nconst DocumentLayout = ({ isDocCollapsed, children }) => {\r\n    return (\r\n        <div className={isDocCollapsed ? \"l-Document l-Document__collapsed\" : \"l-Document\"}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentLayout;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { docSwotColumns, historySwotColumns } from '../../config/tableColumns';\r\nimport useCheckEditableAxios from '../../hooks/useCheckEditableAxios';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst Swot = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [loading, setLoading] = useState(false); // to be done\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    // These two const below are used for checking if user can edit\r\n    const [queryCheckEditableAxiosUrl, setQueryCheckEditableAxiosUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_01/employees`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/pending`,\r\n        thirdUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/rejected`,\r\n    })\r\n    const [checkEditableAxiosResponse, checkEditableAxiosError] = useCheckEditableAxios(queryCheckEditableAxiosUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = {\r\n                    strength: axiosResponse.resultDocTable.results.strengths.map((strengthData, strengthIndex) => {\r\n                        return {\r\n                            id: strengthData.swot_item_id,\r\n                            type: \"strength\",\r\n                            serialNo: strengthIndex + 1,\r\n                            content: strengthData.content,\r\n                            display_order: 0,\r\n                            parentItemID: strengthData.parent_item_id\r\n                        }\r\n                    }),\r\n                    weakness: axiosResponse.resultDocTable.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                        return {\r\n                            id: weaknessData.swot_item_id,\r\n                            type: \"weakness\",\r\n                            serialNo: weaknessIndex + 1,\r\n                            content: weaknessData.content,\r\n                            display_order: 0,\r\n                            parentItemID: weaknessData.parent_item_id\r\n                        }\r\n                    }),\r\n                    opp: axiosResponse.resultDocTable.results.opportunities.map((oppData, oppIndex) => {\r\n                        return {\r\n                            id: oppData.swot_item_id,\r\n                            type: \"opp\",\r\n                            serialNo: oppIndex + 1,\r\n                            content: oppData.content,\r\n                            display_order: 0,\r\n                            parentItemID: oppData.parent_item_id\r\n                        }\r\n                    }),\r\n                    threat: axiosResponse.resultDocTable.results.threats.map((threatData, threatIndex) => {\r\n                        return {\r\n                            id: threatData.swot_item_id,\r\n                            type: \"threat\",\r\n                            serialNo: threatIndex + 1,\r\n                            content: threatData.content,\r\n                            display_order: 0,\r\n                            parentItemID: threatData.parent_item_id\r\n                        }\r\n                    })\r\n                }\r\n\r\n                if (docQueryEnum === 'active') {\r\n                    if (checkEditableAxiosResponse !== null) {\r\n                        // check if user can edit\r\n                        let canEdit = false;\r\n\r\n                        checkEditableAxiosResponse.checkIfEmployeeCanEdit.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (checkEditableAxiosResponse.checkIfPendingExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        if (checkEditableAxiosResponse.checkIfRejectedExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        console.log(checkEditableAxiosResponse)\r\n\r\n                        if (canEdit === true) {\r\n                            setIsEditor(() => (true));\r\n                        } else {\r\n                            setIsEditor(() => (false));\r\n                        }\r\n                    }\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n\r\n                }\r\n            }\r\n            console.log(axiosResponse);\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n\r\n                    //  Active tab\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    }\r\n                    //  Pending tab\r\n                    else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.swot_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    }\r\n                    // Rejected tab\r\n                    else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.swot_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data (More refinements to be done)\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.swot_id,\r\n                        serialNo: index + 1,\r\n                        approved_by: `${archivedData.approver.firstname} ${archivedData.approver.lastname}`,\r\n                        approved_on: dayjs(new Date(archivedData.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/swot/archived/${archivedData.swot_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/${archivedData.swot_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse, checkEditableAxiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historySwotDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"swots\"\r\n                        idName=\"swot_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='SWOT' activeLink=\"/swot\">\r\n                <div className=\"c-Swot c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Swot-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Swot</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {!loading ?\r\n                        <>\r\n                            {/* Top section */}\r\n                            <div className=\"c-Swot__Top c-Main__Top\">\r\n                                <h1>Swot</h1>\r\n                                <DocumentBtnSection\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    docEditTableData={docEditTableData}\r\n                                    docEditHeaderData={docEditHeaderData}\r\n                                    docPendingTableData={docPendingTableData}\r\n                                    docPendingHeaderData={docPendingHeaderData}\r\n                                    docRejectedHeaderData={docRejectedHeaderData}\r\n                                    pageType=\"swot\"\r\n                                    isApprover={isApproverOfPendingDoc}\r\n                                    isEditor={isEditor}\r\n                                    docQueryEnum={docQueryEnum}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    startNewDoc={startNewDoc}\r\n                                    setStartNewDoc={setStartNewDoc}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Document section */}\r\n                            <div className=\"c-Swot_Document c-Main__Document\">\r\n                                {/* Tabs */}\r\n                                <TabRow\r\n                                    setIsDocCollapsed={setIsDocCollapsed}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    isDocCollapsed={isDocCollapsed}\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    pageType=\"swot\"\r\n                                />\r\n\r\n                                {/* Document */}\r\n                                <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                                    {/* Render document should be done only when you have set up all the five types of file in this folder (refer to interested party folder) */}\r\n                                    <RenderDocument\r\n                                        tabSettings={tabSettings}\r\n                                        docHeaderData={docHeaderData}\r\n                                        docTableData={docTableData}\r\n                                        docPendingHeaderData={docPendingHeaderData}\r\n                                        docPendingTableData={docPendingTableData}\r\n                                        docRejectedHeaderData={docRejectedHeaderData}\r\n                                        docRejectedTableData={docRejectedTableData}\r\n                                        docColumns={docSwotColumns}\r\n                                        docType=\"swot\"\r\n                                        docEditTableData={docEditTableData}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        setDocEditHeaderData={setDocEditHeaderData}\r\n                                        startNewDoc={startNewDoc}\r\n                                        setStartNewDoc={setStartNewDoc}\r\n                                    />\r\n                                </DocumentLayout>\r\n                            </div>\r\n\r\n                            {/* History/archives section */}\r\n                            <div className=\"c-Swot__Archives c-Main__Archives\">\r\n                                <h1>History (Archived)</h1>\r\n                                {\r\n                                    archivedDocData.length !== 0 ?\r\n                                        isApprover ?\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historySwotDeletableColumns}\r\n                                                pagination={paginationFactory()}\r\n                                            />\r\n                                            :\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historySwotColumns}\r\n                                                pagination={paginationFactory()}\r\n                                            />\r\n                                        :\r\n                                        \"No records found!\"\r\n                                }\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        \"loading...\"\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Swot;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport { docSwotColumns } from '../../config/tableColumns';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst SwotArchived = ({ match }) => {\r\n    const swotID = match.params.swotID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(swotID) && swotID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/${swotID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = {\r\n                        strength: res.data.results.strengths.map((strengthData, strengthIndex) => {\r\n                            return {\r\n                                id: strengthData.swot_item_id,\r\n                                type: \"strength\",\r\n                                serialNo: strengthIndex + 1,\r\n                                content: strengthData.content,\r\n                                display_order: 0,\r\n                                parentItemID: strengthData.parent_item_id\r\n                            }\r\n                        }),\r\n                        weakness: res.data.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                            return {\r\n                                id: weaknessData.swot_item_id,\r\n                                type: \"weakness\",\r\n                                serialNo: weaknessIndex + 1,\r\n                                content: weaknessData.content,\r\n                                display_order: 0,\r\n                                parentItemID: weaknessData.parent_item_id\r\n                            }\r\n                        }),\r\n                        opp: res.data.results.opportunities.map((oppData, oppIndex) => {\r\n                            return {\r\n                                id: oppData.swot_item_id,\r\n                                type: \"opp\",\r\n                                serialNo: oppIndex + 1,\r\n                                content: oppData.content,\r\n                                display_order: 0,\r\n                                parentItemID: oppData.parent_item_id\r\n                            }\r\n                        }),\r\n                        threat: res.data.results.threats.map((threatData, threatIndex) => {\r\n                            return {\r\n                                id: threatData.swot_item_id,\r\n                                type: \"threat\",\r\n                                serialNo: threatIndex + 1,\r\n                                content: threatData.content,\r\n                                display_order: 0,\r\n                                parentItemID: threatData.parent_item_id\r\n                            }\r\n                        })\r\n                    }\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.results.title,\r\n                        created_by: res.data.results.author.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_by: res.data.results.approver.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.results.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"SWOT Archived\" activeLink=\"/swot\">\r\n            <div className=\"c-Swot c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Swot__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/swot\">SWOT</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Swot__Top c-Main__Top\">\r\n                    <h1>SWOT (Archived)</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Swot__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Swot__Document-content c-Document\">\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Swot table section */}\r\n                            <SwotItems header=\"Strengths\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.strength}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Weaknesses\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.weakness}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Opportunities\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.opp}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Threats\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.threat}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default SwotArchived;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { docInterestedPartyColumns, historyInterestedPartyColumns } from '../../config/tableColumns';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst InterestedParty = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active');\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [loading, setLoading] = useState(false); // to be done\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    // Format data received from axiosResponse\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        id: data.party_item_id,\r\n                        needs_n_expectations: (() => {\r\n                            if (data.expectations.split(\"\\n\").length > 1) {\r\n                                return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                            }\r\n                            return data.expectations;\r\n                        })(),\r\n                        needs_n_expectations_raw: data.expectations,\r\n                        serialNo: index + 1,\r\n                        interested_parties: data.interested_party,\r\n                        parentItemID: data.parent_item_id,\r\n                    })\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    // Format table data\r\n                    const formattedDocActiveTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            needs_n_expectations_raw: data.expectations,\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocActiveTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    // Format table data\r\n                    const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            needs_n_expectations_raw: data.expectations,\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.party_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.party_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n            \r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.party_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/interested-party/archived/${archivedData.party_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/${archivedData.party_id}`\r\n                    });\r\n                });\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historyInterestedPartyDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"interested-parties\"\r\n                        idName=\"party_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Interested Party' activeLink=\"/interested-party\">\r\n                <div className=\"c-IP c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Interested Party</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {!loading ?\r\n\r\n                        <>\r\n                            {/* Top section */}\r\n                            <div className=\"c-IP__Top c-Main__Top\">\r\n                                <h1>Interested Parties</h1>\r\n                                <DocumentBtnSection\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    docEditTableData={docEditTableData}\r\n                                    docEditHeaderData={docEditHeaderData}\r\n                                    docPendingTableData={docPendingTableData}\r\n                                    docPendingHeaderData={docPendingHeaderData}\r\n                                    docRejectedHeaderData={docRejectedHeaderData}\r\n                                    pageType=\"interestedParty\"\r\n                                    isApprover={isApproverOfPendingDoc}\r\n                                    isEditor={isEditor}\r\n                                    docQueryEnum={docQueryEnum}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    startNewDoc={startNewDoc}\r\n                                    setStartNewDoc={setStartNewDoc}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Document section */}\r\n                            <div className=\"c-IP__Document c-Main__Document\">\r\n                                {/* Tabs */}\r\n                                <TabRow\r\n                                    setIsDocCollapsed={setIsDocCollapsed}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    isDocCollapsed={isDocCollapsed}\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    pageType=\"interestedParty\"\r\n                                />\r\n\r\n                                {/* Document */}\r\n                                <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                                    <RenderDocument\r\n                                        tabSettings={tabSettings}\r\n                                        docHeaderData={docHeaderData}\r\n                                        docTableData={docTableData}\r\n                                        docPendingHeaderData={docPendingHeaderData}\r\n                                        docPendingTableData={docPendingTableData}\r\n                                        setDocPendingTableData={setDocPendingTableData}\r\n                                        docRejectedHeaderData={docRejectedHeaderData}\r\n                                        docRejectedTableData={docRejectedTableData}\r\n                                        docColumns={docInterestedPartyColumns}\r\n                                        docType=\"interestedParty\"\r\n                                        docEditTableData={docEditTableData}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        setDocEditHeaderData={setDocEditHeaderData}\r\n                                        startNewDoc={startNewDoc}\r\n                                        setStartNewDoc={setStartNewDoc}\r\n                                    />\r\n                                </DocumentLayout>\r\n                            </div>\r\n\r\n                            {/* History/archives section */}\r\n                            <div className=\"c-IP__Archives c-Main__Archives\">\r\n                                <h1>History (Archived)</h1>\r\n                                {\r\n                                    archivedDocData.length !== 0 ?\r\n                                        isApprover ?\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historyInterestedPartyDeletableColumns}\r\n                                                pagination={ paginationFactory() }\r\n                                            />\r\n                                            :\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historyInterestedPartyColumns}\r\n                                                pagination={ paginationFactory() }\r\n                                            />\r\n                                        :\r\n                                        \"No records found!\"\r\n                                }\r\n\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        \"loading...\"\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InterestedParty;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { docInterestedPartyColumns } from '../../config/tableColumns';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyArchived = ({ match }) => {\r\n    const ipID = match.params.ipID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(ipID) && ipID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/${ipID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = res.data.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.title,\r\n                        created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                        approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Interested Party Archived\" activeLink=\"/interested-party\">\r\n                <div className=\"c-IP c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/interested-party\">Interested Party</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-IP__Top c-Main__Top\">\r\n                        <h1>Interested Parties (Archived)</h1>\r\n                    </div>\r\n                    {/* Document section */}\r\n                    <div className=\"c-IP__Document c-Main__Document\">\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout >\r\n                            <div className=\"c-IP__Document-content c-Document\">\r\n                                {/* Title */}\r\n                                <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                                {/* Document Header info */}\r\n                                <div className=\"c-IP__Document-header c-Document__Header\">\r\n                                    <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                        <p>Approved on:</p>\r\n                                    </div>\r\n                                    <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                        <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                        <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                        <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data!\"}</p>\r\n                                    </div>\r\n                                </div>\r\n                                {/* Table section */}\r\n                                <BootstrapTable keyField='serialNo' data={docTableData} columns={docInterestedPartyColumns} />\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyArchived;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { convertFromRaw, convertToRaw, EditorState } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport convert from 'htmr';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { docScopeOfQMSColumns, historyScopeOfQMSColumns } from '../../config/tableColumns';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMS = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.qms_scope_item_id,\r\n                        serialNo: index + 1,\r\n                        site_scope: (() => {\r\n                            if (data.site_scope.split(\"\\n\").length > 1) {\r\n                                return data.site_scope.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_scope\" + strLineIndex}>{strLine}<br /></div>));\r\n                            }\r\n                            return data.site_scope;\r\n                        })(),\r\n                        site_scope_raw: data.site_scope,\r\n                        site_address: (() => {\r\n                            if (data.address.split(\"\\n\").length > 1) {\r\n                                return data.address.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_address\" + strLineIndex}>{strLine}<br /></div>));\r\n                            }\r\n                            return data.address;\r\n                        })(),\r\n                        parentItemID: data.parent_item_id\r\n                    })\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.content) {\r\n                        setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))))\r\n                    } else {\r\n                        setEditorState(() => (EditorState.createEmpty()));\r\n                    }\r\n\r\n                    console.log((draftToHtml(convertToRaw(editorState.getCurrentContent()))));\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                        docActive = true;\r\n\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.qms_scope_id,\r\n                        }\r\n                        console.log(formattedData);\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.qms_scope_id,\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n\r\n                    }\r\n\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.qms_scope_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/scope-of-qms/archived/${archivedData.qms_scope_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/${archivedData.qms_scope_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        }\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historyScopeOfQMSDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"qms-scopes\"\r\n                        idName=\"qms_scope_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Scope of QMS' activeLink=\"/scope-of-qms\">\r\n                <div className=\"c-Scope-of-QMS c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Scope of QMS</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Scope-of-QMS__Top c-Main__Top\">\r\n                        <h1>Scope of QMS</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"scopeOfQMS\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            editorState={editorState}\r\n                            setEditorState={setEditorState}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Scope-of-QMS__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"scopeOfQMS\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docColumns={docScopeOfQMSColumns}\r\n                                docType=\"scopeOfQMS\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                editorState={editorState}\r\n                                setEditorState={setEditorState}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Scope-of-QMS_Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyScopeOfQMSDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyScopeOfQMSColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMS;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { convertFromRaw, convertToRaw, EditorState } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport convert from 'htmr';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { docScopeOfQMSColumns } from '../../config/tableColumns';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSArchived = ({ match }) => {\r\n    const scopeOfQMSID = match.params.scopeOfQMSID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(scopeOfQMSID) && scopeOfQMSID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/${scopeOfQMSID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    // Format table data\r\n                    console.log(res);\r\n                    const formattedDocTableData = res.data.results[0].items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.qms_scope_item_id,\r\n                            serialNo: index + 1,\r\n                            site_scope: (() => {\r\n                                if (data.site_scope.split(\"\\n\").length > 1) {\r\n                                    return data.site_scope.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_scope\" + strLineIndex}>{strLine}<br /></div>));\r\n                                }\r\n                                return data.site_scope;\r\n                            })(),\r\n                            site_address: (() => {\r\n                                if (data.address.split(\"\\n\").length > 1) {\r\n                                    return data.address.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_address\" + strLineIndex}>{strLine}<br /></div>));\r\n                                }\r\n                                return data.address;\r\n                            })(),\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                    \r\n                    res.data.results.forEach((resObj) => {\r\n                        if (resObj.content) {\r\n                            setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))))\r\n                        } else {\r\n                            setEditorState(() => (EditorState.createEmpty()));\r\n                        }\r\n\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Scope of QMS' activeLink=\"/scope-of-qms\">\r\n            <div className=\"c-Scope-of-QMS c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/scope-of-qms\">Scope of QMS</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Scope-of-QMS__Top c-Main__Top\">\r\n                    <h1>Scope Of QMS (Archived)</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Scope-of-QMS__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                                    <p>Company Name:</p>\r\n                                    <p>Active on:</p>\r\n                                </div>\r\n                                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.title ? docHeaderData.title : \"Failed to load data\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* WYSIWYG editor section */}\r\n                            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                <div className=\"c-Scope-Of-QMS__WYSIWYG\">\r\n                                    {docHeaderData.content}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Table section */}\r\n                            <div className=\"c-Scope-of-QMS__Table\">\r\n                                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                                <BootstrapTable\r\n                                    keyField='id'\r\n                                    data={docTableData}\r\n                                    columns={docScopeOfQMSColumns}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSArchived;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { historyCompanyPolicyColumns } from '../../config/tableColumns';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n// To do wireframes first, then start setting up the 4 types of states of the documents\r\n\r\nconst CompanyPolicy = () => {\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    // Format data received from axiosResponse\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.policy_item_id,\r\n                    });\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    const formattedDocActiveTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocActiveTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    const formattedDocPendingTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    setDocPendingTableData(() => (formattedDocPendingTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.policy_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.policy_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.policy_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/company-policy/archived/${archivedData.policy_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/${archivedData.policy_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    const historyCompanyPolicyDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"policies\"\r\n                        idName=\"policy_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Company Policy' activeLink=\"/company-policy\">\r\n                <div className=\"c-Company-Policy c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Company Policy</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Company-Policy__Top c-Main__Top\">\r\n                        <h1>Company Policy</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            tabSettings={tabSettings}\r\n                            pageType=\"companyPolicy\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Company-Policy__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"companyPolicy\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docType=\"companyPolicy\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Company-Policy__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyCompanyPolicyDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyCompanyPolicyColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicy;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyArchived = ({ match }) => {\r\n    const companyPolicyID = match.params.companyPolicyID;     // get id of company policy\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(companyPolicyID) && companyPolicyID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/${companyPolicyID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = res.data.results.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.results.title,\r\n                        created_by: res.data.results.author.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_by: res.data.results.approver.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.results.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Company Policy' activeLink=\"/company-policy\">\r\n            <div className=\"c-Company-Policy c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/company-policy\">Company Policy</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                {/* Top section */}\r\n                <div className=\"c-Company-Policy__Top c-Main__Top\">\r\n                    <h1>Company Policy (Archived)</h1>\r\n                </div>\r\n                {/* Document section */}\r\n                <div className=\"c-Company-Policy__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Company policy cards section */}\r\n                            <div className=\"c-Company-Policy__Cards\">\r\n                                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                {/* Map through an array to display CompanyPolicyItem */}\r\n                                {docTableData.map((data, index) => (\r\n                                    <CompanyPolicyItem\r\n                                        key={index}\r\n                                        itemTitle={data.title}\r\n                                        itemContent={data.content}\r\n                                        itemIndex={index}\r\n                                    />\r\n                                ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    );\r\n}\r\n\r\nexport default CompanyPolicyArchived;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React from 'react';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { toast } from 'react-toastify';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst ManageDeleteRole = ({ deleteUrl, refreshUrl, setRoleData, idName }) => {\r\n    const token =  TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // Call endpoint to delete doc first\r\n    const deleteArchivedDoc = () => {\r\n        // Confirmation dialogue for deleting role\r\n        const message = `Are you sure you want to delete this role? Click confirm to proceed.`;\r\n        const handler = (onClose) => handleDeleteRole(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleDeleteRole = (onClose) => {\r\n            axios.delete(deleteUrl, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    axios.get(refreshUrl, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            // Set role data\r\n                            setRoleData(() => {\r\n                                return res.data.results.map((data, index) => {\r\n                                    return ({\r\n                                        ...data,\r\n                                        serialNo: index + 1,\r\n                                        created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                        updated_at: dayjs(new Date(data.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${data.role_id}`\r\n                                    });\r\n                                })\r\n                            })\r\n                            onClose();\r\n                            toast.success(<>Success!<br />Message: <b>Role Deleted!</b></>);\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            let errCode = \"Error!\";\r\n                            let errMsg = \"Error!\"\r\n                            if (err.response !== undefined) {\r\n                                errCode = err.response.status;\r\n                                errMsg = err.response.data.message;\r\n                            }\r\n                            onClose();\r\n\r\n                            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    onClose();\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        };\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Archived-Delete-Btn\">\r\n            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                <RiIcons.RiDeleteBin7Line onClick={deleteArchivedDoc} />\r\n            </IconContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ManageDeleteRole;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport ManageDeleteRole from '../ManageDeleteRole';\r\n\r\nconst RespNAuthority = () => {\r\n    const history = useHistory();\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const adminLevel = decodedToken.admin_level;    // 0 = normal user, 1 = secondary admin, 2 = super admin\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [roleData, setRoleData] = useState([]);\r\n    const [orgChartData, setOrgChartData] = useState([]);\r\n    const [isUploader, setIsUploader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Get org chart data\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-charts`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                console.log(res.data.results);\r\n                if (res.data.results !== undefined) {\r\n                    // to do setOrgchart here\r\n                    setOrgChartData(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return {\r\n                                id: data.chart_id,\r\n                                serialNo: index + 1,\r\n                                title: data.title,\r\n                                description: data.description,\r\n                                created_by: data.author.account.username,\r\n                                created_on: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_view: `/responsibility-n-authority/manage-org-chart/${data.chart_id}`\r\n                            }\r\n                        });\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // get all the roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.data.results !== undefined) {\r\n                    setRoleData(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                serialNo: index + 1,\r\n                                created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                updated_at: dayjs(new Date(data.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${data.role_id}`\r\n                            });\r\n                        })\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        // Check if user can upload chart\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsUploader(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    const docRespNAuthOrgChartColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'description',\r\n            text: 'Description',\r\n        },\r\n        {\r\n            dataField: 'created_by',\r\n            text: 'Created By',\r\n        },\r\n        {\r\n            dataField: 'created_on',\r\n            text: 'Submitted On',\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View more</a>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const docRespNAuthRolesColumns = [\r\n        {\r\n            dataField: 'role_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Role',\r\n        },\r\n        {\r\n            dataField: 'created_at',\r\n            text: 'Created',\r\n        },\r\n        {\r\n            dataField: 'updated_at',\r\n            text: 'Last Updated',\r\n        },\r\n        {\r\n            dataField: 'action_manage',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            formatter: (cell, row) => {\r\n                return <a href={`/responsibility-n-authority/manage-role/${row.role_id}`}>Manage</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteRole\r\n                        deleteUrl={cell}\r\n                        refreshUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`}\r\n                        setRoleData={setRoleData}\r\n                        idName=\"role_id\"\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Resp-N-Auth c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Resp-N-Auth__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Resp. & Authority</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Resp-N-Auth__Top c-Main__Top\">\r\n                        <h1>Responsibility & Authority</h1>\r\n                    </div>\r\n\r\n                    {/* Organisation chart section */}\r\n                    <div className=\"c-Resp-N-Auth__Org-Chart\">\r\n                        {/* Header + btn */}\r\n                        <div className=\"c-Org-Chart__Top\">\r\n                            <h1>Organisation Chart</h1>\r\n                            {\r\n                                isUploader ?\r\n                                    <button onClick={() => (history.push(\"/responsibility-n-authority/add-org-chart\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload Chart</button>\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </div>\r\n                        {/* Organisation chart Table */}\r\n                        <div className=\"c-Org-Chart__Table\">\r\n                            {\r\n                                orgChartData.length === 0 ?\r\n                                    \"No records found!\" :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={orgChartData}\r\n                                        columns={docRespNAuthOrgChartColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Roles section */}\r\n                    <div className=\"c-Resp-N-Auth__Roles\">\r\n\r\n                        {/* Header */}\r\n                        <div className=\"c-Roles__Top\">\r\n                            <h1>Roles</h1>\r\n                        </div>\r\n                        {/* Table */}\r\n                        <div className=\"c-Roles__Table\">\r\n                            <ToolkitProvider\r\n                                search\r\n                                keyField='serialNo'\r\n                                data={roleData}\r\n                                columns={docRespNAuthRolesColumns}\r\n                            >\r\n                                {\r\n                                    props => (\r\n                                        <div className=\"c-Table\">\r\n                                            <div className=\"c-Table__Top\">\r\n                                                <SearchBar {...props.searchProps} />\r\n                                                <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                {\r\n                                                    adminLevel !== 2 ?\r\n                                                        null :\r\n                                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => (history.push('/responsibility-n-authority/add-role'))}>Add role</button>\r\n                                                }\r\n                                            </div>\r\n                                            <hr />\r\n                                            {\r\n                                                roleData.length !== 0 ?\r\n                                                    <BootstrapTable\r\n                                                        {...props.baseProps}\r\n                                                        bordered={false}\r\n                                                        pagination={paginationFactory()}\r\n                                                    />\r\n                                                    :\r\n                                                    \"No records found!\"\r\n                                            }\r\n\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </ToolkitProvider>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthority;\r\n","export const normalPermissionListArr = [\r\n    {\r\n        moduleCode: \"m01_01\",\r\n        description: {\r\n            edit: \"Edit Scope\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m02_01\",\r\n        description: {\r\n            edit: \"Edit Normative References\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m03_01\",\r\n        description: {\r\n            edit: \"Edit Terms and Definition\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_01\",\r\n        description: {\r\n            edit: \"Edit SWOT\",\r\n            approve: \"Approve/Reject SWOT documents \"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_02\",\r\n        description: {\r\n            edit: \"Edit Interested Parties\",\r\n            approve: \"Approve/Reject Interested Parties documents\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_03\",\r\n        description: {\r\n            edit: \"Edit Scope of QMS\",\r\n            approve: \"Approve/Reject Scope of QMS\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m05_02\",\r\n        description: {\r\n            edit: \"Edit Company Policy\",\r\n            approve: \"Approve/Reject Company Policy\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m05_03\",\r\n        description: {\r\n            edit: \"Upload and Edit Organisation Chart\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m06_01\",\r\n        description: {\r\n            edit: \"Edit Risk & Opportunity\",\r\n            approve: \"Approve/Reject Risk & Opportunity\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m06_02\",\r\n        description: {\r\n            edit: \"Edit Objective Achievement Program\",\r\n            approve: \"Approve/Reject Objective Achievement Program\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m07_01\",\r\n        description: {\r\n            edit: \"Permission to be assigned to Equipment Maintenance items\",\r\n            approve: \"Permission to Create Equipment Maintenance Program attributes\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m07_02\",\r\n        description: {\r\n            edit: \"Permission to be assigned to Permits/licenses items\",\r\n            approve: \"Permission to Create Permits/licenses\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m07_03a\",\r\n        description: {\r\n            edit: \"Permission to create training requests\",\r\n            approve: \"Permission to approve training requests\"\r\n        }\r\n    },\r\n];\r\n\r\nexport const advancedPermissionListArr = [\r\n    {\r\n\r\n    }\r\n]","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { normalPermissionListArr } from '../../config/permissionListArr';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityAddRole = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [roleInputData, setRoleInputData] = useState({\r\n        name: \"\",\r\n        responsibility: \"\",\r\n        rights: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // scroll to top when component is rendered\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                return normalPermissionListArr.map((data, index) => {\r\n                    return {\r\n                        [data.moduleCode]: {\r\n                            edit: false,\r\n                            approve: false\r\n                        }\r\n                    };\r\n                });\r\n            })()\r\n        }));\r\n\r\n    }, []);\r\n    console.log(roleInputData);\r\n\r\n    // Handler for add role button\r\n    const handeInputChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Check if checkbox is checked\r\n    const checkCheckboxChecked = (moduleCodeAndRights) => {\r\n        const checkModuleCode = moduleCodeAndRights.split(\" \")[0];\r\n        const checkModuleRights = moduleCodeAndRights.split(\" \")[1];\r\n        let checkCheckboxChecked = false;\r\n        roleInputData.rights.forEach((data, index) => {\r\n            const moduleCode = Object.keys(data)[0];\r\n            if (moduleCode === checkModuleCode) {\r\n                if (checkModuleRights === \"edit\") {\r\n                    checkCheckboxChecked = data[moduleCode].edit;\r\n                } else {\r\n                    checkCheckboxChecked = data[moduleCode].approve;\r\n                }\r\n            }\r\n        });\r\n        return checkCheckboxChecked;\r\n    }\r\n\r\n    // Handler for add role button\r\n    const handleAddRole = () => {\r\n\r\n        const formattedInsertData = {\r\n            ...roleInputData,\r\n            rights: (() => {\r\n                let tempRightsObj = {};\r\n                for (var i = 0; i < roleInputData.rights.length; i++) {\r\n                    const moduleCode = Object.keys(roleInputData.rights[i])[0];\r\n                    tempRightsObj[moduleCode] = {\r\n                        approve: roleInputData.rights[i][moduleCode].approve,\r\n                        edit: roleInputData.rights[i][moduleCode].edit,\r\n                    };\r\n                }\r\n                return tempRightsObj;\r\n            })()\r\n        };\r\n        console.log(formattedInsertData)\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, formattedInsertData, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            history.push('/responsibility-n-authority');\r\n            // Need to set time out so that toast request will not be flushed out\r\n            setTimeout(function () {\r\n                toast.success(<>Success!<br />Message: <b>Role has been added!</b></>);\r\n            }, 0);\r\n\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        })\r\n    };\r\n\r\n    // Handler for checkbox change\r\n    const handleCheckboxChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                console.log(prevState);\r\n                return prevState.rights.map((data, index) => {\r\n                    const moduleCode = Object.keys(data)[0];\r\n                    const checkModuleCode = event.target.name.split(\" \")[0];\r\n                    const checkIfEditExist = event.target.name.split(\" \")[1] === \"edit\";\r\n                    if (moduleCode === checkModuleCode) {\r\n                        if (checkIfEditExist) {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: data[moduleCode].approve,\r\n                                    edit: !data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: !data[moduleCode].approve,\r\n                                    edit: data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            })()\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <form onSubmit={(event) => (event.preventDefault())} className=\"c-Add-role c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Add-role__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Role</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Add-role__Top c-Main__Top\">\r\n                        <h1>Add Role</h1>\r\n                    </div>\r\n\r\n                    {/* Configurations section */}\r\n                    <div className=\"c-Add-role__Configs\">\r\n                        {/* Left section */}\r\n                        <div className=\"l-Configs__Left\">\r\n                            <h1>Basic Details</h1>\r\n                            {/* Role name */}\r\n                            <div className=\"c-Configs__Role-name\">\r\n                                <label htmlFor=\"name\">Role Name</label>\r\n                                <input type=\"text\" name=\"name\" value={roleInputData.name} onChange={handeInputChange} />\r\n                            </div>\r\n                            {/* Description */}\r\n                            <div className=\"c-Configs__Description\">\r\n                                <label htmlFor=\"responsibility\">Responsibility</label>\r\n                                <textarea wrap=\"hard\" name=\"responsibility\" value={roleInputData.responsibility} onChange={handeInputChange} />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {/* Vertical line */}\r\n                        <div className=\"l-Configs__VL\" >\r\n                            <span className=\"c-Configs__VL\"></span>\r\n                        </div>\r\n\r\n                        {/* Right section */}\r\n                        <div className=\"l-Configs__Right\">\r\n                            <div className=\"c-Configs-Permissions\">\r\n                                <h1>Permissions</h1>\r\n                                {/* TBC: do mapping of rules here */}\r\n                                {\r\n                                    normalPermissionListArr.map((data, index) => {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                {/* Edit */}\r\n                                                <div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                    <label htmlFor={data.moduleCode + \" edit\"}>{data.description.edit}</label>\r\n                                                    <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" edit\") || false} name={data.moduleCode + \" edit\"} value={`${data.moduleCode} edit`} />\r\n                                                </div>\r\n                                                {\r\n                                                    data.moduleCode === \"m05_03\" || data.moduleCode === \"m01_01\" || data.moduleCode === \"m02_01\" || data.moduleCode === \"m03_01\" ?\r\n                                                        null :\r\n\r\n                                                        < div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                            <label htmlFor={data.moduleCode + \" approve\"}>{data.description.approve}</label>\r\n                                                            <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" approve\") || false} name={data.moduleCode + \" approve\"} value={`${data.moduleCode} approve`} />\r\n                                                        </div>\r\n                                                }\r\n\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Button section */}\r\n                    <div className=\"c-Add-role__Btns\">\r\n                        <button type=\"button\" onClick={handleAddRole} className=\"c-Btn c-Btn--primary\">Add Role</button>\r\n                        <button type=\"button\" onClick={() => (history.push(\"/responsibility-n-authority\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                    </div>\r\n\r\n\r\n                </form>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityAddRole;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Search } from 'react-bootstrap-table2-toolkit';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { normalPermissionListArr } from '../../config/permissionListArr';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RespNAuthorityManageRole = ({ match }) => {\r\n    const roleID = match.params.roleID;     // get id of role\r\n    const history = useHistory();\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);   // Tracks if sidenav is collapsed\r\n    const [roleInputData, setRoleInputData] = useState({\r\n        name: \"\",\r\n        responsibility: \"\",\r\n        rights: []\r\n    });\r\n    const [renderErrorPage, setRenderErrorPage] = useState(false);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);  // scroll to top when component is rendered\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${roleID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRoleInputData(() => {\r\n                    return {\r\n                        name: res.data.results.name,\r\n                        responsibility: res.data.results.responsibility,\r\n                        rights: (() => {\r\n                            const fullPermissionList = normalPermissionListArr.map((data, index) => {\r\n                                return {\r\n                                    [data.moduleCode]: {\r\n                                        edit: false,\r\n                                        approve: false\r\n                                    }\r\n                                };\r\n                            });\r\n                            // push all the objects in rights to array\r\n                            let rightsObjSize = Object.keys(res.data.results.rights).length;\r\n                            for (let i = 0; i < rightsObjSize; i++) {\r\n                                const moduleCode = Object.keys(res.data.results.rights)[i];\r\n                                const canEdit = res.data.results.rights[moduleCode].edit;\r\n                                if (canEdit) {\r\n                                    for (let v = 0; v < fullPermissionList.length; v++) {\r\n                                        const checkModuleCode = Object.keys(fullPermissionList[v])[0];\r\n                                        console.log(fullPermissionList[v])\r\n                                        if (checkModuleCode === moduleCode) {\r\n                                            fullPermissionList[v] = {\r\n                                                [moduleCode]: {\r\n                                                    ...fullPermissionList[v][moduleCode],\r\n                                                    edit: true,\r\n                                                }\r\n                                            };\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                const canApprove = res.data.results.rights[moduleCode].approve;\r\n                                if (canApprove) {\r\n                                    for (let v = 0; v < fullPermissionList.length; v++) {\r\n                                        const checkModuleCode = Object.keys(fullPermissionList[v])[0];\r\n                                        if (moduleCode === checkModuleCode) {\r\n                                            fullPermissionList[v] = {\r\n                                                [moduleCode]: {\r\n                                                    ...fullPermissionList[v][moduleCode],\r\n                                                    approve: true,\r\n                                                }\r\n                                            };\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            };\r\n                            console.log(fullPermissionList);\r\n                            return fullPermissionList;\r\n                        })()\r\n                    }\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\";\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n\r\n    }, []);\r\n\r\n\r\n    const docRespNAuthOrgChartColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'description',\r\n            text: 'Description',\r\n        },\r\n        {\r\n            dataField: 'created_by',\r\n            text: 'Created By',\r\n        },\r\n        {\r\n            dataField: 'created_on',\r\n            text: 'Submitted On',\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View more</a>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const manageRoleUserColumn = [\r\n        {\r\n            dataField: 'role_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'user',\r\n            text: 'User',\r\n        },\r\n    ];\r\n\r\n    // Mock data, eventually you'll need to call endpoint and shift the columns to config/tableColumns.js\r\n    const mockDocData = [\r\n        { id: 1, name: 'George', animal: 'Monkey' },\r\n        { id: 2, name: 'Jeffrey', animal: 'Giraffe' },\r\n        { id: 3, name: 'Alice', animal: 'Giraffe' },\r\n        { id: 4, name: 'Alice', animal: 'Tiger' }\r\n    ];\r\n    // Check if checkbox is checked\r\n    const checkCheckboxChecked = (moduleCodeAndRights) => {\r\n        const checkModuleCode = moduleCodeAndRights.split(\" \")[0];\r\n        const checkModuleRights = moduleCodeAndRights.split(\" \")[1];\r\n        let checkCheckboxChecked = false;\r\n        console.log(roleInputData);\r\n        roleInputData.rights.forEach((data, index) => {\r\n            const moduleCode = Object.keys(data)[0];\r\n            if (moduleCode === checkModuleCode) {\r\n                if (checkModuleRights === \"edit\") {\r\n                    checkCheckboxChecked = data[moduleCode].edit;\r\n                } else {\r\n                    checkCheckboxChecked = data[moduleCode].approve;\r\n                }\r\n            }\r\n        });\r\n        return checkCheckboxChecked;\r\n    };\r\n\r\n    // Handler for add role button\r\n    const handeInputChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handler for checkbox change\r\n    const handleCheckboxChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                return prevState.rights.map((data, index) => {\r\n                    const moduleCode = Object.keys(data)[0];\r\n                    const checkModuleCode = event.target.name.split(\" \")[0];\r\n                    const checkIfEditExist = event.target.name.split(\" \")[1] === \"edit\";\r\n                    if (moduleCode === checkModuleCode) {\r\n                        if (checkIfEditExist) {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: data[moduleCode].approve,\r\n                                    edit: !data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: !data[moduleCode].approve,\r\n                                    edit: data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            })()\r\n        }));\r\n    };\r\n\r\n    const handleSaveBtn = () => {\r\n        const formattedInsertData = {\r\n            ...roleInputData,\r\n            rights: (() => {\r\n                let tempRightsObj = {};\r\n                for (var i = 0; i < roleInputData.rights.length; i++) {\r\n                    const moduleCode = Object.keys(roleInputData.rights[i])[0];\r\n                    tempRightsObj[moduleCode] = {\r\n                        approve: roleInputData.rights[i][moduleCode].approve,\r\n                        edit: roleInputData.rights[i][moduleCode].edit,\r\n                    };\r\n                }\r\n                return tempRightsObj;\r\n            })()\r\n        };\r\n        console.log(formattedInsertData)\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${roleID}`, formattedInsertData, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            toast.success(<>Success!<br />Message: <b>Role has been updated!</b></>);\r\n            window.scrollTo(0, 0);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Manage-role c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-role__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Role</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-role__Top c-Main__Top\">\r\n                        <h1>Manage Role</h1>\r\n                    </div>\r\n\r\n                    {/* Configurations section */}\r\n                    <div className=\"c-Manage-role__Configs\">\r\n                        {/* Left section */}\r\n                        <div className=\"l-Configs__Left\">\r\n                            <h1>Basic Details</h1>\r\n                            {/* Role name */}\r\n                            <div className=\"c-Configs__Role-name\">\r\n                                <label htmlFor=\"name\">Role Name</label>\r\n                                <input type=\"text\" name=\"name\" value={roleInputData.name} onChange={handeInputChange} />\r\n                            </div>\r\n                            {/* Description */}\r\n                            <div className=\"c-Configs__Description\">\r\n                                <label htmlFor=\"responsibility\">Responsibility</label>\r\n                                <textarea wrap=\"hard\" name=\"responsibility\" value={roleInputData.responsibility} onChange={handeInputChange} />\r\n                            </div>\r\n\r\n                            {/* User list */}\r\n                            {/* <div className=\"c-Configs__User-list\">\r\n                                <h2>Users</h2>\r\n                                <div className=\"c-User-list__Table\">\r\n                                    <ToolkitProvider\r\n                                        search\r\n                                    >\r\n                                        {\r\n                                            props => (\r\n                                                <div className=\"c-Table\">\r\n                                                    <div className=\"c-Table__Top\">\r\n                                                        <SearchBar {...props.searchProps} />\r\n                                                        <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                        <button type=\"button\" className=\"c-Btn c-Btn--link\" onClick={() => (history.push('/settings/manage-users'))}>Manage Users</button>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <BootstrapTable\r\n                                                        {...props.baseProps}\r\n                                                        bordered={false}\r\n                                                        keyField='serialNo'\r\n                                                        data={mockDocData}\r\n                                                        columns={manageRoleUserColumn}\r\n                                                        pagination={ paginationFactory() }\r\n                                                    />\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    </ToolkitProvider>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n\r\n                        {/* Vertical line */}\r\n                        <div className=\"l-Configs__VL\" >\r\n                            <span className=\"c-Configs__VL\"></span>\r\n                        </div>\r\n\r\n                        {/* Right section */}\r\n                        <div className=\"l-Configs__Right\">\r\n                            <div className=\"c-Configs-Permissions\">\r\n                                <h1>Permissions</h1>\r\n                                {/* TBC: do mapping of rules here */}\r\n                                {\r\n                                    normalPermissionListArr.map((data, index) => {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                {/* Edit */}\r\n                                                <div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                    <label htmlFor={data.moduleCode + \" edit\"}>{data.description.edit}</label>\r\n                                                    <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" edit\") || false} name={data.moduleCode + \" edit\"} value={`${data.moduleCode} edit`} />\r\n                                                </div>\r\n                                                {\r\n                                                    data.moduleCode === \"m05_03\" || data.moduleCode === \"m01_01\" || data.moduleCode === \"m02_01\" || data.moduleCode === \"m03_01\" ?\r\n                                                        null :\r\n\r\n                                                        < div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                            <label htmlFor={data.moduleCode + \" approve\"}>{data.description.approve}</label>\r\n                                                            <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" approve\") || false} name={data.moduleCode + \" approve\"} value={`${data.moduleCode} approve`} />\r\n                                                        </div>\r\n                                                }\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Button section */}\r\n                    <div className=\"c-Manage-role__Btns\">\r\n                        <button type=\"button\" onClick={handleSaveBtn} className=\"c-Btn c-Btn--primary\">Save</button>\r\n                        <button type=\"button\" onClick={() => (history.push(\"/responsibility-n-authority\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityManageRole;","import axios from 'axios';\r\nimport React, { useRef, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityAddChart = () => {\r\n    const history = useHistory();\r\n    const fileRef = useRef();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [orgChartData, setOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        file: \"\"\r\n    });\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // Handle submit and cancel buttons\r\n    const handleBtn = (btnType) => {\r\n        if (btnType === \"submit\") {\r\n            if (orgChartData.title === \"\" || orgChartData.description === \"\" || orgChartData.file === \"\") {\r\n                toast.error(<>Error! Some fields are empty!</>);\r\n                return;\r\n            }\r\n            const formData = new FormData();\r\n\r\n            formData.append(\"title\", orgChartData.title);\r\n            formData.append(\"description\", orgChartData.description);\r\n            formData.append(\"display_order\", 1);\r\n            formData.append(\"chart\", orgChartData.file);\r\n\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-charts`, formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Chart has been added!</b></>);\r\n                    }, 0);\r\n                    history.push('/responsibility-n-authority');\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n\r\n        } else {\r\n            // Reset the data\r\n            setOrgChartData(() => ({\r\n                title: \"\",\r\n                description: \"\",\r\n                file: \"\"\r\n            }));\r\n            history.push(\"/responsibility-n-authority\");\r\n        }\r\n    };\r\n\r\n    // Handle file input change\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        setOrgChartData((prevState) => {\r\n            return {\r\n                ...prevState,\r\n                file: fileObj\r\n            }\r\n        })\r\n    };\r\n\r\n    // Handle input change \r\n    const handleInputChange = (event) => {\r\n        setOrgChartData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Upload Chart\" activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Add-chart c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Add-chart__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Organisation Chart</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Add-chart__Top c-Main__Top\">\r\n                        <h1>Add Organisation Chart</h1>\r\n                    </div>\r\n                    {/* Input */}\r\n                    <div className=\"c-Add-chart__Inputs\">\r\n                        <div className=\"c-Add-chart__Title c-Input\">\r\n                            <label htmlFor=\"title\">Title</label>\r\n                            <input onChange={handleInputChange} type=\"text\" value={orgChartData.title || \"\"} name=\"title\" placeholder=\"Enter title\" />\r\n                        </div>\r\n                        <div className=\"c-Add-chart__Description c-Input\">\r\n                            <label htmlFor=\"description\">Description</label>\r\n                            <input onChange={handleInputChange} type=\"text\" value={orgChartData.description || \"\"} name=\"description\" placeholder=\"Enter description\" />\r\n                        </div>\r\n                        <div className=\"c-Add-chart__Upload-file c-Input\">\r\n                            <label htmlFor=\"file\">File</label>\r\n                            <input onChange={handleFileInputChange} type=\"file\" name=\"file\" ref={fileRef} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"c-Add-chart__Btns\">\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"submit\")}>Submit</button>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleBtn(\"cancel\")}>Cancel</button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityAddChart;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityManageChart = ({ match }) => {\r\n    const orgChartID = match.params.orgChartID;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [orgChartData, setOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        createdBy: \"\",\r\n        submittedOn: \"\",\r\n        fileName: \"\"\r\n    });\r\n    const [editableOrgChartData, setEditableOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        createdBy: \"\",\r\n        submittedOn: \"\",\r\n        fileName: \"\"\r\n    })\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [rerender, setRerender] = useState(false);\r\n    const [isUploader, setIsUploader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setOrgChartData(() => ({\r\n                    title: res.data.results.title,\r\n                    description: res.data.results.description,\r\n                    createdBy: res.data.results.author.account.username,\r\n                    submittedOn: dayjs(new Date(res.data.results.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    fileName: res.data.results.file.file_name,\r\n                    fileID: res.data.results.file_id\r\n                }));\r\n                setEditableOrgChartData(() => ({\r\n                    title: res.data.results.title,\r\n                    description: res.data.results.description,\r\n                    createdBy: res.data.results.author.account.username,\r\n                    submittedOn: dayjs(new Date(res.data.results.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    fileName: res.data.results.file.file_name\r\n                }))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Check if user can edit chart\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                res.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        canEdit = true;\r\n                    }\r\n                });\r\n                if (canEdit === true) {\r\n                    setIsUploader(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [rerender]);\r\n\r\n    // Handle submit and cancel buttons\r\n    const handleBtn = (btnType) => {\r\n        if (btnType === \"submit\") {\r\n\r\n            if (editableOrgChartData.title === \"\" || editableOrgChartData.description === \"\") {\r\n                toast.error(<>Error! Some fields are empty!</>);\r\n                return;\r\n            }\r\n\r\n            const axiosSubmitData = {\r\n                title: editableOrgChartData.title,\r\n                description: editableOrgChartData.description,\r\n                display_order: 1\r\n            };\r\n\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, axiosSubmitData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>Organisation chart details successfully updated!</b></>);\r\n                    setEditMode(() => false);\r\n                    setRerender((prevState) => !prevState);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        } else if (btnType === \"delete\") {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Organisation chart has been deleted!</b></>);\r\n                    }, 0);\r\n                    setEditMode(() => false);\r\n                    history.push(\"/responsibility-n-authority\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        } else if (btnType === \"edit\") {\r\n            setEditMode(() => true);\r\n        } else {\r\n            // Reset the data\r\n            setEditableOrgChartData(() => (orgChartData));\r\n            setEditMode(() => false);\r\n        }\r\n    };\r\n\r\n    // Handle input change \r\n    const handleInputChange = (event) => {\r\n        setEditableOrgChartData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handle file download\r\n    const handleFileDownload = (fileID, fileName) => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${fileID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n            responseType: 'blob'\r\n        })\r\n            .then((res) => {\r\n                FileDownload(res.data, fileName);\r\n                toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    const renderEditMode = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Manage-chart__Inputs\">\r\n                    <div className=\"c-Manage-chart__Title c-Input\">\r\n                        <label htmlFor=\"title\">Title</label>\r\n                        <textarea onChange={handleInputChange} type=\"text\" value={editableOrgChartData.title || \"\"} name=\"title\" placeholder=\"Enter title\"></textarea>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Description c-Input\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <textarea onChange={handleInputChange} type=\"text\" value={editableOrgChartData.description || \"\"} name=\"description\" placeholder=\"Enter description\"></textarea>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Created-by c-Input\">\r\n                        <label htmlFor=\"createdBy\">Created By</label>\r\n                        <input type=\"text\" value={orgChartData.createdBy || \"Error\"} name=\"createdBy\" disabled />\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Submitted-on c-Input\">\r\n                        <label htmlFor=\"submittedOn\">Submitted On</label>\r\n                        <input type=\"text\" value={orgChartData.submittedOn || \"Error\"} name=\"submittedOn\" disabled />\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Details c-Input\">\r\n                        <label htmlFor=\"details\">Details</label>\r\n                        {\r\n                            orgChartData.fileName === \"\" ?\r\n                            \"Failed to load data\" :\r\n                            <button onClick={() => handleFileDownload(orgChartID, orgChartData.fileName)} className=\"c-Btn c-Btn--link\">Download</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n    const renderViewMode = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Manage-chart__Inputs\">\r\n                    <div className=\"c-Manage-chart__Title c-Input\">\r\n                        <h1>Title</h1>\r\n                        <p>{orgChartData.title || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Description c-Input\">\r\n                        <h1>Description</h1>\r\n                        <p>{orgChartData.description || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Created-by c-Input\">\r\n                        <h1>Created By</h1>\r\n                        <p>{orgChartData.createdBy || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Submitted-on c-Input\">\r\n                        <h1>Submitted On</h1>\r\n                        <p>{orgChartData.submittedOn || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Details c-Input\">\r\n                        <h1>Details</h1>\r\n                        {\r\n                            orgChartData.fileName === \"\" ?\r\n                            \"Failed to load data\" :\r\n                            <button onClick={() => handleFileDownload(orgChartID, orgChartData.fileName)} className=\"c-Btn c-Btn--link\">Download</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Upload Chart\" activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Manage-chart c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-chart__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Organisation Chart</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-chart__Top c-Main__Top\">\r\n                        <h1>Manage Organisation Chart</h1>\r\n                    </div>\r\n                    {/* Input */}\r\n                    {\r\n                        editMode ?\r\n                            renderEditMode() :\r\n                            renderViewMode()\r\n                    }\r\n                    {/* Buttons section */}\r\n                    {\r\n                        isUploader ?\r\n                        orgChartData.title === \"\" ?\r\n                            null :\r\n                            editMode ?\r\n                                <div className=\"c-Manage-chart__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"submit\")}>Submit</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleBtn(\"cancel\")}>Cancel</button>\r\n                                </div>\r\n                                :\r\n                                <div className=\"c-Manage-chart__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"edit\")}>Edit</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--alert\" onClick={() => handleBtn(\"delete\")}>Delete</button>\r\n                                </div>\r\n                            :\r\n                        null\r\n                    }\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityManageChart;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { historyRiskNOppColumns } from '../../config/tableColumns';\r\nimport useCheckEditableAxios from '../../hooks/useCheckEditableAxios';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RiskNOpp = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docHeaderData, setDocHeaderData] = useState([]);\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    }); // contains swot data and risk n opp data\r\n    const [docEditTableData, setDocEditTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n    }); // gets data about swot only, risk analysis done separately in useEffect\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    // These two const below are used for checking if user can edit\r\n    const [queryCheckEditableAxiosUrl, setQueryCheckEditableAxiosUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_01/employees`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/pending`,\r\n        thirdUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/rejected`,\r\n    })\r\n    const [checkEditableAxiosResponse, checkEditableAxiosError] = useCheckEditableAxios(queryCheckEditableAxiosUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = {\r\n                    strength: axiosResponse.resultDocTable.results.strengths.map((strengthData, strengthIndex) => {\r\n                        return {\r\n                            serialNo: strengthIndex + 1,\r\n                            id: strengthData.fk_risks_analysis_id,\r\n                            swot_item_id: strengthData.fk_swot_item_id,\r\n                            content: strengthData.swot.content,\r\n                            type: strengthData.type,\r\n                            severity: strengthData.severity,\r\n                            likelihood: strengthData.likelihood,\r\n                            rpn: strengthData.rpn,\r\n                            action: strengthData.action,\r\n                            modified: dayjs(new Date(strengthData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    weakness: axiosResponse.resultDocTable.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                        return {\r\n                            serialNo: weaknessIndex + 1,\r\n                            id: weaknessData.fk_risks_analysis_id,\r\n                            swot_item_id: weaknessData.fk_swot_item_id,\r\n                            content: weaknessData.swot.content,\r\n                            type: weaknessData.type,\r\n                            severity: weaknessData.severity,\r\n                            likelihood: weaknessData.likelihood,\r\n                            rpn: weaknessData.rpn,\r\n                            action: weaknessData.action,\r\n                            modified: dayjs(new Date(weaknessData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    opp: axiosResponse.resultDocTable.results.opportunities.map((oppData, oppIndex) => {\r\n                        return {\r\n                            serialNo: oppIndex + 1,\r\n                            id: oppData.fk_risks_analysis_id,\r\n                            swot_item_id: oppData.fk_swot_item_id,\r\n                            content: oppData.swot.content,\r\n                            type: oppData.type,\r\n                            severity: oppData.severity,\r\n                            likelihood: oppData.likelihood,\r\n                            rpn: oppData.rpn,\r\n                            action: oppData.action,\r\n                            modified: dayjs(new Date(oppData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    threat: axiosResponse.resultDocTable.results.threats.map((threatData, threatIndex) => {\r\n                        return {\r\n                            serialNo: threatIndex + 1,\r\n                            id: threatData.fk_risks_analysis_id,\r\n                            swot_item_id: threatData.fk_swot_item_id,\r\n                            content: threatData.swot.content,\r\n                            type: threatData.type,\r\n                            severity: threatData.severity,\r\n                            likelihood: threatData.likelihood,\r\n                            rpn: threatData.rpn,\r\n                            action: threatData.action,\r\n                            modified: dayjs(new Date(threatData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    })\r\n                };\r\n\r\n                if (docQueryEnum === 'active') {\r\n                    if (checkEditableAxiosResponse !== null) {\r\n                        // check if user can edit\r\n                        let canEdit = false;\r\n                        checkEditableAxiosResponse.checkIfEmployeeCanEdit.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (checkEditableAxiosResponse.checkIfPendingExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        if (checkEditableAxiosResponse.checkIfRejectedExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        console.log(checkEditableAxiosResponse)\r\n\r\n                        if (canEdit === true) {\r\n                            setIsEditor(() => (true));\r\n                        } else {\r\n                            setIsEditor(() => (false));\r\n                        }\r\n                    }\r\n\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n\r\n                    //  Active tab\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    }\r\n                    //  Pending tab\r\n                    else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.risks_analysis_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    }\r\n                    // Rejected tab\r\n                    else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.risks_analysis_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.NEW;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data (More refinements to be done)\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.risks_analysis_id,\r\n                        serialNo: index + 1,\r\n                        approved_by: `${archivedData.approver.firstname} ${archivedData.approver.lastname}`,\r\n                        approved_on: dayjs(new Date(archivedData.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/risk-n-opportunity/archived/${archivedData.risks_analysis_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/${archivedData.risks_analysis_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        } // end of if (axiosResponse != null)\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse, checkEditableAxiosResponse]);\r\n\r\n    const historyRiskNOppDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"risks-analyses\"\r\n                        idName=\"risks_analysis_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Risk and Opportunity' activeLink=\"/risk-n-opportunity\">\r\n                <div className=\"c-RNO c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-RNO__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Risk and Opportunity</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-RNO__Top c-Main__Top\">\r\n                        <h1>Risk and Opportunity</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"riskNOpp\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-RNO__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"riskNOpp\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docType=\"riskNOpp\"\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-RNO__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyRiskNOppDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyRiskNOppColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RiskNOpp;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport TabRow from '../../common/TabRow';\r\nimport config from '../../config/config';\r\nimport { TAB } from '../../config/enums';\r\nimport { historyObjAchivColumns } from '../../config/tableColumns';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ObjAchivProgram = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active');\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    const [tempFileArr, setTempFileArr] = useState([]);\r\n\r\n    // Mock data, eventually you'll need to call endpoint and shift the columns to config/tableColumns.js\r\n\r\n\r\n    const mockDataColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id'\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'filename',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'status',\r\n            text: 'Status'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            console.log(axiosResponse);\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                console.log(axiosResponse.resultDocTable);\r\n\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.achievement_item_id,\r\n                        serialNo: index + 1,\r\n                        parentItemID: data.parent_item_id,\r\n                        data: data.data.map((innerData, innerIndex) => ({\r\n                            ...innerData,\r\n                            serialNo: innerIndex + 1,\r\n                            file: {\r\n                                ...innerData.file,\r\n                                name: innerData.file_name\r\n                            }\r\n                        }))\r\n                    })\r\n                });\r\n                console.log(formattedDocTableData);\r\n                if (docQueryEnum === 'active') {\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.achievement_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.achievement_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                console.log(filteredArchivedDocData);\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.achievement_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/objective-achievement-program/archived/${archivedData.achievement_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/${archivedData.achievement_id}`\r\n                    });\r\n                });\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        } \r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    const historyObjAchivDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"objective-achievements\"\r\n                        idName=\"achievement_id\"\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Objective Achievement Program' activeLink=\"/objective-achievement-program\">\r\n                <div className=\"c-Obj-Achiv-Program c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Objective Achivement Program</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Top c-Main__Top\">\r\n                        <h1>Objective Achievement Program</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"objAchivProgram\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            tempFileArr={tempFileArr}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"objAchivProgram\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                setDocPendingTableData={setDocPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docColumns={mockDataColumns}\r\n                                docType=\"objAchivProgram\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                tempFileArr={tempFileArr}\r\n                                setTempFileArr={setTempFileArr}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyObjAchivDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyObjAchivColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgram;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ObjAchivProgramArchived = ({ match }) => {\r\n    const oapID = match.params.oapID;     // get id of company policy\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(oapID) && oapID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/${oapID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    if (res.data.results !== undefined) {\r\n                        const formattedDocTableData = res.data.results.items.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                id: data.achievement_id,\r\n                            });\r\n                        });\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                        // Format document header data\r\n                        const formattedData = {\r\n                            title: res.data.results.title,\r\n                            created_by: res.data.results.author.firstname + \" \" + res.data.results.author.lastname,\r\n                            approved_by: res.data.results.approver.firstname + \" \" + res.data.results.author.lastname,\r\n                            approved_on: dayjs(new Date(res.data.results.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    } else {\r\n                        // Format dopcument table data\r\n                        const formattedDocTableData = res.data.items.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                id: data.achievement_id,\r\n                            });\r\n                        });\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    \r\n                        // Format document header data\r\n                        const formattedData = {\r\n                            title: res.data.title,\r\n                            created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                            approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                            approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    }\r\n\r\n\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Objective Achievement Program' activeLink=\"/objective-achievement-program\">\r\n            <div className=\"c-Obj-Achiv-Program c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/objective-achievement-program\">Objective Achivement Program</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                {/* Top section */}\r\n                <div className=\"c-Obj-Achiv-Program__Top c-Main__Top\">\r\n                    <h1>Objective Achievement Program</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Obj-Achiv-Program__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout>\r\n                        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Map through an array to display ObjAchivProgramItem */}\r\n                            {docTableData.map((data, index) => (\r\n                                <ObjAchivProgramItem\r\n                                    key={index}\r\n                                    docType=\"active\"\r\n                                    itemContent={data}\r\n                                />\r\n                            ))\r\n                            }\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramArchived;","import React from 'react'\r\n\r\nconst SettingsBentoBox = ({ type, link, linkDisplay, children }) => {\r\n    return (\r\n        <div className=\"l-Settings-Bento-Box\">\r\n            <div className=\"c-Settings-Bento-Box\">\r\n                {/* Main content */}\r\n                <div className={type === 'row' ? \"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row\" : \"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column\"}>\r\n                    {children}\r\n                </div>\r\n                {/* Link to page */}\r\n                <div className=\"c-Settings-Bento-Box__Link\" >\r\n                    <a href={link}>{linkDisplay}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SettingsBentoBox;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport SettingsBentoBox from '../common/SettingsBentoBox';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst Settings = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const displayName =  decodedToken.display_name;\r\n    const jobTitle =  decodedToken.display_title;\r\n    const email =  decodedToken.email;\r\n    const companyName =  decodedToken.company_name;\r\n    const companyAlias =  decodedToken.company_alias;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [adminLevel, setAdminLevel] = useState(null);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setAdminLevel(() => res.data.results.admin_level);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Settings\" activeLink=\"/settings\">\r\n\r\n                <div className=\"c-Settings c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Settings__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Settings</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Page header */}\r\n                    <div className=\"c-Settings__Top c-Main__Top\">\r\n                        <h1>Settings</h1>\r\n                    </div>\r\n\r\n                    {/* Bento box section */}\r\n                    <div className=\"l-Settings__Bento-box\">\r\n                        {/* User settings */}\r\n                        <div className=\"l-Bento-box__User-settings l-Bento-box\">\r\n                            <h2 className=\"l-Bento-box__Header\">User Settings</h2>\r\n                            <SettingsBentoBox type=\"row\" link=\"/settings/manage-account\" linkDisplay=\"Manage your account settings\">\r\n                                <div className=\"c-Settings-Bento-Box__User-image\">\r\n                                    <img src={profilePic} alt=\"User pic\" />\r\n                                </div>\r\n                                <div className=\"c-Settings-Bento-Box__User-details\">\r\n                                    <p>{displayName ? displayName : \"Error\"}</p>\r\n                                    <p>{jobTitle ? jobTitle : \"Error\"}</p>\r\n                                    <p>{email ? email : \"Error\"}</p>\r\n                                    <p>{companyName ? companyName : \"Error\"}</p>\r\n                                </div>\r\n                            </SettingsBentoBox>\r\n                        </div>\r\n                        {/* Organisation settings */}\r\n                        {\r\n                            adminLevel === 2 || adminLevel === 3 ?\r\n                                <div className=\"l-Bento-box__Org-settings l-Bento-box\">\r\n                                    <h2 className=\"l-Bento-box__Header\">Organisation Settings</h2>\r\n                                    {\r\n                                        adminLevel === 2 ?\r\n                                            <>\r\n                                                {/* Manage organisation settings */}\r\n                                                <SettingsBentoBox type=\"column\" link=\"/settings/manage-organization\" linkDisplay=\"Manage your organization settings\">\r\n                                                    <div className=\"c-Settings-Bento-Box__Manage-org\">\r\n                                                        <h1>{companyAlias ? companyAlias : \"Error\"}</h1>\r\n                                                        <h2>{companyName ? companyName : \"Error\"}</h2>\r\n                                                    </div>\r\n                                                </SettingsBentoBox>\r\n                                                {/* Manage user settings  */}\r\n                                                <SettingsBentoBox type=\"column\" link=\"/settings/manage-users\" linkDisplay=\"Manage your users\">\r\n                                                    <div className=\"c-Settings-Bento-Box__Manage-users\">\r\n                                                        <h1>Manage users</h1>\r\n                                                        <h2>Click on the link to continue</h2>\r\n                                                    </div>\r\n                                                </SettingsBentoBox>\r\n                                            </>\r\n                                            :\r\n                                            null\r\n                                    }\r\n\r\n                                    {/* Manage invite settings */}\r\n                                    <SettingsBentoBox type=\"column\" link=\"/settings/manage-invites\" linkDisplay=\"Manage invites\">\r\n                                        <div className=\"c-Settings-Bento-Box__Manage-invites\">\r\n                                            <h1>Manage invites</h1>\r\n                                            <h2>Click on the link to continue</h2>\r\n                                        </div>\r\n                                    </SettingsBentoBox>\r\n                                </div>\r\n                                : null\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nconst ErrorCard = ({ errMsg, errStatus, errStatusText }) => {\r\n    return (\r\n        <div className=\"l-Error-card\">\r\n            <div className=\"c-Error-card\">\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>Error Code: {errStatus || \"Unknown\"} {errStatusText || null} </Alert.Heading>\r\n                    <p>{errMsg || \"An unknown error has occured, try accessing again later!\"}</p>\r\n                </Alert>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ErrorCard;","import React from 'react';\r\nimport * as IoIcons from 'react-icons/io5';\r\nimport { IconContext } from 'react-icons';\r\n\r\n\r\nconst RoleTags = ({ tagListing, deletable }) => {\r\n    return (\r\n        <div className=\"l-Role-tags\">\r\n            <div className=\"c-Role-tags\">\r\n                <h1>{tagListing}</h1>\r\n                {\r\n                    deletable ?\r\n                        <button type=\"button\">\r\n                            <IconContext.Provider value={{ color: \"white\", size: \"16px\" }}>\r\n                                <IoIcons.IoCloseOutline />\r\n                            </IconContext.Provider>\r\n                        </button>\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RoleTags;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport PasswordCriteria from '../common/PasswordCriteria';\r\nimport RoleTags from '../common/RoleTags';\r\nimport config from '../config/config';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageAccount = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [inputValues, setInputValues] = useState({\r\n        oldpassword: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [userData, setUserData] = useState({\r\n        fullName: 'Error',\r\n        username: 'Error',\r\n        jobTitle: 'Error',\r\n        email: 'Error',\r\n        emailDisplay: 'Error',\r\n        companyName: \"Error\",\r\n        firstName: 'Error',\r\n        lastName: 'Error',\r\n        address: {\r\n            line1: 'Error',\r\n            line2: 'Error',\r\n            city: 'Error',\r\n            state: 'Error',\r\n            country: 'Error',\r\n            postalCode: 'Error'\r\n        },\r\n        roles: []\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // Endpoint to retrieve details about user\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}?roles=true&address=true&company=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedUserData = {\r\n                    fullName: `${resDataResults.firstname} ${resDataResults.lastname}`,\r\n                    username: resDataResults.account.username,\r\n                    jobTitle: resDataResults.title,\r\n                    email: resDataResults.email,\r\n                    emailDisplay: resDataResults.email,\r\n                    companyName: resDataResults.company.name,\r\n                    firstName: resDataResults.firstname,\r\n                    lastName: resDataResults.lastname,\r\n                    address: {\r\n                        addressID: resDataResults.address_id,\r\n                        line1: resDataResults.address.address_line_one,\r\n                        line2: resDataResults.address.address_line_two,\r\n                        city: resDataResults.address.city,\r\n                        state: resDataResults.address.state,\r\n                        country: resDataResults.address.country,\r\n                        postalCode: resDataResults.address.postal_code\r\n                    },\r\n                    roles: resDataResults.roles,\r\n                };\r\n                setUserData(() => formattedUserData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                    console.log(\"this was ran\");\r\n                    // return unauthorised error component\r\n                    setRenderErrorCard((prevState) => ({\r\n                        ...prevState,\r\n                        render: true,\r\n                        errMsg: err.response.data.message,\r\n                        errStatus: err.response.status,\r\n                        errStatusText: err.response.statusText\r\n                    }));\r\n                }\r\n            });\r\n\r\n        // Update Password criteria\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for password input change\r\n    const handlePasswordInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const updateEmailDisplay = () => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            emailDisplay: userData.email\r\n        }));\r\n\r\n    }\r\n\r\n    const handleAddressInputChange = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            address: {\r\n                ...prevState.address,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    }\r\n\r\n    // Handler for buttons\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"editAccount\" || buttonType === \"editAccountCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"editAccountSave\") {\r\n            const message = `You are about to save account details. Click confirm to proceed.`;\r\n            const handler = (onClose) => editUserDetails(onClose);\r\n            const heading = `Confirm Save?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (buttonType === \"changePassword\" || buttonType === \"changePasswordCancel\") {\r\n            // Handler for change password button\r\n            setIsChangingPassword((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"changePasswordSave\") {\r\n            const message = `You are about to change password. Click confirm to proceed.`;\r\n            const handler = (onClose) => changePassword(onClose);\r\n            const heading = `Confirm Change Password?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Endpoint for changing password\r\n    const changePassword = (onClose) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/change`, {\r\n            old_password: inputValues.oldPassword,\r\n            new_password: inputValues.password,\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Changed Password successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Changed Password successfully!</b></>);\r\n                }, 0);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // API call for edit user details\r\n    const editUserDetails = (onClose) => {\r\n        setLoading(() => (true));\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`, {\r\n            \"firstname\": userData.firstName,\r\n            \"lastname\": userData.lastName,\r\n            \"email\": userData.email,\r\n            \"address\": {\r\n                \"address_line_one\": userData.address.line1,\r\n                \"address_line_two\": userData.address.line2,\r\n                \"city\": userData.address.city,\r\n                \"state\": userData.address.state,\r\n                \"country\": userData.address.country,\r\n                \"postal_code\": userData.address.postalCode,\r\n            },\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }\r\n        )\r\n            .then((res) => {\r\n                console.log(\"Updated User Details successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                updateEmailDisplay();\r\n                setIsEditing(() => false);\r\n                toast.success(<>Success!<br />Message: <b>Updated User Details successfully!</b></>);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* First name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"firstName\" value={userData.firstName} />\r\n                    </Col>\r\n                    {/* Last name */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--edit\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"lastName\" value={userData.lastName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Email */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"email\" value={userData.email} />\r\n                    </Col>\r\n                    {/* Username */}\r\n                    <Col className=\"c-Input c-Input__Username c-Input--edit\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* Roles */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <p>Role(s)</p>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                    {/* Organisation */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <p>Organisation</p>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line1\" value={userData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line2\" value={userData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"city\" value={userData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"country\" value={userData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"postalCode\" value={userData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"state\" value={userData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-account__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editAccountSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editAccountCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* First name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input--read-only\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input readOnly type=\"text\" name=\"firstName\" value={userData.firstName} />\r\n                    </Col>\r\n                    {/* Last name */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--read-only\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input readOnly type=\"text\" name=\"lastName\" value={userData.lastName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Email */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input readOnly type=\"text\" name=\"email\" value={userData.email} />\r\n                    </Col>\r\n                    {/* Username */}\r\n                    <Col className=\"c-Input c-Input__Username c-Input--read-only\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input readOnly type=\"text\" name=\"username\" value={userData.username} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* Roles */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <p>Role(s)</p>\r\n                        {\r\n                            userData.roles.map((role, index) =>\r\n                                <RoleTags key={index} tagListing={`${role.name}`} deletable={false} />\r\n                            )\r\n                        }\r\n\r\n                    </Col>\r\n                    {/* Organisation */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"organisation\">Organisation</label>\r\n                        <input readOnly type=\"text\" name=\"organisation\" value={userData.companyName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* address_line_one */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"address_line_one\">Address Line One</label>\r\n                        <input readOnly type=\"text\" name=\"address_line_one\" value={userData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* address_line_two */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"address_line_two\">Address Line Two</label>\r\n                        <input readOnly type=\"text\" name=\"address_line_two\" value={userData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input readOnly type=\"text\" name=\"city\" value={userData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input readOnly type=\"text\" name=\"country\" value={userData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postal_code */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"postal_code\">Postal Code</label>\r\n                        <input readOnly type=\"text\" name=\"postal_code\" value={userData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input readOnly type=\"text\" name=\"state\" value={userData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Account' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-account c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Account</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-account__Top c-Main__Top\">\r\n                        <h1>Manage Account</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"editAccount\"))}\r\n                                    type=\"button\"\r\n                                    className={isChangingPassword ? \"c-Btn c-Btn--primary c-Btn--disabled\" : \"c-Btn c-Btn--primary\"}\r\n                                    disabled={isChangingPassword ? true : false}\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Profile card section */}\r\n                                <div className=\"c-Manage-account__Profile-card c-Profile-card\">\r\n                                    <div className=\"l-Profile-card__Left\">\r\n                                        <img src={profilePic} alt=\"Profile img\" />\r\n                                        <span>Change profile picture</span>\r\n                                    </div>\r\n                                    <div className=\"l-Profile-card__Right\">\r\n                                        <h1>{userData.fullName}</h1>\r\n                                        <h2>@{userData.username}</h2>\r\n                                        <p>{userData.jobTitle}</p>\r\n                                        <p>{userData.emailDisplay}</p>\r\n                                        <p>{userData.companyName}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Profile input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n\r\n                                {/* Change password section */}\r\n                                <div className=\"l-Manage-account__Password\">\r\n                                    <h1>Password and Authentication</h1>\r\n                                    {\r\n                                        isChangingPassword ?\r\n                                            <div className=\"c-Change-Password\">\r\n                                                <p>Enter your current password and a new password</p>\r\n                                                {/* Current password */}\r\n                                                <div className=\"c-Change-Password__Current-password\">\r\n                                                    <label htmlFor=\"oldPassword\">Current Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"oldPassword\" />\r\n                                                </div>\r\n                                                {/* New password */}\r\n                                                <div className=\"c-Change-Password__New-password\">\r\n                                                    <label htmlFor=\"password\">New Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"password\" />\r\n                                                </div>\r\n                                                {/* New password */}\r\n                                                <div className=\"c-Change-Password__New-password\">\r\n                                                    <label htmlFor=\"confirmPassword\">Confirm New Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"confirmPassword\" />\r\n                                                </div>\r\n                                                {/* Password Criteria */}\r\n                                                <PasswordCriteria\r\n                                                    validity={passwordValidity}\r\n                                                />\r\n                                                {/* Save/Cancel Buttons */}\r\n                                                <div className=\"c-Change-Password__Btns\">\r\n                                                    {\r\n                                                        (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                                            passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                                            <button onClick={() => (handleBtn(\"changePasswordSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                                            :\r\n                                                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">Save</button>\r\n                                                    }\r\n\r\n                                                    <button onClick={() => (handleBtn(\"changePasswordCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                                                </div>\r\n                                            </div>\r\n                                            :\r\n                                            <div className=\"c-Change-Password__Btns\">\r\n                                                <button\r\n                                                    onClick={() => (handleBtn(\"changePassword\"))}\r\n                                                    type=\"button\"\r\n                                                    className={isEditing ? \"c-Btn c-Btn--primary c-Btn--disabled\" : \"c-Btn c-Btn--primary\"}\r\n                                                    disabled={isEditing ? true : false}\r\n                                                >\r\n                                                    Change Password\r\n                                                </button>\r\n                                            </div>\r\n                                    }\r\n\r\n                                </div>\r\n\r\n\r\n                            </>\r\n                    }\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageAccount;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageUsers = () => {\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const adminLevel = decodedToken.admin_level;    // 0 = normal user, 1 = secondary admin, 2 = super admin\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [usersData, setUsersData] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // get all info about the user\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees?roles=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const formattedUsersData = res.data.results.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1,\r\n                    username: data.account.username,\r\n                    accountStatus: data.account.status\r\n                }));\r\n                console.log(formattedUsersData);\r\n                setUsersData(() => (formattedUsersData));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response) {\r\n                    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                        console.log(\"this was ran\");\r\n                        // return unauthorised error component\r\n                        setRenderErrorCard((prevState) => ({\r\n                            ...prevState,\r\n                            render: true,\r\n                            errMsg: err.response.data.message,\r\n                            errStatus: err.response.status,\r\n                            errStatusText: err.response.statusText\r\n                        }));\r\n                    }\r\n                }\r\n               \r\n            });\r\n\r\n    }, []);\r\n\r\n    const usersColumn = [\r\n        {\r\n            dataField: 'employee_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n            editable: false\r\n        },\r\n        {\r\n            dataField: 'admin_level',\r\n            text: 'Admin level',\r\n            formatter: (cell, row) => {\r\n                if (cell === 0) {\r\n                    return \"Normal user\";\r\n                } else if (cell === 1) {\r\n                    return \"Platform admin\";\r\n                } else if (cell === 2) {\r\n                    return \"System admin\";\r\n                } else if (cell === 3) {\r\n                    return \"Secondary Admin\";\r\n                }\r\n            }\r\n        },\r\n        {\r\n            dataField: 'email',\r\n            text: 'Email',\r\n            editable: false,\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Job Title'\r\n        },\r\n        {\r\n            dataField: 'username',\r\n            text: 'Username',\r\n            editable: false,\r\n        },\r\n        {\r\n            dataField: 'roles',\r\n            text: 'Role(s)',\r\n            editable: false,\r\n            formatter: (cell, row) => {\r\n                if (cell.length === 0) {\r\n                    return \"Nil\"\r\n                } else {\r\n                    return (\r\n                        cell.map((data, index) => {\r\n                            if (cell.length === index + 1) {\r\n                                return data.name\r\n                            }\r\n                            return (\r\n                                <div key={index}>{data.name + \",\"}<br /></div>\r\n                            )\r\n\r\n                        })\r\n\r\n                    );\r\n                }\r\n\r\n            }\r\n        },\r\n        {\r\n            dataField: 'accountStatus',\r\n            text: 'Status',\r\n            formatter: (cell, row) => {\r\n                // Capitalize first letter of the string\r\n                return cell.charAt(0).toUpperCase() + cell.slice(1);\r\n            }\r\n        },\r\n        {\r\n            dataField: 'account_action',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            isDummyField: true,\r\n            formatter: (cell, row) => {\r\n                return <a href={`/settings/manage-users/manage-user/${row.employee_id}`}>Manage</a>\r\n            }\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Users\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-users c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-users l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Users</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-users__Top c-Main__Top\">\r\n                    <h1>Manage Users</h1>\r\n                </div>\r\n                {\r\n                    renderErrorCard.render ?\r\n                        <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                        :\r\n                        <>\r\n                            {/* Table section */}\r\n                            <div className=\"c-Manage-users__Table\">\r\n                                <ToolkitProvider\r\n                                    keyField=\"employee_id\"\r\n                                    data={usersData}\r\n                                    columns={usersColumn}\r\n                                    search\r\n\r\n                                >\r\n                                    {\r\n                                        props => (\r\n                                            <div className=\"c-Table\">\r\n                                                <div className=\"c-Table__Top\">\r\n                                                    <SearchBar {...props.searchProps} />\r\n                                                    <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                </div>\r\n                                                <hr />\r\n                                                <BootstrapTable\r\n                                                    {...props.baseProps}\r\n                                                    bordered={false}\r\n                                                    pagination={ paginationFactory() }\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </ToolkitProvider>\r\n\r\n                            </div>\r\n\r\n                        </>\r\n                }\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageUsers;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert.js';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport config from '../config/config';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageUser = ({ match }) => {\r\n    const employeeID = match.params.employeeID;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [userData, setUserData] = useState({\r\n        roles: []\r\n    });\r\n    const [roleData, setRoleData] = useState([]);\r\n    const [editData, setEditData] = useState({\r\n        roles: '',\r\n        jobTitle: ''\r\n    });\r\n    const [editMode, setEditMode] = useState({\r\n        jobTitle: false\r\n    });\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [realAdminLevel, setRealAdminLevel] = useState(0);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}?roles=true&company=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedUserData = {\r\n                    fullName: `${resDataResults.firstname} ${resDataResults.lastname}`,\r\n                    username: resDataResults.account.username,\r\n                    jobTitle: resDataResults.title,\r\n                    email: resDataResults.email,\r\n                    companyName: resDataResults.company.name,\r\n                    firstName: resDataResults.firstname,\r\n                    lastName: resDataResults.lastname,\r\n                    roles: resDataResults.roles,\r\n                    accountStatus: resDataResults.account.status,\r\n                    adminLevel: resDataResults.admin_level\r\n                };\r\n                setRealAdminLevel(() => resDataResults.admin_level)\r\n                setUserData(() => formattedUserData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response) {\r\n                    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                        console.log(\"this was ran\");\r\n                        // return unauthorised error component\r\n                        setRenderErrorCard((prevState) => ({\r\n                            ...prevState,\r\n                            render: true,\r\n                            errMsg: err.response.data.message,\r\n                            errStatus: err.response.status,\r\n                            errStatusText: err.response.statusText\r\n                        }));\r\n                    }\r\n                }\r\n\r\n            });\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            const formattedRoleData = res.data.results;\r\n            setRoleData(() => formattedRoleData);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n            if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                console.log(\"this was ran\");\r\n                // return unauthorised error component\r\n                setRenderErrorCard((prevState) => ({\r\n                    ...prevState,\r\n                    render: true,\r\n                    errMsg: err.response.data.message,\r\n                    errStatus: err.response.status,\r\n                    errStatusText: err.response.statusText\r\n                }));\r\n            }\r\n        });\r\n    }, [rerender]);\r\n\r\n    useEffect(() => {\r\n        setEditData(() => ({\r\n            role: '',\r\n            jobTitle: userData.jobTitle\r\n        }));\r\n    }, [userData]);\r\n\r\n    // Handler for adding / delete role\r\n    const handleEditRole = (handleType, roleID) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${employeeID}/roles`, {\r\n            roles: (() => {\r\n                // handle add role\r\n                if (handleType === \"add\") {\r\n                    let tempRoleArrList = userData.roles.map((data, index) => {\r\n                        return data.role_id\r\n                    });\r\n                    tempRoleArrList.push(editData.roles);\r\n                    console.log(tempRoleArrList);\r\n                    return tempRoleArrList;\r\n                }\r\n                // handle delete role \r\n                if (handleType === \"delete\") {\r\n                    let tempRoleArrList = userData.roles.map((data, index) => {\r\n                        return data.role_id\r\n                    });\r\n                    const indexOfToBeDeletedRoleID = tempRoleArrList.indexOf(roleID);\r\n                    tempRoleArrList.splice(indexOfToBeDeletedRoleID, 1);\r\n                    console.log(tempRoleArrList);\r\n                    return tempRoleArrList;\r\n                }\r\n            })()\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRerender((prevState) => !prevState);\r\n                toast.success(<>Success!<br />Message: <b>Roles updated!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    // Handler for select input change\r\n    const handleSelectInputChange = (event) => {\r\n        let selectValue = parseInt(event.target.value);\r\n\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: selectValue\r\n        }));\r\n    };\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handler for edit button\r\n    const handleEditBtn = (editType) => {\r\n        if (editType === \"jobTitle\") {\r\n            setEditMode((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: !prevState.jobTitle\r\n            }));\r\n            console.log(editData);\r\n        }\r\n    };\r\n\r\n    // Handler for save button\r\n    const handleSaveBtn = (saveType) => {\r\n        if (saveType === \"jobTitle\") {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, { title: editData.jobTitle }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setEditData((prevState) => ({\r\n                        ...prevState,\r\n                        jobTitle: userData.jobTitle\r\n                    }));\r\n                    setEditMode((prevState) => ({\r\n                        ...prevState,\r\n                        jobTitle: !prevState.jobTitle\r\n                    }));\r\n                    setRerender((prevState) => !prevState);\r\n                    toast.success(<>Success!<br />Message: <b>Job title has been updated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handler for cancel button\r\n    const handleCancelBtn = (cancelType) => {\r\n        if (cancelType === \"jobTitle\") {\r\n            setEditData((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: userData.jobTitle\r\n            }));\r\n            setEditMode((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: !prevState.jobTitle\r\n            }))\r\n        }\r\n    };\r\n\r\n    // Handler for user activation \r\n    const handleUserActivation = (actionType) => {\r\n        let accountStatusType;\r\n        if (actionType === \"activated\") {\r\n            accountStatusType = \"active\";\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            accountStatusType = \"deactivated\";\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, {\r\n                account_status: accountStatusType\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>User has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handle admin level save button\r\n    const handleAdminLevelSaveBtn = () => {\r\n        if (realAdminLevel === 2) {\r\n            toast.error(<>Error! Message: <b>Super admin cannot change its own level</b></>);\r\n            return;\r\n        }\r\n        console.log(userData.adminLevel);\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, {\r\n            admin_level: userData.adminLevel\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRerender((prevState) => !prevState);\r\n                toast.success(<>Success!<br />Message: <b> Admin level has been updated!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    // Handler for admin level select input\r\n    const handleAdminLevelSelect = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: [event.target.value]\r\n        }));\r\n    }\r\n\r\n    // Handler for rendering add role button section\r\n    const renderAddRoleBtnSection = () => {\r\n        let userHaveAllRoles = false;\r\n        const roleDataArr = roleData.map((data, index) => {\r\n            return data.role_id;\r\n        });\r\n\r\n        const userRoleDataArr = userData.roles.map((data, index) => {\r\n            return data.role_id;\r\n        });\r\n        // Stringify array to compare. Cannot compare objects\r\n        if (JSON.stringify(roleDataArr.sort()) === JSON.stringify(userRoleDataArr.sort())) {\r\n            userHaveAllRoles = true;\r\n        }\r\n\r\n        if (userHaveAllRoles) {\r\n            return (\r\n                <button className=\"c-Roles__Add c-Btn c-Btn--disabled\" disabled>Add</button>\r\n            );\r\n        } else {\r\n            return (\r\n                <button className=\"c-Roles__Add c-Btn c-Btn--primary\" onClick={() => handleEditRole(\"add\")}>Add</button>\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage User' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-user c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-user__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/manage-users\">Manage users</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage user</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-user__Top c-Main__Top\">\r\n                        <h1>Manage User</h1>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Input fields */}\r\n                                <h1 className=\"c-Manage-user__User-heading\">You are viewing settings for @{`${userData.username}`}</h1>\r\n                                {/* First row */}\r\n                                <div className=\"c-Manage-user__Inputs\">\r\n                                    <div className=\"c-Inputs__Left\">\r\n                                        <div className=\"c-Left__Admin-level\">\r\n                                            {/* Admin level */}\r\n                                            <label htmlFor=\"adminLevel\">Admin Level</label>\r\n                                            <select disabled={realAdminLevel === 2 ? true : false} name=\"adminLevel\" onChange={handleAdminLevelSelect} value={userData.adminLevel || 0}>\r\n                                                <option value=\"0\">Normal User</option>\r\n                                                {/* <option value=\"2\">System Admin</option> */}\r\n                                                <option value=\"3\">Secondary Admin</option>\r\n                                            </select>\r\n                                            <button disabled={realAdminLevel === 2 ? true : false} type=\"button\" className={realAdminLevel === 2 ? \"c-Btn c-Btn--disabled\" : \"c-Btn c-Btn--primary\"} onClick={handleAdminLevelSaveBtn}>Save</button>\r\n                                        </div>\r\n                                        <div className=\"c-Left__Job-title\">\r\n                                            <h2>Job Title</h2>\r\n                                            <div className=\"c-Job-title__Input\">\r\n\r\n                                                {\r\n                                                    editMode.jobTitle ?\r\n                                                        <>\r\n                                                            <input type=\"text\" name=\"jobTitle\" value={editData.jobTitle || ''} onChange={handleInputChange} />\r\n                                                            <div className=\"c-Input__Btn-section\">\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSaveBtn(\"jobTitle\")}>Save</button>\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleCancelBtn(\"jobTitle\")}>Cancel</button>\r\n                                                            </div>\r\n\r\n                                                        </>\r\n                                                        :\r\n                                                        <>\r\n                                                            <input type=\"text\" value={userData.jobTitle || ''} disabled />\r\n                                                            <div className=\"c-Input__Btn-section c-Btn-section--edit\">\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleEditBtn(\"jobTitle\")}>Edit</button>\r\n                                                            </div>\r\n                                                        </>\r\n                                                }\r\n\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"c-Inputs__Right\">\r\n                                        <label htmlFor=\"roles\">Current Role(s)</label>\r\n                                        {/* Select role input */}\r\n                                        <select name=\"roles\" onChange={handleSelectInputChange} value={editData.roles}>\r\n                                            <option value={''}>Please select a role</option>\r\n                                            {\r\n                                                roleData.map((data1, index1) => {\r\n                                                    let userHaveAlready = false;\r\n                                                    userData.roles.forEach((data2, index2) => {\r\n                                                        if (data1.role_id === data2.role_id) {\r\n                                                            userHaveAlready = true;\r\n                                                        }\r\n                                                    });\r\n                                                    if (!userHaveAlready) {\r\n                                                        return <option key={index1} value={data1.role_id}>{data1.name}</option>\r\n                                                    } else {\r\n                                                        return null;\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        </select>\r\n                                        {/* Current role list */}\r\n                                        {\r\n                                            userData.roles.map((data, index) => {\r\n                                                return (\r\n                                                    <div key={index} className=\"c-Roles__Data\">\r\n                                                        {data.name}\r\n                                                        <div className=\"c-Data__Delete-Btn\">\r\n                                                            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                                                <RiIcons.RiDeleteBin7Line onClick={() => handleEditRole(\"delete\", data.role_id)} />\r\n                                                            </IconContext.Provider>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        }\r\n\r\n                                        {/* render button */}\r\n                                        {renderAddRoleBtnSection()}\r\n\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                                {/* Second row */}\r\n                                <div className=\"c-Manage-user__Inputs\">\r\n\r\n                                </div>\r\n                                {\r\n                                    realAdminLevel === 2 ?\r\n                                        null :\r\n                                        <>\r\n                                            {/* Third row */}\r\n                                            < div className=\"c-Manage-user__Inputs\">\r\n                                                <div className=\"c-Inputs__Danger-zone\">\r\n\r\n                                                    <h2>Danger Zone</h2>\r\n                                                    <div className=\"c-Danger-zone__Row\">\r\n                                                        {\r\n                                                            userData.accountStatus === \"active\" ?\r\n                                                                <>\r\n                                                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleUserActivation(\"deactivated\")}>Deactivate user</button>\r\n                                                                    <div className=\"c-Row__Info\">\r\n                                                                        <h3>Deactivate this user</h3>\r\n                                                                        <p>The user will not have access to the company's eISO system.</p>\r\n                                                                    </div>\r\n                                                                </> :\r\n                                                                <>\r\n                                                                    <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleUserActivation(\"activated\")}>Activate user</button>\r\n                                                                    <div className=\"c-Row__Info\">\r\n                                                                        <h3>Activate this user</h3>\r\n                                                                        <p>The user will regain access to the company's eISO system.</p>\r\n                                                                    </div>\r\n                                                                </>\r\n                                                        }\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n\r\n                                }\r\n\r\n                            </>\r\n                    }\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageUser;","import React, { useState } from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst PageNotFound = () => {\r\n    const [show, setShow] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const goBack = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Page-not-found\">\r\n            <div className=\"c-Page-not-found__Alert-box\">\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n                    <p>This page doesn't exists :/ Would you like to go back?</p>\r\n                    <button className=\"c-Alert-box__Back-btn c-Btn c-Btn--cancel\" onClick={goBack}>Go back</button>\r\n                </Alert>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageNotFound;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RiskNOppArchived = ({ match }) => {\r\n    const rnoID = match.params.rnoID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(rnoID) && rnoID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/${rnoID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = {\r\n                        strength: res.data.results.strengths.map((strengthData, strengthIndex) => {\r\n                            return {\r\n                                serialNo: strengthIndex + 1,\r\n                                id: strengthData.fk_risks_analysis_id,\r\n                                swot_item_id: strengthData.fk_swot_item_id,\r\n                                content: strengthData.swot.content,\r\n                                type: strengthData.type,\r\n                                severity: strengthData.severity,\r\n                                likelihood: strengthData.likelihood,\r\n                                rpn: strengthData.rpn,\r\n                                action: strengthData.action,\r\n                                modified: dayjs(new Date(strengthData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        weakness: res.data.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                            return {\r\n                                serialNo: weaknessIndex + 1,\r\n                                id: weaknessData.fk_risks_analysis_id,\r\n                                swot_item_id: weaknessData.fk_swot_item_id,\r\n                                content: weaknessData.swot.content,\r\n                                type: weaknessData.type,\r\n                                severity: weaknessData.severity,\r\n                                likelihood: weaknessData.likelihood,\r\n                                rpn: weaknessData.rpn,\r\n                                action: weaknessData.action,\r\n                                modified: dayjs(new Date(weaknessData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        opp: res.data.results.opportunities.map((oppData, oppIndex) => {\r\n                            return {\r\n                                serialNo: oppIndex + 1,\r\n                                id: oppData.fk_risks_analysis_id,\r\n                                swot_item_id: oppData.fk_swot_item_id,\r\n                                content: oppData.swot.content,\r\n                                type: oppData.type,\r\n                                severity: oppData.severity,\r\n                                likelihood: oppData.likelihood,\r\n                                rpn: oppData.rpn,\r\n                                action: oppData.action,\r\n                                modified: dayjs(new Date(oppData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        threat: res.data.results.threats.map((threatData, threatIndex) => {\r\n                            return {\r\n                                serialNo: threatIndex + 1,\r\n                                id: threatData.fk_risks_analysis_id,\r\n                                swot_item_id: threatData.fk_swot_item_id,\r\n                                content: threatData.swot.content,\r\n                                type: threatData.type,\r\n                                severity: threatData.severity,\r\n                                likelihood: threatData.likelihood,\r\n                                rpn: threatData.rpn,\r\n                                action: threatData.action,\r\n                                modified: dayjs(new Date(threatData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        })\r\n                    };\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.results.title,\r\n                        created_by: res.data.results.author.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_by: res.data.results.approver.firstname + \" \" + res.data.results.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.results.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Risk and Opportunity' activeLink=\"/risk-n-opportunity\">\r\n            <div className=\"c-RNO c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-RNO__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/risk-n-opportunity\">Risk and Opportunity</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-RNO__Top c-Main__Top\">\r\n                    <h1>Risk and Opportunity (Archived)</h1>\r\n                </div>\r\n                {/* Document section */}\r\n                <div className=\"c-RNO__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-RNO__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : null}</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Table section */}\r\n                            <div className=\"c-RNO__Table\">\r\n                                <h1>Strengths</h1>\r\n                                {\r\n                                    docTableData.strength.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Weakness</h1>\r\n                                {\r\n                                    docTableData.weakness.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Opportunities</h1>\r\n                                {\r\n                                    docTableData.opp.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Threats</h1>\r\n                                {\r\n                                    docTableData.threat.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                    </DocumentLayout>\r\n                </div>\r\n            </div>\r\n        </PageLayout >\r\n    )\r\n}\r\n\r\nexport default RiskNOppArchived;","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { Search } from 'react-bootstrap-table2-toolkit';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport config from '../config/config';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst ManageInvites = () => {\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [inviteListData, setInviteData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [sendInviteInputData, setSendInviteInputData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        title: \"\"\r\n    });\r\n\r\n    // const [rerender, setRerender] = useState(false);\r\n\r\n    // useEffect(() => {\r\n    //     axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/invites`, {\r\n    //         headers: {\r\n    //             'Authorization': `Bearer ${token}`\r\n    //         }\r\n    //     })\r\n    //         .then((res) => {\r\n    //             console.log(res);\r\n    //             if (res.data !== undefined) {\r\n    //                 const formattedUsersData = res.data.results.map((data, index) => ({\r\n    //                     ...data,\r\n    //                     serialNo: index + 1,\r\n    //                     created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\")\r\n    //                 }))\r\n    //                 setInviteData(() => (formattedUsersData));\r\n    //             }\r\n\r\n    //         })\r\n    //         .catch((err) => {\r\n    //             console.log(err);\r\n    //         })\r\n    // }, [rerender]);\r\n\r\n    const handleSendInviteBtn = () => {\r\n        // Confirmation dialogue for sending invite link\r\n        const message = `You are about to send an invite link to ${sendInviteInputData.email} to the system. Click confirm to proceed.`;\r\n        const handler = (onClose) => handleSendInviteAxios(onClose);\r\n        const heading = `Confirm send invite?`;\r\n        const type = \"primary\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleSendInviteAxios = (onClose) => {\r\n            onClose();\r\n            setLoading(() => true);\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/invites/new/user`, sendInviteInputData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>Email has been sent to: {`${sendInviteInputData.email}`}!</b></>);\r\n                    setLoading(() => false);\r\n                    setSendInviteInputData(() => ({\r\n                        name: \"\",\r\n                        email: \"\",\r\n                        title: \"\"\r\n                    }));\r\n                    // setRerender((prevState) => !prevState);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    setLoading(() => false);\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        };\r\n\r\n    };\r\n\r\n    const handleInputChange = ((event) => {\r\n        console.log(sendInviteInputData);\r\n        console.log(event.target.name);\r\n        console.log(event.target.value);\r\n\r\n        setSendInviteInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    });\r\n\r\n    // const companiesColumn = [\r\n    //     {\r\n    //         dataField: 'employee_id',\r\n    //         text: 'Id',\r\n    //         hidden: true\r\n    //     },\r\n    //     {\r\n    //         dataField: 'serialNo',\r\n    //         text: '#'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'name',\r\n    //         text: 'Name'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'email',\r\n    //         text: 'Email'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'status',\r\n    //         text: 'Status'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'created_at',\r\n    //         text: \"Sent on\"\r\n    //     },\r\n    // ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Invites\" activeLink=\"/settings\">\r\n                <div className=\"c-Manage-invites c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-invites l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Invites</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-invites__Top c-Main__Top\">\r\n                        <h1>Manage Invites</h1>\r\n                    </div>\r\n                    {/* Send invites section */}\r\n                    <div className=\"c-Manage-invites__Send-email\">\r\n                        <h2>Send Invite*</h2>\r\n                        {\r\n                            loading ?\r\n                                <>\r\n                                    <Spinner animation=\"border\" role=\"status\" />\r\n                                    <p>Loading...</p>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className=\"c-Send-email__Input\">\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"name\">Name</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"name\" placeholder=\"Name\" value={sendInviteInputData.name} />\r\n                                        </div>\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"title\">Job Title</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"title\" placeholder=\"Job Title\" value={sendInviteInputData.title} />\r\n                                        </div>\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"email\">Email</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"email\" placeholder=\"Email\" value={sendInviteInputData.email} />\r\n                                        </div>\r\n                                        <div className = \"c-Input__Row\">\r\n                                            {/* To be continued */}\r\n                                            <label htmlFor=\"induction_template\">Induction Template</label>\r\n                                            <select name = \"induction_template\">\r\n                                                <option value = {null}>Assign an induction template</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p><b>*</b>Users who sign up through the invite link will have the role of 'Normal User'.</p>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={handleSendInviteBtn}>Send Invite</button>\r\n                                </>\r\n                        }\r\n\r\n                    </div>\r\n                    {/* Invite list Table section */}\r\n                    <div className=\"c-Manage-invites__Table\">\r\n                        <h2>Invites List</h2>\r\n                        <p>Coming soon...</p>\r\n                        {/* <ToolkitProvider\r\n                            keyField=\"id\"\r\n                            data={inviteListData}\r\n                            columns={companiesColumn}\r\n                            search\r\n\r\n                        >\r\n                            {\r\n                                props => (\r\n                                    <div className=\"c-Table\">\r\n                                        <div className=\"c-Table__Top\">\r\n                                            <SearchBar {...props.searchProps} />\r\n                                            <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                        </div>\r\n                                        <hr />\r\n                                        <BootstrapTable\r\n                                            {...props.baseProps}\r\n                                            bordered={false}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        </ToolkitProvider> */}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageInvites;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport config from '../config/config';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageOrganization = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [companyData, setCompanyData] = useState({\r\n        companyName: 'Error',\r\n        businessRegNum: 'Error',\r\n        companyAlias: 'Error',\r\n        createdOn: 'Error',\r\n        status: 'Error',\r\n        description: 'Error',\r\n        address: {\r\n            line1: 'Error',\r\n            line2: 'Error',\r\n            city: 'Error',\r\n            state: 'Error',\r\n            country: 'Error',\r\n            postalCode: 'Error'\r\n        },\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // Endpoint to retrieve details about company\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/companies/${userCompanyID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedCompanyData = {\r\n                    companyName: resDataResults.name,\r\n                    businessRegNum: resDataResults.business_registration_number,\r\n                    companyAlias: resDataResults.alias,\r\n                    createdOn: resDataResults.created_at,\r\n                    status: resDataResults.status,\r\n                    description: resDataResults.description,\r\n                    address: {\r\n                        addressID: resDataResults.address_id,\r\n                        line1: resDataResults.address.address_line_one,\r\n                        line2: resDataResults.address.address_line_two,\r\n                        city: resDataResults.address.city,\r\n                        state: resDataResults.address.state,\r\n                        country: resDataResults.address.country,\r\n                        postalCode: resDataResults.address.postal_code\r\n                    },\r\n                };\r\n                setCompanyData(() => formattedCompanyData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                    console.log(\"this was ran\");\r\n                    // return unauthorised error component\r\n                    setRenderErrorCard((prevState) => ({\r\n                        ...prevState,\r\n                        render: true,\r\n                        errMsg: err.response.data.message,\r\n                        errStatus: err.response.status,\r\n                        errStatusText: err.response.statusText\r\n                    }));\r\n                }\r\n            });\r\n    }, [token, userCompanyID]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCompanyData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const handleAddressInputChange = (event) => {\r\n        setCompanyData((prevState) => ({\r\n            ...prevState,\r\n            address: {\r\n                ...prevState.address,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    }\r\n\r\n    // Handler for edit button\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"editCompany\" || buttonType === \"editCompanyCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"editCompanySave\") {\r\n            const message = `You are about to save new company details. Click confirm to proceed.`;\r\n            const handler = (onClose) => editCompanyDetails(onClose);\r\n            const heading = `Confirm Save?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (buttonType === \"deleteCompany\") {\r\n            // Do api call here\r\n        }\r\n    }\r\n\r\n    // API call for edit user details\r\n    const editCompanyDetails = (onClose) => {\r\n        setLoading(() => (true));\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/companies/${userCompanyID}`, {\r\n            name: companyData.companyName,\r\n            business_registration_number: companyData.businessRegNum,\r\n            alias: companyData.companyAlias,\r\n            status: companyData.status,\r\n            description: companyData.description,\r\n            address: {\r\n                \"address_line_one\": companyData.address.line1,\r\n                \"address_line_two\": companyData.address.line2,\r\n                \"city\": companyData.address.city,\r\n                \"state\": companyData.address.state,\r\n                \"country\": companyData.address.country,\r\n                \"postal_code\": companyData.address.postalCode,\r\n            },\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }\r\n        )\r\n            .then((res) => {\r\n                console.log(\"Updated Company Details successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setIsEditing(() => false);\r\n                toast.success(<>Success!<br />Message: <b>Updated Company Details successfully!</b></>);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* Company Name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"companyName\">Company Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"companyName\" value={companyData.companyName} />\r\n                    </Col>\r\n                    {/* Business Registration Number */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--edit\">\r\n                        <label htmlFor=\"businessRegNum\">Business Registration Number</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"businessRegNum\" value={companyData.businessRegNum} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Company Alias */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"companyAlias\">Company Alias</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"companyAlias\" value={companyData.companyAlias} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line1\" value={companyData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line2\" value={companyData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"city\" value={companyData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"country\" value={companyData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"postalCode\" value={companyData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"state\" value={companyData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* description */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"description\" value={companyData.description} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-account__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editCompanySave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editCompanyCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* Company Name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"companyName\">Company Name</label>\r\n                        <input readOnly type=\"text\" name=\"companyName\" value={companyData.companyName} />\r\n                    </Col>\r\n                    {/* Business Registration Number */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--read-only\">\r\n                        <label htmlFor=\"businessRegNum\">Business Registration Number</label>\r\n                        <input readOnly type=\"text\" name=\"businessRegNum\" value={companyData.businessRegNum} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Company Alias */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"companyAlias\">Company Alias</label>\r\n                        <input readOnly type=\"text\" name=\"companyAlias\" value={companyData.companyAlias} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={dayjs(new Date(companyData.createdOn)).format(\"MMMM D, YYYY h:mm A\")} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input readOnly type=\"text\" name=\"line1\" value={companyData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input readOnly type=\"text\" name=\"line2\" value={companyData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input readOnly type=\"text\" name=\"city\" value={companyData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input readOnly type=\"text\" name=\"country\" value={companyData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input readOnly type=\"text\" name=\"postalCode\" value={companyData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input readOnly type=\"text\" name=\"state\" value={companyData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* description */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <input readOnly type=\"text\" name=\"description\" value={companyData.description} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Account' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-account c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Organization</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-account__Top c-Main__Top\">\r\n                        <h1>Manage Organization</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"editCompany\"))}\r\n                                    type=\"button\"\r\n                                    className=\"c-Btn c-Btn--primary\"\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Input fields section */}\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            isEditing ?\r\n                                renderInputFieldEditSection()\r\n                                :\r\n                                renderInputFieldSection()\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageOrganization;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport { IconContext } from 'react-icons';\r\nimport { BiArrowBack } from 'react-icons/bi';\r\nimport OtpInput from 'react-otp-input';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport logo from '../../assets/images/eISO-logo.png';\r\nimport Title from '../../common/Title';\r\nimport config from '../../config/config';\r\n\r\nconst ForgotPassword = () => {\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [otpFormFilled, setOtpFormFilled] = useState(false);\r\n    const [sentEmail, setSentEmail] = useState(false);\r\n    const [otp, setOtp] = useState(null);\r\n    const [inputValues, setInputValues] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const toastTiming = config.toastTiming;\r\n\r\n    useEffect(() => {\r\n        // Check if user touched send otp form\r\n        if (inputValues.username !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        // Check if user touched submit otp form\r\n        if (otp !== '') {\r\n            setOtpFormFilled(() => (true));\r\n        } else {\r\n            setOtpFormFilled(() => (false));\r\n        }\r\n    }, [inputValues, otp]);\r\n\r\n    // Handler for form submission\r\n    // Need change endpoint\r\n    const handleFormSubmit = (event) => {\r\n        let username = event.target.username.value;\r\n        console.log(username);\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/new`, {\r\n            username,\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Sent OTP successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setSentEmail(true);\r\n                toast.success(<>Success!<br />Message: <b>OTP has been sent!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for OTP submission\r\n    const handleOtpSubmit = (event) => {\r\n        console.log(otp);\r\n        console.log(inputValues.username);\r\n\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        // If success redirect to change password form with username & otp as params\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/check`, {\r\n            username: inputValues.username,\r\n            otp\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Checked OTP successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                history.push(`/change-password/${inputValues.username}/${otp}`);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    // Handler for otp input change\r\n    const handleOtpChange = (otp) => {\r\n        setOtp(() => (otp));\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Title */}\r\n                            <Container>\r\n                                <Row>\r\n                                    <Col className=\"c-Card__Back-btn\" xs={1}>\r\n                                        <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                            <BiArrowBack onClick={() => history.goBack()}></BiArrowBack>\r\n                                        </IconContext.Provider>\r\n                                    </Col>\r\n                                    <Col xs={11}><h4>Forgot Password</h4></Col>\r\n                                </Row>\r\n                            </Container>\r\n                            {/* Username */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"username\" />\r\n                                <p className=\"c-Username__Information-message text-muted\">We will send a one time password for verification to your email address</p>\r\n                            </div>\r\n                            {\r\n                                // Check if user has touched username input\r\n                                formFilled ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Send OTP\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Send OTP</button>\r\n                            }\r\n                        </form>\r\n\r\n                        {/* Form for OTP submission */}\r\n                        {sentEmail ?\r\n                            <form onSubmit={handleOtpSubmit}>\r\n                                {/* Email */}\r\n                                <div className=\"c-Card__Username\">\r\n                                    <label htmlFor=\"otp\">Key in OTP</label>\r\n                                </div>\r\n                                <OtpInput\r\n                                    value={otp}\r\n                                    onChange={handleOtpChange}\r\n                                    numInputs={6}\r\n                                    inputStyle={\"\"}\r\n                                    className=\"otpInput\"\r\n                                    name=\"otp\"\r\n                                />\r\n                                {\r\n                                    // Check if user has touched both inputs\r\n                                    otpFormFilled ?\r\n                                        <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Submit\"}</button> :\r\n                                        <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Submit</button>\r\n                                }\r\n                            </form> : \"\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport { IconContext } from 'react-icons';\r\nimport { BiArrowBack } from 'react-icons/bi';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport logo from '../../assets/images/eISO-logo.png';\r\nimport PasswordCriteria from '../../common/PasswordCriteria';\r\nimport Title from '../../common/Title';\r\nimport config from '../../config/config';\r\n\r\n\r\nconst ChangePassword = ({ match }) => {\r\n    const username = match.params.username;\r\n    const otp = match.params.otp;\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [passwordFocused, setPasswordFocused] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.password !== '' && inputValues.confirmPassword !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        // Update Password criteria\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        let password = event.target.password.value;\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        // Endpoint for changing password\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/change`, {\r\n            otp,\r\n            password,\r\n            username\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Changed Password successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Changed Password successfully!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Title */}\r\n                            <Container>\r\n                                <Row>\r\n                                    <Col className=\"c-Card__Back-btn\" xs={1}>\r\n                                        <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                            <BiArrowBack onClick={() => history.goBack()}></BiArrowBack>\r\n                                        </IconContext.Provider>\r\n                                    </Col>\r\n                                    <Col xs={11}><h4>Change Password</h4></Col>\r\n                                </Row>\r\n                            </Container>\r\n                            {/* New Password */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"password\">New Password</label>\r\n                                <input type=\"password\" onFocus={() => setPasswordFocused(true)} name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                            </div>\r\n                            {/* Confirm Password */}\r\n                            <div className=\"c-Card__Password\">\r\n                                <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                                <input type=\"password\" name=\"confirmPassword\" value={inputValues.confirmPassword || ''} onChange={handleInputChange} placeholder=\"Confirm Password\" />\r\n                            </div>\r\n                            {/* Password Criteria */}\r\n                            {passwordFocused && (\r\n                                <PasswordCriteria\r\n                                    validity={passwordValidity}\r\n                                />\r\n                            )}\r\n                            {\r\n                                // Check if user has touched both inputs\r\n                                formFilled && (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                    passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Change Password\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Change Password</button>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ChangePassword;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { categoryColumns, equipmentMaintenanceColumns, historyEquipmentMaintenanceColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst EquipmentMaintenance = () => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const [canApprove, setCanApprove] = useState(false);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n\r\n    // State Declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [equipmentData, setEquipmentData] = useState([]);\r\n    const [categoryData, setCategoryData] = useState([]);\r\n    const [archivedEquipmentData, setArchivedEquipmentData] = useState([]);\r\n    const [filteredCategoryID, setFilteredCategoryID] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Can approve people can create new equipment\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_01/employees`);\r\n                // Can edit people can upload new maintenance record\r\n                const resClausePermissionEdit = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                if (componentMounted) {\r\n                    // Check if user can create new equipment\r\n                    resClausePermission.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            setCanApprove(true);\r\n                        }\r\n                    });\r\n                    // Check if user is assigned to an equipment\r\n                    resClausePermissionEdit.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            setCanEdit(true);\r\n                        }\r\n                    });\r\n\r\n                    let tempEquipmentData = [];\r\n                    let tempCategoryData = [];\r\n                    let tempArchivedEquimentData = [];\r\n\r\n                    if (canApprove) {\r\n                        console.log(filteredCategoryID);\r\n                        // Check if user tries to filter equipment by category\r\n                        if (!filteredCategoryID) {\r\n                            // Get all equipment in use\r\n                            const resAllEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment`);\r\n                            console.log(resAllEquipments);\r\n                            tempEquipmentData = resAllEquipments.data.results;\r\n                            console.log(tempEquipmentData);\r\n                        } else {\r\n                            // Get all equipment of filtered category\r\n                            const resAllEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${filteredCategoryID}/all-equipment`);\r\n                            console.log(resAllEquipments);\r\n                            tempEquipmentData = resAllEquipments.data.results?.equipment;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n\r\n                        // Get all equipment categories\r\n                        const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                        console.log(resAllCategories);\r\n                        tempCategoryData = resAllCategories.data.results;\r\n                        console.log(tempCategoryData);\r\n\r\n                        // Get all archived equipment\r\n                        const resArchivedEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment?archived=1`);\r\n                        console.log(resArchivedEquipments);\r\n                        tempArchivedEquimentData = resArchivedEquipments.data.results;\r\n                        console.log(tempArchivedEquimentData);\r\n                    }\r\n                    // need seperate into else if can edit then else in future\r\n                    else {\r\n                        if (!filteredCategoryID) {\r\n                            // Get all assigned equipment in use\r\n                            const resSpecificEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/assigned-equipment`);\r\n                            console.log(resSpecificEquipments);\r\n                            tempEquipmentData = resSpecificEquipments.data.results;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n                        else {\r\n                            // Get all assigned equipment of filtered category\r\n                            const resSpecificEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${filteredCategoryID}/assigned-equipment`);\r\n                            console.log(resSpecificEquipments);\r\n                            tempEquipmentData = resSpecificEquipments.data.results?.equipment;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n                        // Get all equipment categories\r\n                        const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                        console.log(resAllCategories);\r\n                        tempCategoryData = resAllCategories.data.results;\r\n                        console.log(tempCategoryData);\r\n\r\n                        // Get all archived equipment\r\n                        const resArchivedEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/assigned-equipment?archived=1`);\r\n                        console.log(resArchivedEquipments);\r\n                        tempArchivedEquimentData = resArchivedEquipments.data.results;\r\n                        console.log(tempArchivedEquimentData);\r\n                    }\r\n\r\n                    setCategoryData(() => {\r\n                        return tempCategoryData.map((data, index) => {\r\n                            return {\r\n                                id: data.category_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                createdOn: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_manage: (() => {\r\n                                    if (canApprove) return `/equipment-maintenance/manage-category/${data.category_id}`\r\n                                    return \"\";\r\n                                })()\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setEquipmentData(() => {\r\n                        return tempEquipmentData?.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                category: (() => {\r\n                                    let categoryString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.categories?.map((catData) => {\r\n                                        categoryString += catData.name + \", \";\r\n                                    });\r\n                                    return categoryString.slice(0, -2);\r\n                                })(),\r\n                                refNo: data.reference_number,\r\n                                model: data.model,\r\n                                action_manage: `/equipment-maintenance/manage-equipment/${data.equipment_id}`\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setArchivedEquipmentData(() => {\r\n                        return tempArchivedEquimentData.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                category: (() => {\r\n                                    let categoryString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.categories.map((catData) => {\r\n                                        categoryString += catData.name + \", \";\r\n                                    });\r\n                                    return categoryString.slice(0, -2);\r\n                                })(),\r\n                                refNo: data.reference_number,\r\n                                model: data.model,\r\n                                archived_on: dayjs(new Date(data.archived_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_view: `/equipment-maintenance/manage-equipment/${data.equipment_id}`\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n\r\n    }, [filteredCategoryID]);\r\n\r\n    // Handlers\r\n    const handleBtn = () => {\r\n        history.push(\"/equipment-maintenance/add-equipment\");\r\n    };\r\n\r\n    const handleBtnAddCategory = () => {\r\n        history.push(\"/equipment-maintenance/add-category\");\r\n    };\r\n\r\n    // Handler for input \r\n    const handleFilterSelect = (event) => {\r\n        console.log(event.target.value);\r\n        setFilteredCategoryID(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Equipment Maintenance Program</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Equipment-maintenance__Top c-Main__Top\">\r\n                        <h1>Equipment Maintenance Programme</h1>\r\n                        {/* Add button section */}\r\n                        {\r\n                            canApprove ? <button\r\n                                onClick={() => handleBtn()}\r\n                                type=\"button\"\r\n                                className={\"c-Btn c-Btn--primary\"}\r\n                            >\r\n                                Add New Equipment\r\n                            </button> : \"\"\r\n                        }\r\n                    </div>\r\n                    {/* Filter */}\r\n                    <div className='c-Equipment-maintenance__Filter'>\r\n                        <h4>Filter (Category)</h4>\r\n                        <select type=\"text\" name=\"filterCategory\" onChange={handleFilterSelect} value={filteredCategoryID || 'Error'}>\r\n                            <option value={''}>{!categoryData ? \"No categories found!\" : \"All\"}</option>\r\n                            {!categoryData ? null : categoryData.map((category, index) => (\r\n                                <option key={index} value={category.id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        {equipmentData ?\r\n                            <BootstrapTable\r\n                                bordered={false}\r\n                                keyField='serialNo'\r\n                                data={equipmentData}\r\n                                columns={equipmentMaintenanceColumns}\r\n                                pagination={paginationFactory()}\r\n                            />\r\n                            : \"No results found\"\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Mid section */}\r\n                    <div className=\"c-Equipment-maintenance-category__Top c-Main__Top\">\r\n                        <h1>Equipment Categories</h1>\r\n                        {/* Add button section */}\r\n                        {\r\n                            canApprove ?\r\n                                <button\r\n                                    onClick={() => handleBtnAddCategory()}\r\n                                    type=\"button\"\r\n                                    className={\"c-Btn c-Btn--primary\"}\r\n                                >\r\n                                    Add New Category\r\n                                </button> : \"\"\r\n                        }\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={categoryData}\r\n                            columns={categoryColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"c-Equipment-maintenance__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        <BootstrapTable\r\n                            wrapperClasses=\"c-Equipment-maintenance__Archives-table\"\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={archivedEquipmentData}\r\n                            columns={historyEquipmentMaintenanceColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EquipmentMaintenance;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport { maintenanceCycleColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageEquipmentMaintenance = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const history = useHistory();\r\n    const equipmentID = match.params.emID;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [maintenanceCyclesData, setMaintenanceCyclesData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [equipmentData, setEquipmentData] = useState({\r\n        name: 'Error',\r\n        category: [],\r\n        refNo: 'Error',\r\n        regNo: 'Error',\r\n        model: 'Error',\r\n        serialNo: 'Error',\r\n        location: 'Error',\r\n        archivedAt: null,\r\n    });\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edi\r\n    const [canApprove, setCanApprove] = useState(false);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                // Can approve people can create new equipment\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_01/employees`);\r\n                // Can edit people can upload new maintenance record\r\n                const resClausePermissionEdit = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                // Check if user can create new equipment\r\n                resClausePermission.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanApprove(true);\r\n                    }\r\n                });\r\n                // Check if user is assigned to an equipment\r\n                resClausePermissionEdit.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanEdit(true);\r\n                    }\r\n                });\r\n\r\n                let tempEquipmentData = [];\r\n                let tempCategoryData = [];\r\n\r\n                const resOneEquipment = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}`);\r\n                console.log(resOneEquipment);\r\n                tempEquipmentData = resOneEquipment.data.results;\r\n                console.log(tempEquipmentData);\r\n\r\n                // Get all equipment categories\r\n                const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                console.log(resAllCategories);\r\n                tempCategoryData = resAllCategories.data.results;\r\n                console.log(tempCategoryData);\r\n\r\n                setEquipmentData(() => {\r\n                    return {\r\n                        id: tempEquipmentData.equipment_id,\r\n                        name: tempEquipmentData.name,\r\n                        category: (() => {\r\n                            return tempEquipmentData.categories.map((catData) => {\r\n                                return {\r\n                                    label: catData.name,\r\n                                    value: catData.category_id\r\n                                }\r\n                            });\r\n                        })(),\r\n                        refNo: tempEquipmentData.reference_number,\r\n                        regNo: tempEquipmentData.register_number,\r\n                        model: tempEquipmentData.model,\r\n                        serialNo: tempEquipmentData.serial_number,\r\n                        location: tempEquipmentData.location,\r\n                        archivedAt: tempEquipmentData.archived_at\r\n                    }\r\n                });\r\n\r\n                setCategoryList(() => {\r\n                    return tempCategoryData.map((data) => {\r\n                        return {\r\n                            label: data.name,\r\n                            value: data.category_id\r\n                        }\r\n                    });\r\n                });\r\n\r\n                setMaintenanceCyclesData(() => {\r\n                    return tempEquipmentData.maintenance.map((data, index) => {\r\n                        return {\r\n                            id: data.maintenance_id,\r\n                            serialNo: index + 1,\r\n                            maintenanceType: data.type,\r\n                            responsible: (() => {\r\n                                let personArray = [];\r\n                                let personString = \"\"\r\n                                data.assignees.map((eachPerson) => {\r\n                                    personString += eachPerson.account.username + \", \";\r\n                                });\r\n                                personArray.push(personString.slice(0, -2));\r\n                                personString = \"\";\r\n                                return personArray;\r\n                            })(),\r\n                            maintenanceFrequency: (() => {\r\n                                if (data.freq_unit_time === 7) {\r\n                                    return `${data.freq_multiplier} weeks`\r\n                                }\r\n                                if (data.freq_unit_time === 30) {\r\n                                    return `${data.freq_multiplier} months`\r\n                                }\r\n                                if (data.freq_unit_time === 365) {\r\n                                    return `${data.freq_multiplier} years`\r\n                                }\r\n                            })(),\r\n                            lastServiceDate: data.last_service_at,\r\n                            status: {\r\n                                frequency: data.freq_multiplier * data.freq_unit_time,\r\n                                timeLeft: data.days_left\r\n                            },\r\n                            action_manage: `/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${data.maintenance_id}`,\r\n                            action_delete: (() => {\r\n                                if (canApprove) return (\r\n                                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                                        <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDeleteCycle(data.maintenance_id))} />\r\n                                    </IconContext.Provider>\r\n                                )\r\n                                return \"\";\r\n                            })(),\r\n                        }\r\n                    });\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [equipmentData.archivedAt, rerender, canApprove]);\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteCycle = (maintenanceID) => {\r\n        // Confirmation dialogue for deleting cycle\r\n        const message = `Are you sure you want to delete this maintenance cycle?`;\r\n        const handler = (onClose) => handleDelete(onClose, maintenanceID);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const handleDelete = (onClose, maintenanceID) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance cycle has been deleted!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"add\") {\r\n            // Handler for add button\r\n            history.push(`/equipment-maintenance/manage-equipment/${equipmentID}/add-cycle`);\r\n        }\r\n\r\n        if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing(false);\r\n            setInputTouched(false);\r\n            setRerender((prevState) => !prevState);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(equipmentData);\r\n                    const resUpdateEquipment = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentData.id}`,\r\n                        {\r\n                            name: equipmentData.name,\r\n                            reference_number: equipmentData.refNo,\r\n                            register_number: equipmentData.regNo,\r\n                            serial_number: equipmentData.serialNo,\r\n                            model: equipmentData.model,\r\n                            location: equipmentData.location,\r\n                            categories: equipmentData.category.map((data) => {\r\n                                return data.value;\r\n                            })\r\n                        },\r\n                        {\r\n                            headers: {\r\n                                \"Authorization\": `Bearer ${token}`\r\n                            }\r\n                        });\r\n                    console.log(resUpdateEquipment);\r\n                    toast.success(<>Success!<br />Message: <b>Updated equipment details!</b></>);\r\n                    setIsEditing(false);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            category: options\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"category\">Category</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={categoryList}\r\n                            placeholder=\"Select Category\"\r\n                            onChange={handleInputArrayChange}\r\n                            name=\"categories\"\r\n                            value={(() => {\r\n                                return equipmentData.category.map((data) => {\r\n                                    return data;\r\n                                })\r\n                            })()}\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"refNo\">Ref. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"refNo\" value={equipmentData.refNo} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"regNo\">Reg. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"regNo\" value={equipmentData.regNo} />\r\n                    </Col>\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"serialNo\">Serial No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"serialNo\" value={equipmentData.serialNo} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input readOnly type=\"text\" name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"category\">Category</label>\r\n                        <input readOnly type=\"text\" name=\"category\" value={(() => {\r\n                            let catStr = \"\";\r\n                            equipmentData.category.forEach((data) => {\r\n                                catStr += data.label + \", \"\r\n                            });\r\n\r\n                            return catStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"refNo\">Ref. No.</label>\r\n                        <input readOnly type=\"text\" name=\"refNo\" value={equipmentData.refNo} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--read-only\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input readOnly type=\"text\" name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"regNo\">Reg. No.</label>\r\n                        <input readOnly type=\"text\" name=\"regNo\" value={equipmentData.regNo} />\r\n                    </Col>\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input readOnly type=\"text\" name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--read-only\">\r\n                        <label htmlFor=\"serialNo\">Serial No.</label>\r\n                        <input readOnly type=\"text\" name=\"serialNo\" value={equipmentData.serialNo} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n\r\n\r\n    // Handler for archiving equipment \r\n    const handleEquipmentArchive = (actionType) => {\r\n        let accountStatusType;\r\n        if (actionType === \"activated\") {\r\n            accountStatusType = \"active\";\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            accountStatusType = \"deactivated\";\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this account?`;\r\n            const handler = (onClose) => handleDeactivateAccount(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/activate`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setEquipmentData({\r\n                        ...equipmentData,\r\n                        archivedAt: null,\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>Equipment has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n        const handleDeactivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/archive`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setEquipmentData({\r\n                        ...equipmentData,\r\n                        archivedAt: \"refresh\",\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>Equipment has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Equipment</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Equipment</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            canApprove ?\r\n                                isEditing || renderErrorCard.render ?\r\n                                    null :\r\n                                    <button\r\n                                        onClick={() => (handleBtn(\"edit\"))}\r\n                                        type=\"button\"\r\n                                        className={\"c-Btn c-Btn--primary\"}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                : \"\"\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    {\r\n                        canApprove ?\r\n                            <>\r\n                                <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                                <div className=\"c-Danger-zone__Row\">\r\n                                    {\r\n                                        equipmentData.archivedAt === null ?\r\n                                            <>\r\n                                                <div className='c-Danger-zone__Item'>\r\n                                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleEquipmentArchive(\"deactivated\")}>Archive Equipment</button>\r\n                                                    <div className=\"c-Row__Info\">\r\n                                                        <p>The equipment will be moved to archives.</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </> :\r\n                                            <>\r\n                                                <div className='c-Danger-zone__Item'>\r\n                                                    <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleEquipmentArchive(\"activated\")}>Unarchive Equipment</button>\r\n                                                    <div className=\"c-Row__Info\">\r\n                                                        <p>The equipment will be restored from archives.</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </>\r\n                                    }\r\n                                </div>\r\n                            </> : \"\"\r\n                    }\r\n\r\n                    {/* Maintenance Cycles */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-top c-Main__Top\">\r\n                        <h1>Maintenance Cycles</h1>\r\n                        {/* Add button section */}\r\n                        {canApprove ?\r\n                            <button\r\n                                onClick={() => handleBtn('add')}\r\n                                type=\"button\"\r\n                                className={\"c-Btn c-Btn--primary\"}\r\n                            >\r\n                                Add\r\n                            </button> : \"\"\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Maintenance Cycles Table section */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table\">\r\n                        {\r\n                            maintenanceCyclesData.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={maintenanceCyclesData}\r\n                                    columns={maintenanceCycleColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEquipmentMaintenance;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddEquipmentMaintenance = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [equipmentData, setEquipmentData] = useState({\r\n        name: '',\r\n        categories: [],\r\n        reference_number: '',\r\n        register_number: '',\r\n        model: '',\r\n        serial_number: '',\r\n        location: '',\r\n    });\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addEquipment\") {\r\n            // Handler for add button\r\n            console.log(equipmentData);\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to add this equipment?`;\r\n            const handler = (onClose) => handleAddEquipment(onClose);\r\n            const heading = `Confirm Add?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/equipment-maintenance\");\r\n        }\r\n\r\n        const handleAddEquipment = (onClose) => {\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment`, {\r\n                ...equipmentData,\r\n                categories: equipmentData.categories.map((data) => {\r\n                    return data.value;\r\n                })\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New equipment has been added!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/equipment-maintenance\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            categories: options\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"categories\">Category</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={categoryList}\r\n                            placeholder=\"Select Category\"\r\n                            onChange={handleInputArrayChange}\r\n                            name=\"categories\"\r\n                        />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"reference_number\">Ref. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"reference_number\" value={equipmentData.reference_number} />\r\n                    </Col>\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"register_number\">Reg. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"register_number\" value={equipmentData.register_number} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"serial_number\">Serial No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"serial_number\" value={equipmentData.serial_number} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempCategoryData = [];\r\n                // Get all equipment categories\r\n                const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                console.log(resAllCategories);\r\n                tempCategoryData = resAllCategories.data.results;\r\n                console.log(tempCategoryData);\r\n\r\n                setCategoryList(() => {\r\n                    if (tempCategoryData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return tempCategoryData.map((data) => ({\r\n                        label: `${data.name}`,\r\n                        value: data.category_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Add Equipment' activeLink=\"/equipment-maintenance/add-equipment\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Equipment</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Equipment</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addEquipment\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddEquipmentMaintenance;","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddEquipmentCategory = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [categoryData, setCategoryData] = useState({\r\n        name: '',\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addCategory\") {\r\n            // Handler for add button\r\n            console.log(categoryData);\r\n            (async () => {\r\n                try {\r\n                    setLoading(true);\r\n                    const resInsertOneCategory = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`,\r\n                        categoryData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneCategory);\r\n                    setLoading(false);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Inserted new category!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/equipment-maintenance\");\r\n\r\n                } catch (error) {\r\n                    console.log(error);\r\n                    setLoading(false);\r\n                    toast.error(<>Error Code: <b>{error.response.status}</b><br />Message: <b>{error.response.data.message}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/equipment-maintenance\");\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCategoryData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance/add-category\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Category</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Category</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addCategory\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddEquipmentCategory;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageEquipmentCategory = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const categoryID = match.params.catID;\r\n\r\n    // State declarations\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [categoryData, setCategoryData] = useState({\r\n        name: '',\r\n        description: 'f'\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"save\") {\r\n            // Handler for save button\r\n            console.log(categoryData);\r\n            (async () => {\r\n                try {\r\n                    const resUpdateOneCategory = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}`,\r\n                        categoryData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUpdateOneCategory);\r\n                    toast.success(<>Success!<br />Message: <b>Updated category!</b></>);\r\n                    setIsEditing(false);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                    toast.error(<>Error Code: <b>{error.response.status}</b><br />Message: <b>{error.response.data.message}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n        } else if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCategoryData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input readOnly type=\"text\" name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={categoryData.createdOn} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={categoryData.createdOn} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for deleting maintenance cycle \r\n    const handleDeleteCategory = (actionType) => {\r\n        if (actionType === \"deleteCategory\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this Category?`;\r\n            const handler = (onClose) => handleDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Category has been deleted!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/equipment-maintenance\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const resCategoryData = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}/all-equipment`);\r\n                console.log(resCategoryData);\r\n                const dbName = resCategoryData.data.results.category.name;\r\n                const createdOn = resCategoryData.data.results.category.created_at;\r\n                if (!isEditing) {\r\n                    setCategoryData(() => {\r\n                        return {\r\n                            name: dbName,\r\n                            createdOn: dayjs(new Date(createdOn)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                    });\r\n                }\r\n                // else {\r\n                //     setCategoryData(() => {\r\n                //         return {\r\n                //             name: \"\",\r\n                //             createdOn: createdOn\r\n                //         }\r\n                //     });\r\n                // }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance/manage-category\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Category</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Category</h1>\r\n                        {/* Save and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                isEditing ?\r\n                                    inputTouched ?\r\n                                        <button onClick={() => (handleBtn(\"save\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                        :\r\n                                        <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                                    :\r\n                                    <button onClick={() => (handleBtn(\"edit\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Edit</button>\r\n                            }\r\n                            {\r\n                                isEditing ? <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        : renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                    <div className=\"c-Danger-zone__Row\">\r\n                        <div className='c-Danger-zone__Item'>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleDeleteCategory('deleteCategory')}>Delete Category</button>\r\n                            <div className=\"c-Row__Info\">\r\n                                <p>This action cannot be undone</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEquipmentCategory;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { historyLicenseColumns, licenseColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst Licenses = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State Declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [licenseData, setLicenseData] = useState([]);\r\n    const [archivedLicenseData, setArchivedLicenseData] = useState([]);\r\n    const [canApprove, setCanApprove] = useState(false);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Can approve people can create new license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_02/employees`);\r\n                // Can edit people can upload new license\r\n                const resClausePermissionEdit = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_02/employees`);\r\n                if (componentMounted) {\r\n                    // Check if user can create new license\r\n                    resClausePermission.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            setCanApprove(true);\r\n                        }\r\n                    });\r\n                    // Check if user is assigned to a license\r\n                    resClausePermissionEdit.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            setCanEdit(true);\r\n                        }\r\n                    });\r\n\r\n                    let tempLicenseData = [];\r\n                    let tempArchivedLicenseData = [];\r\n\r\n                    if (canApprove) {\r\n                        // Get all License in use\r\n                        const resAllLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences`);\r\n                        console.log(resAllLicenses);\r\n                        tempLicenseData = resAllLicenses.data.results;\r\n                        console.log(tempLicenseData);\r\n\r\n                        // Get all archived licenses\r\n                        const resArchivedLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences?archived=1`);\r\n                        console.log(resArchivedLicenses);\r\n                        tempArchivedLicenseData = resArchivedLicenses.data.results;\r\n                        console.log(tempArchivedLicenseData);\r\n                    } else {\r\n                        // Get assigned licenses in use\r\n                        const resSpecificLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/assigned-licences`);\r\n                        console.log(resSpecificLicenses);\r\n                        tempLicenseData = resSpecificLicenses.data.results;\r\n\r\n                        // Get assigned archived licenses\r\n                        const resArchivedLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/assigned-licences?archived=1`);\r\n                        console.log(resArchivedLicenses);\r\n                        tempArchivedLicenseData = resArchivedLicenses.data.results;\r\n                        console.log(tempArchivedLicenseData);\r\n                    }\r\n\r\n                    setLicenseData(() => {\r\n                        return tempLicenseData.map((data, index) => {\r\n                            return {\r\n                                id: data.licence_id,\r\n                                serialNo: index + 1,\r\n                                license: data.licence_name,\r\n                                licenseNo: data.licence_number,\r\n                                expDate: (() => {\r\n                                    if (data.expires_at) {\r\n                                        return data.expires_at\r\n                                    } else {\r\n                                        return 'NA'\r\n                                    }\r\n                                })(),\r\n                                externalAgency: data.external_organisation,\r\n                                responsibleUser: (() => {\r\n                                    let userString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.assignees.map((userData, index) => {\r\n                                        userString += userData.account.username + \", \";\r\n                                    });\r\n                                    return userString.slice(0, -2);\r\n                                })(),\r\n                                status: {\r\n                                    frequency: Math.ceil(Math.abs(new Date(data.expires_at) - new Date(data.issued_at)) / (1000 * 60 * 60 * 24)),\r\n                                    timeLeft: data.days_left,\r\n                                    isNA: (() => {\r\n                                        if (data.expires_at) {\r\n                                            return data.expires_at\r\n                                        } else {\r\n                                            return ''\r\n                                        }\r\n                                    })()\r\n                                },\r\n                                action_manage: `/licenses/manage-license/${data.licence_id}`\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setArchivedLicenseData(() => {\r\n                        return tempArchivedLicenseData.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                license: data.licence_name,\r\n                                licenseNo: data.licence_number,\r\n                                expDate: (() => {\r\n                                    if (data.expires_at) {\r\n                                        return data.expires_at\r\n                                    } else {\r\n                                        return 'N.A'\r\n                                    }\r\n                                })(),\r\n                                externalAgency: data.external_organisation,\r\n                                responsibleUser: (() => {\r\n                                    let userString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.assignees.map((userData, index) => {\r\n                                        userString += userData.account.username + \", \";\r\n                                    });\r\n                                    return userString.slice(0, -2);\r\n                                })(),\r\n                                archived_on: dayjs(new Date(data.archived_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_manage: `/licenses/manage-license/${data.licence_id}`\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleBtn = () => {\r\n        history.push(\"/licenses/add-license\");\r\n    };\r\n\r\n    const handleBtnAddCategory = () => {\r\n        history.push(\"/equipment-maintenance/add-category\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Permits Licenses' activeLink=\"/licenses\">\r\n                <div className=\"c-Equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Equipment-maintenance__Top c-Main__Top\">\r\n                        <h1>Register of Permits, Licenses, Approvals & Certificates</h1>\r\n                        {/* Add button section */}\r\n                        {canApprove ?\r\n                            <button\r\n                                onClick={() => handleBtn()}\r\n                                type=\"button\"\r\n                                className={\"c-Btn c-Btn--primary\"}\r\n                            >\r\n                                Add\r\n                            </button>\r\n                            : \"\"\r\n                        }\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={licenseData}\r\n                            columns={licenseColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"c-Equipment-maintenance__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        <BootstrapTable\r\n                            wrapperClasses=\"c-Equipment-maintenance__Archives-table\"\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={archivedLicenseData}\r\n                            columns={historyLicenseColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Licenses;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddLicense = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [licenseData, setLicenseData] = useState([]);\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addLicense\") {\r\n            // Handler for add button\r\n            console.log(licenseData);\r\n            (async () => {\r\n                try {\r\n                    const resInsertOneLicence = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences`,\r\n                        {\r\n                            issued_at: licenseData.issuedOn,\r\n                            licence_name: licenseData.license,\r\n                            licence_number: licenseData.licenseNo,\r\n                            external_organisation: licenseData.externalAgency,\r\n                            expires_at: licenseData.expDate,\r\n                            assignees: (() => {\r\n                                return licenseData.assignees.map((data) => {\r\n                                    return data.value;\r\n                                });\r\n                            })()\r\n                        }, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneLicence);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New License has been added!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/licenses\");\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/licenses\");\r\n\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setExpDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            expDate: date\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setIssuedDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            issuedOn: date\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Issued On */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"issuedOn\">Issued On</label>\r\n                        <DateTimePicker\r\n                            onChange={setIssuedDate}\r\n                            value={licenseData.issuedOn}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setExpDate}\r\n                            value={licenseData.expDate}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"externalAgency\">Responsible External Agency</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"externalAgency\" value={licenseData.externalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempUserData = [];\r\n                // Get all users with permission to upload license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_02/employees`);\r\n                console.log(resClausePermission);\r\n                tempUserData = resClausePermission.data.results;\r\n                console.log(tempUserData);\r\n\r\n                setUserList(() => {\r\n                    return tempUserData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Licenses' activeLink=\"/licenses/add-equipment\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/licenses\">Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add License/Permit/Certificate</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add License/Permit/Certificate</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addLicense\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddLicense;","import axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst UploadLicense = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const licenseID = match.params.licenseID;\r\n    const fileRef = useRef(null);\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [licenseData, setLicenseData] = useState([]);\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [licenseFile, setLicenseFile] = useState(null);\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addLicense\") {\r\n            // Handler for add button\r\n            console.log(licenseData);\r\n            (async () => {\r\n                try {\r\n                    let newLicenseFormData = new FormData();\r\n                    // Loop through a javascript object and append the fields to the form data variable\r\n                    for (const property in licenseData) {\r\n                        newLicenseFormData.append(property, licenseData[property]);\r\n                    }\r\n                    newLicenseFormData.append(\"renewal\", licenseFile);\r\n                    console.log(newLicenseFormData);\r\n                    console.log(newLicenseFormData.get(\"renewal\"));\r\n\r\n                    const resUploadOneLicense = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}/renewals`,\r\n                        newLicenseFormData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUploadOneLicense);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New License has been uploaded!</b></>);\r\n                    }, 0);\r\n                    history.push(`/licenses/manage-license/${licenseID}`);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        }\r\n\r\n        if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(`/licenses/manage-license/${licenseID}`);\r\n        }\r\n\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n            fileRef.current.click();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setExpDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            expires_at: date\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setIssuedDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            issued_at: date\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Issued On */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"issued_at\">Issued On</label>\r\n                        <DateTimePicker\r\n                            onChange={setIssuedDate}\r\n                            value={licenseData.issued_at}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"expires_at\">Exp. Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setExpDate}\r\n                            value={licenseData.expires_at}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for file input\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        console.log(fileObj);\r\n        setLicenseFile(() => fileObj);\r\n    };\r\n\r\n    // Handler for deleting file input\r\n    const handleDeleteFile = () => {\r\n        setLicenseFile(() => null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempUserData = [];\r\n                // Get all users with permission to upload license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_02/employees`);\r\n                console.log(resClausePermission);\r\n                tempUserData = resClausePermission.data.results;\r\n                console.log(tempUserData);\r\n\r\n                setUserList(() => {\r\n                    return tempUserData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Licenses' activeLink={`/licenses/manage-license/${licenseID}/upload`}>\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/licenses\">Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/licenses/manage-license/${licenseID}`}>Manage Permits/Licenses/Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Upload License</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Upload License</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addLicense\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Upload\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                    {/* File Upload */}\r\n                    {/* Upload Button */}\r\n                    <div className=\"c-Manage-equipment__Mid c-Main__Top c-File-upload\">\r\n                        <div className=\"c-Manage-equipment__File\">\r\n                            {\r\n                                licenseFile ?\r\n                                    <>\r\n                                        <p>{licenseFile.name}</p>\r\n                                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                            <RiIcons.RiDeleteBin7Line className=\"c-File-upload__Bin\" onClick={() => handleDeleteFile()} />\r\n                                        </IconContext.Provider>\r\n                                    </>\r\n                                    : <p>No File Detected.</p>\r\n                            }\r\n                        </div>\r\n                        <button\r\n                            onClick={() => (handleBtn(\"upload\"))}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Upload File\r\n                        </button>\r\n                        <input className=\"c-Manage-equipment__File-input c-File-select__Raw\" type=\"file\" ref={fileRef} onChange={handleFileInputChange} />\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UploadLicense;","import React, { useRef, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router';\r\nimport { historyInductionTemplatesColumns, manageInductionTemplatesColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageInductionTemplates = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const newTemplateName = useRef(\"\");\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            template_name: \"IT Department Induction Template\",\r\n            action_manage: `/settings/induction-templates/induction-template/${1}`\r\n        }\r\n    ];\r\n\r\n    // Handlers\r\n    const handleAddTemplate = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--new-template'>\r\n                        <h1>Create new template</h1>\r\n                        <input placeholder=\"Enter template name\" name=\"newTemplateName\" ref={newTemplateName} />\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--primary\" onClick={() => (confirmAddTemplate(onClose))}>Create</button>\r\n                            <button className=\"c-Btn c-Btn--cancel\" onClick={onClose}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const confirmAddTemplate = (onClose) => {\r\n\r\n        };\r\n    };\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Induction Templates\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-templates c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-templates__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Induction Templates</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-templates__Top c-Main__Top\">\r\n                    <h1>Induction Templates</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleAddTemplate()}>Add Template</button>\r\n                </div>\r\n\r\n                {/* Table section */}\r\n                <div className=\"c-Manage-induction-templates__Table\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={fakeInductionTemplateData}\r\n                        columns={manageInductionTemplatesColumns}\r\n                    />\r\n\r\n                </div>\r\n\r\n                {/* History/Archives section */}\r\n                <div className='c-Manage-induction-templates c-Main__Archives'>\r\n                    <h1>History (Archived)</h1>\r\n                    {\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={fakeInductionTemplateData}\r\n                            columns={historyInductionTemplatesColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionTemplates;","import React, { useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport { manageInductionTemplateColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ManageInductionVersions = ({ match }) => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const templateID = match.params.templateID;\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            form_name: \"AY2021 Induction Form for IT Department\",\r\n            version_label: \"IT2021.1\",\r\n            status: \"test\",\r\n            action_view: `/settings/manage-induction-templates/manage-induction-template/${1}/manage-induction-form/${1}`\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Induction Forms\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-versions c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-versions l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/induction-templates\">Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Induction Versions</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-versions__Top c-Main__Top\">\r\n                    <h1>Manage Induction Versions</h1>\r\n                    <div className=\"c-Manage-indudction-versions__Btns\">\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick = {() => history.push(`/settings/induction-templates/induction-template-versions/${1}/create`)}>Create New Form</button>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--alert\">Archive</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Table section */}\r\n                <div className=\"c-Manage-induction-versions__Table\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={fakeInductionTemplateData}\r\n                        columns={manageInductionTemplateColumns}\r\n                    />\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionVersions;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { manageInductionFormSectionColumns } from '../config/tableColumns';\r\n\r\nconst InductionFormSection = ({\r\n    sectionData,\r\n    formMode\r\n}) => {\r\n    console.log(sectionData);\r\n\r\n\r\n    if (formMode === \"edit\") {\r\n        return (\r\n            <div className=\"c-Induction-form-section c-Induction-form-section--view\">\r\n                {/* Header section */}\r\n                <div className='c-Induction-form-section__Header'>\r\n                    <p className=\"c-Induction-form-section__Text\">{sectionData?.section ? sectionData.section : \"Could not retrieve section name\"}</p>\r\n                </div>\r\n\r\n                {/* Tasks section */}\r\n                <div className=\"c-Induction-form-section__Tasks\">\r\n                    {\r\n                        sectionData?.tasks?.length !== 0 ?\r\n                            sectionData.tasks.map((taskData, index) => {\r\n                                console.log(\"ram thjis\")\r\n                                return (\r\n                                    <InductionFormTask\r\n                                        key={index}\r\n                                        taskMode=\"edit\"\r\n                                        taskData={taskData}\r\n                                    />\r\n                                )\r\n                            }\r\n\r\n                            )\r\n                            :\r\n                            \"No records found!\"\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"c-Induction-form-section c-Induction-form-section--view\">\r\n                {/* Header section */}\r\n                <div className='c-Induction-form-section__Header'>\r\n                    <p className=\"c-Induction-form-section__Text\">{sectionData?.section ? sectionData.section : \"Could not retrieve section name\"}</p>\r\n                </div>\r\n\r\n                {/* Tasks section */}\r\n                <div className=\"c-Induction-form-section__Tasks\">\r\n                    {\r\n                        sectionData?.tasks?.length !== 0 ?\r\n                            sectionData.tasks.map((taskData, index) =>\r\n                                <InductionFormTask\r\n                                    key={index}\r\n                                    taskData={taskData}\r\n                                />\r\n                            )\r\n                            :\r\n                            \"No records found!\"\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nconst InductionFormTask = ({\r\n    taskMode,\r\n    taskData\r\n}) => {\r\n    console.log(\"test\")\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"c-Induction-form-task c-Induction-form-task--view\">\r\n            {/* Header section */}\r\n            <div className='c-Induction-form-task__Header'>\r\n                <p className=\"c-Induction-form-task__Text\">Task: {taskData?.task ? taskData.task : \"Could not retrieve section name\"}</p>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-Induction-form-task__Table\">\r\n                {\r\n                    taskData?.length !== 0 ?\r\n                        <BootstrapTable keyField=\"order\" bordered={false} data={taskData.descriptions} columns={manageInductionFormSectionColumns} />\r\n                        :\r\n                        \"No records found!\"\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InductionFormSection;","import React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport InductionFormSection from '../../common/InductionFormSection';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageInductionForm = ({ match }) => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const formID = match.params.formID;\r\n    const templateID = match.params.templateID;\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [sectionsData, setSectionsData] = useState([\r\n        {\r\n            order: 1,\r\n            section: 'Section A: Introduction',\r\n            tasks: [\r\n                {\r\n                    order: 1,\r\n                    task: 'Introduction',\r\n                    descriptions: [\r\n                        // when the template is cloned and done\r\n                        { order: 1, description: 'Dress code', file: 'dress code picture', done: false, done_at: '1234' },\r\n                        { order: 3, description: 'Staff indentification', file: 'staff id card', done: true, done_at: '1234' },\r\n                        { order: 2, description: 'Working hours', done: true, done_at: '1234' }\r\n                    ]\r\n                },\r\n                {\r\n                    order: 2,\r\n                    task: 'Rules',\r\n                    descriptions: [\r\n                        // template only\r\n                        { order: 1, description: 'Attendance', file: 'attendance' }, // with a file\r\n                        { order: 2, description: 'Regulations' } // without a file\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n    ]);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            template_name: \"IT Department Induction Template\",\r\n            action_manage: `/settings/manage-induction-templates/manage-induction-template/${1}`\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        // Obtain data for the induction form\r\n\r\n        // Do sorting of the tasks,sections and descriptions\r\n        // e.g. tasks.sort(function(a, b){return a-b});\r\n\r\n        \r\n    }, []);\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Induction Templates\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-form c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-form l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/manage-induction-templates\">Manage Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href={`/settings/manage-induction-templates/manage-induction-template/${1}`}>Manage Induction Template</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Induction Form</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-form__Top c-Main__Top\">\r\n                    <h1>Manage Induction Form</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\">Change to Active</button>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Manage-induction-form__Document c-Main__Document\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    {/* Document */}\r\n                    <DocumentLayout isDocCollapsed={false}>\r\n                        {/* TODO: Verify class naming is correct */}\r\n                        <div className=\"c-Manage-induction-form__Document-content\">\r\n                            {/* Title */}\r\n                            <h1>AY2021 Induction Form for IT Department</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Manage-induction-form__Document-header c-Document__Header\">\r\n                                <div className=\"c-Manage-indcution-form__Document-header--left c-Document__Header--left\">\r\n                                    <p>To bv approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Remarks</p>\r\n                                </div>\r\n                                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                    {/* <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"} */}\r\n                                </div>\r\n                            </div>\r\n                            {/* Induction sections */}\r\n                            {\r\n                                sectionsData.length !== 0 ?\r\n                                    sectionsData.map((sectionData, index) =>\r\n                                        <InductionFormSection\r\n                                            key={index}\r\n                                            sectionData={sectionData}\r\n                                        />\r\n                                    )\r\n                                    :\r\n                                    \"No records found!\"\r\n                            }\r\n                        </div>\r\n\r\n                    </DocumentLayout>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionForm;","import React, { useRef, useEffect, useState } from 'react';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\n\r\n\r\n/**\r\n * \r\n * File select component.\r\n * @prop {ref} fileRef - Declare a ref in the parent component\r\n * \r\n */\r\nconst FileSelect = ({ fileRef }) => {\r\n\r\n    const [rerender, setRerender] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(\"file select effectiminda\");\r\n        console.log(fileRef);\r\n        console.log(fileRef.current.files[0]);\r\n    }, [rerender]);\r\n\r\n    const handleFileSelectArea = () => {\r\n        fileRef.current.click();\r\n    };\r\n\r\n    const handleFileInputChange = (event) => {\r\n        setRerender((prevState) => !prevState);\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-File-select\">\r\n            <span\r\n                className=\"c-File-select__Area\"\r\n                onClick={() => handleFileSelectArea()}\r\n            >\r\n                {\r\n                    fileRef?.current?.files[0] !== undefined ?\r\n                        <p>{fileRef.current?.files[0]?.name}</p>\r\n                        : <p>Click here to select a file!</p>\r\n                }\r\n            </span>\r\n            <input className=\"c-File-select__Raw\" onChange={handleFileInputChange} type=\"file\" ref={fileRef} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileSelect;","import React from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"c-Loading\">\r\n            <Spinner animation=\"border\" role=\"status\" variant=\"secondary\"/>\r\n            <p>Loading</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport FileSelect from '../../common/FileSelect';\r\nimport Loading from '../../common/Loading';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageMyTrainingRecord = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingRecordID = match.params.trainingRecordID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [completedTraining, setCompletedTraining] = useState(null);\r\n    const [myTrainingRecord, setMyTrainingRecord] = useState({});\r\n    const [rerender, setRerender] = useState(false);\r\n    const attendanceFileRef = useRef(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Get information for training record\r\n                const resMyTrainingRequest = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRecord = resMyTrainingRequest.data.results;\r\n                    console.log(tempMyTrainingRecord);\r\n                    setMyTrainingRecord(() => ({\r\n                        id: tempMyTrainingRecord.training_id,\r\n                        organisation: tempMyTrainingRecord.training_institution,\r\n                        course_title: tempMyTrainingRecord.title,\r\n                        cost: tempMyTrainingRecord.training_cost,\r\n                        approver: \"@\" + tempMyTrainingRecord.approver.account.username,\r\n                        supervisor_evaluation_done: tempMyTrainingRecord.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: tempMyTrainingRecord.trainee_evaluation_done,\r\n                        start_date: dayjs(tempMyTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempMyTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (tempMyTrainingRecord.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        attendance_file: tempMyTrainingRecord.attendance_file,\r\n                        status: tempMyTrainingRecord.status,\r\n                        created_by: \"@\" + tempMyTrainingRecord.author.account.username\r\n                    }));\r\n\r\n                    if (tempMyTrainingRecord.attendance_upload !== null) {\r\n                        setCompletedTraining(() => true);\r\n                    } else {\r\n                        setCompletedTraining(() => false);\r\n                    }\r\n\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, [rerender]);\r\n\r\n    // Handlers\r\n    const handleUploadFileBtn = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--training-record-file-upload'>\r\n                        <h1>Upload File</h1>\r\n                        <div className=\"c-Confirm-alert__File\">\r\n                            <FileSelect\r\n                                fileRef={attendanceFileRef}\r\n                            />\r\n                            <p>This training record's attendance will be updated to completed upon uploading the file</p>\r\n                        </div>\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--primary\" onClick={() => (confirmUploadFile(onClose))}>Upload</button>\r\n                            <button className=\"c-Btn c-Btn--cancel\" onClick={() => handleCancelFileUpload(onClose)}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const handleCancelFileUpload = (onClose) => {\r\n            onClose();\r\n        };\r\n\r\n        const confirmUploadFile = async (onClose) => {\r\n            setLoading(() => true);\r\n            console.log(attendanceFileRef.current.files[0]);\r\n            const fileObj = attendanceFileRef.current.files[0];\r\n            onClose();\r\n\r\n            if (fileObj === null) {\r\n                toast.error(\"Error! No file detected!\");\r\n                return;\r\n            }\r\n\r\n            const uploadFileFormData = new FormData();\r\n            uploadFileFormData.append(\"attendance\", fileObj);\r\n\r\n            try {\r\n                await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`, uploadFileFormData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`,\r\n                        'Content-Type': 'multipart/form-data',\r\n                    }\r\n                });\r\n                setTimeout(() => {\r\n                    toast.success(\"Success! Attendance file has been submitted!\");\r\n                }, 0);\r\n                setRerender((prevState) => !prevState);\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            }\r\n            setLoading(() => false);\r\n\r\n        };\r\n    };\r\n\r\n    const handleCompletePostEvaluation = async () => {\r\n        try {\r\n            // tell the system to start evaluation and lock on one template version\r\n            await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/evaluate-record/${trainingRecordID}`);\r\n            history.push(`/training/records/manage/${trainingRecordID}/post-training-evaluation`);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    const handleCancelRecord = () => {\r\n        // Confirmation dialogue for deleting rejected document\r\n        const message = `Canceling this record will cancel its respective request permanently. Click confirm to proceed.`;\r\n        const handler = (onClose) => confirmCancelRecord(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const confirmCancelRecord = async (onClose) => {\r\n            setLoading(() => true);\r\n            try {\r\n                await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/cancel-request/${trainingRecordID}`);\r\n                setTimeout(() => {\r\n                    toast.success(\"Success! Training record and its training request has been cancelled!\");\r\n                }, 0);\r\n                history.push(\"/training\");\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => false);\r\n            }\r\n            onClose();\r\n        };\r\n    };\r\n\r\n    const handleFileDownload = async () => {\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${myTrainingRecord.attendance_file?.file_id}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, myTrainingRecord.attendance_file.file_name);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage My Training Record' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-my-training-record c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-my-training-record__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/records\">My Training Records</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage My Training Record</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {\r\n                        loading ?\r\n                            <Loading /> :\r\n                            <>\r\n                                {/* Top section */}\r\n                                <div className=\"c-Manage-my-training-record__Top c-Main__Top\">\r\n                                    <h1>Manage my Training Record</h1>\r\n                                    {\r\n                                        completedTraining === null || myTrainingRecord.status === \"cancelled\" ?\r\n                                            null :\r\n                                            completedTraining ?\r\n                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleCompletePostEvaluation()}>Complete Post Evaluation</button> :\r\n                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleUploadFileBtn()}>Upload File</button>\r\n                                    }\r\n                                </div>\r\n\r\n                                {/* Training records */}\r\n                                <div className=\"c-Manage-my-training-record__Fields c-Fields\">\r\n                                    <div className=\"c-Fields__Left\">\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Course Title</h2>\r\n                                            <p>{myTrainingRecord.course_title}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Organisation/Institution</h2>\r\n                                            <p>{myTrainingRecord.organisation}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Cost</h2>\r\n                                            <p>{myTrainingRecord.cost}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Evaluation Status (Trainee)</h2>\r\n                                            {\r\n                                                myTrainingRecord.status === \"cancelled\" ?\r\n                                                    <StatusPill type=\"cancelled\" /> :\r\n                                                    !myTrainingRecord.attendance ?\r\n                                                        <p>Nil</p> :\r\n                                                        myTrainingRecord.trainee_evaluation_done ?\r\n                                                            <StatusPill type=\"completed\" /> :\r\n                                                            <StatusPill type=\"pending\" />\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>File (Evidence for Attendance)</h2>\r\n                                            {\r\n                                                myTrainingRecord.attendance_file ?\r\n                                                    <div className=\"c-Field__File c-File\">\r\n                                                        <h1 onClick={handleFileDownload}>{myTrainingRecord.attendance_file.file_name}</h1>\r\n                                                        {\r\n                                                            myTrainingRecord.status === \"cancelled\" ?\r\n                                                                null :\r\n                                                                <h2>Change File</h2>\r\n                                                        }\r\n                                                    </div> :\r\n                                                    <p>No file.</p>\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Trainee</h2>\r\n                                            <p>{myTrainingRecord.created_by}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"c-Fields__Right\">\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Start Date</h2>\r\n                                            <p>{myTrainingRecord.start_date}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>End Date</h2>\r\n                                            <p>{myTrainingRecord.end_date}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Approver</h2>\r\n                                            <p>{myTrainingRecord.approver}</p>\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Evaluation Status (Approver)</h2>\r\n                                            {myTrainingRecord.status === \"cancelled\" ?\r\n                                                <StatusPill type=\"cancelled\" /> :\r\n                                                !myTrainingRecord.attendance ?\r\n                                                    <p>Nil</p> :\r\n                                                    myTrainingRecord.supervisor_evaluation_done ?\r\n                                                        <StatusPill type=\"completed\" /> :\r\n                                                        <StatusPill type=\"pending\" />\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"c-Field\">\r\n                                            <h2>Attendance Status</h2>\r\n                                            {\r\n                                                myTrainingRecord.status === \"cancelled\" ?\r\n                                                    <StatusPill type=\"cancelled\" /> :\r\n                                                    myTrainingRecord.attendance ?\r\n                                                        <StatusPill type=\"completed\" /> :\r\n                                                        <StatusPill type=\"pending\" />\r\n                                            }\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {\r\n                                    myTrainingRecord.status === \"cancelled\" ?\r\n                                        null :\r\n                                        <>\r\n                                            {/* Danger Zone */}\r\n                                            < div className=\"c-Manage-my-training-record__Danger c-Danger\">\r\n                                                <div className=\"c-Danger__Top\">\r\n                                                    <h1>Danger Zone</h1>\r\n                                                </div>\r\n                                                <div className=\"c-Danger__Contents\">\r\n                                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleCancelRecord()}>Cancel record & request</button>\r\n                                                    <p>Performing this action will cancel the record and request permanently. This action cannot be undoned.</p>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </>\r\n                                }\r\n\r\n\r\n                            </>\r\n                    }\r\n\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMyTrainingRecord;","import React, { useState, useEffect } from 'react'\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../config/enums';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst EvaluationQuestions = ({ mode, qns, qnsType, index, viewType, setQuestions, formType, answer }) => {\r\n\r\n    // State declaration\r\n    const [type, setType] = useState(QUESTION_TYPE.DEFAULT);\r\n\r\n    useEffect(() => {\r\n        if (qnsType) {\r\n            setType(() => qnsType);\r\n        }\r\n    }, [mode]);\r\n\r\n    // Handlers\r\n    const handleSelectQnsType = (event) => {\r\n        setType(() => event.target.value);\r\n    };\r\n\r\n    const handleDeleteQns = () => {\r\n        setQuestions((prevState) => {\r\n\r\n            let formTypeUsage = \"\";\r\n            if (formType === \"trainee\") {\r\n                formTypeUsage = \"trainee\";\r\n            }\r\n            else {\r\n                formTypeUsage = \"supervisor\";\r\n            }\r\n\r\n            // Remove to be deleted qns from data array\r\n            let newData = prevState[formTypeUsage].filter((data) => {\r\n                return data.serialNo !== index + 1;\r\n            });\r\n\r\n\r\n            // Update serial no in array\r\n            let formattedData = newData.map((data, index) => {\r\n                return ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })\r\n            });\r\n\r\n            if (formTypeUsage === \"trainee\") {\r\n                return {\r\n                    ...prevState,\r\n                    trainee: formattedData\r\n                }\r\n            }\r\n            else {\r\n                return {\r\n                    ...prevState,\r\n                    supervisor: formattedData\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleQnsInputChange = (event) => {\r\n        if (formType === \"trainee\") {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                trainee: prevState.trainee.map((data) => {\r\n                    console.log(data);\r\n                    console.log(index)\r\n                    if (data.serialNo === (index + 1)) {\r\n                        return {\r\n                            ...data,\r\n                            question: event.target.value\r\n                        }\r\n                    }\r\n                    else {\r\n                        return data;\r\n                    }\r\n                })\r\n            }));\r\n        }\r\n        else {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                supervisor: prevState.supervisor.map((data) => {\r\n                    if (data.serialNo === (index + 1)) {\r\n                        return {\r\n                            ...data,\r\n                            question: event.target.value\r\n                        }\r\n                    }\r\n                    else {\r\n                        return data;\r\n                    }\r\n                })\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    const handleRadioInputChange = (event) => {\r\n        console.log(event.target.value);\r\n        setQuestions((prevState) => prevState.map((data, innerIndex) => {\r\n            if (index === innerIndex) {\r\n                return {\r\n                    ...data,\r\n                    answer: event.target.value\r\n                }\r\n            } else {\r\n                return data;\r\n            }\r\n        }));\r\n    };\r\n\r\n    const renderEditQnsType = () => {\r\n        // YES OR NO\r\n        if (type === QUESTION_TYPE.BOOLEAN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' disabled />\r\n                        <label htmlFor=\"boolean\">Yes</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' disabled />\r\n                        <label htmlFor=\"boolean\">No</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // 1 - 5 Rating\r\n        else if (type === QUESTION_TYPE.RATING) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled />\r\n                        <label htmlFor=\"rating\">Strongly Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled />\r\n                        <label htmlFor=\"rating\">Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled />\r\n                        <label htmlFor=\"rating\">Neutrel</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled />\r\n                        <label htmlFor=\"rating\">Agree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled />\r\n                        <label htmlFor=\"rating\">Strongly Agree</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Open ended\r\n        else if (type === QUESTION_TYPE.OPEN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--open\">\r\n                    <textarea name=\"open\" disabled placeholder=\"Enter something\"></textarea>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--default\">\r\n                    <p>Please select a question type</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderDoQnsType = () => {\r\n        // YES OR NO\r\n        if (viewType === QUESTION_TYPE.BOOLEAN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"yes\" ? true : false} value=\"yes\" />\r\n                        <label htmlFor=\"boolean\">Yes</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"no\" ? true : false} value=\"no\" />\r\n                        <label htmlFor=\"boolean\">No</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // 1 - 5 Rating\r\n        else if (viewType === QUESTION_TYPE.RATING) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"1\" ? true : false} value={1} />\r\n                        <label htmlFor=\"rating\">Strongly Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"2\" ? true : false} value={2} />\r\n                        <label htmlFor=\"rating\">Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"3\" ? true : false} value={3} />\r\n                        <label htmlFor=\"rating\">Neutrel</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"4\" ? true : false} value={4} />\r\n                        <label htmlFor=\"rating\">Agree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' onChange={(event) => handleRadioInputChange(event)} checked={answer === undefined ? false : answer === \"5\" ? true : false} value={5} />\r\n                        <label htmlFor=\"rating\">Strongly Agree</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Open ended\r\n        else if (viewType === QUESTION_TYPE.OPEN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--open\">\r\n                    <textarea name=\"open\" placeholder=\"Enter something\" value={answer ? answer : \"\"} onChange={(event) => {\r\n                        setQuestions((prevState) => prevState.map((data, innerIndex) => {\r\n                            if (index === innerIndex) {\r\n                                return {\r\n                                    ...data,\r\n                                    answer: event.target.value\r\n                                }\r\n                            } else {\r\n                                return data;\r\n                            }\r\n                        }));\r\n                    }}></textarea>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--default\">\r\n                    <p>Error! Invalid Question type.</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderViewQnsType = () => {\r\n        // YES OR NO\r\n        if (viewType === QUESTION_TYPE.BOOLEAN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' checked={answer === undefined ? false : answer === \"yes\" ? true : false} value=\"yes\" disabled />\r\n                        <label htmlFor=\"boolean\">Yes</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' checked={answer === undefined ? false : answer === \"no\" ? true : false} value=\"no\" disabled />\r\n                        <label htmlFor=\"boolean\">No</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // 1 - 5 Rating\r\n        else if (viewType === QUESTION_TYPE.RATING) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' checked={answer === undefined ? false : answer === \"1\" ? true : false} value={answer === 1 ? true : false} disabled />\r\n                        <label htmlFor=\"rating\">Strongly Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' checked={answer === undefined ? false : answer === \"2\" ? true : false} value={answer === 2 ? true : false} disabled />\r\n                        <label htmlFor=\"rating\">Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' checked={answer === undefined ? false : answer === \"3\" ? true : false} value={answer === 3 ? true : false} disabled />\r\n                        <label htmlFor=\"rating\">Neutrel</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' checked={answer === undefined ? false : answer === \"4\" ? true : false} value={answer === 4 ? true : false} disabled />\r\n                        <label htmlFor=\"rating\">Agree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' checked={answer === undefined ? false : answer === \"5\" ? true : false} value={answer === 5 ? true : false} disabled />\r\n                        <label htmlFor=\"rating\">Strongly Agree</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Open ended\r\n        else if (viewType === QUESTION_TYPE.OPEN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--open\">\r\n                    <textarea name=\"open\" value={answer ? answer : \"\"} disabled placeholder=\"Enter something\"></textarea>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--default\">\r\n                    <p>Error! Invalid Question type.</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderQuestionByMode = () => {\r\n        if (mode === TRAINING_EVALUATION_MODE.EDIT) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Edit\">\r\n                    <div className=\"c-Evaluation-qns__Top c-Top\">\r\n                        <div className=\"c-Top__Left\">\r\n                            <label htmlFor=\"qns\">{index + 1}.</label>\r\n                            <input name=\"qns\" type=\"text\" placeholder=\"Enter question\" value={qns || ''} onChange={(event) => handleQnsInputChange(event)} />\r\n                        </div>\r\n                        <div className=\"c-Top__Right\">\r\n                            <label htmlFor=\"qnsType\">Qns Type:</label>\r\n                            <select name=\"qnsType\" value={type} onChange={(event) => handleSelectQnsType(event)}>\r\n                                <option value={QUESTION_TYPE.DEFAULT}>Select a qns type</option>\r\n                                <option value={QUESTION_TYPE.OPEN}>Open Ended</option>\r\n                                <option value={QUESTION_TYPE.RATING}>1 - 5 Rating</option>\r\n                                <option value={QUESTION_TYPE.BOOLEAN}>Yes or No</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Types\">\r\n                        {renderEditQnsType()}\r\n                        <div className=\"c-Evaluation-qns__Del\">\r\n                            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                <RiIcons.RiDeleteBin7Line className=\"c-Delete\" onClick={() => (handleDeleteQns())} />\r\n                            </IconContext.Provider>\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (mode === TRAINING_EVALUATION_MODE.DO) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Do\">\r\n                    <div className=\"c-Evaluation-qns__Top c-Top\">\r\n                        <p>{index + 1}.</p>\r\n                        <p>{qns}</p>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Types\">\r\n                        {renderDoQnsType()}\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (mode === TRAINING_EVALUATION_MODE.VIEW) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__View\">\r\n                    <div className=\"c-Evaluation-qns__Top c-Top\">\r\n                        <p>{index + 1}.</p>\r\n                        <p>{qns}</p>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Types\">\r\n                        {renderViewQnsType()}\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n            );\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Evaluation-qns\">\r\n            {renderQuestionByMode()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EvaluationQuestions;","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport dayjs from 'dayjs';\r\n\r\n\r\nconst PostEvaluationForm = ({ match }) => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const pathname = location.pathname;\r\n    const pathnameArr = pathname.split(\"/\");\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState([]);\r\n    const [editQuestions, setEditQuestions] = useState([]);\r\n    const [meta, setMeta] = useState({});\r\n    const [formType, setFormType] = useState(null);\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const trainingRecordID = match.params.trainingRecordID;\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        if (pathnameArr[1] === \"training\") {\r\n            // As an approver\r\n            if (pathnameArr[2] === \"manage\") {\r\n                setFormType(() => \"approver\");\r\n            }\r\n            // As a trainee\r\n            else {\r\n                setFormType(() => \"trainee\");\r\n            }\r\n        } else {\r\n            history.push(\"/page-not-found\");\r\n        }\r\n\r\n        (async () => {\r\n            try {\r\n                const trainingRecordRes = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`);\r\n                console.log(trainingRecordRes)\r\n                if (componentMounted) {\r\n                    const tempTrainingRecord = trainingRecordRes.data.results;\r\n                    setMeta(() => ({\r\n                        course_title: tempTrainingRecord.title,\r\n                        organisation: tempTrainingRecord.training_institution,\r\n                        cost: tempTrainingRecord.training_cost,\r\n                        status: \"Completed\",\r\n                        trainee: \"@\" + tempTrainingRecord.author.account.username,\r\n                        supervisor: \"@\" + tempTrainingRecord.approver.account.username,\r\n                        start_date: dayjs(new Date(tempTrainingRecord.training_start)).format(\"MMMM D, YYYY\"),\r\n                        end_date: dayjs(new Date(tempTrainingRecord.training_end)).format(\"MMMM D, YYYY\"),\r\n                        version: tempTrainingRecord.evaluation.meta.template.version,\r\n                        form_title: tempTrainingRecord.evaluation.meta.template.name\r\n                    }));\r\n\r\n                    setQuestions(() => {\r\n                        // Approver\r\n                        if (pathnameArr[2] === \"manage\") {\r\n                            return tempTrainingRecord.evaluation.evaluation.supervisor.map((data) => ({\r\n                                ...data,\r\n                                displayType: (() => {\r\n                                    if (data.type === \"rating\") {\r\n                                        return QUESTION_TYPE.RATING;\r\n                                    } else if (data.type === \"open\") {\r\n                                        return QUESTION_TYPE.OPEN;\r\n                                    } else if (data.type === \"bool\") {\r\n                                        return QUESTION_TYPE.BOOLEAN;\r\n                                    } else {\r\n                                        return QUESTION_TYPE.DEFAULT;\r\n                                    }\r\n                                })()\r\n                            }));\r\n                        }\r\n                        // trainee\r\n                        else {\r\n                            return tempTrainingRecord.evaluation.evaluation.trainee.map((data) => ({\r\n                                ...data,\r\n                                displayType: (() => {\r\n                                    if (data.type === \"rating\") {\r\n                                        return QUESTION_TYPE.RATING;\r\n                                    } else if (data.type === \"open\") {\r\n                                        return QUESTION_TYPE.OPEN;\r\n                                    } else if (data.type === \"bool\") {\r\n                                        return QUESTION_TYPE.BOOLEAN;\r\n                                    } else {\r\n                                        return QUESTION_TYPE.DEFAULT;\r\n                                    }\r\n                                })()\r\n                            }));\r\n                        }\r\n                    });\r\n\r\n                    setEditQuestions(() => {\r\n                        // Approver\r\n                        if (pathnameArr[2] === \"manage\") {\r\n                            return tempTrainingRecord.evaluation.evaluation.supervisor.map((data) => ({\r\n                                ...data,\r\n                                displayType: (() => {\r\n                                    if (data.type === \"rating\") {\r\n                                        return QUESTION_TYPE.RATING;\r\n                                    } else if (data.type === \"open\") {\r\n                                        return QUESTION_TYPE.OPEN;\r\n                                    } else if (data.type === \"bool\") {\r\n                                        return QUESTION_TYPE.BOOLEAN;\r\n                                    } else {\r\n                                        return QUESTION_TYPE.DEFAULT;\r\n                                    }\r\n                                })()\r\n                            }));\r\n                        }\r\n                        // trainee\r\n                        else {\r\n                            return tempTrainingRecord.evaluation.evaluation.trainee.map((data) => ({\r\n                                ...data,\r\n                                displayType: (() => {\r\n                                    if (data.type === \"rating\") {\r\n                                        return QUESTION_TYPE.RATING;\r\n                                    } else if (data.type === \"open\") {\r\n                                        return QUESTION_TYPE.OPEN;\r\n                                    } else if (data.type === \"bool\") {\r\n                                        return QUESTION_TYPE.BOOLEAN;\r\n                                    } else {\r\n                                        return QUESTION_TYPE.DEFAULT;\r\n                                    }\r\n                                })()\r\n                            }));\r\n                        }\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n            if (componentMounted) {\r\n\r\n            }\r\n        })();\r\n        console.log(\"ran use effect\")\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, [editMode]);\r\n\r\n    const handleSubmitPostEvaluation = async () => {\r\n        try {\r\n            let axiosBodyData = {};\r\n            console.log(editQuestions)\r\n            // Approver/supervisor\r\n            if (pathnameArr[2] === \"manage\") {\r\n                axiosBodyData = {\r\n                    supervisor_evaluation_done: true,\r\n                    supervisor: editQuestions\r\n                };\r\n            }\r\n            // Trainee\r\n            else {\r\n                axiosBodyData = {\r\n                    trainee_evaluation_done: true,\r\n                    trainee: editQuestions\r\n                }\r\n            }\r\n            await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/evaluate-record/${trainingRecordID}`, axiosBodyData);\r\n\r\n            toast.success(\"You have successfully modified your evaluation!\");\r\n            setEditMode(() => false);\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Post Evaluation Form' activeLink=\"/training\">\r\n                <div className=\"c-Post-evaluation-form c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Post-evaluation-form__Breadcrumb l-Breadcrumb\">\r\n                        {\r\n                            formType !== \"approver\" ?\r\n                                <>\r\n                                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href=\"/training\">My Training Records</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href={`/training/records/manage/${trainingRecordID}`}>Manage My Training Record</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item active>Post Training Evaluation</Breadcrumb.Item>\r\n                                </> :\r\n                                <>\r\n                                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href=\"/training/manage\">Assigned Records</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href={`/training/manage/records/manage/${trainingRecordID}`}>Manage Training</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item active>Post Training Evaluation</Breadcrumb.Item>\r\n                                </>\r\n                        }\r\n\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Post-evaluation-form__Top c-Main__Top\">\r\n                        <h1>Post Training Evaluation</h1>\r\n                        {\r\n                            editMode ?\r\n                                <div className=\"c-Post-evaluation-form__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSubmitPostEvaluation()}>Submit</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => setEditMode((prevState) => !prevState)}>Cancel</button>\r\n                                </div>\r\n                                :\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => setEditMode((prevState) => !prevState)}>Edit</button>\r\n\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {/* Form */}\r\n                    <div className=\"c-Post-evaluation-form__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Post-evaluation-form__Document-content\">\r\n                                {/* Title */}\r\n                                <h1>Post Training Evaluation Form 2022</h1>\r\n                                {/* Document header info */}\r\n                                <div className=\"c-Post-evaluation-form__Document-header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <p>{meta.course_title}</p>\r\n                                        <p>{meta.organisation}</p>\r\n                                        <p>{meta.cost}</p>\r\n                                        <p>{meta.status}</p>\r\n                                        <p>{meta.version}</p>\r\n                                        <p>{meta.trainee}</p>\r\n                                        <p>{meta.supervisor}</p>\r\n                                        <p>{meta.start_date}</p>\r\n                                        <p>{meta.end_date}</p>\r\n                                    </div>\r\n                                </div>\r\n                                {/* Form section - edit mode */}\r\n                                <div className=\"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit\">\r\n                                    <div className=\"c-Document-form__Heading\">\r\n                                        <h1>{formType === \"approver\" ? \"Approver\" : \"Trainee\"} Section</h1>\r\n                                    </div>\r\n                                    <div className=\"c-Document-form__Fields\">\r\n                                        {\r\n                                            questions.length > 0 ?\r\n                                                editMode ?\r\n                                                    editQuestions.map((data, index) =>\r\n                                                        <EvaluationQuestions\r\n                                                            mode={TRAINING_EVALUATION_MODE.DO}\r\n                                                            qns={data.question}\r\n                                                            viewType={data.displayType}\r\n                                                            index={index}\r\n                                                            setQuestions={setEditQuestions}\r\n                                                            formType={formType}\r\n                                                            key={index}\r\n                                                            answer={data.answer}\r\n                                                        />\r\n                                                    ) :\r\n                                                    questions.map((data, index) =>\r\n                                                        <EvaluationQuestions\r\n                                                            mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                            qns={data.question}\r\n                                                            viewType={data.displayType}\r\n                                                            index={index}\r\n                                                            setQuestions={setQuestions}\r\n                                                            formType={formType}\r\n                                                            key={index}\r\n                                                            answer={data.answer}\r\n                                                        />\r\n                                                    )\r\n                                                :\r\n                                                \"No questions\"\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PostEvaluationForm;","import axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport Loading from '../../common/Loading.js';\r\n\r\nconst CreateTrainingRequest = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const token = TokenManager.getToken();\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [newTrainingRequest, setNewTrainingRequest] = useState({\r\n        title: \"\",\r\n        training_start: new Date(),\r\n        training_end: new Date(),\r\n        training_institution: \"\",\r\n        training_cost: \"\",\r\n        justification_text: \"\",\r\n        approved_by: undefined\r\n    });\r\n    const [newJustificationFile, setNewJustificationFile] = useState(null);\r\n    const fileRef = useRef(null);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Do axios call here to get approval list then set approved by who\r\n                const resApprover = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_03a/employees`);\r\n                if (componentMounted) {\r\n                    console.log(resApprover)\r\n                    const approverListData = resApprover.data.results;\r\n                    if (approverListData !== undefined) {\r\n                        setApproverList(() => {\r\n                            if (approverListData.length === 0) {\r\n                                return null;\r\n                            }\r\n                            return approverListData.map((acc) => ({\r\n                                displayName: `${acc.firstname} ${acc.lastname}`,\r\n                                username: `@${acc.account.username}`,\r\n                                approvalID: acc.employee_id\r\n                            }));\r\n                        });\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleSubmitTrainingRequest = async () => {\r\n        if (submitting === true) return;\r\n        setSubmitting(() => true);\r\n        try {\r\n            const newTrainingRequestFormData = new FormData();\r\n            // Loop through a javascript object and append the fields to the form data variable\r\n            for (const property in newTrainingRequest) {\r\n                newTrainingRequestFormData.append(property, newTrainingRequest[property]);\r\n            }\r\n\r\n            newTrainingRequestFormData.append(\"justification\", newJustificationFile);\r\n            console.log(userCompanyID)\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests`, newTrainingRequestFormData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                toast.success(\"Success! Training requets has been submitted for approval!\");\r\n            }, 0);\r\n            history.push(\"/training/requests\");\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            setSubmitting(() => false);\r\n        }\r\n\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setNewTrainingRequest((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    const handleDateChange = (date, name) => {\r\n        setNewTrainingRequest((prevState) => ({\r\n            ...prevState,\r\n            [name]: date\r\n        }));\r\n    };\r\n\r\n    const handleFileSelect = () => {\r\n        fileRef.current.click();\r\n    };\r\n\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        console.log(fileObj);\r\n        setNewJustificationFile(() => fileObj);\r\n    };\r\n\r\n    const handleDeleteFile = () => {\r\n        setNewJustificationFile(() => null);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Create Training Request' activeLink=\"/training\">\r\n                <div className=\"c-Create-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/requests\">My Training Requests</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-training-request__Top c-Main__Top\">\r\n                        <h1>Create Training Request</h1>\r\n                        <button type=\"button\" className={`c-Btn c-Btn--primary ${submitting ? \"c-Btn--disabled\": \"\"}`} onClick={() => handleSubmitTrainingRequest()}>Create</button>\r\n                    </div>\r\n\r\n                    {\r\n                        submitting ?\r\n                            <Loading />\r\n                            :\r\n\r\n                            <div className=\"c-Create-training-request__Form c-Form\">\r\n\r\n                                <div className=\"c-Form__Row\">\r\n                                    <div className=\"c-Form__Left c-Form__Input\">\r\n                                        <label htmlFor=\"title\">Course Title</label>\r\n                                        <input name=\"title\" value={newTrainingRequest.title} type=\"text\" placeholder=\"Enter Course Title\" onChange={handleInputChange} />\r\n                                    </div>\r\n                                    <div className=\"c-Form__Right c-Form__Input\">\r\n                                        <label htmlFor=\"startDate\">Start Date</label>\r\n                                        <DateTimePicker\r\n                                            onChange={(date) => handleDateChange(date, \"training_start\")}\r\n                                            value={newTrainingRequest.training_start}\r\n                                            className=\"c-Form__Date\"\r\n                                            format=\"dd/MM/y\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"c-Form__Row\">\r\n                                    <div className=\"c-Form__Left c-Form__Input\">\r\n                                        <label htmlFor=\"training_institution\">Organisation/Institution</label>\r\n                                        <input name=\"training_institution\" value={newTrainingRequest.training_institution} type=\"text\" placeholder=\"Enter Organisation/Instition\" onChange={handleInputChange} />\r\n                                    </div>\r\n                                    <div className=\"c-Form__Right c-Form__Input\">\r\n                                        <label htmlFor=\"endDate\">End Date</label>\r\n                                        <DateTimePicker\r\n                                            onChange={(date) => handleDateChange(date, \"training_end\")}\r\n                                            value={newTrainingRequest.training_end}\r\n                                            className=\"c-Form__Date\"\r\n                                            format=\"dd/MM/y\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"c-Form__Row\">\r\n                                    <div className=\"c-Form__Left c-Form__Input\">\r\n                                        <label htmlFor=\"training_cost\">Cost</label>\r\n                                        <input name=\"training_cost\" value={newTrainingRequest.training_cost} type=\"text\" placeholder=\"Enter training cost\" onChange={handleInputChange} />\r\n                                    </div>\r\n                                    <div className=\"c-Form__Right c-Form__Input\">\r\n                                        <label htmlFor=\"approved_by\">To be approved by</label>\r\n                                        <select name=\"approved_by\" className=\"c-Form__Approver\" value={newTrainingRequest.approved_by} onChange={handleInputChange}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                {/* Justification & Recommendations */}\r\n                                <div className=\"c-Form__Row\">\r\n                                    <div className=\"c-Form__Left c-Form__Input c-Form__Justification\">\r\n                                        <label htmlFor=\"justification_text\">Justification</label>\r\n                                        <textarea name=\"justification_text\" value={newTrainingRequest.justification_text} type=\"text\" placeholder=\"Enter Justification\" onChange={handleInputChange} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* File Upload (For justification) */}\r\n                                <div className=\"c-Form__Row\">\r\n                                    <div className=\"c-Form__File-upload c-File-upload\">\r\n                                        <h2>File (For Justification)</h2>\r\n                                        <div className=\"c-File-upload__Display\">\r\n                                            {\r\n                                                newJustificationFile ?\r\n                                                    <>\r\n                                                        <p>{newJustificationFile.name}</p>\r\n                                                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                                            <RiIcons.RiDeleteBin7Line className=\"c-File-upload__Bin\" onClick={() => handleDeleteFile()} />\r\n                                                        </IconContext.Provider>\r\n                                                    </>\r\n                                                    : <p>No File Detected.</p>\r\n                                            }\r\n                                        </div>\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleFileSelect()}>Upload File</button>\r\n                                        <input className=\"c-File-select__Raw\" type=\"file\" ref={fileRef} onChange={handleFileInputChange} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    }\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateTrainingRequest;","import dayjs from 'dayjs';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { managePETColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport StatusPill from '../../common/StatusPill';\r\n\r\nconst ManagePostEvaluationTemplates = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [templates, setTemplates] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // get all templates\r\n                const resAllTemplates = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/all-templates`);\r\n\r\n                if (componentMounted) {\r\n                    const tempAllTemplates = resAllTemplates.data.results;\r\n                    console.log(tempAllTemplates)\r\n                    setTemplates(() => tempAllTemplates.map((data, index) => ({\r\n                        id: data.evaluation_template_id,\r\n                        serialNo: index + 1,\r\n                        template_title: data.name,\r\n                        version: data.version,\r\n                        created_by: \"@\" + data.author.account.username,\r\n                        created_on: dayjs(new Date(data.created_at)).format(\"D MMM YYYY\"),\r\n                        status: (() => {\r\n                            console.log(data.active)\r\n                            if (data.active) {\r\n                                return <StatusPill type=\"active\" />\r\n                            } else {\r\n                                return <StatusPill type=\"inactive\" />\r\n                            }\r\n                        })(),\r\n                        action_manage: `/training/post-evaluation-templates/manage/${data.evaluation_template_id}`\r\n                    })));\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Post Evaluation Templates' activeLink=\"/training\">\r\n                <div className=\"c-Manage-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-PET__Top c-Main__Top\">\r\n                        <h1>Manage Post Evaluation Templates</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => history.push(\"/training/post-evaluation-templates/create\")}>Create New Template</button>\r\n                    </div>\r\n                    {/* Training requests pending for user's approval*/}\r\n                    <div className=\"c-Manage-PET__Table\">\r\n                        {\r\n                            templates.length > 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={templates}\r\n                                    columns={managePETColumns}\r\n                                // pagination={paginationFactory()}\r\n                                /> :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManagePostEvaluationTemplates;","import { QUESTION_TYPE } from './enums';\r\n\r\nexport const defaultTemplate = {\r\n    meta: {\r\n        template: {\r\n            name: 'Post training evaluation 20XX',\r\n            version: '20XX.X',\r\n            created_by: null,\r\n            created_at: null,\r\n            effective_at: null\r\n        },\r\n        // form: {\r\n        //     trainee_id: null,\r\n        //     supervisor_id: null,\r\n        //     created_at: '',\r\n        //     updated_at: '' // maybe\r\n        // }\r\n    },\r\n    evaluation: {\r\n        // we can include qns no and use array.sort(callback)\r\n        // prob more applicable in the frontend than in the backend\r\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#description\r\n        trainee: [\r\n            { order: 2, type: QUESTION_TYPE.RATING, question: 'Rating question' },\r\n            { order: 1, type: QUESTION_TYPE.OPEN, question: 'Open Ended question'},\r\n            { order: 3, type: QUESTION_TYPE.BOOLEAN, question: 'Yes or No Question' },\r\n        ],\r\n        supervisor: [\r\n            { order: 2, type: QUESTION_TYPE.RATING, question: 'Rating question' },\r\n            { order: 1, type: QUESTION_TYPE.OPEN, question: 'Open Ended question'},\r\n            { order: 3, type: QUESTION_TYPE.BOOLEAN, question: 'Yes or No Question' },\r\n        ]\r\n    }\r\n};","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport config from '../../config/config';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\nimport { defaultTemplate } from '../../config/trainingEvaluation';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\n\r\nconst CreateEvaluationTemplate = () => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState({\r\n        trainee: [],\r\n        supervisor: []\r\n    });\r\n    const [meta, setMeta] = useState({});\r\n\r\n    useEffect(() => {\r\n        setQuestions(() => {\r\n            const sortedTraineeQnsRaw = defaultTemplate.evaluation.trainee.sort((a, b) => a.order - b.order);\r\n\r\n            const sortedSupervisorQnsRaw = defaultTemplate.evaluation.supervisor.sort((a, b) => a.order - b.order);\r\n\r\n            return {\r\n                trainee: sortedTraineeQnsRaw.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })),\r\n                supervisor: sortedSupervisorQnsRaw.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })),\r\n            };\r\n        });\r\n        setMeta(() => {\r\n            return defaultTemplate.meta;\r\n        });\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleAddQns = (type) => {\r\n        if (type === \"trainee\") {\r\n            setQuestions((prevState) => {\r\n                return ({\r\n                    ...prevState,\r\n                    trainee: [\r\n                        ...prevState.trainee,\r\n                        {\r\n                            serialNo: prevState.trainee.length + 1,\r\n                            question: '',\r\n                            answer: '',\r\n                            type: QUESTION_TYPE.DEFAULT\r\n                        }\r\n                    ]\r\n                })\r\n            }\r\n            );\r\n        }\r\n        else {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                supervisor: [\r\n                    ...prevState.supervisor,\r\n                    {\r\n                        serialNo: prevState.supervisor.length + 1,\r\n                        question: '',\r\n                        answer: '',\r\n                        type: QUESTION_TYPE.DEFAULT\r\n                    }\r\n                ]\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setMeta((prevState) => ({\r\n            ...prevState,\r\n            template: {\r\n                ...prevState.template,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        console.log(meta);\r\n        console.log(questions);\r\n        const formattedTemplateData = {\r\n            name: meta.template?.name,\r\n            version: meta.template.version,\r\n            evaluation: questions,\r\n            immediate: true\r\n        };\r\n\r\n        try {\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/all-templates`, formattedTemplateData);\r\n            setTimeout(() => {\r\n                toast.success(\"Success! A new post evaluation form has been created!\");\r\n            }, 0);\r\n            history.push(\"/training/post-evaluation-templates\");\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Create Post Evaluation Template' activeLink=\"/settings\">\r\n                <div className=\"c-Create-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/post-evaluation-templates\" >Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Post Evaluation Template</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-PET__Top c-Main__Top\">\r\n                        <h1>Create Post Evaluation Template</h1>\r\n                        <div className=\"c-Top__Btns\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick = {() => handleSubmit()}>Create</button>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => history.push(\"/settings/trainings/post-evaluation-templates\")}>Cancel</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Document Section */}\r\n                    <div className=\"c-Create-PET__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Create-PET__Document-content\">\r\n                                {/* Title */}\r\n                                <div className=\"c-Create-PET__Document-title\">\r\n                                    <input type=\"text\" placeholder=\"Enter form title\" name=\"name\" value={meta.template?.name || ''} onChange={(event) => handleInputChange(event)} />\r\n                                </div>\r\n\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Create-PET__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <input type=\"text\" name=\"version\" value={meta.template?.version || ''} onChange={(event) => handleInputChange(event)} />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Form section */}\r\n                                <div className=\"c-Create-PET__Document-form c-Document-form\">\r\n                                    {/* Trainee section */}\r\n                                    <div className=\"c-Document-form__Trainee\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Trainee Section</h1>\r\n                                            <p>This section will only be shown to the trainee when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions?.trainee?.length > 0 ?\r\n                                                    questions.trainee.map((question, index) => {\r\n                                                        return (\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qnsType={question.type}\r\n                                                                qns={question.question}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                key={index}\r\n                                                                formType=\"trainee\"\r\n                                                            />\r\n                                                        );\r\n                                                    })\r\n                                                    :\r\n                                                    <p>No questions detected!</p>\r\n                                            }\r\n                                            {/* Add Question */}\r\n                                            <div className=\"c-Document-form__Add-qns\" onClick={() => handleAddQns(\"trainee\")}>\r\n                                                <p>Add New Row</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Approver/Supervisor section */}\r\n                                    <div className=\"c-Document-form__Approver\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Approver/Supervisor Section</h1>\r\n                                            <p>This section will only be shown to the approver/supervisor when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions?.supervisor?.length > 0 ?\r\n                                                    questions.supervisor.map((question, index) => {\r\n                                                        return (\r\n\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qnsType={question.type}\r\n                                                                qns={question.question}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                key={index}\r\n                                                                formType=\"supervisor\"\r\n                                                            />\r\n\r\n                                                        );\r\n                                                    })\r\n                                                    :\r\n                                                    <p>No questions detected!</p>\r\n                                            }\r\n                                            {/* Add Question */}\r\n                                            <div className=\"c-Document-form__Add-qns\" onClick={() => handleAddQns(\"supervisor\")}>\r\n                                                <p>Add New Row</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateEvaluationTemplate;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageMyTrainingRequest = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingReqID = match.params.trainingReqID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [myTrainingRequest, setMyTrainingRequest] = useState({});\r\n    const [rerender, setRerender] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resMyTrainingRequest = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingReqID}`);\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRequest = resMyTrainingRequest.data.results;\r\n                    console.log(resMyTrainingRequest);\r\n                    setMyTrainingRequest(() => ({\r\n                        id: tempMyTrainingRequest.training_id,\r\n                        organisation: tempMyTrainingRequest.training_institution,\r\n                        course_title: tempMyTrainingRequest.title,\r\n                        cost: tempMyTrainingRequest.training_cost,\r\n                        approver: \"@\" + tempMyTrainingRequest.approver.account.username,\r\n                        approval_status: tempMyTrainingRequest.status,\r\n                        start_date: dayjs(tempMyTrainingRequest.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempMyTrainingRequest.training_end).format(\"D MMM YYYY\"),\r\n                        justification_text: tempMyTrainingRequest.justification_text,\r\n                        justification_upload: tempMyTrainingRequest.justification_upload,\r\n                        justification_upload_filename: tempMyTrainingRequest.justification_file?.file_name,\r\n                        remarks: tempMyTrainingRequest.remarks,\r\n                        attendance_upload: tempMyTrainingRequest.attendance_upload,\r\n                        created_by: \"@\" + tempMyTrainingRequest.author.account.username\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, [rerender]);\r\n\r\n    // Handlers\r\n    const handleRemoveOrCancelRequest = () => {\r\n        // Confirmation dialogue for deleting rejected document\r\n        const message = `${myTrainingRequest.approval_status === \"rejected\" ? \"Deleting\" : \"Removing\"} this record will ${myTrainingRequest.approval_status === \"rejected\" ? \"delete\" : \"remove\"} its respective record (if any) permanently. Click confirm to proceed.`;\r\n        const handler = (onClose) => confirmRemoveOrCancelRequest(onClose);\r\n        const heading = `Confirm ${myTrainingRequest.approval_status === \"rejected\" ? \"delete\" : \"remove\"}?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const confirmRemoveOrCancelRequest = async (onClose) => {\r\n\r\n            try {\r\n                if (myTrainingRequest.approval_status === \"rejected\") {\r\n                    await axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/rejected-requests/${trainingReqID}`);\r\n                } else {\r\n                    await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/cancel-request/${trainingReqID}`);\r\n                }\r\n                setTimeout(() => {\r\n                    toast.success(`Successfully ${myTrainingRequest.approval_status === \"rejected\" ? \"deleted\" : \"cancelled\"}!`);\r\n                }, 0);\r\n\r\n                if (myTrainingRequest.approval_status === \"rejected\") {\r\n                    history.push(\"/training/requests\");\r\n                    return;\r\n                } else {\r\n                    setRerender((prevState) => !prevState);\r\n                }\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\";\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            }\r\n            onClose();\r\n        };\r\n    };\r\n\r\n    const handleDownloadFile = async () => {\r\n\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${myTrainingRequest.justification_upload}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, myTrainingRequest.justification_upload_filename);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage My Training Record' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-my-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-my-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/requests\">My Training Requests</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage My Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-my-training-request__Top c-Main__Top\">\r\n                        <h1>Manage my Training Request</h1>\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-my-training-request__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{myTrainingRequest.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{myTrainingRequest.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{myTrainingRequest.cost}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Justification</h2>\r\n                                <p>{myTrainingRequest.justification_text}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Rejection Remarks</h2>\r\n                                <p>{myTrainingRequest.remarks ? myTrainingRequest.remarks : \"Na\"}</p>\r\n                            </div>\r\n                            <div className = \"c-Field\">\r\n                                <h2>Trainee</h2>\r\n                                <p>{myTrainingRequest.created_by}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{myTrainingRequest.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{myTrainingRequest.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>To be Approved by</h2>\r\n                                <p>{myTrainingRequest.approver}</p>\r\n                            </div>\r\n                            <div className=\"c-Field c-Field__File\">\r\n                                <h2>File (For Justification)</h2>\r\n                                {\r\n                                    myTrainingRequest.justification_upload ?\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={handleDownloadFile}>Download</button> :\r\n                                        <p>Na</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approval Status</h2>\r\n                                <StatusPill type={myTrainingRequest.approval_status} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    {\r\n\r\n                        myTrainingRequest.approval_status === \"rejected\" || ((myTrainingRequest.approval_status === \"approved\" || myTrainingRequest.approval_status === \"pending\") && !myTrainingRequest.attendance_upload) ?\r\n                            <div className=\"c-Manage-my-training-request__Danger c-Danger\">\r\n                                <div className=\"c-Danger__Top\">\r\n                                    <h1>Danger Zone</h1>\r\n                                </div>\r\n                                <div className=\"c-Danger__Contents\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleRemoveOrCancelRequest()}>\r\n                                        {\r\n                                            myTrainingRequest.approval_status === \"rejected\" ?\r\n                                                \"Delete record & request\" :\r\n                                                \"Cancel record & request\"\r\n                                        }\r\n                                    </button>\r\n                                    <p>Performing this action will {myTrainingRequest.approval_status === \"rejected\" ? \"delete\" : \"cancel\"} the request and record (if any) permanently. This action cannot be undoned.</p>\r\n                                </div>\r\n\r\n                            </div> :\r\n                            null\r\n                    }\r\n\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMyTrainingRequest;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport FileDownload from 'js-file-download';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\n\r\nconst ManageTrainingRecord = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingRecordID = match.params.trainingID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [boolCompletedTraining, setBoolCompletedTraining] = useState(false);\r\n    const [trainingRecord, setTrainingRecord] = useState({});\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resTrainingRecord = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempTrainingRecord = resTrainingRecord.data.results;\r\n                    console.log(tempTrainingRecord);\r\n                    setTrainingRecord(() => ({\r\n                        id: tempTrainingRecord.training_id,\r\n                        organisation: tempTrainingRecord.training_institution,\r\n                        course_title: tempTrainingRecord.title,\r\n                        cost: tempTrainingRecord.training_cost,\r\n                        approver: \"@\" + tempTrainingRecord.approver.account.username,\r\n                        supervisor_evaluation_done: tempTrainingRecord.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: tempTrainingRecord.trainee_evaluation_done,\r\n                        start_date: dayjs(tempTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (tempTrainingRecord.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        attendance_file: tempTrainingRecord.attendance_file,\r\n                        status: tempTrainingRecord.status,\r\n                        created_by: \"@\" + tempTrainingRecord.author.account.username\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n        setBoolCompletedTraining(() => true); // temporary\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n\r\n    // Handlers\r\n    const handleCompletePostEvaluation = async () => {\r\n        try {\r\n            // tell the system to start evaluation and lock on one template version\r\n            await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/evaluate-record/${trainingRecordID}`);\r\n            history.push(`/training/manage/records/manage/${trainingRecordID}/post-training-evaluation`);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    const handleFileDownload = async () => {\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${trainingRecord.attendance_file?.file_id}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, trainingRecord.attendance_file.file_name);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Record' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-record c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-record__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/manage/records\">Manage Training Records</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Record</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-record__Top c-Main__Top\">\r\n                        <h1>Manage Training Record</h1>\r\n                        {\r\n                            boolCompletedTraining ?\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleCompletePostEvaluation()}>Complete Post Evaluation</button> :\r\n                                null\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-training-record__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{trainingRecord.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{trainingRecord.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{trainingRecord.cost}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Trainee)</h2>\r\n                                {trainingRecord.status === \"cancelled\" ?\r\n                                    <StatusPill type=\"cancelled\" /> :\r\n                                    !trainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        trainingRecord.trainee_evaluation_done ?\r\n                                            <StatusPill type=\"completed\" /> :\r\n                                            <StatusPill type=\"pending\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>File (Evidence for Attendance)</h2>\r\n                                {\r\n                                    trainingRecord.attendance_file ?\r\n                                        <div className=\"c-Field__File c-File\">\r\n                                            <h1 onClick={handleFileDownload}>{trainingRecord.attendance_file.file_name}</h1>\r\n                                            {\r\n                                                trainingRecord.status === \"cancelled\" ?\r\n                                                    null :\r\n                                                    <h2>Change File</h2>\r\n                                            }\r\n                                        </div> :\r\n                                        <p>No file.</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Trainee</h2>\r\n                                <p>{trainingRecord.created_by}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{trainingRecord.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{trainingRecord.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approver</h2>\r\n                                <p>{trainingRecord.approver}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Approver)</h2>\r\n                                {trainingRecord.status === \"cancelled\" ?\r\n                                    <StatusPill type=\"cancelled\" /> :\r\n                                    !trainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        trainingRecord.supervisor_evaluation_done ?\r\n                                            <StatusPill type=\"completed\" /> :\r\n                                            <StatusPill type=\"pending\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Attendance Status</h2>\r\n                                {\r\n                                    trainingRecord.status === \"cancelled\" ?\r\n                                        <StatusPill type=\"cancelled\" /> :\r\n                                        trainingRecord.attendance ?\r\n                                            <StatusPill type=\"completed\" /> :\r\n                                            <StatusPill type=\"pending\" />\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageTrainingRecord;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageTrainingRequest = ({ match }) => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingReqID = match.params.trainingReqID;\r\n    const rejectRemarks = useRef(\"\");\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [trainingRequest, setTrainingRequest] = useState({});\r\n    const [rerender, setRerender] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resTrainingRecord = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingReqID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempTrainingRecord = resTrainingRecord.data.results;\r\n                    console.log(tempTrainingRecord);\r\n                    setTrainingRequest(() => ({\r\n                        id: tempTrainingRecord.training_id,\r\n                        organisation: tempTrainingRecord.training_institution,\r\n                        course_title: tempTrainingRecord.title,\r\n                        cost: tempTrainingRecord.training_cost,\r\n                        approver: \"@\" + tempTrainingRecord.approver.account.username,\r\n                        approval_status: tempTrainingRecord.status,\r\n                        start_date: dayjs(tempTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        justification_text: tempTrainingRecord.justification_text,\r\n                        justification_upload: tempTrainingRecord.justification_upload,\r\n                        justification_upload_filename: tempTrainingRecord.justification_file?.file_name,\r\n                        remarks: tempTrainingRecord.remarks,\r\n                        created_by: \"@\" + tempTrainingRecord.author.account.username\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, [rerender]);\r\n\r\n    // #region Handlers\r\n    const handleApprove = async () => {\r\n        try {\r\n            await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/approve-request/${trainingReqID}`);\r\n            toast.success(\"Success! Training request has been approved!\");\r\n            setRerender((prevState) => !prevState);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n\r\n    const handleReject = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--pending-reject'>\r\n                        <h1>Confirm Reject?</h1>\r\n                        <p>Please key in reason for rejection and click on confirm reject.</p>\r\n                        <div className=\"c-Confirm-alert__Remarks\">\r\n                            <h2>Remarks</h2>\r\n                            <textarea name=\"pendingReject\" ref={rejectRemarks}></textarea>\r\n                        </div>\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--alert\" onClick={() => (confirmReject(onClose))}>Confirm Reject</button>\r\n                            <button className=\"c-Btn c-Btn--dark\" onClick={onClose}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const confirmReject = async (onClose) => {\r\n            try {\r\n                await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/reject-request/${trainingReqID}`, {\r\n                    remarks: rejectRemarks.current.value\r\n                });\r\n                toast.success(\"Success! Training request has been rejected!\");\r\n                setRerender((prevState) => !prevState);\r\n                onClose();\r\n            } catch (err) {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            }\r\n\r\n        };\r\n    };\r\n\r\n    const handleDownloadFile = async () => {\r\n\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${trainingRequest.justification_upload}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, trainingRequest.justification_upload_filename);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n\r\n    };\r\n\r\n    // #endregion\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Request' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/manage/requests\">Manage Training Requests</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-request__Top c-Main__Top\">\r\n                        <h1>Manage Training Request</h1>\r\n                        {\r\n                            trainingRequest.approval_status === \"pending\" ?\r\n                                <div className=\"c-Top__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--ok\" onClick={() => handleApprove()}>Approve</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--alert\" onClick={() => handleReject()}>Reject</button>\r\n                                </div>\r\n                                : null\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-training-request__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{trainingRequest.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{trainingRequest.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{trainingRequest.cost}</p>\r\n\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Justification</h2>\r\n                                <p>{trainingRequest.justification_text}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Rejection Remarks</h2>\r\n                                <p>{trainingRequest.remarks ? trainingRequest.remarks : \"Na\"}</p>\r\n                            </div>\r\n                            <div className = \"c-Field\">\r\n                                <h2>Trainee</h2>\r\n                                <p>{trainingRequest.created_by}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{trainingRequest.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{trainingRequest.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>To be Approved by</h2>\r\n                                <p>{trainingRequest.approver}</p>\r\n                            </div>\r\n                            <div className=\"c-Field c-Field__File\">\r\n                                <h2>File (For Justification)</h2>\r\n                                {\r\n                                    trainingRequest.justification_upload ?\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={handleDownloadFile}>Download</button> :\r\n                                        <p>Na</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approval Status</h2>\r\n                                <StatusPill type={trainingRequest.approval_status} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageTrainingRequest;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageEvaluationTemplate = ({ match }) => {\r\n    const templateID = match.params.templateID;\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState({\r\n        trainee: [],\r\n        supervisor: []\r\n    }); // Includes answers\r\n    const [editQuestions, setEditQuestions] = useState({\r\n        trainee: [],\r\n        supervisor: []\r\n    });\r\n    const [meta, setMeta] = useState({});\r\n    const [editMeta, setEditMeta] = useState({});\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [rerender, setRerender] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resOneTemplate = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/all-templates/${templateID}`);\r\n\r\n                if (componentMounted) {\r\n                    console.log(resOneTemplate)\r\n                    const tempOneTemplate = resOneTemplate.data.results;\r\n\r\n                    setQuestions(() => ({\r\n                        trainee: tempOneTemplate.template.evaluation.trainee.map((data, index) => ({\r\n                            ...data,\r\n                            displayType: (() => {\r\n                                if (data.type === \"rating\") {\r\n                                    return QUESTION_TYPE.RATING;\r\n                                } else if (data.type === \"open\") {\r\n                                    return QUESTION_TYPE.OPEN;\r\n                                } else if (data.type === \"bool\") {\r\n                                    return QUESTION_TYPE.BOOLEAN;\r\n                                } else {\r\n                                    return QUESTION_TYPE.DEFAULT;\r\n                                }\r\n                            })()\r\n                        })),\r\n                        supervisor: tempOneTemplate.template.evaluation.supervisor.map((data) => ({\r\n                            ...data,\r\n                            displayType: (() => {\r\n                                if (data.type === \"rating\") {\r\n                                    return QUESTION_TYPE.RATING;\r\n                                } else if (data.type === \"open\") {\r\n                                    return QUESTION_TYPE.OPEN;\r\n                                } else if (data.type === \"bool\") {\r\n                                    return QUESTION_TYPE.BOOLEAN;\r\n                                } else {\r\n                                    return QUESTION_TYPE.DEFAULT;\r\n                                }\r\n                            })()\r\n                        }))\r\n                    }));\r\n\r\n                    setEditQuestions(() => ({\r\n                        trainee: tempOneTemplate.template.evaluation.trainee.map((data, index) => ({\r\n                            ...data,\r\n                            displayType: (() => {\r\n                                if (data.type === \"rating\") {\r\n                                    return QUESTION_TYPE.RATING;\r\n                                } else if (data.type === \"open\") {\r\n                                    return QUESTION_TYPE.OPEN;\r\n                                } else if (data.type === \"bool\") {\r\n                                    return QUESTION_TYPE.BOOLEAN;\r\n                                } else {\r\n                                    return QUESTION_TYPE.DEFAULT;\r\n                                }\r\n                            })()\r\n                        })),\r\n                        supervisor: tempOneTemplate.template.evaluation.supervisor.map((data) => ({\r\n                            ...data,\r\n                            displayType: (() => {\r\n                                if (data.type === \"rating\") {\r\n                                    return QUESTION_TYPE.RATING;\r\n                                } else if (data.type === \"open\") {\r\n                                    return QUESTION_TYPE.OPEN;\r\n                                } else if (data.type === \"bool\") {\r\n                                    return QUESTION_TYPE.BOOLEAN;\r\n                                } else {\r\n                                    return QUESTION_TYPE.DEFAULT;\r\n                                }\r\n                            })()\r\n                        }))\r\n                    }));\r\n\r\n                    setMeta(() => ({\r\n                        created_by: tempOneTemplate.author.account.username,\r\n                        name: tempOneTemplate.name,\r\n                        version: tempOneTemplate.version,\r\n                        active: tempOneTemplate.active\r\n                    }));\r\n\r\n                    setEditMeta(() => ({\r\n                        created_by: tempOneTemplate.author.account.username,\r\n                        name: tempOneTemplate.name,\r\n                        version: tempOneTemplate.version,\r\n                        active: tempOneTemplate.active\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, [editMode, rerender]);\r\n\r\n    // Handlers\r\n\r\n    const handleInputChange = (event) => {\r\n        setEditMeta((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    const handleSubmitNewTemplate = async () => {\r\n\r\n        const formattedTemplateData = {\r\n            name: editMeta.name,\r\n            version: editMeta.version,\r\n            evaluation: editQuestions,\r\n            immediate: true\r\n        }\r\n\r\n        try {\r\n            // TODO\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/all-templates`, formattedTemplateData);\r\n            setTimeout(() => {\r\n                toast.success(\"Success! A new post evaluation form has been created!\");\r\n            }, 0);\r\n            history.push(\"/training/post-evaluation-templates\");\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    const handleActivateTemplate = async () => {\r\n        try {\r\n            await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training-evaluation/all-templates/${templateID}/activate`, {});\r\n            toast.success(\"Template has been successfully activated!\");\r\n            setRerender((prevState) => !prevState);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Post Evaluation Template' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/post-evaluation-templates\" >Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Post Evaluation Template</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-PET__Top c-Top\">\r\n                        <div className=\"c-Top__Row\">\r\n                            <h1>Manage Post Evaluation Template</h1>\r\n                            <div className=\"c-Top__Btns\">\r\n                                {\r\n                                    editMode ?\r\n                                        <>\r\n                                            <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSubmitNewTemplate()}>Create</button>\r\n                                            <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => setEditMode((prevState) => !prevState)}>Cancel</button>\r\n                                        </>\r\n                                        :\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => setEditMode((prevState) => !prevState)}>Edit & Submit New Version</button>\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Top__Row\">\r\n                            <h2>Status:</h2>\r\n                            {\r\n                                meta.active ?\r\n                                    <StatusPill type=\"active\" />\r\n                                    :\r\n                                    <>\r\n                                        <StatusPill type=\"inactive\" />\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--link\" onClick={() => handleActivateTemplate()}>Change Status to Active</button>\r\n                                    </>\r\n                            }\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Document Section */}\r\n                    <div className=\"c-Manage-PET__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Manage-PET__Document-content\">\r\n                                {/* Title */}\r\n                                {\r\n                                    editMode ?\r\n                                        <div className=\"c-Manage-PET__Document-title\">\r\n                                            <input type=\"text\" placeholder=\"Enter form title\" name=\"name\" value={editMeta.name || ''} onChange={(event) => handleInputChange(event)} />\r\n                                        </div> :\r\n                                        <h1>{meta.name || \"Error\"}</h1>\r\n                                }\r\n\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Manage-PET__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        {\r\n                                            editMode ?\r\n                                                <input type=\"text\" name=\"version\" value={editMeta.version || 'Error'} onChange={(event) => handleInputChange(event)} /> :\r\n                                                <input type=\"text\" name=\"version\" value={meta.version || 'Error'} disabled />\r\n                                        }\r\n\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Form section */}\r\n                                <div className=\"c-Manage-PET__Document-form c-Document-form\">\r\n                                    {/* Trainee section */}\r\n                                    <div className=\"c-Document-form__Trainee\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Trainee Section</h1>\r\n                                            <p>This section will only be shown to the trainee when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions.trainee?.length > 0 ?\r\n                                                    editMode ?\r\n                                                        editQuestions.trainee?.map((data, index) =>\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qns={data.question}\r\n                                                                qnsType={data.displayType}\r\n                                                                index={index}\r\n                                                                setQuestions={setEditQuestions}\r\n                                                                formType=\"trainee\"\r\n                                                                key={index}\r\n                                                            />\r\n                                                        ) :\r\n                                                        questions.trainee?.map((data, index) =>\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                                qns={data.question}\r\n                                                                viewType={data.displayType}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                formType=\"trainee\"\r\n                                                                key={index}\r\n                                                            />\r\n                                                        ) :\r\n                                                    \"No questions\"\r\n                                            }\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Approver/Supervisor section */}\r\n                                    <div className=\"c-Document-form__Approver\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Approver/Supervisor Section</h1>\r\n                                            <p>This section will only be shown to the approver/supervisor when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions.supervisor?.length > 0 ?\r\n                                                    editMode ?\r\n                                                        editQuestions.supervisor?.map((data, index) =>\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qns={data.question}\r\n                                                                qnsType={data.displayType}\r\n                                                                index={index}\r\n                                                                setQuestions={setEditQuestions}\r\n                                                                formType=\"supervisor\"\r\n                                                                key={index}\r\n                                                            />\r\n                                                        ) :\r\n                                                        questions.supervisor?.map((data, index) =>\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                                qns={data.question}\r\n                                                                viewType={data.displayType}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                formType=\"supervisor\"\r\n                                                                key={index}\r\n                                                            />\r\n                                                        ) :\r\n                                                    \"No questions\"\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEvaluationTemplate;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddMaintenanceCycle = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const equipmentID = match.params.emID;\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [maintenanceData, setMaintenanceData] = useState({\r\n        type: '',\r\n        responsible: '',\r\n        freq_multiplier: '',\r\n        freq_unit_time: '',\r\n        freq_unit_time_UI: '',\r\n        last_service_at: new Date(),\r\n        assignees: []\r\n    });\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addCycle\") {\r\n            // Handler for add button\r\n            console.log(maintenanceData);\r\n            (async () => {\r\n                try {\r\n                    const resInsertOneMaintenance = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance`,\r\n                        {\r\n                            ...maintenanceData,\r\n                            assignees: (() => {\r\n                                return maintenanceData.assignees?.map((data) => {\r\n                                    return data.value;\r\n                                })\r\n                            })()\r\n                        }, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneMaintenance);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New equipment has been added!</b></>);\r\n                    }, 0);\r\n                    history.push(`/equipment-maintenance/manage-equipment/${equipmentID}`);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(`/equipment-maintenance/manage-equipment/${equipmentID}`);\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for input \r\n    const handleTimeInputChange = (event) => {\r\n        let unitTime;\r\n        // if(event.target.value === \"Days\") unitTime = 1;\r\n        if (event.target.value === \"Weeks\") unitTime = \"week\";\r\n        if (event.target.value === \"Months\") unitTime = \"month\";\r\n        if (event.target.value === \"Years\") unitTime = \"year\";\r\n\r\n        // Set string value for backend endpoint\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: unitTime\r\n        }));\r\n\r\n        // Set string value for frontend\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            freq_unit_time_UI: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            last_service_at: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Maintenance-type c-Input c-Input--edit\">\r\n                        <label htmlFor=\"type\">Maintenance Type</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"type\" value={maintenanceData.type} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Responsible c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsible\">Responsible Users</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Maintenance-frequency c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <div className='c-Input__Maintenance-frequency--input'>\r\n                            <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"freq_multiplier\" value={maintenanceData.freq_multiplier} />\r\n                            <select onFocus={() => setInputTouched(true)} type=\"text\" name=\"freq_unit_time\" onChange={handleTimeInputChange} value={maintenanceData.freq_unit_time_UI}>\r\n                                <option>Select Time Unit</option>\r\n                                {/* <option>Days</option> */}\r\n                                <option>Weeks</option>\r\n                                <option>Months</option>\r\n                                <option>Years</option>\r\n                            </select>\r\n                        </div>\r\n                    </Col>\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"last_service_at\">Last Service Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={maintenanceData.last_service_at}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempUsersData = [];\r\n                // Get all equipment categories\r\n                const resAllUsers = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                console.log(resAllUsers);\r\n                tempUsersData = resAllUsers.data.results;\r\n                console.log(tempUsersData);\r\n\r\n                setUserList(() => {\r\n                    return tempUsersData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Maintenance Cycle' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}`}>Manage Equipment</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Maintenance Cycle</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Maintenance Cycle</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addCycle\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddMaintenanceCycle;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ManageMaintenanceCycle = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const descriptionRef = useRef(\"\");\r\n    const maintenanceFileRef = useRef(null);\r\n    const equipmentID = match.params.emID;\r\n    const maintenanceID = match.params.maintenanceID;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [maintenanceRecordsData, setMaintenanceRecordsData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [userList, setUserList] = useState([]);\r\n    const [maintenanceCyclesData, setMaintenanceCyclesData] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [canApprove, setCanApprove] = useState(false);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                let tempEquipmentData = [];\r\n                let tempPersonsData = [];\r\n\r\n                // Can approve people can create new equipment\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_01/employees`);\r\n                // Can edit people can upload new maintenance record\r\n                const resClausePermissionEdit = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                console.log(resClausePermissionEdit);\r\n                tempPersonsData = resClausePermissionEdit.data.results;\r\n                console.log(tempPersonsData);\r\n\r\n                // Check if user can create new equipment\r\n                resClausePermission.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanApprove(true);\r\n                    }\r\n                });\r\n                // Check if user is assigned to an equipment\r\n                resClausePermissionEdit.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanEdit(true);\r\n                    }\r\n                });\r\n\r\n                const resOneEquipment = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`);\r\n                console.log(resOneEquipment);\r\n                tempEquipmentData = resOneEquipment.data.results;\r\n                console.log(tempEquipmentData);\r\n\r\n                setMaintenanceCyclesData(() => {\r\n                    return {\r\n                        id: tempEquipmentData.maintenance_id,\r\n                        maintenanceType: tempEquipmentData.type,\r\n                        responsible: (() => {\r\n                            return tempEquipmentData.assignees.map((eachPerson) => {\r\n                                return {\r\n                                    label: eachPerson.account.username,\r\n                                    value: eachPerson.employee_id\r\n                                }\r\n                            });\r\n                        })(),\r\n                        freq_unit_time: tempEquipmentData.freq_unit_time,\r\n                        freq_multiplier: tempEquipmentData.freq_multiplier,\r\n                        maintenanceFrequency: tempEquipmentData.freq_unit_time,\r\n                        lastServiceDate: new Date(tempEquipmentData.last_service_at),\r\n                        status: (() => {\r\n                            if (tempEquipmentData.days_left <= 0) {\r\n                                return <StatusPill type=\"overdue\" />\r\n                            } else if (tempEquipmentData.days_left / (tempEquipmentData.freq_multiplier * tempEquipmentData.freq_unit_time) < 2 / 5) {\r\n                                return <StatusPill type=\"almostDue\" />\r\n                            }\r\n                            else {\r\n                                return <StatusPill type=\"active\" />\r\n                            }\r\n                        })(),\r\n                    }\r\n                });\r\n\r\n                setUserList(() => {\r\n                    return tempPersonsData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n\r\n                setMaintenanceRecordsData(() => {\r\n                    return tempEquipmentData.uploads.map((fileData, index) => {\r\n                        return {\r\n                            id: fileData.file.file_id,\r\n                            serialNo: index + 1,\r\n                            fileName: fileData.file.file_name,\r\n                            description: fileData.description,\r\n                            uploader: fileData.author.account.username,\r\n                            uploadDate: dayjs(fileData.created_at).format(\"D MMM YYYY\"),\r\n                            action_download: fileData.file?.file_name,\r\n                            action_delete: (() => {\r\n                                return (\r\n                                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                                        <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDeleteRecord(\"deleteRecord\", fileData.file.file_id))} />\r\n                                    </IconContext.Provider>\r\n                                )\r\n                            })(),\r\n                        }\r\n                    })\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [rerender, loading]);\r\n    const maintenanceRecordColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'fileName',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'description',\r\n            text: 'Description'\r\n        },\r\n        {\r\n            dataField: 'uploader',\r\n            text: 'Uploader'\r\n        },\r\n        {\r\n            dataField: 'uploadDate',\r\n            text: 'Upload Date'\r\n        },\r\n        {\r\n            dataField: 'action_download',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                if (cell) {\r\n                    return <button className='c-Btn c-Btn--link' onClick={() => handleFileDownload(row.id, row.fileName)} >Download</button>\r\n                } else {\r\n                    return \"N.a.\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell) => {\r\n                console.log(cell);\r\n                return cell\r\n            }\r\n        },\r\n    ];\r\n\r\n    const handleFileDownload = async (id, fileName) => {\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${id}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, fileName);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n            history.push(`./${maintenanceID}/upload`);\r\n        }\r\n\r\n        if (buttonType === \"editEquipment\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n            setInputTouched(false);\r\n            setRerender((prevState) => !prevState);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(maintenanceCyclesData);\r\n                    let unitTime = maintenanceCyclesData.freq_unit_time;\r\n                    if (unitTime === \"7\" || unitTime === 7) unitTime = \"week\";\r\n                    if (unitTime === \"30\" || unitTime === 30) unitTime = \"month\";\r\n                    if (unitTime === \"365\" || unitTime === 365) unitTime = \"year\";\r\n\r\n                    const resUpdateCycle = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`,\r\n                        {\r\n                            type: maintenanceCyclesData.maintenanceType,\r\n                            freq_multiplier: maintenanceCyclesData.freq_multiplier,\r\n                            freq_unit_time: unitTime,\r\n                            last_service_at: maintenanceCyclesData.lastServiceDate,\r\n                            assignees: (() => {\r\n                                return maintenanceCyclesData.responsible.map((data) => {\r\n                                    return data.value;\r\n                                })\r\n                            })(),\r\n                        },\r\n                        {\r\n                            headers: {\r\n                                \"Authorization\": `Bearer ${token}`\r\n                            }\r\n                        });\r\n                    console.log(resUpdateCycle);\r\n                    toast.success(<>Success!<br />Message: <b>Updated Maintenance Cycle!</b></>);\r\n                    setIsEditing(false);\r\n                    setRerender((prevState) => !prevState);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            lastServiceDate: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options,\r\n            responsible: options\r\n        }));\r\n    }\r\n\r\n    // Handler for input \r\n    const handleTimeInputChange = (event) => {\r\n        // Set string value for backend endpoint\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n        console.log();\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceType\">Maintenance Type</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"maintenanceType\" value={maintenanceCyclesData.maintenanceType} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsible\">Responsible</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                            onFocus={() => setInputTouched(true)}\r\n                            value={(() => {\r\n                                return maintenanceCyclesData.responsible.map((data) => {\r\n                                    return data;\r\n                                })\r\n                            })()}\r\n                        />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <div className='c-Input__Maintenance-frequency--input'>\r\n                            <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"freq_multiplier\" value={maintenanceCyclesData.freq_multiplier} />\r\n                            <select onFocus={() => setInputTouched(true)} type=\"text\" name=\"freq_unit_time\" onChange={handleTimeInputChange} value={maintenanceCyclesData.freq_unit_time}>\r\n                                <option>Select Time Unit</option>\r\n                                <option value={7}>Weeks</option>\r\n                                <option value={30}>Months</option>\r\n                                <option value={365}>Years</option>\r\n                            </select>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"lastServiceDate\">Last Service Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={maintenanceCyclesData.lastServiceDate}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Filler */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"maintenanceType\">Maintenance Type</label>\r\n                        <input readOnly type=\"text\" name=\"maintenanceType\" value={maintenanceCyclesData.maintenanceType} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"responsible\">Responsible</label>\r\n                        <input readOnly type=\"text\" name=\"responsible\" value={(() => {\r\n                            let personStr = \"\";\r\n                            maintenanceCyclesData.responsible?.forEach((data) => {\r\n                                personStr += data.label + \", \"\r\n                            });\r\n                            return personStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <input readOnly type=\"text\" name=\"maintenanceFrequency\" value={(() => {\r\n                            if (maintenanceCyclesData.freq_unit_time === 7) {\r\n                                return `${maintenanceCyclesData.freq_multiplier} weeks`\r\n                            }\r\n                            if (maintenanceCyclesData.freq_unit_time === 30) {\r\n                                return `${maintenanceCyclesData.freq_multiplier} months`\r\n                            }\r\n                            if (maintenanceCyclesData.freq_unit_time === 365) {\r\n                                return `${maintenanceCyclesData.freq_multiplier} years`\r\n                            }\r\n                        })()} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"lastServiceDate\">Last Service Date</label>\r\n                        <input readOnly type=\"text\" name=\"lastServiceDate\" value={dayjs(maintenanceCyclesData.lastServiceDate).format(\"D MMM YYYY\")} />\r\n                    </Col>\r\n                    {/* Status */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"status\">Status</label>\r\n                        {\r\n                            maintenanceCyclesData.status\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for deleting maintenance cycle \r\n    const handleDeleteCycle = (actionType) => {\r\n        if (actionType === \"deleteCycle\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this maintenance cycle?`;\r\n            const handler = (onClose) => handleDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Maintenance Cycle has been deleted!</b></>);\r\n                    }, 0);\r\n                    history.push(`/equipment-maintenance/manage-equipment/${equipmentID}`);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteRecord = (actionType, id) => {\r\n        if (actionType === \"deleteRecord\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this maintenance record?`;\r\n            const handler = (onClose) => handleDelete(onClose, id);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose, id) => {\r\n            // Handler for deleting maintenance record\r\n            console.log(maintenanceRecordsData);\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}/uploads/${id}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance record has been deleted!</b></>);\r\n                    setRerender((prevState) => !prevState);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance Cycle' activeLink={`/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${maintenanceID}`}>\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}`}>Manage Equipment</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Maintenance Cycle</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Maintenance cycle</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            canApprove ?\r\n                                isEditing || renderErrorCard.render ?\r\n                                    null :\r\n                                    <button\r\n                                        onClick={() => (handleBtn(\"editEquipment\"))}\r\n                                        type=\"button\"\r\n                                        className={\"c-Btn c-Btn--primary\"}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                : \"\"\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    {canApprove ?\r\n                        <>\r\n                            <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                            <div className=\"c-Danger-zone__Row\">\r\n                                <div className='c-Danger-zone__Item'>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleDeleteCycle('deleteCycle')}>Delete Cycle</button>\r\n                                    <div className=\"c-Row__Info\">\r\n                                        <p>This action cannot be undone</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </> : \"\"\r\n                    }\r\n\r\n                    {/* Maintenance Records */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-top c-Main__Top\">\r\n                        <h1>Maintenance Records</h1>\r\n                        {/* Edit button section */}\r\n                        <button\r\n                            onClick={() => handleBtn(\"upload\")}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Upload\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Maintenance Records Table section */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table\">\r\n                        {\r\n                            maintenanceRecordsData.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={maintenanceRecordsData}\r\n                                    columns={maintenanceRecordColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMaintenanceCycle;","import React, { useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport InductionFormSection from '../../common/InductionFormSection';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CreateInductionForm = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const [sectionsData, setSectionsData] = useState([\r\n        {\r\n            order: 1,\r\n            section: 'Section A: Introduction',\r\n            tasks: [\r\n                {\r\n                    order: 1,\r\n                    task: 'Introduction',\r\n                    descriptions: [\r\n                        // when the template is cloned and done\r\n                        { order: 1, description: 'Dress code', file: 'dress code picture', done: false, done_at: '1234' },\r\n                        { order: 3, description: 'Staff indentification', file: 'staff id card', done: true, done_at: '1234' },\r\n                        { order: 2, description: 'Working hours', done: true, done_at: '1234' }\r\n                    ]\r\n                },\r\n                {\r\n                    order: 2,\r\n                    task: 'Rules',\r\n                    descriptions: [\r\n                        // template only\r\n                        { order: 1, description: 'Attendance', file: 'attendance' }, // with a file\r\n                        { order: 2, description: 'Regulations' } // without a file\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n    ]);\r\n\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Create Induction Template\" activeLink=\"/settings\">\r\n            <div className=\"c-Create-induction-form c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Create-induction-form__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/induction-templates\">Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href={`/settings/induction-templates/induction-template-versions/${1}`}>Manage Induction Versions</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Create Induction Form</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Create-induction-form__Top c-Main__Top\">\r\n                    <h1>Create Induction Form</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\">Create</button>\r\n                </div>\r\n\r\n                {/* Form section */}\r\n                <div className=\"c-Create-induction-form__Document c-Main__Document\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    <DocumentLayout isDocCollapsed={false}>\r\n                        {/* TODO: Verify class naming is correct */}\r\n                        <div className=\"c-Create-induction-form__Document-content\">\r\n                            {/* Title */}\r\n                            <h1>AY2021 Induction Form for IT Department</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Create-induction-form__Document-header c-Document__Header\">\r\n                                <div className=\"c-Create-indcution-form__Document-header--left c-Document__Header--left\">\r\n                                    <p>To bv approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Remarks</p>\r\n                                </div>\r\n                                <div className=\"c-Create__Document-header--right c-Document__Header--right\">\r\n                                    {/* <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"} */}\r\n                                </div>\r\n                            </div>\r\n                            {/* Induction sections */}\r\n                            {\r\n                                sectionsData.length !== 0 ?\r\n                                    sectionsData.map((sectionData, index) =>\r\n                                        <InductionFormSection\r\n                                            key={index}\r\n                                            formMode=\"edit\"\r\n                                            sectionData={sectionData}\r\n                                        />\r\n                                    )\r\n                                    :\r\n                                    \"No records found!\"\r\n                            }\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default CreateInductionForm;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport FileDownload from 'js-file-download';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageLicense = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const history = useHistory();\r\n    const licenseID = match.params.licenseID;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [userList, setUserList] = useState([]);\r\n    const options = [\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ];\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [licenseData, setLicenseData] = useState({\r\n        license: 'Error',\r\n        licenseNo: 'Error',\r\n        expDate: 'NA',\r\n        responsibleExternalAgency: 'Error',\r\n        responsibleUser: [],\r\n        archived_at: null\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [canApprove, setCanApprove] = useState(false);\r\n    const [canEdit, setCanEdit] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                let tempLicenseData = [];\r\n                let tempPersonsData = [];\r\n\r\n                // Can approve people can create new license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_02/employees`);\r\n                // Can edit people can upload new license\r\n                const resClausePermissionEdit = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_02/employees`);\r\n                console.log(resClausePermissionEdit);\r\n                tempPersonsData = resClausePermissionEdit.data.results;\r\n                console.log(tempPersonsData);\r\n                // Check if user can create new license\r\n                resClausePermission.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanApprove(true);\r\n                    }\r\n                });\r\n                // Check if user is assigned to a license\r\n                resClausePermissionEdit.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        setCanEdit(true);\r\n                    }\r\n                });\r\n\r\n                const resOneLicense = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}`);\r\n                console.log(resOneLicense);\r\n                tempLicenseData = resOneLicense.data.results;\r\n                console.log(tempLicenseData);\r\n\r\n                setLicenseData(() => {\r\n                    return {\r\n                        id: tempLicenseData.licence_id,\r\n                        license: tempLicenseData.licence_name,\r\n                        licenseNo: tempLicenseData.licence_number,\r\n                        expDate: tempLicenseData.expires_at,\r\n                        issuedOn: new Date(tempLicenseData.issued_at),\r\n                        responsibleExternalAgency: tempLicenseData.external_organisation,\r\n                        archived_at: tempLicenseData.archived_at,\r\n                        responsibleUser: (() => {\r\n                            // eslint-disable-next-line array-callback-return\r\n                            return tempLicenseData.assignees.map((personData) => {\r\n                                return {\r\n                                    value: personData.employee_id,\r\n                                    label: personData.account.username,\r\n                                }\r\n                            });\r\n                        })(),\r\n                        status: (() => {\r\n                            if (tempLicenseData.days_left <= 0 && tempLicenseData.expires_at) {\r\n                                return <StatusPill type=\"expired\" />\r\n                            } else if (tempLicenseData.days_left / (Math.ceil(Math.abs(new Date(tempLicenseData.expires_at) - new Date(tempLicenseData.issued_at)) / (1000 * 60 * 60 * 24))) < 1 / 5 && tempLicenseData.expires_at) {\r\n                                return <StatusPill type=\"almostDue\" />\r\n                            }\r\n                            else {\r\n                                return <StatusPill type=\"active\" />\r\n                            }\r\n                        })(),\r\n                        upload: tempLicenseData.upload,\r\n                    }\r\n                });\r\n\r\n                setUserList(() => {\r\n                    return tempPersonsData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [licenseData.archivedAt, rerender]);\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteCycle = (maintenanceID) => {\r\n        // Confirmation dialogue for deleting cycle\r\n        const message = `Are you sure you want to delete this maintenance cycle?`;\r\n        const handler = (onClose) => handleDelete(onClose, maintenanceID);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const handleDelete = (onClose, maintenanceID) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${licenseID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance cycle has been deleted!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n            history.push(`${licenseID}/upload`);\r\n        }\r\n\r\n        if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n            setInputTouched(false);\r\n            setRerender((prevState) => !prevState);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(licenseData);\r\n                    const resUpdateLicense = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}`,\r\n                        {\r\n                            ...licenseData,\r\n                            licence_name: licenseData.license,\r\n                            licence_number: licenseData.licenseNo,\r\n                            expires_at: licenseData.expDate,\r\n                            issued_at: licenseData.issuedOn,\r\n                            external_organisation: licenseData.responsibleExternalAgency,\r\n                            assignees: (() => {\r\n                                return licenseData.responsibleUser.map((data) => {\r\n                                    return data.value;\r\n                                })\r\n                            })()\r\n                        }, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUpdateLicense);\r\n                    toast.success(<>Success!<br />Message: <b>Updated License details!</b></>);\r\n                    setIsEditing(false);\r\n                    setRerender((prevState) => !prevState);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Dynamic Search filter\r\n    const filterSearch = (option, inputValue) => {\r\n        const { label, value } = option;\r\n        // looking if other options with same username are matching inputValue\r\n        const otherKey = options.filter(\r\n            opt => {\r\n                return opt.name === label && opt.value.includes(inputValue)\r\n            }\r\n        );\r\n        return value.includes(inputValue) || otherKey.length > 0;\r\n    };\r\n\r\n    // Handler for setting last service date \r\n    const setIssuedOn = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            issuedOn: date\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setExpDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            expDate: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options,\r\n            responsibleUser: options\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License/Permit/Certificate */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Issued On */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"issuedOn\">Issued On</label>\r\n                        <DateTimePicker\r\n                            onChange={setIssuedOn}\r\n                            value={licenseData.issuedOn}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setExpDate}\r\n                            value={new Date(licenseData.expDate)}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"responsibleExternalAgency\">Responsible External Agency</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"responsibleExternalAgency\" value={licenseData.responsibleExternalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                            onFocus={() => setInputTouched(true)}\r\n                            value={(() => {\r\n                                return licenseData.responsibleUser.map((data) => {\r\n                                    return data;\r\n                                })\r\n                            })()}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License/Permit/Certificate */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input readOnly type=\"text\" name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input readOnly type=\"text\" name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Issued On */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"issuedOn\">Issued On</label>\r\n                        <input readOnly type=\"text\" name=\"issuedOn\" value={dayjs(licenseData.issuedOn).format(\"D MMM YYYY\")} />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <input readOnly type=\"text\" name=\"expDate\" value={licenseData.expDate ? dayjs(new Date(licenseData.expDate)).format(\"D MMM YYYY\") : \"NA\"} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"responsibleExternalAgency\">Responsible External Agency</label>\r\n                        <input readOnly type=\"text\" name=\"responsibleExternalAgency\" value={licenseData.responsibleExternalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <input readOnly type=\"text\" name=\"responsibleUser\" value={(() => {\r\n                            let personStr = \"\";\r\n                            licenseData.responsibleUser?.forEach((data) => {\r\n                                personStr += data.label + \", \"\r\n                            });\r\n                            return personStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Status */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"status\">Status</label>\r\n                        {\r\n                            licenseData.status\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n\r\n\r\n    // Handler for archiving equipment \r\n    const handleLicenseArchive = (actionType) => {\r\n        if (actionType === \"activated\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this license?`;\r\n            const handler = (onClose) => handleActivateLicense(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this license?`;\r\n            const handler = (onClose) => handleDeactivateLicense(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateLicense = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}/activate`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setLicenseData({\r\n                        ...licenseData,\r\n                        archivedAt: null,\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>License has been reactivated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n        const handleDeactivateLicense = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}/archive`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setLicenseData({\r\n                        ...licenseData,\r\n                        archivedAt: \"refresh\",\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>License has been archived!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleFileDownload = async () => {\r\n        try {\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${licenseData.upload?.file?.file_id}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, licenseData.upload?.file?.file_name);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink={`/licenses/manage-license/${licenseID}`}>\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/licenses\">Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Permits/Licenses/Certificates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Permits/Licenses/Certificates</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            canApprove ?\r\n                                isEditing || renderErrorCard.render ?\r\n                                    null :\r\n                                    <button\r\n                                        onClick={() => (handleBtn(\"edit\"))}\r\n                                        type=\"button\"\r\n                                        className={\"c-Btn c-Btn--primary\"}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                : \"\"\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                    {/* Upload/Update file */}\r\n                    <div className=\"c-Field\">\r\n                        <h2>File</h2>\r\n                        {licenseData.upload ?\r\n                            <div className='c-Field__File c-File'>\r\n                                <h1 onClick={handleFileDownload}>{licenseData.upload?.file?.file_name}</h1>\r\n                            </div>\r\n                            : \"\"\r\n                        }\r\n                        <button\r\n                            onClick={() => (handleBtn(\"upload\"))}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            {licenseData.upload ? 'Update File' : 'Upload File'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    {canApprove ?\r\n                        <>\r\n                            <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                            <div className=\"c-Danger-zone__Row\">\r\n                                {\r\n                                    licenseData.archived_at === null ?\r\n                                        <>\r\n                                            <div className='c-Danger-zone__Item'>\r\n                                                <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleLicenseArchive(\"deactivated\")}>Archive Permits/Licenses/Certificates</button>\r\n                                                <div className=\"c-Row__Info\">\r\n                                                    <p>Perfoming this action will archive this permit/license/certificate</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </> :\r\n                                        <>\r\n                                            <div className='c-Danger-zone__Item'>\r\n                                                <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleLicenseArchive(\"activated\")}>Unarchive Permits/Licenses/Certificates</button>\r\n                                                <div className=\"c-Row__Info\">\r\n                                                    <p>Perfoming this action will unarchive this permit/license/certificate </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n                                }\r\n                            </div>\r\n                        </> : \"\"\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageLicense;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst MyTrainingRequests = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [myTrainingRequests, setMyTrainingRequests] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Get training requests of this user //TODO\r\n                const resMyTrainingRequests = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-requests`);\r\n\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRequests = resMyTrainingRequests.data.results;\r\n                    console.log(resMyTrainingRequests);\r\n                    setMyTrainingRequests(() => tempMyTrainingRequests.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: \"@\" + data.approver?.account?.username,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        action_manage: `/training/requests/manage/${data.training_id}`\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='My Training Requests' activeLink=\"/training\">\r\n                <div className=\"c-Training-requests c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Training__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>My Training Requests</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Training-requests__Top c-Main__Top\">\r\n                        <h1>My Training Requests</h1>\r\n                        <button onClick={() => history.push(\"/training/requests/create\")} type=\"button\" className=\"c-Btn c-Btn--primary\">Create Training Request</button>\r\n                    </div>\r\n\r\n                    {/* Training request */}\r\n                    <div className=\"c-Training-requests__Table\">\r\n                        {\r\n                            myTrainingRequests.length === 0 ?\r\n                                \"No records found!\" :\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={myTrainingRequests}\r\n                                    columns={myTrainingRequestsColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MyTrainingRequests;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { manageMyInductionColumn, myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nconst MyTrainingCords = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [myTrainingRecords, setMyTrainingRecords] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n\r\n                // Get training records of this user\r\n                const resMyTrainingRecords = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-records`);\r\n\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRecords = resMyTrainingRecords.data.results;\r\n                    console.log(resMyTrainingRecords);\r\n\r\n                    setMyTrainingRecords(() => tempMyTrainingRecords.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: \"@\" + data.approver?.account?.username,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        action_manage: `/training/records/manage/${data.training_id}`\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Training' activeLink=\"/training\">\r\n                <div className=\"c-Training-records c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Training-records__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>My Training Records</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Training-records__Top c-Main__Top\">\r\n                        <h1>My Training Records</h1>\r\n                    </div>\r\n                    {/* Training records */}\r\n                    <div className=\"c-Training-records__Table\">\r\n                        {\r\n                            myTrainingRecords.length === 0 ?\r\n                                \"No records found!\" :\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={myTrainingRecords}\r\n                                    columns={myTrainingRecordsColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MyTrainingCords;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { manageAllTrainingRequestsColumns, managePendingTrainingRequestsColumns, manageAllTrainingRecordsColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nconst ManageTrainingRequests = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isApprover, setIsApprover] = useState(false);\r\n    const [pendingTrainingRequests, setPendingTrainingRequests] = useState([]);\r\n    const [trainingRequests, setTrainingRequests] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Check if user can approve this training\r\n                const resApprover = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_03a/employees`);\r\n\r\n                // Check if user is approver of this clause\r\n                const approverListData = resApprover.data.results;\r\n                let tempIsApprover = false;\r\n                if (approverListData !== undefined) {\r\n                    approverListData.every((approver) => {\r\n                        if (approver.employee_id === userID) {\r\n                            tempIsApprover = true;\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n\r\n                if (!tempIsApprover) {\r\n                    return;\r\n                }\r\n\r\n                setIsApprover(() => true);\r\n\r\n                // Get pending training requests under users's approval //TODO\r\n                const resPendingTrainingRequests = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/pending-requests`);\r\n\r\n                // Get all training requests under user's approval TODO\r\n                const resTrainingRequests = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/requests-approver`);\r\n\r\n                if (componentMounted) {\r\n\r\n                    // Pending Requests\r\n                    const tempPendingTrainingRequests = resPendingTrainingRequests.data.results;\r\n                    console.log(tempPendingTrainingRequests);\r\n                    setPendingTrainingRequests(() => tempPendingTrainingRequests.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: data.approved_at,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        created_by: \"@\" + data.author?.account?.username,\r\n                        action_manage: `/training/manage/requests/manage/${data.training_id}`\r\n                    })));\r\n\r\n                    // Training requests\r\n                    const tempTrainingRequests = resTrainingRequests.data.results;\r\n                    console.log(tempTrainingRequests)\r\n                    setTrainingRequests(() => tempTrainingRequests.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: data.approved_at,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        created_by: \"@\" + data.author?.account?.username,\r\n                        action_manage: `/training/manage/requests/manage/${data.training_id}`\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Requests' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-requests c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-requests__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Requests</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-requests__Top c-Main__Top\">\r\n                        <h1>Manage Training Requests</h1>\r\n                    </div>\r\n\r\n                    {\r\n                        isApprover ?\r\n                            <>\r\n                                {/* Training requests pending for user's approval*/}\r\n                                < div className=\"c-Manage-training-requests__Pending\">\r\n                                    <h2>Training Requests pending for your approval</h2>\r\n                                    <div className=\"c-Manage-trainings__Table\">\r\n                                        {\r\n                                            pendingTrainingRequests.length === 0 ?\r\n                                                \"No records found.\" :\r\n                                                <BootstrapTable\r\n                                                    bordered={false}\r\n                                                    keyField='serialNo'\r\n                                                    data={pendingTrainingRequests}\r\n                                                    columns={managePendingTrainingRequestsColumns}\r\n                                                    pagination={paginationFactory()}\r\n                                                />\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"c-Manage-training-requests__All\">\r\n                                    <h2>All Training Requests (Under your approval)</h2>\r\n                                    <div className=\"c-Manage-training-requests__Table\">\r\n                                        {\r\n                                            trainingRequests.length === 0 ?\r\n                                                \"No records found.\" :\r\n                                                <BootstrapTable\r\n                                                    bordered={false}\r\n                                                    keyField='serialNo'\r\n                                                    data={trainingRequests}\r\n                                                    columns={manageAllTrainingRequestsColumns}\r\n                                                    pagination={paginationFactory()}\r\n                                                />\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <div className=\"c-Manage-training-requests__Non-approver\">\r\n                                <ErrorCard\r\n                                    errMsg=\"You are not permitted to approve trainings\"\r\n                                    errStatus=\"403\"\r\n                                />\r\n                            </div>\r\n                    }\r\n\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ManageTrainingRequests;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { manageAllTrainingRequestsColumns, managePendingTrainingRequestsColumns, manageAllTrainingRecordsColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nconst ManageTrainingRecords = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isApprover, setIsApprover] = useState(false);\r\n    const [trainingRecords, setTrainingRecords] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Check if user can approve this training\r\n                const resApprover = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_03a/employees`);\r\n\r\n                // Check if user is approver of this clause\r\n                const approverListData = resApprover.data.results;\r\n                let tempIsApprover = false;\r\n                if (approverListData !== undefined) {\r\n                    approverListData.every((approver) => {\r\n                        if (approver.employee_id === userID) {\r\n                            tempIsApprover = true;\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n\r\n                if (!tempIsApprover) {\r\n                    return;\r\n                }\r\n\r\n                setIsApprover(() => true);\r\n\r\n                // Get all training records under user's approval\r\n                const resTrainingRecords = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/approved-records`);\r\n                console.log(resTrainingRecords);\r\n\r\n                if (componentMounted) {\r\n                    // Training records\r\n                    const tempTrainingRecords = resTrainingRecords.data.results;\r\n                    setTrainingRecords(() => tempTrainingRecords.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: data.approved_at,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        created_by: \"@\" + data.author?.account?.username,\r\n                        action_manage: `/training/manage/records/manage/${data.training_id}`\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Records' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-records c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-records__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Records</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-records__Top c-Main__Top\">\r\n                        <h1>Manage Training Records (Under your approval)</h1>\r\n                    </div>\r\n\r\n                    {\r\n                        isApprover ?\r\n                            <div className=\"c-Manage-training-records__Table\">\r\n                                {\r\n                                    trainingRecords.length === 0 ?\r\n                                        \"No records found.\" :\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={trainingRecords}\r\n                                            columns={manageAllTrainingRecordsColumns}\r\n                                            pagination={paginationFactory()}\r\n                                        />\r\n                                }\r\n\r\n                            </div>\r\n                            :\r\n                            <div className=\"c-Manage-training-records__Non-approver\">\r\n                                <ErrorCard\r\n                                    errMsg=\"You are not permitted to approve trainings\"\r\n                                    errStatus=\"403\"\r\n                                />\r\n                            </div>\r\n                    }\r\n\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ManageTrainingRecords;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst UploadMaintenance = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const equipmentID = match.params.emID;\r\n    const maintenanceID = match.params.maintenanceID;\r\n    const fileRef = useRef(null);\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [recordData, setRecordData] = useState({\r\n        serviced_at: new Date(),\r\n        description: ''\r\n    });\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [recordFile, setRecordFile] = useState(null);\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addRecord\") {\r\n            // Handler for add button\r\n            console.log(recordData);\r\n            (async () => {\r\n                try {\r\n                    let newRecordFormData = new FormData();\r\n                    // Loop through a javascript object and append the fields to the form data variable\r\n                    for (const property in recordData) {\r\n                        newRecordFormData.append(property, recordData[property]);\r\n                    }\r\n                    newRecordFormData.append(\"maintenance\", recordFile);\r\n                    console.log(newRecordFormData);\r\n                    console.log(newRecordFormData.get(\"maintenance\"));\r\n\r\n                    const resUploadOneRecord = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}/uploads`,\r\n                        newRecordFormData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUploadOneRecord);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New maintenance record has been uploaded!</b></>);\r\n                    }, 0);\r\n                    history.push(`/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${maintenanceID}`);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        }\r\n\r\n        if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(`/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${maintenanceID}`);\r\n        }\r\n\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n            fileRef.current.click();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setRecordData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setExpDate = (date) => {\r\n        console.log(date);\r\n        setRecordData((prevState) => ({\r\n            ...prevState,\r\n            expires_at: date\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setRecordData((prevState) => ({\r\n            ...prevState,\r\n            serviced_at: date\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"serviced_at\">Update Last Service Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={recordData.serviced_at}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                            onFocus={() => setInputTouched(true)}\r\n                        />\r\n                    </Col>\r\n                    {/* Description */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <textarea onFocus={() => setInputTouched(true)} name=\"description\" value={recordData.description} onChange={handleInputChange}></textarea>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for file input\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        console.log(fileObj);\r\n        setRecordFile(() => fileObj);\r\n    };\r\n\r\n    // Handler for deleting file input\r\n    const handleDeleteFile = () => {\r\n        setRecordFile(() => null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempUserData = [];\r\n                // Get all users with permission to upload license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                console.log(resClausePermission);\r\n                tempUserData = resClausePermission.data.results;\r\n                console.log(tempUserData);\r\n\r\n                setUserList(() => {\r\n                    return tempUserData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Licenses' activeLink={`/equipment-maintenance/manage-equipment/${equipmentID}`}>\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}`}>Manage Equipment</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${maintenanceID}`}>Manage Maintenance Cycle</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Upload Maintenance Record</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Upload Maintenance Record</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addRecord\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Upload\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                    {/* File Upload */}\r\n                    {/* Upload Button */}\r\n                    <div className=\"c-Manage-equipment__Mid c-Main__Top c-File-upload\">\r\n                        <div className=\"c-Manage-equipment__File\">\r\n                            {\r\n                                recordFile ?\r\n                                    <>\r\n                                        <p>{recordFile.name}</p>\r\n                                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                            <RiIcons.RiDeleteBin7Line className=\"c-File-upload__Bin\" onClick={() => handleDeleteFile()} />\r\n                                        </IconContext.Provider>\r\n                                    </>\r\n                                    : <p>No File Detected.</p>\r\n                            }\r\n                        </div>\r\n                        <button\r\n                            onClick={() => (handleBtn(\"upload\"))}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Upload File\r\n                        </button>\r\n                        <input className=\"c-Manage-equipment__File-input c-File-select__Raw\" type=\"file\" ref={fileRef} onChange={handleFileInputChange} />\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UploadMaintenance;","// Imports\r\n// npm packages\r\nimport React from 'react';\r\nimport { Route, BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\n\r\n// React Components\r\nimport Login from './pages/Login';\r\nimport CreateAccount from './pages/CreateAccount';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Announcements from './pages/Announcements/Announcements';\r\nimport ViewAnnouncements from './pages/Announcements/ViewAnnouncements';\r\nimport CreateAnnouncements from './pages/Announcements/CreateAnnouncement';\r\nimport Swot from './pages/Swot/Swot';\r\nimport SwotArchived from './pages/Swot/SwotArchived';\r\nimport InterestedParty from './pages/InterestedParty/InterestedParty';\r\nimport InterestedPartyArchived from './pages/InterestedParty/InterestedPartyArchived';\r\nimport ScopeOfQMS from './pages/ScopeOfQMS/ScopeOfQMS';\r\nimport ScopeOfQMSArchived from './pages/ScopeOfQMS/ScopeOfQMSArchived';\r\nimport CompanyPolicy from './pages/CompanyPolicy/CompanyPolicy';\r\nimport CompanyPolicyArchived from './pages/CompanyPolicy/CompanyPolicyArchived';\r\nimport RespNAuthority from './pages/RespNAuthority/RespNAuthority';\r\nimport RespNAuthorityAddRole from './pages/RespNAuthority/RespNAuthorityAddRole';\r\nimport RespNAuthorityManageRole from './pages/RespNAuthority/RespNAuthorityManageRole';\r\nimport RespNAuthorityAddChart from './pages/RespNAuthority/RespNAuthorityAddChart';\r\nimport RespNAuthorityManageChart from './pages/RespNAuthority/RespNAuthorityManageChart';\r\nimport RiskNOpp from './pages/RiskNOpp/RiskNOpp';\r\nimport ObjAchivProgram from './pages/ObjAchivProgram/ObjAchivProgram';\r\nimport ObjAchivProgramArchived from './pages/ObjAchivProgram/ObjAchivProgramArchived';\r\nimport Settings from './pages/Settings';\r\nimport ManageAccount from './pages/ManageAccount';\r\nimport ManageUsers from './pages/ManageUsers';\r\nimport ManageUser from './pages/ManageUser';\r\nimport PageNotFound from './pages/PageNotFound';\r\nimport RiskNOppArchived from './pages/RiskNOpp/RiskNOppArchived';\r\nimport ManageInvites from './pages/ManageInvites';\r\nimport ManageOrganization from './pages/ManageOrganization';\r\nimport ForgotPassword from './pages/ForgotPassword/ForgotPassword';\r\nimport ChangePassword from './pages/ForgotPassword/ChangePassword';\r\nimport EquipmentMaintenance from './pages/EquipmentMaintenance/EquipmentMaintenance';\r\nimport ManageEquipmentMaintenance from './pages/EquipmentMaintenance/ManageEquipmentMaintenance';\r\nimport AddEquipmentMaintenance from './pages/EquipmentMaintenance/AddEquipmentMaintenance';\r\nimport AddEquipmentCategory from './pages/EquipmentMaintenance/AddEquipmentCategory';\r\nimport ManageEquipmentCategory from './pages/EquipmentMaintenance/ManageEquipmentCategory';\r\nimport Licenses from './pages/PermitLicenses/Licenses';\r\nimport AddLicense from './pages/PermitLicenses/AddLicense';\r\nimport UploadLicense from './pages/PermitLicenses/UploadLicense';\r\n\r\n// Other imports\r\nimport TokenManager from './utilities/tokenManager';\r\nimport ManageInductionTemplates from './pages/InductionForm/ManageInductionTemplates';\r\nimport ManageInductionVersions from './pages/InductionForm/ManageInductionVersions';\r\nimport ManageInductionForm from './pages/InductionForm/ManageInductionForm';\r\nimport ManageMyTrainingRecord from './pages/Training/ManageMyTrainingRecord';\r\nimport PostEvaluationForm from './pages/Training/PostEvaluationForm';\r\nimport CreateTrainingRequest from './pages/Training/CreateTrainingRequest';\r\nimport ManagePostEvaluationTemplates from './pages/Training/ManagePostEvaluationTemplates';\r\nimport CreateEvaluationTemplate from './pages/Training/CreateEvaluationTemplate';\r\nimport ManageMyTrainingRequest from './pages/Training/ManageMyTrainingRequest';\r\nimport ManageTrainingRecord from './pages/Training/ManageTrainingRecord';\r\nimport ManageTrainingRequest from './pages/Training/ManageTrainingRequest';\r\nimport ManageEvaluationTemplate from './pages/Training/ManageEvaluationTemplate';\r\nimport AddMaintenanceCycle from './pages/EquipmentMaintenance/AddMaintenanceCycle';\r\nimport ManageMaintenanceCycle from './pages/EquipmentMaintenance/ManageMaintenanceCycle';\r\nimport CreateInductionForm from './pages/InductionForm/CreateInductionForm';\r\nimport ManageLicense from './pages/PermitLicenses/ManageLicense';\r\nimport MyTrainingRequests from './pages/Training/MyTrainingRequests';\r\nimport MyTrainingRecords from './pages/Training/MyTrainingRecords';\r\nimport ManageTrainingRequests from './pages/Training/ManageTrainingRequests';\r\nimport ManageTrainingRecords from './pages/Training/ManageTrainingRecords';\r\nimport UploadMaintenance from './pages/EquipmentMaintenance/UploadMaintenance';\r\n\r\n// Component\r\nconst Routes = () => {\r\n    // Guard to check if user has token\r\n    const authGuard = (Component) => (props) => {\r\n        const token = TokenManager.getToken();\r\n        if (!token) {\r\n            return (<Redirect to=\"/login\" {...props} />);\r\n        } else {\r\n            return (<Component {...props} />);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Router >\r\n            <Switch>\r\n                {/* Auth */}\r\n                <Route path=\"/login\" render={() => <Login />} />\r\n                <Route path=\"/forgot-password\" render={() => <ForgotPassword />} />\r\n                <Route path=\"/change-password/:username/:otp\" render={(props) => <ChangePassword {...props} />} />\r\n                <Route path=\"/create-account/:token\" render={(props) => <CreateAccount {...props} />} />\r\n                <Route exact path=\"/\">\r\n                    <Redirect to=\"/dashboard\" />\r\n                </Route>\r\n                <Route path=\"/dashboard\" render={(props) => authGuard(Dashboard)(props)} />\r\n                \r\n                {/* Announcements */}\r\n                <Route exact path=\"/announcements\" render={(props) => authGuard(Announcements)(props)} />\r\n                <Route path=\"/announcements/view/:aID\" render={(props) => authGuard(ViewAnnouncements)(props)} />\r\n                <Route path=\"/announcements/create\" render={(props) => authGuard(CreateAnnouncements)(props)} />\r\n                \r\n                {/* SWOT */}\r\n                <Route exact path=\"/swot\" render={(props) => authGuard(Swot)(props)} />\r\n                <Route path=\"/swot/archived/:swotID\" render={(props) => authGuard(SwotArchived)(props)} />\r\n                \r\n                {/* Interested party */}\r\n                <Route exact path=\"/interested-party\" render={(props) => authGuard(InterestedParty)(props)} />\r\n                <Route path=\"/interested-party/archived/:ipID\" render={(props) => authGuard(InterestedPartyArchived)(props)} />\r\n                \r\n                {/* Scope of QMS */}\r\n                <Route exact path=\"/scope-of-qms\" render={(props) => authGuard(ScopeOfQMS)(props)} />\r\n                <Route path=\"/scope-of-qms/archived/:scopeOfQMSID\" render={(props) => authGuard(ScopeOfQMSArchived)(props)} />\r\n                \r\n                {/* Company Policy */}\r\n                <Route exact path=\"/company-policy\" render={(props) => authGuard(CompanyPolicy)(props)} />\r\n                <Route path=\"/company-policy/archived/:companyPolicyID\" render={(props) => authGuard(CompanyPolicyArchived)(props)} />\r\n                \r\n                {/* Responsibility & Authority */}\r\n                <Route exact path=\"/responsibility-n-authority\" render={(props) => authGuard(RespNAuthority)(props)} />\r\n                <Route path=\"/responsibility-n-authority/add-org-chart\" render={(props) => authGuard(RespNAuthorityAddChart)(props)} />\r\n                <Route path=\"/responsibility-n-authority/manage-org-chart/:orgChartID\" render={(props) => authGuard(RespNAuthorityManageChart)(props)} />\r\n                <Route path=\"/responsibility-n-authority/add-role\" render={(props) => authGuard(RespNAuthorityAddRole)(props)} />\r\n                <Route path=\"/responsibility-n-authority/manage-role/:roleID\" render={(props) => authGuard(RespNAuthorityManageRole)(props)} />\r\n                \r\n                {/* Risk & Opportunity */}\r\n                <Route exact path=\"/risk-n-opportunity\" render={(props) => authGuard(RiskNOpp)(props)} />\r\n                <Route path=\"/risk-n-opportunity/archived/:rnoID\" render={(props) => authGuard(RiskNOppArchived)(props)} />\r\n                \r\n                {/* Objective achievement Program */}\r\n                <Route exact path=\"/objective-achievement-program\" render={(props) => authGuard(ObjAchivProgram)(props)} />\r\n                <Route path=\"/objective-achievement-program/archived/:oapID\" render={(props) => authGuard(ObjAchivProgramArchived)(props)} />\r\n                \r\n                {/* Equipment Maintenance */}\r\n                <Route exact path=\"/equipment-maintenance\" render={(props) => authGuard(EquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID\" render={(props) => authGuard(ManageEquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/add-equipment\" render={(props) => authGuard(AddEquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/add-category\" render={(props) => authGuard(AddEquipmentCategory)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID/add-cycle\" render={(props) => authGuard(AddMaintenanceCycle)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID\" render={(props) => authGuard(ManageMaintenanceCycle)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID/upload\" render={(props) => authGuard(UploadMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-category/:catID\" render={(props) => authGuard(ManageEquipmentCategory)(props)} />\r\n                \r\n                {/* Licenses */}\r\n                <Route exact path=\"/licenses\" render={(props) => authGuard(Licenses)(props)} />\r\n                <Route exact path=\"/licenses/add-license\" render={(props) => authGuard(AddLicense)(props)} />\r\n                <Route exact path=\"/licenses/manage-license/:licenseID\" render={(props) => authGuard(ManageLicense)(props)} />\r\n                <Route exact path=\"/licenses/manage-license/:licenseID/upload\" render={(props) => authGuard(UploadLicense)(props)} />\r\n\r\n                {/* Training */}\r\n                <Route exact path=\"/training/requests\" render={(props) => authGuard(MyTrainingRequests)(props)} />\r\n                <Route exact path=\"/training/requests/create\" render={(props) => authGuard(CreateTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/requests/manage/:trainingReqID\" render={(props) => authGuard(ManageMyTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/records\" render={(props) => authGuard(MyTrainingRecords)(props)} />\r\n                <Route exact path=\"/training/records/manage/:trainingRecordID\" render={(props) => authGuard(ManageMyTrainingRecord)(props)} />\r\n                <Route exact path=\"/training/records/manage/:trainingRecordID/post-training-evaluation\" render={(props) => authGuard(PostEvaluationForm)(props)} />\r\n                <Route exact path=\"/training/manage/requests\" render={(props) => authGuard(ManageTrainingRequests)(props)} />\r\n                <Route exact path=\"/training/manage/requests/manage/:trainingReqID\" render={(props) => authGuard(ManageTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/manage/records\" render={(props) => authGuard(ManageTrainingRecords)(props)} />\r\n                <Route exact path=\"/training/manage/records/manage/:trainingID\" render={(props) => authGuard(ManageTrainingRecord)(props)} />\r\n                <Route exact path=\"/training/manage/records/manage/:trainingRecordID/post-training-evaluation\" render={(props) => authGuard(PostEvaluationForm)(props)} />\r\n                <Route exact path=\"/training/post-evaluation-templates\" render={(props) => authGuard(ManagePostEvaluationTemplates)(props)} />\r\n                <Route exact path=\"/training/post-evaluation-templates/manage/:templateID\" render={(props) => authGuard(ManageEvaluationTemplate)(props)} />\r\n                <Route exact path=\"/training/post-evaluation-templates/create\" render={(props) => authGuard(CreateEvaluationTemplate)(props)} />\r\n\r\n                {/* Settings */}\r\n                <Route exact path=\"/settings\" render={(props) => authGuard(Settings)(props)} />\r\n                <Route path=\"/settings/manage-account\" render={(props) => authGuard(ManageAccount)(props)} />\r\n                <Route exact path=\"/settings/manage-users\" render={(props) => authGuard(ManageUsers)(props)} />\r\n                <Route path=\"/settings/manage-users/manage-user/:employeeID\" render={(props) => authGuard(ManageUser)(props)} />\r\n                <Route path=\"/settings/manage-organization\" render={(props) => authGuard(ManageOrganization)(props)} />\r\n                <Route path=\"/settings/manage-invites\" render={(props) => authGuard(ManageInvites)(props)} />\r\n                <Route exact path=\"/settings/induction-templates\" render={(props) => authGuard(ManageInductionTemplates)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID\" render={(props) => authGuard(ManageInductionVersions)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID/create\" render={(props) => authGuard(CreateInductionForm)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID/manage/:formID\" render={(props) => authGuard(ManageInductionForm)(props)} />\r\n                <Route path=\"*\" render={() => <PageNotFound />} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default Routes;\r\n","// import React from 'react';\r\n\r\n// // This class component can only be written in class format,\r\n// // purpose of this is to show a friendly message to users\r\n// // if there is an error with the app e.g. api call fail\r\n// // However, they do NOT catch all types of errors\r\n// // More information here: https://reactjs.org/docs/error-boundaries.html\r\n\r\nimport React from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = { hasError: false };\r\n\r\n  static getDerivedStateFromError(error) {\r\n    console.log(error);\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      \r\n      // You can render any custom fallback UI\r\n      return (\r\n        <div className=\"c-Page-not-found\">\r\n            <div className=\"c-Page-not-found__Alert-box\">\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n                    <p>Something went wrong, try again later!</p>\r\n                </Alert>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Routes from './Routes.js';\r\nimport ErrorBoundary from \"./pages/ErrorBoundary\";\r\nimport axios from 'axios';\r\nimport TokenManager from './utilities/tokenManager';\r\nimport ErrorCard from './common/ErrorCard.js';\r\nimport Loading from './common/Loading.js';\r\n\r\nconst App = () => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n\r\n    const verifyUser = useCallback(async () => {\r\n        setLoading(() => true);\r\n        await getRefreshToken();\r\n        setLoading(() => false);\r\n    }, []);\r\n\r\n    const getRefreshToken = async () => {\r\n        try {\r\n            axios.defaults.withCredentials = true;\r\n            const res = await axios.post(`${process.env.REACT_APP_BASEURL}/refresh`, {});\r\n            if (res.status === 200) {\r\n                const accessToken = res.data.results.token;\r\n\r\n                TokenManager.setToken(accessToken);\r\n                axios.defaults.headers.common['Authorization'] = `bearer ${accessToken}`;\r\n\r\n                // call refreshToken every 30 minutes to renew the authentication token.\r\n                setTimeout(getRefreshToken, 30 * 60 * 1000);\r\n            } else {\r\n                TokenManager.logout();\r\n            }\r\n            setError(() => false);\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error.response?.status !== 401) {\r\n                setError(() => true);\r\n                TokenManager.logout();\r\n            }\r\n            TokenManager.setMessage(error.response?.data.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        verifyUser();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ErrorBoundary>\r\n                {\r\n                    error ?\r\n                        <ErrorCard />\r\n                        :\r\n                        loading ?\r\n                            <Loading /> :\r\n                            <Routes />\r\n                }\r\n            </ErrorBoundary>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport './assets/scss/main.scss';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport '../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById('eISO-root')\r\n);"],"sourceRoot":""}