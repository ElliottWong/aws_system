(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{426:function(e,t,n){},432:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(34),s=n.n(r),i=n(14),o=n.n(i),l=n(23),d=n(3),j=n(4),u=n(20),b=n(15),m=n(12),p=function(e){localStorage.setItem("sideNavStatus",e)},h=n(7),O=n.n(h),x=n(188),v=n(1),f=function(e){var t=e.title;return Object(v.jsxs)(x.a,{children:[Object(v.jsx)("meta",{charSet:"utf-8"}),Object(v.jsx)("title",{children:t||"eISO System"})]})},g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAxCAYAAADUQffnAAAHCElEQVR4Xu1bzVIbRxDuXiHsW0hVkH2L/QQmT2A4ICon4ycIPiD7ZvkJLJ4AfLOXQ+AJAqeU5QPyE1g8QeSbLVIV+WYW2E71ales9me6R6wUy9m5UZqd7umvu+eb7gGhHHNrAZxbzUvFoQRvjp2gBK8Eb44tMMeql5FXgjfHFphj1cvIK8GbYwvMsepl5JXgzYcFlrZOlhaqFw8qDi4RwUpSa0ToXvk0+Hu//r7IHS1vt1ccgIeEuMTrEtEqOtADwh7/zXLPzxfeDw7WBjZy/5PIqzXaZKNk1ty+W1fpzoAtLl4+B6AmAATGU44uAXUqjnP86fV6R/nNaNrdZ3/e86nyEgg2LeR2AfDI8xZeaYBUGcBWcWn+LMCb0Hh5qveI4PHZfr0r7S1wllsXu0CwJc01/D4AwL2+u75jWuO7BG95u72FCLsWHi/a2XFwTYpATo+IcFKYXIQD77z6Ii8KvzvwQuB+F9GwnCCBV2u83QRAlmuTmjVadD2vupYF4HcFXpAq/coHjQERYERKCOAeAPxssqQJPBu5AUEBeK+Rea0PHvXd9ccpgqWBftpz7j57t+r7xOkmc0heH31Ua7QPAOA3g76nANTquxtHWXOGevirAMjn1RiYJh1qjTY7TIq9JmQcEsFe/Nzk87FavdhEhJbkPAj44rO7vhdfUx15SbobX8Qn6tyEXhcI3j95Ucfe/tmtr2odkdMgAjYJ4CF/kweeJk0TwZOz/To7VuYYMuILBsbkeAPPq96Pp08jeNaMDeGAfHilYWXxXRQBnrQGAO303Q32cKtxp/GuSUAtx8HNLMJSa7T/gmHazRl6ubVGm9nsA+1aueAtN97usudZ7XQ0GVsSzZ09eHDYd+s3oe8pU8gOAx/7bt0A7PiSivV6fbd+P/oqBV4Ywnz+SDnciCshvDp7U1eBLymtOfNCms5nj2Fgy3EuDz+9/jWobNx01BpvWwD4Mm+drHNKkilFn+Nc3Y/0T4G3vN0+QQTj2RCyJQb3B7My9DiPHBQdebyexeU/qJ446HQQL08nBfNOo92JzsQsO8QNLYEW/S45RPz8HAPP9CED5hM04+dZcCZeOXuA+ChHubEwz9tAEZEXgscRZaT8OTpwRaODRB2sXB1rwRScxSplRnpJtoif3SPwwnTJh2/qkikxNVOoE8EvEoGRFNakTd68tI7W+4mgU6ngjlRRMYEn2SxPlxAHZs2ZI77uCLyQVXFJKTUkAMLqwh/Z4mS2JRldCx7Ll1KZFsBwXm5N08bIljKN6T8TPNNFU6rgm4yv8cAiwVPemWzsOQCgJ8mzW9JZs+88JbQRPYo8wwcDIhCr6XkkR7MJyRA2kZc4+JntCqRKh2OSfHwzkaej2bpNZswa9N36j6avpwEey7MpPyl2l7onaiNEsfZoiuQUQHTc39/gHuHwxbRkPBvhWXNvknZ5vUkiL6kHM2PyFzYJiK84fBWyZqXJfQhsU3TaLFvJWFxziP8NeElDsYffvn25Ehai2ZMNZanh10knksjRTO55AtoDx8FUO8ImGiXKLXlbEZEn6WtmzNHX40UH6UI9ST1VqpVmVlhMKWASD5KMFf+9CPC4ug9IDy68xR3N+48s/ZaftveQ4Hme7kknUnAFVZEikifZAWC8Vhpnm7nVCamlYQPUJHleE3mxKOg5Dj6Roj0TvOHzidwufJYeUurURl9IVLg2m1vITuIwAk/wOr4urEmVkvFo4q72wi4RHZt6WRrCZAleoAZXSRwH9z6/WT/WOpdQ1/3Sd+up6pMm3UrOr2wGpOSPwAtb+VweyxsDAmqeuRuHJmMEqcSB59evp9IVlp+220GDMxoVgBVCGOsSx39HguYVjN81k81fw/nTI6AjLkLnvY288/TdI9+npqkgb+qSyNGX7UwBA76qPKJhJ9349iXLAcYK01LODw0aFHEhNCYSDYLHpEj3gAIKngj7NHgW1f9cP0nTdnN7JrFQUHiQuiexbz56XnUl7ywNI4ePnUIKAhmbzuxFjoEXKsHAiLRZm4qycv43AJ5efYAvRLAqHRkheWHbFQ3gqedVV1Wvx4oH8JuMPC14KuCixUIA+a1KUc5v7P7nPoOQ7zC6/Wd1k6cReaHhuJbJF+4bez+fcRfn1ZbttWPo/F4Thk9IJtXjIz/PlxrZxgdIrMitxcstAuK3H2pvGr6JxCN0Lo+yGpvTAC9ypdB4/HyPQbQtg50i4EGe3jp3Hc6Kgaiq3vA3YcP7QGLnkR7qp38RpScfVgj8FDMiwl6lgr2vXxe6tt5qY5RJ5obvMVnn1LucSO9J7oVaXa4dKuM/k8AZoAPdSeRbgadVtpw3GwuU4M3GzlORUoI3FbPOZtESvNnYeSpSSvCmYtbZLFqCNxs7T0VKCd5UzDqbRUvwZmPnqUj5F5DmUW7R2BkgAAAAAElFTkSuQmCC",A=n(8),_={baseUrl:"http://3.136.78.128:8000/api/v1",toastTiming:2e3},y=n(24),N=function(){console.log("token manager has been run");var e=null,t="";return{getToken:function(){return e},getDecodedToken:function(){return e?Object(y.a)(e):null},setToken:function(t){return e=t,!0},removeToken:function(){return e=null,!0},logout:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/logout"),{},{withCredentials:!0});case 3:return window.localStorage.setItem("logout",Date.now()),e=null,t.abrupt("return",!0);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.response),t.abrupt("return",!1);case 13:case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),getMessage:function(){return t},setMessage:function(e){return t=e,!0}}}(),D=function(){var e=Object(u.g)(),t=_.toastTiming,n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)({username:"",password:""}),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=h[0],y=h[1];Object(a.useEffect)((function(){""!==l.username&&""!==l.password?s((function(){return!0})):s((function(){return!1}))}),[l]);var D=function(e){b((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(f,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsx)("div",{className:"c-Login__Card",children:Object(v.jsxs)("form",{onSubmit:function(t){var n=t.target.username.value,a=t.target.password.value;t.preventDefault(),y((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/login"),{username:n,password:a}).then((function(t){var n=t.data.results;console.log(n);var a=t.data.results.token;N.setToken(a),console.log(N.getToken()),O.a.defaults.headers.common.Authorization="bearer ".concat(a),y((function(){return!1})),e.push("/dashboard")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),y((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:g,alt:"logo"})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:l.username||"",onChange:D,placeholder:"Username"})]}),Object(v.jsxs)("div",{className:"c-Card__Password",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",name:"password",value:l.password||"",onChange:D,placeholder:"Password"}),Object(v.jsx)("a",{href:"/forgot-password",className:"c-Card__Forgot-password",children:"Forgot password?"})]}),r?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:x?"Loading...":"Login"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Login"})]})})})})]})},T=function(e){var t=e.isValid,n=e.text,a=t?"text-success":"text-danger";return Object(v.jsx)("li",{className:a,children:n})},S=function(e){var t=e.validity,n=t.minChar,a=t.number,c=t.specialChar,r=t.match;return Object(v.jsxs)("div",{className:"c-Card__Password-criteria",children:[Object(v.jsx)("div",{className:"c-Password-criteria__Header",children:Object(v.jsx)("b",{children:"Password Criteria"})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)(T,{isValid:n,text:"Have at least 8 characters"}),Object(v.jsx)(T,{isValid:a,text:"Have at least 1 number"}),Object(v.jsx)(T,{isValid:c,text:"Have at least 1 special character"}),Object(v.jsx)(T,{isValid:r,text:"Passwords must match"})]})]})},I=function(e){e.match;var t=N.getToken(),n=N.getDecodedToken();console.log("------------Decoded Token-------------"),console.log(n);var c=n.company_name,r=n.admin_level,s=_.toastTiming,i=/\d/,o=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,l=Object(u.g)(),b=Object(a.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=p[1],y=Object(a.useState)({firstName:"",lastName:"",username:"",password:"",confirmPassword:"",addressLineOne:"",addressLineTwo:"",city:"",state:"",country:"",postalCode:""}),D=Object(d.a)(y,2),T=D[0],I=D[1],C=Object(a.useState)(!1),M=Object(d.a)(C,2),F=M[0],E=M[1],w=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(a.useState)(!1),q=Object(d.a)(R,2),H=q[0],Y=q[1];Object(a.useEffect)((function(){""!==T.firstName&&""!==T.lastName&&""!==T.username&&""!==T.password&&""!==T.confirmPassword?x((function(){return!0})):x((function(){return!1})),B((function(){return{minChar:T.password.length>=8,number:!!i.test(T.password),specialChar:!!o.test(T.password),match:T.password===T.confirmPassword}}))}),[T]);var U=function(e,a,c,r,s,i,o,d,j,u,b,m){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:a,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:j,country:u,postal_code:b},title:m}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),Y((function(){return!1}))}))},L=function(e,a,c,r,s,i,o,d,j,u,b,m){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n.company_id,"/invites/accept/").concat(t),{firstname:e,lastname:a,username:c,email:r,password:s,address:{address_line_one:i,address_line_two:o,city:d,state:j,country:u,postal_code:b},title:m}).then((function(e){console.log("Create account successful!");var t=e.data;console.log(t),Y((function(){return!1})),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Account has been created!"})]}))}),0),l.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),Y((function(){return!1}))}))},z=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(f,{title:"Create Account"}),Object(v.jsx)("div",{className:"c-Create-account",children:Object(v.jsx)("div",{className:"l-Create-account__Card",children:Object(v.jsx)("div",{className:"c-Create-account__Card",children:Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.firstName.value,a=e.target.lastName.value,c=e.target.username.value,s=n.email,i=e.target.password.value,o=e.target.addressLineOne.value,l=e.target.addressLineTwo.value,d=e.target.city.value,j=e.target.state.value,u=e.target.country.value,b=e.target.postalCode.value,m="placeholder";e.preventDefault(),Y((function(){return!0})),2===r?L(t,a,c,s,i,o,l,d,j,u,b,m):0===r&&U(t,a,c,s,i,o,l,d,j,u,b,m)},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:g,alt:"logo"})}),Object(v.jsxs)("div",{className:"c-Card__Form-title",children:[Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Create Your Account"})}),Object(v.jsxs)("p",{children:["Hello, ",n.name,"! You are invited to eISO as a ",2===r?"super admin":"normal user"," by ",2===r?"the platform admin":c||"Error","."]})]}),Object(v.jsx)("div",{className:"c-Card__Form-input-title",children:Object(v.jsx)("b",{children:"Basic Details"})}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-first-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{type:"text",name:"firstName",value:T.firstName||"",onChange:z,placeholder:"First Name"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{type:"text",name:"lastName",value:T.lastName||"",onChange:z,placeholder:"Last Name"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-second-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"addressLineOne",children:"Address Line One"}),Object(v.jsx)("input",{type:"text",name:"addressLineOne",value:T.addressLineOne||"",onChange:z,placeholder:"Address Line One"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"addressLineTwo",children:"Address Line Two"}),Object(v.jsx)("input",{type:"text",name:"addressLineTwo",value:T.addressLineTwo||"",onChange:z,placeholder:"Address Line Two"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-third-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{type:"text",name:"city",value:T.city||"",onChange:z,placeholder:"City"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{type:"text",name:"state",value:T.state||"",onChange:z,placeholder:"State"})]})]}),Object(v.jsxs)("div",{className:"c-Card__Basic-details-fourth-row row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{type:"text",name:"country",value:T.country||"",onChange:z,placeholder:"Country"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{type:"text",name:"postalCode",value:T.postalCode||"",onChange:z,placeholder:"Postal Code"})]})]}),Object(v.jsx)("div",{className:"c-Card__Basic-details-fifth-row row",children:Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:T.username||"",onChange:z,placeholder:"Username"})]})}),Object(v.jsx)("div",{className:"c-Card__Form-input-title",children:Object(v.jsx)("b",{children:"Password Info"})}),Object(v.jsxs)("div",{className:"c-Card__Password-info row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{onFocus:function(){return E(!0)},type:"password",name:"password",value:T.password||"",onChange:z,placeholder:"Password"})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",name:"confirmPassword",value:T.confirmPassword||"",onChange:z,placeholder:"confirmPassword"})]})]}),F&&Object(v.jsx)(S,{validity:P}),Object(v.jsx)("div",{className:"c-Card__Submit-btn",children:h&&!0===P.minChar&&!0===P.number&&!0===P.specialChar&&!0===P.match?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:H?"Loading...":"Create Account"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Create Account"})}),Object(v.jsx)("div",{className:"c-Card__Terms-message",children:Object(v.jsxs)("p",{children:["By creating an account, you agree to our ",Object(v.jsx)("a",{href:"#",children:"Terms of Service"})," and ",Object(v.jsx)("a",{href:"#",children:"Privacy Policy"})]})})]})})})})]})},C=function(){var e=localStorage.getItem("sideNavStatus")||null;return null==e||"true"===e?(p(!0),!0):(p(!1),!1)},M="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAGfAZ8DAREAAhEBAxEB/8QAhQABAAIDAQEBAAAAAAAAAAAAAAYHAwQFCAIBAQEAAAAAAAAAAAAAAAAAAAAAEAEAAQMCAgUIBQkHAgcAAAAAAQIDBBEFMQYhQVESB2FxgaEiMhMUkbFCYiPB0VJygpKishXhwkNTcyQXM5Njg8M0VCVVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD0YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBl5mHh2vi5d+3j2/07tUURPm14gi24+KnKOHM02btzNrjqsUz3f3qtIBHczxpvzMxhbZTTHVXfuTM/u0xp6wci/wCLfNtyfY+WsR1dyzMz/FVINX/k/nT/AOZT/wBq3+YH7HihznExPzdE+SbVvT1QDbx/Fzmq3MfEoxr1PX3rdVM/TTV+QHYwvGmdYjO2vo66rFzWf3a4j6wSXbfE3lHNmKasqrEuT9nIpmmNezvRrAJNYv2Mi1F2xdovWp4XLdUVU/TGoMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOVv3M+y7FZ+JuGRFFcxrRYp9q9V5qI6QVrvvi5u2V3rW1WowbM9EXa9K70x/LT6wQjMzs7OvTezL9zIuzxru1TVPrBrAAAAAAAA3du3fc9tuxdwMm5jVx126piJ88cJBO9h8YMu1NNre8eL9vhOTYiKbkeWqj3Z9GgLI2ffdp3fH+Pt2TRfo+1THRXT5KqZ6YBvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Lt21ZtV3btdNu1biaq7lU6U0xHXMyCsubPFiqZrxNg6I6Yqz6o6f8AyqZ/mkFbZGRfyL1d/IuVXr1c613K5mqqZntmQYQAAAAAAAAAAAbODuGbt+TTk4V6vHv0e7ctzpP9oLS5S8VcfKqow987uPkTpTRmUxpaqn78fYny8PMCxImJiJiYmJjWJjpiYnsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABp7pu2BtWDczc67FjHt8ap4zPVTTHXM9gKU5x553LmK9NqJnH2yifwsWJ97ThVd04z5OEAi4AAAAAAAAAAAAAAAJpyR4iZeyVUYWfNWRtMzpEca7OvXR20/d+gFy4eVjZeNbysa5Tex71MVW7lM6xMSDMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV3PcsPbcG7nZlyLWPZjWuqfVER1zPUCiObebM7mPP+NembeJamYxcWJ9miO2e2qeuQcEAAAAAAAAAAAAAAAAAEr5H53yOXsv4V6aru03p/Gs669yf8yiO3tjrBd+PkWMqxbyMeuLti7TFdu5TOsVUzwmAZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAflVVNFM11zFNFMTNVU9EREdMzIKO8QOcrm/7h8DHqmNqxapixT/mVcJu1f3fICJAAAAAAAAAAAAAAAAAAAAnvhnzpO25VO0Z1z/6/Iq/Arqnos3Z/u1fWC4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAV14sc1zjY8bFiV6X8imK82qJ921PCj9vr8gKlAAAAAAAAAAAAAAAAAAAAABdnhnzXO77V8jlV97cMGIpmZ43LXCmrzxwkEzAAAAAAAAAAAAAAAAAAAAAAAAAABp7tumPtW25O4ZH/AEsaia5jrmeFNMeeegHnbcc/J3HPv52TV3r+RXNyuezXhEeSI6IBqgAAAAAAAAAAAAAAAAAAAAA6nLe9Xtk3nG3C1rpaq0vUR9q1V0V0/R6weh7F+1kWLd+zVFdm7TFduuOE01RrEgyAAAAAAAAAAAAAAAAAAAAAAAAAArPxi32aaMXZLVXTV/uMqI7OFumfXIKsAAAAAAAAAAAAAAAAAAAAAAABcnhJvs5mx3Ntu1a3tvq/D14zZuTrH7tWsAnYAAAAAAAAAAAAAAAAAAAAAAAAGsR0zOkR0zPkB535q3WrdeYs7OmdaLl6abXkt0ezTp6I1ByAAAAAAAAAAAAAAAAAAAAAAAASnw33b+nc24venSzl6413s9v3Z/e0BewAAAAAAAAAAAAAAAAAAAAAAAAOPzhuM7dyzuOXTOldFmqm3PZXX7FPrqB54iNI07AAAAAAAAAAAAAAAAAAAAAAAAAZLdy5auUXbc6XLdUV0T2VUzrE/SD0lt2ZRm7fjZtHu5Fqi7H7dMSDZAAAAAAAAAAAAAAAAAAAAAAABBvF3Lm1yxbsRPTk5FFMx92iJqn1xAKZAAAAAAAAAAAAAAAAAAAAAAAAABfPhtmTlcnbfMzrVZ79mr9iudP4ZgEmAAAAAAAAAAAAAAAAAAAAAAABWXjVen4W02Y66r1c/RREAq0AAAAAAAAAAAAAAAAAAAAAAAAAFyeD16a+W8i1M6/CyqpjzVUU/mBOwAAAAAAAAAAAAAAAAAAAAAAAVV40/wDu9r/07n80ArUAAAAAAAAAAAAAAAAAAAAAAAAAFt+DFcztO409VN+iY9NE/mBYgAAAAAAAAAAAAAAAAAAAAAAAKt8arc/G2m51TTdp+iaZ/KCsgAAAAAAAAAAAAAAAAAAAAAAAAAW/4N29Nhzq9PfyIjXt7tH9oLAAAAAAAAAAAAAAAAAAAAAAAABXnjNjzVtO35GnRav10TP+pRr/AOmCowAAAAAAAAAAAAAAAAAAAAAAAAAXb4T4/wALlGivT/r37tyJ8kaUf3ATIAAAAAAAAAAAAAAAAAAAAAAAEV8TML5rk/LmI1qx5ov0/sVaVT+7MgooAAAAAAAAAAAAAAAAAAAAAAAAAHoflDCnB5Y23GmNKqbFNVcdlVft1euoHYAAAAAAAAAAAAAAAAAAAAAAABgzcO3mYV/EuRrbyLdVqqPJXEwDzbkY93GyLuNdjS7Yrqt1+eidJ+oGEAAAAAAAAAAAAAAAAAAAAAAAHR5f22rc97wsCI1jIvU01x9yJ1r/AIYkHo6IimIpjhHRHmgAAAAAAAAAAAAAAAAAAAAAAAAAFKeKmzTt/M1WXRTpY3GmL0T1fEj2a4/KCFgAAAAAAAAAAAAAAAAAAAAAAAsXwd2abu45W7Xafw8Wj4Fmf/Eue99FMAtoAAAAAAAAAAAAAAAAAAAAAAAAAEW8RtgneOW7s2qe9l4MzfsRHGdI9umPPT64gFEgAAAAAAAAAAAAAAAAAAAAAA+6KK7ldNuimaq65imimOMzM6REA9C8pbFTsewY2DpHx4j4mVVHXer6avo4egHXAAAAAAAAAAAAAAAAAAAAAAAAAABRniLyxOyb9Xcs06YGbM3caeqmqZ9u36J4eQETAAAAAAAAAAAAAAAAAAAAABPfCrlidw3Wd3yKNcPBn8HXhXf6v3I6QXEAAAAAAAAAAAAAAAAAAAAAAAAAAADkc0cvYu/7PdwL2lNc+3j3f0Lke7Pm6pBQGdhZWDm3sPKom3kWKpouUT1TH5J6gawAAAAAAAAAAAAAAAAAAAOjsWy5u87pZ2/Ep1uXZ9qvqooj3q6vJAPQOz7VibVttjb8WnSzYp0ieuqftVVeWqQboAAAAAAAAAAAAAAAAAAAAAAAAAAAAIZ4icjxveJ89hUxG7Y9OkUx0fGoj7E/ej7P0ApaqmqmqaaommqmZiqmeiYmOMTAPgAAAAAAAAAAAAAAAAAGbGxsjKyLePj26rt+7VFNu3TGs1TPVAL05H5Pscu7fpXpc3HIiJyr0dMR2W6Z/Rp9YJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB+IHh5TusV7ptVEUblEa3rEdEX4jrj7/1gqC5buW7lVu5TNFyiZproqjSYmOMTEgxgAAAAAAAAAAAAAAAz4eJk5mTbxsW1VeyLs923bojWZmQXVyLyHY2CzGVk6X91u06V1x002onjRR+WQS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEU5y8P8Df6asmzMYu6RHs39PZuadVyI/m4gprdtn3LaM2rE3CxVZvR7uvTTVHbTVwqgGgAAAAAAAAAAAAADq8v8t7rvuX8vgWu9ET+Lfq6LduO2qr8nEF0cp8l7Vy9Y1tR8fOrjS9l1x7U/doj7NIJEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS3XZtt3bEnF3CxTfszw73vUz201R00z5gVbzJ4TbliTXf2Wqc7Hjp+Xq0i9THk6q/rBBL1m7Zu1Wr1FVq7T0VW64mmqPRIMQAAAAAAAAANjEw8vMv04+JZryL9XRTbt0zVV9EAsLlrwjv3JoyN/ufCo4/J2p1rn9euOiPNALNwdvwtvxqMXCs0Y+PR7tu3GkefyyDYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzt45e2beLfc3HEovzwpuTGlynzVx0ggm7+DduZmvaM2aOyxkxrHorp6fpiQQ/cfD/m7AmZu7fXetx/iWNLtOnb7PTHpgHBu2b1mqabtuq3VHRMV0zT9YMWsTwAAAmYjjIM1jGyciuKLFmu7VVwiimatfoBItu8OObs6YmMKca3P+JkzFvT9mda/UCY7P4OYNuabm7ZdWRPXYsfh0eaap9qfUCc7Xs+1bVZ+Dt+LbxrfCe5Gkz+tVxkG6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmZnMuw4eVbxMncbNrJuVRTTamqNYmeHe0930g6YAAAAAAAMV/Hx8iNMizbvR2XKKa/wCaJBzL/J/Kt+db21Y1X7Hd/lmAav8Ax7yV/wDl2vpq/OBHh7yVExP9KtTp1TNUx9YNzH5T5XxZibG141Exw9iKv5tQdSzas2ae7Zt0Wqf0bdMUR9FMQD6AAAAAAB+V10UUVV11RTRTGtVUzpERHXMgwYedhZtmL2Fft5Fqft2qorj1A2AAAAAAAAAAAAAAAAAAAAAAAAAAR/mXnjY9hpmjIufGzNNacS1pNfk708KI84Kt5h8SeYt2mq1aufIYc9EWbEzFUx96570+gETnpmZnpmemZBNeT/ErcNnijD3DvZm2x0UzM63bUfdmfej7sgt3a9227dsWMrAv037M8Zp40z2VRxpnzg3AAAAAAAAAAAAAAAAAAc3fOYdp2PG+Y3C/FuJ1+HajpuVzHVTT1gp3m/xA3XmCqrHo1xNsifZxqZ6a/Ldq6/NwBHtv3PcNvvxfwci5jXo+3bqmNfPHCfSCw+XPF65TNGPv9nv08PnbMaVR5a7fX6AWTt+5YO4Y1OThX6MixVwronWPNPZPkkGyAAAAAAAAAAAAAAAAAAAAADFfv2MezXfv3KbVm3E1XLlc6U0xHXMyCrOb/FW/fmvC2CZs2PdrzpjS5V/pxPux5eIK7rrruVTXXVNVdU61VVTMzMz1zMg+AAAb217xuW05UZO35FePfjjNM+zVHZVTwqjzgs/lnxcwMruY++2/lL89HzVETNmqfvR71HrBPsfIx8i1Tex7lN+xX003LdUVUz5pgGQAAAAAAAAAAAAAGvnZ2FgWKsjMv0Y9injcuTFMf2grvmXxdt0xVj7Da79XCc29GlMfqUdfnkFa5udmZ+TXk5l6vIyK/euXJ1nzeSPJANYAAHR2Xf8Adtmyoyduv1Wq/t0caK4jqrp4SC4uUPEDbd/inHu6Ym56dOPM+zX2zbqnj5uIJYAAAAAAAAAAAAAAAAAAADT3Xd8DasK5m512LVi31zxqnqppjrmQUjzfzvuHMV+aJ1x9uonWziRPHsquae9V9QI0AAAAAADo7Tv28bRd+Jt2VXjzM61UROtFX61E60yCf7L4yzHdt7zh69uXjfXNur8kgm+1c38tbrEfJ59uq5P+DXPw7nm7tWmvoB2AAAAAAAAAJ6I1nhHGQcLdueOV9riYyM+iu7H+DY/Gr/h6I9Mggu9eMWbdiq1s2JTj0z0RkX/br9FEezHpBA9x3Xctyv8Ax8/JuZN3qmudYj9WOEegGmAAAAAD7pqqoqiuiqaa6Z1pqpnSYmOExMAtTkPxLjIm3tW/XIi/OlGLnVdEVzwim52VfeBZAAAAAAAAAAAAAAAAAANLd92wdpwLufnXPh49qOn9KqeqmmOuZBRXNfNefzFnzfv/AIeNbmYxsaJ9mintntqnrkHCAAAAAAAAAAB1tt5p5j26IjD3C9aop4W5q79EfsV96n1AkmD4vczWdIyLOPlUx20zbqn00zMeoHaxvGnHnT5raq4nr+Dcif5ogHRteMHLNUfiWcm1PZ3Iq+qQZ/8Alrk3/Myf+xP5wP8Alrk39PJ/7E/nBr3vGLlqiPwsfJuz2d2mj65Bzcrxqo0n5Tapmer492I/kiQcPN8Wuar8TFiLGJTPCaKO/VHprmY9QI3uHMO+bjrGdn3r9M8aKq5ij9yNKfUDmgAAAAAAAAAAs7w68QJiq3s28XtaZ0pwsuuemJ6rVdU/wyC0QAAAAAAAAAAAAAAAY8rJx8XHuZORci1YsUzXduVdERTHGQURzrzfkcx7h3o1t7fYmYxLE9n6dX3qvUCNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt3w154nOop2Xc7mubbjTEvVT03aI+xMz9uPXALCAAAAAAAAAAAAAABT/ifzlOflVbNhXP9jj1f7mumei7dp6v1aPrBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZLV27Zu0XrNc27tuqKrddM6TTVHTEwC9uRebbfMW1RVcmKdxxtKMu3HXPVcpjsq+sElAAAAAAAAAAAABDvEnmz+ibV8ri16bjnRNNuY427fCq55+qAUiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADq8tb9lbFu1nPsazTTPdv2uqu3PvUz+Tyg9BYObjZ2DZzMWv4mPkURXbqjsnt8sdYNgAAAAAAAAAAGDNzcfCxL2Zk1dyxYom5cqnqiAeeuYt6yN73e/uF/om7Olqj9C3HuUx5oBzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWT4S80fBv1bBk1/hXpm5hTPVc410ftcYBawAAAAAAAAAAKy8XuY5pps7Bj1+9pfzdOz/Don6wVaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLYv3se/bv2apov2qort1xxiqmdYkHoXljfbW+bHjbjRpFdyO7foj7N2norj6ekHVAAAAAAAABrbln2NvwMjNvzpZx7dVyvy92OEeWeEA867puORuW45GfkTreya5rq8mvCmPJEdANMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+8JeYZw92ubTeq/wBvn9NrXhTeoj+9T0AuEAAAAAAAAFceMG+/BwsbZrVXt5M/GydP8uifYj01dPoBU4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM2Pfu49+3fs1TRdsVU126o4xVTOsT9IPRWxbra3XaMTcbemmRbiqqmPs18K6fRUDfAAAAAAA6I6Z4RxB555u3id45hzM2KtbU1/Dx/9K37NOnn4g4wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALU8G9671nM2a5V025+ZxYnsq6K4j06SCywAAAAAAR/nzd52zlbNv01d2/dp+Xszwnv3ujo81OsgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHa5O3f8ApXM2DmzV3bUXIt3+z4dz2atfNrr6AehQAAAAAAVb4zbprc27aqZ6KYqyLseWfZoifomQVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0Pyhun9T5Z2/Lme9cqtRRdnr79v2KtfPpqDsAAAAAAoLn/AHH+oc3bhcidbdquLFv9W1Gn16gjoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALc8G9w+JtGbgVT0416LtEfduxpPrpBYYAAAAMWTfox8e7frnSm1RVXVPZFMag81X79d+/cv1+/erquVeeuZqn6wYgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATjwizfgcz148zpTl49VPnqomKqfygucAAAAHG5yuXrfK26VWaaqrvy9dMRREzPtR3Zno7I6QeeQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASDkO7dtc37XXapqr/ABtKqaYmZ7tVM0zOkdUcQX+AAD//2Q==",F=n(191),E=n(0),w=function(e){var t=e.sideNavStatus,n=e.setSideNavStatus,c=Object(u.g)(),r=N.getDecodedToken(),s=r.display_name,i=r.username,j=r.email,b=(r.company_alias,r.company_name),m=Object(a.useState)(!1),h=Object(d.a)(m,2),O=h[0],x=h[1],f=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.logout();case 2:e.sent?(Object(A.b)("Logged out successfully"),c.push("/login")):Object(A.b)("Logged out failed");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("header",{children:[Object(v.jsxs)("div",{className:"l-left",children:[Object(v.jsx)("div",{className:"c-Hamburger",children:Object(v.jsx)("button",{onClick:function(){p(!t),n((function(e){return!e}))},children:Object(v.jsx)(E.b.Provider,{value:{color:"#1666BA",size:"21px"},children:Object(v.jsx)(F.a,{})})})}),Object(v.jsxs)("div",{className:"c-Logo",children:[Object(v.jsx)("a",{href:"/dashboard",children:Object(v.jsx)("img",{src:g,alt:"logo"})}),Object(v.jsx)("p",{children:b||""})]})]}),Object(v.jsx)("div",{className:"l-right",children:Object(v.jsxs)("div",{className:"l-Profile",children:[Object(v.jsxs)("div",{className:"c-Profile",children:[Object(v.jsx)("button",{onClick:function(){x((function(e){return!e}))},children:Object(v.jsx)("img",{src:M,alt:"Profile img"})}),O?Object(v.jsx)("div",{className:"l-ProfilePopUp",children:Object(v.jsxs)("div",{className:"c-ProfilePopUp",children:[Object(v.jsxs)("div",{className:"c-ProfilePopUp__top",children:[Object(v.jsx)("img",{src:M,alt:"Profile img"}),Object(v.jsx)("h1",{children:s||"Error"}),Object(v.jsxs)("h2",{children:["@",i||"Error"]}),Object(v.jsx)("h2",{children:j||"Error"})]}),Object(v.jsxs)("div",{className:"c-ProfilePopUp__bottom",children:[Object(v.jsx)("a",{href:"/settings/manage-account",children:"Manage Account"}),Object(v.jsx)("hr",{}),Object(v.jsx)("button",{onClick:f,children:"Log Out"})]})]})}):null]}),Object(v.jsx)("div",{className:"c-ProfileName",children:Object(v.jsx)("h1",{children:s||"Error"})})]})})]})},k=n(437),P=n(438),B=n(439),R=function(){return Object(v.jsx)(k.a,{className:"l-Footer",children:Object(v.jsxs)("footer",{className:"c-Footer",children:[Object(v.jsxs)(P.a,{className:"c-Footer__top",children:[Object(v.jsx)(B.a,{md:12,xl:4,className:"c-Footer__img",children:Object(v.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAABhCAYAAAC5+x8XAAANcElEQVR4Xu1di7EltRGVIjBEYBOB1xEYIjBEYIjAEIEhAkMEhggMERgiMERgE4EhArnOs0SJuTNS/zSS3u2perVbdTX6HPXpbrVamhj8cQQcgdsRiLe36A06Ao5AcOK5EDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4LgOOwAQEnHgTQPcmHQEnnsuAIzABASfeBNC9SUfAiecy4AhMQMCJNwF0b9IRcOK5DDgCExBw4k0A3Zt0BJx4TygDKaW3Qgi/r4b+Q4zxp9cIRUrpTQjhNydj+znG+P2sMT8N8VJKf5wFct1ujPG7O/qRxwuhq/+oTf8nhIA/CCYI+W0IYaqg9jqex/tuCKH89V45/o6xYpzfxhi/4b7MLf9MxEtccEaUjzEOwTxbsT+FED7Mwjei+4WEENDvZlqMPN4/V0SDFbd8XkgYQvgqxgglZPoMEQLTHhpVllJ6lcRLKUHDQwBBuBnP1yGEr2OMX93ReCbcX0IIH4cQrMl2NYQvQwifWRLQiXeHtFRtWFm8lNLvQgh/H2jduMjAGoKEX4ywhJMId8TAjIBOPK54KctriVcJ4KfKrox6HZbBtG8pJVjzv91o4XrYfB5j/KRXqPW7E0+DnuBdDfFyhA5WDgGTVR9T4qWUMN5ZbnQLY6z/PpBGg514N4uvlHiZdP9cSOtfIWdCvGzZ/7GQK302XgRdQD72toQTbwPiLehqtVBTEy8rGZAO69jVH6xtP4oxYn1Lfpx4ZKhsCnItXg6i/GsDS1cAUhEvWzqMdwfS1ULxB47lc+LZ8Ilci4B4EMKV13THsWuJB3caWyS7PXA7QT5SBpAT7+bp5RAvpfR5CAF7VlbPj4eMlFIvrEuxMFcpVtQ+iImXUkI09K/Uhojlfs4ZOCgOcpRx4t/fEuugFkPWy3uUws9EPIoWRfQMm9GSBxvI2OdpPjFGRMO6T3a5/tst2C+AFDX0C5vcJG2c236/ygrhCKiIeCkltId1ncUDspUxX+Kd15KQC2zGc8bY6iP2MVFfWw56BZ7pd6XGFQncFb4pJUwe9q6kD6zbh1SitxrJAgpioE9nCcf162wcMtH/bbSOhQL8mKpkSsfz3FPGR5mP93q432bxjhnxdyULU1A6gC91ddgC1xF2CKI0wADSveEKHwWrHGGFS3hlIdg4KBVe6TasHAjX9Toayg5uNt6vT25QYDmW6bqc5sQ7ZIljIJR8OvjeJSkVR1TY+yISdI7vKAWALXAdAUBQRfp0Na604kpJwUXDGvQopCwcjKwdSPeuhdzk/kAWteRrzoGaeIOy4rEWwaQOyQxvCLxmcc8SuI61g1Ajuid6OAEcUQPVSyfKioWDUtmVnmATm7WP1sEfngaUf8+tblXTtHpi4t2YtGqWmNoTMqUQsASuM/Ga9d1PMca3e2O1/D2vAYuLxsIhpaRxqTEMUjCDO16jYM87VycaRMRLKWEddOexDFjATzT+OwX4hYinsbwY6uWEU3C4q0xeLyIXU/oMW8uiQyklWFGccZQ+8NhO80xZxFsgf06dFd6xNBqBZ2n6gf0YZgWk0nf1XkoJVlK6fYNqzTA/62M+6yh2+bFvGGN856xuMvEWyp/DftQH1kKQNdxrIR6GgwjfFyNwsqrTwM0cbtlTSljraQItp30kEc+A+VZzVeoZoulekatZcEK0+NO7TodzJjnnoGJ9J32+iTFib3HoY+AOI4H6YYujS7yFj6OYRrIWs3iWWRxFMMt2DQR2ynZNzZBRAm3NQoMMotN1XpN4uVH4uNokXaQtIUACDYy6LPLkUB/MOCkNijIhC1k87H1apIu1hg0igoD4w8VF5hf6dNax2vXdcDez9F/pbp5GmXvE02SKI3UHbs7lhOa0KKyrpPslp2acQrKLxfQSa7xsfbVrCy4M5Qaxl2vuRmcWpZQ0py5w1SAlMYOLwWl5gyDQg5K4JJ5iXQfrhhxBkgbNVhXaTxK2vYwaSRBfxeIZuL2S4R/fKURESN3cIipvfbtlfVdZPGwJaLY9HrJYWsSTaCTRvkomHzStJEPczOotRrw73E0OQU2v8VMSb0hw7QoMhREqVdKIp1j4sk7hGi22zbTfSsTLVs/6PB6HaFdlSzofMkbE6+snI95DIPDU4gn3V9SpO8JFrFmK1ILEg9WTegIWJGvV8ULAGONn3IYMLAiymKCUbnkMtj4eLPQD8RSNqDPiFSeuTSJcqxEvWz1EgRGBlAagRgsn+gZ3n7Smz2NSJYGHENSyxgXF2kKfEU+UoGuREa8QfJN1nqJ9zOOwdUfeS12ZfLB+IANpf9DA4r1K4kkSQ3GGTrvXh6RUqSY0EfpViVdZCczNqpaPTD7FPF8GK7gWjFv+DouHjVvuHgncDPHJ3woEbKxLbg1Wry8NQvgm5G8JhHLrhStrkvKkpAYnXgi/cjUNAJFMlsU72GeiXGbUbGtli3eIAF+d/rbAUltHN4ndQM5eV3DFABDtpEnffyriFZDytg88hCU+ullNXncNZu26SQWH8p4BL9r7eAYNUMYxosxTEq8iYHHRQUJJEoL1nFweAK36rPle4XC3/sTD0JzL6xJPk6toPXmc+p6aeAchAQlxugF/0yxhL8qttHhmSRMUITO4atGJ1wleaBTPrVqYIjA5YFS+gY51If6vOdRJbRblmu6mMFmitG+WNEEZ0PAkaWVwgTKGUWXc4jGQzUuKmpAj3NOmIhohzAwIWEWVJyl+jDE+3I96jGpqND5rMMaFnXgKQHO2ElxTrBGtLGJznafIBy4jNUma6MF2y0FYBRj1hyF6Yxnx+/eU++p7DSst/pKuZm/Mx9+zDCAPUrtR31SGBgLdva2ZO/az8gbru/7VD4qoponFsQBKU4cT7//oKY9plSnoyoRynYd2THJ0O+t+7b2f/cuOFMS7dbGrIVcHZI2rbWbx8r2lwHTaLWE5P1RzjTyFeNpjTyYZS1cyoeBDqfJ0fYcfj2s8LAKlNz8N1z6jCFfqXcXiVaF2JB3DVSElH1vjk1JCKqA08NJVRAa3NSNFDWdAyScjOBgpgypoin6hrcL8D9U+HMCkZRckXhkK7q5hn3uT4lApIpyIkO4FdomX3VoNuVHFkLWeUhYKhPQr3BVn4kgJslphGPm+EmySoFH6f7G5fLv1U2p80vWLioBeDaVp7qaBm920dg+uZtZA0qM53cYoQkctk8HBNxzeon7+tlf34sQr3YcVAslJX5btjbmxvtEsO1Dt29SrIZQubRmCyfaC4T2yzaXX1dUPsF7ScLIJAA2BwJElfBccgZCXp5eeRBW+TYhXhjPslmiDb2SwUrqMrB5wUV1bn4Mp+Bw091jcUcS6uapXxNNE99CJL2OMH1EFnlKu+iwYNnl/lQnwpMQrsEFJ4iwkLCAiieILiCqPB5+A1hxsJrmZ9bwbWT1UyfYIcgIBvCfJWdAz8e0GGq+IB8ZDo0qtHjpjopGz6YeFuwSFQrz8pdoex9GGFHwIf/cwMOWiWGUCMdaCOKkOAUQ4uxvxy9iAaMhe0Z5rvAyht8AfcL0Fxg8cYH0fMKg+qFrGrLVyLJe3da+m6O6VE3ChgV/uZAwh4IqIpiBUgEAAAEoXECLxNMdQeoQl/z6xryDk0RpSP5VNHl8vObpDPu3Fsa3qIXf4gzxprHmrja6L+cvyqAOENtR7Vf1ZYECsaScKM0cgyetRpcVj98nwBfWWkiKqbjgMUVU/5O+wk1z93rcTVr9abjth3klJMMWPJXgdhX/3dyOYQ30ojlzlNz1vrn6L+pmula+WI0U1V7Eir5R4ZqTLAR64g1iaSDfvtUTivI/PFrzPzS7qEi8DsbTl20mYd+orUfpMSVe3aXBmjzgEcTHx2EnEy+TDGgxRO2nunnh0vRd3Euad+trDvZWLSHiXVMRwj4/UHqMQOZByVieZeJULgD0+hPeXeXYSZmJfJZcK3zkfcK/wKbah2TNlQHmrAZisoPSxnsNGfXfrqDUhLOJVQKxk/UhZEjut8bKSK5cWWZ4K15ITQocPlfySNaStkPN+tn5oewYBX8aex0+KXJoTryJguS5A8lFJDubHsvCtoXFweWp3gzgL8jb7eMfBZo1fbg6zupqBgz/whtABb7XQcRo+K3szAU0JV8YjsngngjH6SjkMHm7NSzYClWx1P3ezeFfCmRMMSnLByFvD8GVf4I30P5Jy0xKK+37OrSyZJ5YKCa50yXzBsSNzZWNCvAsNDaGAgICUCA9TgYF2LZ8BxoTjPpUpB0G5gjCrfLaIwLncHFZn+7RC8iBXeSBo2+JdKaRyjSHGBTx6aY8FA4z9RbnfoWiGEI8igFlb4XoDJxUFMC+jQiAnQkM5LSFz04inQtFfdgQ2R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R8CJt/kEevf3RMCJt+e8ea83R+B/Ko8pvJqFIPEAAAAASUVORK5CYII=",alt:"eISO Logo"})}),Object(v.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__company",children:[Object(v.jsx)("h1",{children:"Company"}),Object(v.jsxs)("p",{children:["78B Telok Blangah Street 32,",Object(v.jsx)("br",{})," #03-06, Singapore 102078"]}),Object(v.jsx)("a",{href:"#",children:"Contact Us"})]}),Object(v.jsxs)(B.a,{md:12,xl:4,className:"c-Footer__legal",children:[Object(v.jsx)("h1",{children:"Legal"}),Object(v.jsx)("a",{href:"#",children:"Privacy Policy"}),Object(v.jsx)("a",{href:"#",children:"Terms Of Service"})]})]}),Object(v.jsx)("hr",{className:"c-Footer__hr"}),Object(v.jsx)(P.a,{className:"c-Footer__caption",children:Object(v.jsx)("p",{children:"Copyright \xa9 2021 Associates Consulting Pte Ltd. All rights reserved."})})]})})},q=n(22),H=function(e){var t=e.sideNavListObj,n=e.index,c=e.activeLink,r=N.getToken(),s=N.getDecodedToken(),i=s.employee_id,o=s.company_id,l=Object(a.useState)(null),j=Object(d.a)(l,2),u=j[0],m=j[1],p=Object(a.useState)((function(){return c===t.link})),h=Object(d.a)(p,2),x=h[0],f=h[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/employees/").concat(i),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){m((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e),m((function(){return null}))}))}),[]);var g=function(){f((function(){return!x}))};return Object(v.jsxs)(v.Fragment,{children:[t.link===c?Object(v.jsxs)("div",{className:"c-Sidenav__Links-header--active c-Sidenav__Links-header",onClick:g,children:[Object(v.jsx)("p",{children:t.display}),x?Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.b,{})}):Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.a,{})})]},""+n):Object(v.jsxs)("div",{className:"c-Sidenav__Links-header ",onClick:g,children:[Object(v.jsx)("p",{children:t.display}),x?Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.b,{})}):Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(q.a,{})})]},""+n),Object(v.jsx)("div",{className:"l-Sidenav__Sub-links--outer",children:x?Object(v.jsx)("div",{className:"l-Sidenav__Sub-links--inner",children:t.subLinksArr.map((function(e,n){var a=!1;if("Organisation Settings"===e.header&&3===u)a=!0;else if("Organisation Settings"===e.header&&2!==u)return null;return Object(v.jsxs)("div",{className:"c-Sidenav__Sub-links",children:[Object(v.jsx)("h2",{className:"c-Sub-links__Header",children:e.header},""+n),e.subLinks.map((function(e){return!a||"/manage-users"!==e.link&&"/manage-organization"!==e.link?Object(v.jsx)(b.b,{to:t.link+e.link,className:"c-Sub-links__Links",children:e.display},""+e.link):null})),t.subLinksArr.length-1!==n?Object(v.jsx)("hr",{className:"c-Sub-links__HR"}):null]},n)}))}):null})]})},Y=[{link:"/dashboard",display:"Dashboard"},{link:"/announcements",display:"Announcements"},{link:"/swot",display:"4.1 SWOT"},{link:"/interested-party",display:"4.2 Interested Party"},{link:"/scope-of-qms",display:"4.3 Scope of QMS"},{link:"/company-policy",display:"5.2 Company Policy"},{link:"/responsibility-n-authority",display:"5.3 Resp. & Authority"},{link:"/risk-n-opportunity",display:"6.1 Risk & Opp."},{link:"/objective-achievement-program",display:"6.2 Obj. Achiv. Program"},{link:"/equipment-maintenance",display:"7.1 Equipment Maintenance Program"},{link:"/licenses",display:"7.2 Permits Licenses"},{link:"/training",display:"7.3 Training"},{link:"/settings",display:"Settings",minHeight:"380.8px",subLinksArr:[{header:"Overview",subLinks:[{link:"",display:"Settings Overview"}]},{header:"User Settings",subLinks:[{link:"/manage-account",display:"Manage Account"},{link:"/notifications",display:"Notifications"}]},{header:"Organisation Settings",subLinks:[{link:"/manage-organization",display:"Manage Organization"},{link:"/manage-users",display:"Manage Users"},{link:"/manage-invites",display:"Manage Invites"},{link:"/induction-templates",display:"Manage Induction Templates"},{link:"/trainings",display:"Manage Trainings"}]}]}],U=function(e){var t=e.sideNavStatus,n=e.activeLink,a="100%";return!1===t&&(a="0px"),Object(v.jsx)("div",{className:"c-Sidenav",style:{width:a},children:Y.map((function(e,t){return"subLinksArr"in e?Object(v.jsx)(H,{activeLink:n,index:t,sideNavListObj:e},t):e.link===n?Object(v.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header--active c-Sidenav__Links-header ",children:e.display},""+t):Object(v.jsx)(b.b,{to:e.link,className:"c-Sidenav__Links-header ",children:e.display},""+t)}))})},L=function(e){var t=e.sideNavStatus,n=e.setSideNavStatus,a=e.title,c=e.activeLink,r=e.children;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f,{title:a}),Object(v.jsx)(w,{sideNavStatus:t,setSideNavStatus:n}),Object(v.jsxs)("main",{className:"l-Main__Outer",children:[Object(v.jsx)(U,{sideNavStatus:t,activeLink:c}),Object(v.jsxs)("div",{className:t?"l-Main__Inner l-Main__Inner--uncollapsed":"l-Main__Inner l-Main__Inner--collapsed",children:[r,Object(v.jsx)(R,{})]})]})]})},z=function(e){var t=e.isEditor,n=e.organisationContent,c=e.heading,r=e.type,s=N.getToken(),i=N.getDecodedToken(),o=Object(a.useState)(!1),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(a.useState)(void 0),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(a.useState)(void 0),f=Object(d.a)(x,2),g=f[0],_=f[1];Object(a.useEffect)((function(){void 0!==n[r]&&null!==n[r]?(h((function(){return n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):n[r]})),_((function(){return n[r]}))):null===n[r]&&(h((function(){})),_((function(){})))}),[n]);var y=function(e){_((function(){return e.target.value})),h((function(){return e.target.value.split("\n").length>1?e.target.value.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e.target.value}))},D=function(e){if("cancel"===e)_((function(){return n[r]})),h((function(){return void 0!==n[r]&&n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):n[r]}));else if("save"===e){var t;"companyScope"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/scopes"):"companyReferences"===r?t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/references"):"companyTerms"===r&&(t="".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/terms")),O.a.post(t,{content:g},{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:[c," has been updated!"]})]}))})).catch((function(e){console.log(e);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),_((function(){return n[r]})),h((function(){return void 0!==n[r]&&n[r].split("\n").length>1?n[r].split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):n[r]})),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}u((function(e){return!e}))};return console.log(t),Object(v.jsx)("div",{className:"l-Dashboard-Info-Cards",children:Object(v.jsxs)("div",{className:"c-Dashboard-Info-Cards",children:[Object(v.jsxs)("div",{className:"c-Dashboard-Info-Cards__Heading",children:[c||"Data not found!",t?j?null:Object(v.jsx)("button",{type:"button",onClick:function(){return D("edit")},className:"c-Btn c-Btn--link",children:"Edit"}):null]}),Object(v.jsx)("div",{className:"c-Dashboard-Info-Cards__Content",children:j?Object(v.jsx)("textarea",{className:"c-Content__Textarea",value:g,onChange:y}):p||"Data not found!"}),Object(v.jsx)("div",{className:"c-Dashboard-Info-Cards__Btn",children:j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",onClick:function(){return D("save")},className:"c-Btn c-Btn--primary",children:"Save"}),Object(v.jsx)("button",{type:"button",onClick:function(){return D("cancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]}):null})]})})},Q=function(e){var t=e.type;return Object(v.jsx)("div",{className:"c-Status-pill c-Status-pill--".concat(t?"active"===t?"active":"overdue"===t?"overdue":"almostDue"===t?"almost-due":"pending"===t?"pending":"active":"active"),children:Object(v.jsx)("h1",{children:t?"active"===t?"Active":"overdue"===t?"Overdue":"almostDue"===t?"Almost Due":"pending"===t?"Pending":"Active":"Active"})})},V=function(e){var t=e.username,n=e.date,a=e.title,c=e.content,r=e.link;return t&&(t="@"+t),Object(v.jsxs)("div",{className:"l-Announcements-bento-box",children:[Object(v.jsx)("div",{className:"l-Announcements-bento-box__Top-line"}),Object(v.jsxs)("div",{className:"c-Announcements-bento-box",children:[Object(v.jsxs)("div",{className:"c-Announcements-bento-box__Account",children:[Object(v.jsx)("h1",{children:t}),Object(v.jsx)("p",{children:n})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"c-Announcements-bento-box__Content",children:[Object(v.jsx)("h1",{children:a}),Object(v.jsx)("p",{children:c})]}),Object(v.jsx)("div",{className:"c-Announcements-bento-box__Link",children:Object(v.jsx)(b.b,{to:"/".concat(r),children:"View more"})})]})]})},W=n(11),J=n.n(W),G=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.display_name,c=t.company_id,r=t.employee_id,s=_.toastTiming,i={headers:{Authorization:"Bearer ".concat(e)}},o=["companyScope","companyReferences","companyTerms"],l=[O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/scopes"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/references"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/terms"),i)],u=[O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m01_01/employees"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m02_01/employees"),i),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m03_01/employees"),i)],p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({companyScope:void 0,companyReferences:void 0,companyTerms:void 0}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)({companyScope:!1,companyReferences:!1,companyTerms:!1}),I=Object(d.a)(S,2),M=I[0],F=I[1];return Object(a.useEffect)((function(){Promise.all(l).then((function(e){e.forEach((function(e,t){200===e.status&&T((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(m.a)({},o[t],e.data.content))}))}))})).catch((function(e){console.log(e)})),Promise.all(u).then((function(e){e.forEach((function(e,t){if(200===e.status){var n=!1;e.data.results.forEach((function(e,t){e.employee_id===r&&(n=!0)})),!0===n&&F((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},o[t],!0))}))}}))})).catch((function(e){console.log(e)}))}),[]),console.log(M),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"Dashboard",activeLink:"/dashboard",children:Object(v.jsxs)(k.a,{className:"c-Dashboard",children:[Object(v.jsxs)(P.a,{className:"c-Dashboard__Welcome",children:[Object(v.jsx)("h1",{children:"Welcome!"}),Object(v.jsx)("h2",{children:n||"Error in retrieving name"})]}),Object(v.jsxs)(P.a,{className:"c-Dashboard__Latest-announcements",children:[Object(v.jsx)("div",{className:"c-Latest-announcements__Heading",children:Object(v.jsx)("h1",{children:"Latest Announcements"})}),Object(v.jsxs)(P.a,{className:"c-Latest-announcements__Content",children:[Object(v.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(v.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly."})}),Object(v.jsx)(B.a,{className:"c-Latest-announcements__Wrapper",md:12,lg:6,children:Object(v.jsx)(V,{username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n"})})]}),Object(v.jsx)("div",{className:"c-Latest-announcements__Link",children:Object(v.jsx)(b.b,{to:"/announcements",children:"View more Announcements"})})]}),Object(v.jsxs)("div",{className:"c-Dashboard__Organisation-info",children:[Object(v.jsx)("div",{className:"c-Organisation-Info__Heading",children:Object(v.jsx)("h1",{children:"Your organisation"})}),Object(v.jsxs)("div",{className:"l-Organisation-Info__Info-Cards",children:[Object(v.jsx)(z,{isEditor:M.companyReferences,organisationContent:D,type:"companyScope",heading:"Scope"}),Object(v.jsx)(z,{isEditor:M.companyScope,organisationContent:D,type:"companyReferences",heading:"Normative References"}),Object(v.jsx)(z,{isEditor:M.companyTerms,organisationContent:D,type:"companyTerms",heading:"Terms and definition"})]})]})]})})]})},X=n(6),K=function(e){var t=e.id,n=e.username,a=e.date,c=e.title,r=e.content,s=Object(u.g)();return Object(v.jsxs)("div",{className:"c-Announcements-list-item",onClick:function(){s.push("/announcements/view/".concat(t))},children:[Object(v.jsxs)("div",{className:"c-Announcements-list-item__Content",children:[Object(v.jsxs)("h1",{children:["@",n]}),Object(v.jsx)("h3",{children:a}),Object(v.jsx)("h2",{children:c}),Object(v.jsx)("p",{children:r})]}),Object(v.jsx)("hr",{})]})},Z=function(){var e=_.toastTiming,t=Object(u.g)(),n=Object(a.useState)(C),c=Object(d.a)(n,2),r=c[0],s=c[1],i=[{id:1,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:2,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "},{id:3,username:"BobSong",date:J()(new Date).format("MMMM D, YYYY h:mm A"),title:"Important: Double check for roles",content:"Hi all, I have just assigned roles to your accounts, please help me double check "}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Announcements",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-Announcements c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Announcements"})]}),Object(v.jsxs)("div",{className:"c-Announcements__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Announcements"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/announcements/create")},children:"Create announcements"})]}),Object(v.jsx)("div",{className:"c-Announcements__Filter"}),Object(v.jsx)("div",{className:"c-Announcements__List",children:i?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{}),i.map((function(e,t){return Object(v.jsx)(K,{id:e.id,username:e.username,date:e.date,title:e.title,content:e.content},t)}))]}):Object(v.jsx)("p",{children:"No records found."})})]})})]})},$=function(e){e.match.params.aid;var t=_.toastTiming,n=Object(a.useState)(C),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:t,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"View Announcement",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-View-announcements c-Main",children:[Object(v.jsxs)(X.a,{className:"c-View-announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Announcement"})]}),Object(v.jsx)("div",{className:"c-View-announcements__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"View Announcement"})}),Object(v.jsxs)("div",{className:"c-View-announcements__Content",children:[Object(v.jsxs)("div",{className:"c-Content__Top",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("h1",{children:"@BobSong"}),Object(v.jsx)("h3",{children:"10 Nov 2021, 3:45PM"}),Object(v.jsx)("p",{children:Object(v.jsx)("i",{children:"This announcement was sent to all employee's email of this company"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"c-Content__Main",children:[Object(v.jsx)("h1",{children:"Important: Double check for roles"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:["Hi all, ",Object(v.jsx)("br",{}),"I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Regards,",Object(v.jsx)("br",{}),"Bob Song"]})]}),Object(v.jsxs)("div",{className:"c-Content__Attachments",children:[Object(v.jsx)("p",{children:Object(v.jsx)("i",{children:"2 Attachments"})}),Object(v.jsx)("div",{className:"c-Content__Attachments-section"})]}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)("div",{className:"c-View-announcements__Danger",children:[Object(v.jsx)("h1",{children:"Danger Zone"}),Object(v.jsxs)("div",{className:"c-Danger__Row",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Delete"}),Object(v.jsx)("p",{children:"This action cannot be reversed."})]})]})]})})]})},ee=n(64),te=n(19),ne=n(63),ae=function(){var e=_.toastTiming,t=N.getDecodedToken().company_id,n=Object(a.useState)([{label:"Swedish",value:"Swedish"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"},{label:"English",value:"English"}]),c=Object(d.a)(n,2),r=c[0],s=(c[1],Object(a.useState)([])),i=Object(d.a)(s,2),j=i[0],u=i[1],b=Object(a.useState)(C),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(a.useState)((function(){return te.EditorState.createEmpty()})),f=Object(d.a)(x,2),g=f[0],y=f[1];return Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function n(){var a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/employees"));case 3:a=n.sent,c=a.data.results,console.log(a),console.log(c),e&&u((function(){return c.map((function(e,t){return{label:"@".concat(e.account.username),value:e.account.username}}))})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))(),function(){e=!1}}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"View Announcement",activeLink:"/announcements",children:Object(v.jsxs)("div",{className:"c-Create-announcement c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-announcements__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/announcements",children:"Announcements"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Announcement"})]}),Object(v.jsxs)("div",{className:"c-Create-announcement__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Announcement"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Publish"})]}),Object(v.jsxs)("div",{className:"c-Create-announcement__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Fields__Recipients",children:[Object(v.jsx)("h2",{children:"Send to"}),Object(v.jsx)(ne.a,{isMulti:!0,options:r,placeholder:"Select recipient group"}),Object(v.jsx)("h3",{children:"Or"}),Object(v.jsx)(ne.a,{isMulti:!0,options:j,placeholder:"Select specific recipients"})]}),Object(v.jsxs)("div",{className:"c-Fields__Title",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Fields__Content",children:[Object(v.jsx)("h2",{children:"Content"}),Object(v.jsx)(ee.Editor,{editorState:g,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:y,placeholder:"Enter content"})]}),Object(v.jsxs)("div",{className:"c-Fields__More-info",children:[Object(v.jsx)("h2",{children:"More info"}),Object(v.jsx)("input",{type:"checkbox",name:"sendEmail"}),Object(v.jsx)("label",{htmlFor:"sendEmail",children:"Send announcement to specified employees via email"})]})]}),Object(v.jsx)("span",{className:"c-Fields__VL"}),Object(v.jsx)("div",{className:"c-Fields__Right",children:Object(v.jsx)("h2",{children:"Attachments"})})]})]})})]})},ce=function(e){var t=e.isDocCollapsed,n=e.children;return Object(v.jsx)("div",{className:t?"l-Document l-Document__collapsed":"l-Document",children:n})},re=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#",headerAttrs:{hidden:!0}},{dataField:"content",text:"Name",headerAttrs:{hidden:!0}}],se=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],ie=[{dataField:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"interested_parties",text:"Interested Parties"},{dataField:"needs_n_expectations",text:"Needs and Expectations"}],oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],le=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"site_name",text:"Site Name"},{dataField:"site_address",text:"Site Address"},{dataField:"site_scope",text:"Site Scope"}],de=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],je=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"updated_at",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],ue=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],be=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],me=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"createdOn",text:"Created On",hidden:!0},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],pe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],he=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"category",text:"Category"},{dataField:"refNo",text:"Ref. No."},{dataField:"model",text:"Model/Brand"},{dataField:"archived_on",text:"Archived On"},{dataField:"action_view",text:"View",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"View"}):"N.a."}}],Oe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"maintenanceType",text:"Maintenance Type"},{dataField:"responsible",text:"Responsible"},{dataField:"maintenanceFrequency",text:"Maintenance Frequency"},{dataField:"lastServiceDate",text:"Last Service Date"},{dataField:"status",text:"Status",formatter:function(e,t){return e?Object(v.jsx)(Q,{type:e}):"Error"}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return console.log(e),e}}],xe=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"fileName",text:"File Name"},{dataField:"description",text:"Description"},{dataField:"uploader",text:"Uploader"},{dataField:"uploadDate",text:"Upload Date"},{dataField:"action_download",text:"",formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Download"}):"N.a."}},{dataField:"action_delete",text:"",formatter:function(e){return console.log(e),e}}],ve=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"license",text:"License/Permit/Certificate"},{dataField:"licenseNo",text:"License No."},{dataField:"expDate",text:"Exp. Date"},{dataField:"externalAgency",text:"Responsible External Agency"},{dataField:"responsibleUser",text:"Responsible User"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"Manage",headerAttrs:{hidden:!0},formatter:function(e,t){return e?Object(v.jsx)(b.b,{to:e,children:"Manage"}):"N.a."}}],fe=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"Approver"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"evaluation",text:"Evaluation",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"attendance",text:"Attendance",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],ge=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],Ae=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],_e=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"course_title",text:"Course Title"},{dataField:"approver",text:"To be approved by"},{dataField:"start_date",text:"Start Date"},{dataField:"end_date",text:"End Date"},{dataField:"request_status",text:"Request status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],ye=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_title",text:"Template Title"},{dataField:"version",text:"Version"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Created On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===e?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],Ne=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_manage",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Manage"})}}],De=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"template_name",text:"Template Name"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}],Te=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"form_name",text:"Form Name"},{dataField:"version_label",text:"Version Label"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)(b.b,{to:e,children:"View"})}}],Se=[{dataField:"id",text:"Id",hidden:!0},{dataField:"description",text:"Description"},{dataField:"file",text:"file"},{dataField:"done_at",text:"Done On"},{dataField:"status",text:"Status",formatter:function(e,t){return void 0===t.done_at?Object(v.jsx)("p",{children:"Nil"}):Object(v.jsx)(Q,{type:"active"})}},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"Mark Done"})}}],Ie=n(9),Ce=n.n(Ie),Me={ACTIVE:"Active",PENDING:"Pending",REJECTED:"Rejected",EDITING:"Editing",COLLAPSE:"Dark",NULL:null,INACTIVE:"Inactive"},Fe="rating",Ee="open",we="bool",ke="default",Pe="edit",Be="view",Re=function(e){var t=e.handleTabOnClick,n=e.tabType,a=e.children,c=e.focus,r=e.tabSettings;return Object(v.jsx)(v.Fragment,{children:n?Object(v.jsx)("div",{className:"c-Tab",children:Object(v.jsx)("div",{className:c?"c-Tab--focused":"c-Tab--unfocused",children:Object(v.jsx)("span",{onClick:t||null,className:n?"Active"===n&&r.secondTab===Me.EDITING||"Inactive"===n&&r.secondTab===Me.EDITING?"c-Tab--disabled c-Tab--"+n.toLowerCase():"c-Tab--"+n.toLowerCase():null,children:a||n})})}):null})},qe=function(e){var t=e.TokenManager.getDecodedToken(),n=null===t||void 0===t?void 0:t.company_id,c=Object(a.useState)({swot:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots/")},interestedParty:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties/")},scopeOfQMS:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes/")},companyPolicy:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies/")},respNAuth:{},riskNOpp:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses/")},objAchivProgram:{editSubmit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),pendingApprove:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/approve/"),pendingReject:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/reject/"),rejectedEdit:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/reject/"),rejectedDelete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements/")}}),r=Object(d.a)(c,2),s=r[0],i=(r[1],Object(a.useState)({swot:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/rejected")},interestedParty:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/rejected")},scopeOfQMS:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/rejected")},companyPolicy:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/rejected")},respNAuth:{},riskNOpp:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/rejected")},objAchivProgram:{getAll:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),active:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/active"),pending:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/pending"),rejected:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/rejected")}})),o=Object(d.a)(i,2),l=o[0];o[1];return[s,l]},He=function(e){var t=e.setIsDocCollapsed,n=e.setDocQueryEnum,a=e.setTabSettings,c=e.tabSettings,r=e.isDocCollapsed,s=e.setQueryUrl,i=e.pageType,o=qe({TokenManager:N}),l=Object(d.a)(o,2),u=(l[0],l[1]),b=function(e,t){t===Me.ACTIVE?(n((function(){return"active"})),"swot"===i?s({firstUrl:u.swot.active,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.active,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.active,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.active,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.active,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.active,secondUrl:u.objAchivProgram.getAll})):t===Me.PENDING?(console.log("setting query enum"),n((function(){return"pending"})),"swot"===i?s({firstUrl:u.swot.pending,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.pending,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.pending,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.pending,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.pending,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.pending,secondUrl:u.objAchivProgram.getAll})):t===Me.EDITING||t===Me.REJECTED&&(n((function(){return"rejected"})),"swot"===i?s({firstUrl:u.swot.rejected,secondUrl:u.swot.getAll}):"interestedParty"===i?s({firstUrl:u.interestedParty.rejected,secondUrl:u.interestedParty.getAll}):"scopeOfQMS"===i?s({firstUrl:u.scopeOfQMS.rejected,secondUrl:u.scopeOfQMS.getAll}):"companyPolicy"===i?s({firstUrl:u.companyPolicy.rejected,secondUrl:u.companyPolicy.getAll}):"riskNOpp"===i?s({firstUrl:u.riskNOpp.rejected,secondUrl:u.riskNOpp.getAll}):"objAchivProgram"===i&&s({firstUrl:u.objAchivProgram.rejected,secondUrl:u.objAchivProgram.getAll})),a((function(t){return Object(j.a)(Object(j.a)({},t),{},{focusTabIndex:e})}))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"l-Tabs__Row",children:[Object(v.jsxs)("div",{className:"l-Tabs__Row--left l-Tabs__Side",children:[Object(v.jsx)(Re,{focus:0===c.focusTabIndex,tabType:c.firstTab,handleTabOnClick:function(){return b(0,c.firstTab)},tabSettings:c}),Object(v.jsx)(Re,{focus:1===c.focusTabIndex,tabType:c.secondTab,handleTabOnClick:function(){return b(1,c.secondTab)}})]}),Object(v.jsx)("div",{className:"l-Tabs__Row--right l-Tabs__Side",children:Object(v.jsx)(Re,{handleTabOnClick:function(){t((function(e){return!e}))},tabType:Me.COLLAPSE,children:r?Object(v.jsx)(v.Fragment,{children:"Expand Document"}):Object(v.jsx)(v.Fragment,{children:"Collapse Document"})})})]})})},Ye=n(16),Ue=function(e){var t=e.message,n=e.type,a=void 0===n?"primary":n,c=e.handler,r=e.heading,s=e.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--send-invite",children:[Object(v.jsx)("h1",{children:r}),Object(v.jsx)("p",{children:t}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--"+a,onClick:function(){return c(s)},children:"Confirm"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:s,children:" Cancel"})]})]})},Le=function(e){var t=e.setQueryUrl,n=e.setTabSettings,c=e.tabSettings,r=e.docEditTableData,s=e.docEditHeaderData,i=(e.docPendingTableData,e.docPendingHeaderData),o=e.docRejectedHeaderData,l=e.pageType,u=e.isApprover,b=e.isEditor,m=e.docQueryEnum,p=e.setDocQueryEnum,h=e.editorState,x=(e.setEditorState,e.tempFileArr),f=e.startNewDoc,g=e.setStartNewDoc,_=qe({TokenManager:N}),y=Object(d.a)(_,2),D=y[0],T=y[1],S=N.getToken(),I=N.getDecodedToken().employee_id,C=Object(a.useRef)(""),M=function(e){if(console.log(r),"edit"===e)n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.EDITING,focusTabIndex:1}}));else if("editSubmit"===e){if(console.log(s),void 0===s.approvedBy||isNaN(s.approvedBy))return console.log("Error! No approver selected!"),void A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select an approver!"})]}));var a={},c="";if("swot"===l)a={strengths:r.strength.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),weaknesses:r.weakness.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:(console.log("docQueryEnum:"+m),"rejected"===m?e.parentItemID:e.id)})})),opportunities:r.opp.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),threats:r.threat.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id})})),approved_by:parseInt(s.approvedBy)},c=D.swot.editSubmit;else if("interestedParty"===l)a={approved_by:s.approvedBy,title:s.title,interested_parties:r.map((function(e){return{interested_party:e.interested_parties,expectations:e.needs_n_expectations,display_order:e.serialNo,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.interestedParty.editSubmit;else if("scopeOfQMS"===l)a={approved_by:s.approvedBy,title:s.title,content:JSON.stringify(Object(te.convertToRaw)(h.getCurrentContent())),boundaries:r.map((function(e){return{site_name:e.site_name,site_scope:e.site_scope,address:e.site_address,display_order:e.serialNo,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.scopeOfQMS.editSubmit;else if("companyPolicy"===l)a={approved_by:s.approvedBy,title:s.title,policies:r.map((function(e,t){return{title:e.title,content:e.content,display_order:t+1,parent_item_id:"rejected"===m?e.parentItemID:e.id}}))},c=D.companyPolicy.editSubmit;else if("respNAuth"===l);else if("riskNOpp"===l)a={approved_by:s.approvedBy,title:s.title,strengths:r.strength.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),weaknesses:r.weakness.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),opportunities:r.opp.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})})),threats:r.threat.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{parent_item_id:"rejected"===m?e.parentItemID:e.id,action:e.rpn<12||null===e.rpn||isNaN(e.rpn)?null:e.action})}))},c=D.riskNOpp.editSubmit;else if("objAchivProgram"===l){var d=!1;if(r.forEach((function(e,t){(void 0===e.personel_responsible||isNaN(e.personel_responsible))&&(d=!0)})),d)return void A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select a personel responsible for all items!"})]}));var u=new FormData;u.append("approved_by",s.approvedBy),u.append("title",s.title),u.append("achievements",JSON.stringify(r));for(var b=0;b<x.length;b++)u.append(x[b].key,x[b].fileObj);return c=D.objAchivProgram.editSubmit,void O.a.post(c,u,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document submitted for approval!"})]})),t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.PENDING,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}O.a.post(c,a,{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document submitted for approval!"})]})),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l&&t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.PENDING,focusTabIndex:0}})),p((function(){return"active"})),g((function(){return!1}))})).catch((function(e){console.error(e);var t=e.response.status,n=e.response.data.message;A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}else if("editCancel"===e)"rejected"===m?("swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.REJECTED,focusTabIndex:1}})),p((function(){return"rejected"}))):("swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.NULL,focusTabIndex:0}})),p((function(){return"active"})));else if("rejectedEdit"===e)console.log("edit btn click"),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.EDITING,focusTabIndex:1}})),p((function(){return"rejected"}));else if("rejectedDelete"===e){var f={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return _(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},f),{},{onClose:t}))}});var _=function(e){var a="";"swot"===l?a=D.swot.rejectedDelete+o.docID:"interestedParty"===l?a=D.interestedParty.rejectedDelete+o.docID:"scopeOfQMS"===l?a=D.scopeOfQMS.rejectedDelete+o.docID:"companyPolicy"===l?a=D.companyPolicy.rejectedDelete+o.docID:"riskNOpp"===l?a=D.riskNOpp.rejectedDelete+o.docID:"objAchivProgram"===l&&(a=D.objAchivProgram.rejectedDelete+o.docID),O.a.delete(a,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(a){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Rejected document has been deleted!"})]})),e(),"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.NULL,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(t){console.log(t),e();var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}}else if("pendingApprove"===e){var y="";"swot"===l?y=D.swot.pendingApprove+i.docID:"interestedParty"===l?y=D.interestedParty.pendingApprove+i.docID:"scopeOfQMS"===l?y=D.scopeOfQMS.pendingApprove+i.docID:"companyPolicy"===l?y=D.companyPolicy.pendingApprove+i.docID:"riskNOpp"===l?y=D.riskNOpp.pendingApprove+i.docID:"objAchivProgram"===l&&(y=D.objAchivProgram.pendingApprove+i.docID),O.a.put(y,{},{headers:{Authorization:"Bearer ".concat(S)}}).then((function(e){"swot"===l?t({firstUrl:T.swot.active,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.active,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.active,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.active,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.active,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.active,secondUrl:T.objAchivProgram.getAll}),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document approved!"})]})),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.NULL,focusTabIndex:0}})),p((function(){return"active"}))})).catch((function(e){console.log(e);var t=e.response.status||"N.a.",n=e.response.data.message||"N.a.";A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}else if("pendingReject"===e){Object(Ye.confirmAlert)({customUI:function(e){var a=e.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(v.jsx)("h1",{children:"Confirm Reject?"}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(v.jsx)("h2",{children:"Remarks"}),Object(v.jsx)("textarea",{name:"pendingReject",ref:C})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return function(e){var a={remarks:C.current.value},c="";"swot"===l?c=D.swot.pendingReject+i.docID:"interestedParty"===l?c=D.interestedParty.pendingReject+i.docID:"scopeOfQMS"===l?c=D.scopeOfQMS.pendingReject+i.docID:"companyPolicy"===l?c=D.companyPolicy.pendingReject+i.docID:"riskNOpp"===l?c=D.riskNOpp.pendingReject+i.docID:"objAchivProgram"===l&&(c=D.objAchivProgram.pendingReject+i.docID),O.a.put(c,a,{headers:{Authorization:"Bearer ".concat(S)}}).then((function(a){e(),"swot"===l?t({firstUrl:T.swot.rejected,secondUrl:T.swot.getAll}):"interestedParty"===l?t({firstUrl:T.interestedParty.rejected,secondUrl:T.interestedParty.getAll}):"scopeOfQMS"===l?t({firstUrl:T.scopeOfQMS.rejected,secondUrl:T.scopeOfQMS.getAll}):"companyPolicy"===l?t({firstUrl:T.companyPolicy.rejected,secondUrl:T.companyPolicy.getAll}):"riskNOpp"===l?t({firstUrl:T.riskNOpp.rejected,secondUrl:T.riskNOpp.getAll}):"objAchivProgram"===l&&t({firstUrl:T.objAchivProgram.rejected,secondUrl:T.objAchivProgram.getAll}),n((function(){return{firstTab:Me.ACTIVE,secondTab:Me.REJECTED,focusTabIndex:1}})),p((function(){return"rejected"})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been rejected!"})]}))})).catch((function(t){console.log(t),console.error(t),e();var n=t.response.status,a=t.response.data.message;A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}(a)},children:"Confirm Reject"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:a,children:" Cancel"})]})]})}})}};return c.firstTab===Me.ACTIVE&&0===c.focusTabIndex&&b?c.secondTab===Me.NULL?Object(v.jsx)("div",{className:"l-IP__Btns",children:Object(v.jsx)("button",{type:"button",onClick:function(){return M("edit")},className:"c-Btn c-Btn--primary",children:"Edit"},"edit")}):null:c.firstTab===Me.INACTIVE&&0===c.focusTabIndex&&f?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(v.jsx)("button",{type:"button",onClick:function(){return g((function(){return!1}))},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]}):c.secondTab===Me.EDITING&&1===c.focusTabIndex?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("editSubmit")},className:"c-Btn c-Btn--primary",children:"Submit"},"editSubmit"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("editCancel")},className:"c-Btn c-Btn--cancel",children:"Cancel"},"editCancel")]})}):c.secondTab===Me.REJECTED&&1===c.focusTabIndex?o.created_by_id===I?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("rejectedEdit")},className:"c-Btn c-Btn--primary",children:"Edit"},"rejectedEdit"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("rejectedDelete")},className:"c-Btn c-Btn--alert",children:"Delete"},"rejectedDelete")]}):null:c.secondTab===Me.PENDING&&1===c.focusTabIndex&&u?Object(v.jsxs)("div",{className:"l-IP__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){return M("pendingApprove")},className:"c-Btn c-Btn--ok",children:"Approve"},"pendingApprove"),Object(v.jsx)("button",{type:"button",onClick:function(){return M("pendingReject")},className:"c-Btn c-Btn--alert",children:"Reject"},"pendingReject")]}):null},ze=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns,c=e.docKeyfield;return Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data!"})]})]}),Object(v.jsx)(Ce.a,{keyField:c,data:n,columns:a})]})},Qe=function(e){var t=e.docPendingTableData,n=(e.setDocPendingTableData,e.docPendingHeaderData),c=(e.docHeaderData,e.docTableData),r=e.docColumns,s=e.docKeyfield,i=Object(a.useState)({newRowArr:[],deletedRowArr:[],editedRowArr:[]}),o=Object(d.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(null),b=Object(d.a)(u,2),m=b[0],p=b[1];return Object(a.useEffect)((function(){j((function(){var e=[],n=[],a=[];return t.filter((function(e,t){return null===e.parentItemID})).forEach((function(t){e.push(t.id)})),c.forEach((function(e,a){var c=!0;t.forEach((function(t,n){t.parentItemID===e.id&&(c=!1)})),!0===c&&n.push(e.id)})),t.forEach((function(e,t){c.forEach((function(t,n){e.parentItemID===t.id&&(e.interested_parties===t.interested_parties&&e.needs_n_expectations===t.needs_n_expectations||a.push(e.id))}))})),{newRowArr:e,deletedRowArr:n,editedRowArr:a}}))}),[t,c]),Object(a.useEffect)((function(){p((function(){return function(e,t){var n={};return l.newRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),l.deletedRowArr.forEach((function(t){e.id})),l.editedRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}}))}),[l]),Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{children:n.title?n.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:n.approved_by?n.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:n.created_by?n.created_by:"Failed to load data!"})]})]}),Object(v.jsx)(Ce.a,{keyField:s,data:t,columns:r,rowStyle:m})]})},Ve=n(27),We=n(31),Je=n.n(We),Ge=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=Object(a.useState)([]),u=Object(d.a)(l,2),b=u[0],p=u[1],h=N.getToken(),x=N.getDecodedToken(),f=x.display_name,g=x.company_id;Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{needs_n_expectations:e.needs_n_expectations_raw})}))})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(f)})})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(g,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;p((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var A=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:We.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return _(t.serialNo)}})})}}],_=function(e){n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},y=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-IP__Document-title",children:Object(v.jsx)("input",{type:"text",name:"title",onChange:y,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:y,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:b?"Please select an approver":"No approver found!"}),b?b.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsx)(Ce.a,{keyField:o,data:t,columns:A,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-IP__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})},Xe=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns,c=e.docKeyfield;return console.log(t),Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsx)(Ce.a,{keyField:c,data:n,columns:a})]})},Ke=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=e.docKeyfield,l=e.tabSettings,u=e.startNewDoc,b=e.setStartNewDoc,p=N.getToken(),h=N.getDecodedToken(),x=h.company_id,f=h.display_name,g=h.employee_id,A=Object(a.useState)([]),_=Object(d.a)(A,2),y=_[0],D=_[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}]})),r((function(){return{submittedBy:"".concat(f)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(p)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(x,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(p)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"interested_parties",text:"Interested Parties",editable:!0},{dataField:"needs_n_expectations",text:"Needs and Expectations",editable:!0,editor:{type:We.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo)}})})}}],F=function(e){n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},w=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return console.log(l),console.log(l.secondTab),console.log(l===Me.NULL),console.log(Me.NULL),Object(v.jsx)("div",{className:"c-IP__Document-content c-Document",children:l.secondTab===Me.NULL?I?u?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-IP__Document-title",children:Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Title",onChange:w,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:w,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:y?"Please select an approver":"No approver found!"}),y?y.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsx)(Ce.a,{keyField:o,data:t,columns:M,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-IP__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,interested_parties:"Enter Input",needs_n_expectations:"Enter input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("div",{className:"c-IP__Document-new",children:Object(v.jsx)("button",{onClick:function(){b((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-IP__Document-new",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-IP__Document-new",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Ze=function(e){var t=e.header,n=e.children;return Object(v.jsxs)("div",{className:"c-Swot-item",children:[Object(v.jsx)("h1",{className:"c-Swot-item__Header",children:t}),n]})},$e=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsx)(Ze,{header:"Strengths",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:a})}),Object(v.jsx)(Ze,{header:"Weaknesses",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:a})}),Object(v.jsx)(Ze,{header:"Opportunities",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:a})}),Object(v.jsx)(Ze,{header:"Threats",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:a})})]})},et=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData,c=e.docTableData,r=e.docColumns;e.docKeyfield;console.log(t),console.log(n);var s=Object(a.useState)({newStrengthRowArr:[],newWeaknessRowArr:[],newOppRowArr:[],newThreatRowArr:[],editedStrengthRowArr:[],editedWeaknessRowArr:[],editedOppRowArr:[],editedThreatRowArr:[]}),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(null),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(a.useState)(null),h=Object(d.a)(p,2),O=h[0],x=h[1],f=Object(a.useState)(null),g=Object(d.a)(f,2),A=g[0],_=g[1],y=Object(a.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1];return Object(a.useEffect)((function(){l((function(){var e=[],t=[],a=[],r=[],s=[],i=[],o=[],l=[];return n.strength.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(t){e.push(t.id)})),n.weakness.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){t.push(e.id)})),n.opp.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){a.push(e.id)})),n.threat.filter((function(e,t){return console.log(e),null===e.parentItemID})).forEach((function(e){r.push(e.id)})),n.strength.forEach((function(e,t){c.strength.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&s.push(e.id)}))})),n.weakness.forEach((function(e,t){c.weakness.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&i.push(e.id)}))})),n.opp.forEach((function(e,t){c.opp.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&o.push(e.id)}))})),n.threat.forEach((function(e,t){c.threat.forEach((function(t,n){e.parentItemID===t.id&&e.content!==t.content&&l.push(e.id)}))})),{newStrengthRowArr:e,newWeaknessRowArr:t,newOppRowArr:a,newThreatRowArr:r,editedStrengthRowArr:s,editedWeaknessRowArr:i,editedOppRowArr:o,editedThreatRowArr:l}}))}),[n,c]),Object(a.useEffect)((function(){console.log("rowstyle chanigng"),m((function(){return function(e,t){var n={};return o.newStrengthRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedStrengthRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),x((function(){return function(e,t){var n={};return o.newWeaknessRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedWeaknessRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),_((function(){return function(e,t){var n={};return o.newOppRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedOppRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}})),T((function(){return function(e,t){var n={};return o.newThreatRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.textDecoration="underline")})),o.editedThreatRowArr.forEach((function(t){e.id===t&&(n.backgroundColor="#FFF3CD",n.fontWeight="bold")})),n}}))}),[o]),Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(v.jsx)(Ze,{header:"Strengths",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:r,rowStyle:b})}),Object(v.jsx)(Ze,{header:"Weaknesses",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:r,rowStyle:O})}),Object(v.jsx)(Ze,{header:"Opportunities",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:r,rowStyle:A})}),Object(v.jsx)(Ze,{header:"Threats",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:r,rowStyle:D})})]})},tt=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,N.getToken()),l=N.getDecodedToken(),u=l.company_id,b=Object(a.useState)([]),p=Object(d.a)(b,2),h=p[0],x=p[1],f=l.display_name;Object(a.useEffect)((function(){r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(f)})})),n((function(){return i})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[i]);var g=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return _(t.serialNo,t.type)}})})}}],A=function(e){n((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e,[].concat(Object(Ve.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},_=function(e,a){console.log(t),n((function(t){var n=t[a].filter((function(t){return t.serialNo!==e}));console.log(n);var c=n.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},a,c));return console.log(r),r}))};return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(v.jsx)("option",{children:h?"Please select an approver":"No approver found!"}),h?h.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(v.jsxs)(Ze,{header:"Strengths",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:g,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return A("strength")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Weaknesses",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:g,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return A("weakness")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Opportunities",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:g,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return A("opp")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Threats",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:g,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return A("threat")},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})]})},nt=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Rejected By:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsx)(Ze,{header:"Strengths",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.strength,columns:a})}),Object(v.jsx)(Ze,{header:"Weaknesses",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.weakness,columns:a})}),Object(v.jsx)(Ze,{header:"Opportunities",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.opp,columns:a})}),Object(v.jsx)(Ze,{header:"Threats",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.threat,columns:a})})]})},at=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=N.getToken(),p=N.getDecodedToken(),h=p.company_id,x=p.display_name,f=p.employee_id,g=Object(a.useState)([]),A=Object(d.a)(g,2),_=A[0],y=A[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){n((function(){return Object(j.a)({},i)})),r((function(){return{submittedBy:"".concat(x)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&y((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/edit/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===f&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=[{dataField:"id",hidden:!0,editable:!1},{dataField:"type",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1,headerAttrs:{hidden:!0}},{dataField:"content",text:"Swot content",editable:!0,headerAttrs:{hidden:!0}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return console.log(t),Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return F(t.serialNo,t.type)}})})}}],M=function(e){n((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e,[].concat(Object(Ve.a)(t[e]),[{serialNo:t[e].length+1,content:"Click to input",type:e,display_order:0}])))}))},F=function(e,a){console.log(t),n((function(t){var n=t[a].filter((function(t){return t.serialNo!==e}));console.log(n);var c=n.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));console.log(c);var r=Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},a,c));return console.log(r),r}))};return Object(v.jsx)("div",{className:"c-SWOT__Document-content c-Document",children:o.secondTab===Me.NULL?S?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:function(e){console.log(e),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},value:c.approvedBy||"Error",children:[Object(v.jsx)("option",{children:_?"Please select an approver":"No approver found!"}),_?_.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Swot__Tables--edit",children:[Object(v.jsxs)(Ze,{header:"Strengths",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.strength,columns:C,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("strength")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Weaknesses",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.weakness,columns:C,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("weakness")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Opportunities",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.opp,columns:C,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("opp")},children:Object(v.jsx)("h2",{children:"Add new row"})})]}),Object(v.jsxs)(Ze,{header:"Threats",children:[Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:t.threat,columns:C,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Swot__Add-row",onClick:function(){return M("threat")},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},ct=function(e){var t=e.docHeaderData,n=e.docTableData,a=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"Active on:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Failed to load data"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"id",data:n,columns:a})]})]})},rt=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData,a=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.title?t.title:"Failed to load data"}),Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"id",data:n,columns:a})]})]})},st=n(54),it=n.n(st),ot=n(60),lt=n.n(ot),dt=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,e.editorState),l=e.setEditorState,u=N.getToken(),b=N.getDecodedToken().company_id,p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1];localStorage.getItem("displayName");console.log(t),console.log(c),Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{site_scope:e.site_scope_raw})}))})),r((function(){return s})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(b,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){var t=e.data.results;f((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},A=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:We.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Form name"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:g,value:c.title||""})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"serialNo",data:t,columns:A,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})},jt=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData,a=e.docColumns;e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Failed to load data!"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:t.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"id",data:n,columns:a})]})]})},ut=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.editorState),l=e.setEditorState,u=e.tabSettings,b=e.startNewDoc,p=e.setStartNewDoc,h=N.getToken(),x=N.getDecodedToken(),f=x.company_id,g=(x.display_name,x.employee_id),A=Object(a.useState)([]),_=Object(d.a)(A,2),y=_[0],D=_[1],T=Object(a.useState)(!1),S=Object(d.a)(T,2),I=S[0],C=S[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}]})),r((function(){return s})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;void 0!==t&&D((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/edit/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===g&&(t=!0)})),!0===t&&C((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var M=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},F=[{dataField:"id",hidden:!0,editable:!1},{dataField:"serialNo",text:"#",editable:!1},{dataField:"site_name",text:"Site Name",editable:!0},{dataField:"site_address",text:"Site Address",editable:!0},{dataField:"site_scope",text:"Site Scope",editable:!0,editor:{type:We.Type.TEXTAREA},style:{height:"auto",wordWrap:"hard"},formatter:function(e,t,n){return e.split("\n").length>1?e.split("\n").map((function(e,t){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t)})):e}},{dataField:"action_delete",isDummyField:!0,editable:!1,text:"",formatter:function(e,t){return Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return e=t.serialNo,void n((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}));var e}})})}}];return Object(v.jsx)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:u.secondTab===Me.NULL?I?b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Form name"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:M,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:y?"Please select an approver":"No approver found!"}),y?y.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{placeholder:"Form Name",type:"text",name:"title",onChange:M,value:c.title||""})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)(ee.Editor,{editorState:o,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"serialNo",data:t,columns:F,cellEdit:Je()({mode:"click",blurToSave:!0})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,site_name:"Enter Input",site_address:"Enter Input",site_scope:"Enter Input"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){p((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},bt=function(e){var t=e.itemTitle,n=e.itemContent,a=e.itemIndex,c=e.docType,r=e.setDocEditTableData,s=function(e){r((function(t){return t.filter((function(t){return t.serialNo!==e})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}))},i=function(e){r((function(t){return t.map((function(t,n){return a===n?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))}))};return Object(v.jsx)(v.Fragment,{children:"editing"===c?Object(v.jsx)("div",{className:(a+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(v.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(v.jsxs)("div",{className:"c-Company-Policy-Item__Top",children:[Object(v.jsx)("input",{type:"text",name:"title",onChange:i,value:t}),Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return s(a+1)}})})]}),Object(v.jsx)("textarea",{type:"text",name:"content",onChange:i,value:n})]})}):Object(v.jsx)("div",{className:(a+1)%2===0?"l-Company-Policy-Item l-Company-Policy-Item--even":"l-Company-Policy-Item l-Company-Policy-Item--odd",children:Object(v.jsxs)("div",{className:"c-Company-Policy-Item",children:[Object(v.jsx)("h1",{children:t||"Error"}),Object(v.jsx)("p",{children:n||"itemContent"})]})})})},mt=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),n.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},pt=function(e){var t=e.docPendingTableData,n=(e.setDocPendingTableData,e.docPendingHeaderData);e.docHeaderData,e.docTableData,e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:n.title?n.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:n.approved_by?n.approved_by:"Error"}),Object(v.jsx)("p",{children:n.created_by?n.created_by:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},ht=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docColumns,e.docKeyfield,N.getToken()),l=N.getDecodedToken(),u=l.company_id,b=l.display_name,p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1];Object(a.useEffect)((function(){n((function(){return Object(Ve.a)(i)})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(b)})})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;f((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.error(e)}))}),[s,i]);var g=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:x?"Please select an approver":"No approver found!"}),x?x.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:n},t)})),Object(v.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]})},Ot=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),n.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})},xt=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=N.getToken(),p=N.getDecodedToken(),h=p.company_id,x=p.display_name,f=p.employee_id,g=Object(a.useState)([]),A=Object(d.a)(g,2),_=A[0],y=A[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=T[1];Object(a.useEffect)((function(){n((function(){return[{serialNo:1,title:"Enter Input",content:"Enter input Test"}]})),r((function(){return{submittedBy:"".concat(x)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=e.data.results;void 0!==t&&y((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/edit/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===f&&(t=!0)})),!0===t&&I((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var C=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsx)("div",{className:"c-Company-Policy__Document-content c-Document",children:o.secondTab===Me.NULL?S?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-Company-Policy__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:C,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:C,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:_?"Please select an approver":"No approver found!"}),_?_.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),t.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t,docType:"editing",setDocEditTableData:n},t)})),Object(v.jsx)("div",{className:"c-Company-Policy__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,title:"Enter Input",content:"Enter input Test"}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},vt=function(e){var t=e.docType,n=e.rnoType,c=e.rnoItemData,r=e.rnoItemIndex,s=e.docEditTableData,i=e.setDocEditTableData,o=Object(a.useState)({type:"c-RNO-item__Options-item",severity:"c-RNO-item__Options-item",likelihood:"c-RNO-item__Options-item"}),l=Object(d.a)(o,2),u=l[0],b=l[1],p=Object(a.useState)(),h=Object(d.a)(p,2),O=h[0],x=h[1];Object(a.useEffect)((function(){var e=u.type,n=u.severity,a=u.likelihood;c.type&&"opportunity"===c.type?e+=" c-RNO-item__Options-item--green":c.type&&"risk"===c.type&&(e+=" c-RNO-item__Options-item--red"),c.severity&&1===c.severity?n+=" c-RNO-item__Options-item--red":c.severity&&5===c.severity&&(n+=" c-RNO-item__Options-item--green"),c.likelihood&&1===c.likelihood?a=n+" c-RNO-item__Options-item--red":c.likelihood&&5===c.likelihood&&(a=n+" c-RNO-item__Options-item--green"),"edit"===t&&c.severity&&c.likelihood?x((function(){return c.severity*c.likelihood})):x("edit"===t?function(){return null}:function(){return c.rpn}),b((function(){return{type:e,severity:n,likelihood:a}}))}),[c]);var f=function(e){var t,a=e.target.value;"type"!==e.target.name&&(a=parseInt(a),"likelihood"===e.target.name?t=c.severity:"severity"===e.target.name&&(t=c.likelihood)),i((function(c){return Object(j.a)(Object(j.a)({},c),{},Object(m.a)({},n,c[n].map((function(n,c){var s;return r===c?Object(j.a)(Object(j.a)({},n),{},(s={},Object(m.a)(s,e.target.name,a),Object(m.a)(s,"rpn","type"!==e.target.name?a*t:n.rpn),s)):n}))))})),x((function(){return s[n][r].severity*s[n][r].likelihood}))},g=function(e){i((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},n,t[n].map((function(t,n){return r===n?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))))}))};return Object(v.jsx)("div",{className:"l-RNO-item",children:Object(v.jsxs)("div",{className:"c-RNO-item",children:[Object(v.jsxs)("div",{className:"l-RNO-item__Options",children:[Object(v.jsx)("div",{className:"c-RNO-item__Options c-RNO-item__Options--left",children:"edit"===t?function(){if(0!==s.length)return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("select",{value:s[n][r].type||"",name:"type",onChange:f,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:"risk",children:"Risk"}),Object(v.jsx)("option",{value:"opportunity",children:"Opportunity"})]}),Object(v.jsxs)("select",{value:s[n][r].severity||"",name:"severity",onChange:f,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:1,children:"Negligible"}),Object(v.jsx)("option",{value:2,children:"Minor"}),Object(v.jsx)("option",{value:3,children:"Moderate"}),Object(v.jsx)("option",{value:4,children:"Major"}),Object(v.jsx)("option",{value:5,children:"Catastrophic"})]}),Object(v.jsxs)("select",{value:s[n][r].likelihood||"",name:"likelihood",onChange:f,children:[Object(v.jsx)("option",{value:"na",children:"Nil"}),Object(v.jsx)("option",{value:1,children:"Rare"}),Object(v.jsx)("option",{value:2,children:"Remote"}),Object(v.jsx)("option",{value:3,children:"Occasional"}),Object(v.jsx)("option",{value:4,children:"Frequent"}),Object(v.jsx)("option",{value:5,children:"Almost Certain"})]})]})}():function(){var e=c.type,t=null,n=null;switch(c.severity){case 1:t="Negligible";break;case 2:t="Minor";break;case 3:t="Moderate";break;case 4:t="Major";break;case 5:t="Catastrophic";break;default:t="Nil"}switch(c.likelihood){case 1:n="Rare";break;case 2:n="Remote";break;case 3:n="Occasional";break;case 4:n="Frequent";break;case 5:n="Almost Certain";break;default:n="Nil"}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:u.type,children:e||"Nil"}),Object(v.jsx)("span",{className:u.severity,children:t}),Object(v.jsx)("span",{className:u.likelihood,children:n})]})}()}),Object(v.jsxs)("div",{className:"c-RNO-item__Options c-RNO-item__Options--right",children:[Object(v.jsxs)("p",{children:["RPN: ",O||"Nil"]}),Object(v.jsxs)("p",{children:["Modified: ",c.modified?c.modified:"Nil"]})]})]}),Object(v.jsxs)("div",{className:"c-RNO-item__SWOT",children:[Object(v.jsx)("p",{children:r+1}),Object(v.jsx)("p",{children:c.content})]}),Object(v.jsx)("div",{className:"c-RNO-item__Action-plan",children:"edit"===t?O<12||null===O?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(v.jsx)("input",{type:"text",name:"action",readOnly:!0,placeholder:"Rpn < 12",value:""})]}):0!==s.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{htmlFor:"action",children:"Action Plan:"}),Object(v.jsx)("input",{type:"text",name:"action",onChange:g,value:c.action||""})]}):void 0:Object(v.jsxs)("p",{children:["Action Plan: ",c.action?c.action:"Nil"]})})]})})},ft=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},gt=function(e){var t=e.docPendingHeaderData,n=e.docPendingTableData;e.docTableData,e.docColumns;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},At=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=N.getToken(),l=N.getDecodedToken(),u=l.company_id,b=Object(a.useState)([]),p=Object(d.a)(b,2),h=p[0],x=p[1],f=l.display_name;Object(a.useEffect)((function(){r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(f)})})),n((function(){return i})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(u,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){var t=e.data.results;x((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[i]);var g=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-RNO__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:g,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:g,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:h?"Please select an approver":"No approver found!"}),h?h.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),0!==t.length?t.strength.map((function(e,a){return Object(v.jsx)(vt,{docType:"edit",rnoType:"strength",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(v.jsx)("h1",{children:"Weakness"}),0!==t.length?t.weakness.map((function(e,a){return Object(v.jsx)(vt,{docType:"edit",rnoType:"weakness",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(v.jsx)("h1",{children:"Opportunities"}),0!==t.length?t.opp.map((function(e,a){return Object(v.jsx)(vt,{docType:"edit",rnoType:"opp",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null,Object(v.jsx)("h1",{children:"Threats"}),0!==t.length?t.threat.map((function(e,a){return Object(v.jsx)(vt,{docType:"edit",rnoType:"threat",rnoItemData:e,rnoItemIndex:a,docEditTableData:t,setDocEditTableData:n},a)})):null]})]})},_t=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;return Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Rejected By:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),n.strength.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),n.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),n.opp.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),n.threat.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"rejected",rnoItemData:e,rnoItemIndex:t},t)}))]})]})},yt=function(e){e.docEditTableData;var t=e.setDocEditTableData,n=(e.docEditHeaderData,e.setDocEditHeaderData),c=e.docHeaderData,r=e.docTableData,s=(e.docKeyfield,e.tabSettings,e.startNewDoc,e.setStartNewDoc,N.getToken()),i=N.getDecodedToken(),o=i.company_id,l=i.display_name,j=i.employee_id,u=Object(a.useState)([]),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=(h[0],h[1]);return Object(a.useEffect)((function(){console.log(r),t((function(){return r})),n((function(){return{submittedBy:"".concat(l)}})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=e.data.results;void 0!==t&&m((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(o,"/edit/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===j&&(t=!0)})),!0===t&&x((function(){return!0}))})).catch((function(e){console.log(e)}))}),[c,r]),Object(v.jsx)("div",{className:"c-RNO__Document-content c-Document",children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing swot documents"}),Object(v.jsx)("p",{children:"Please proceed by having an active swot documents first"})]})})},Nt=n(93),Dt=n.n(Nt),Tt=function(e){var t=e.docType,n=e.itemContent,c=e.setDocEditTableData,r=e.itemIndex,s=(e.docEditHeaderData,e.docEditTableData),i=e.tempFileArr,o=e.setTempFileArr,l=e.personelResponsibleList,u=Object(a.useRef)(),b=N.getToken(),p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=h[0],f=h[1],g=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return S(t.serialNo)}})})}}],_=[{dataField:"fk_file_id",text:"fileID",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"file_name",text:"File Name"},{dataField:"action_download",text:"",formatter:function(e,t){return Object(v.jsx)("button",{onClick:function(){return y(t.fk_file_id,t.file_name)},className:"c-Btn c-Btn--link",children:"Download"},e)}}],y=function(e,t){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(b)},responseType:"blob"}).then((function(e){Dt()(e.data,t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},D=function(e){c((function(t){return t.map((function(t,n){return r===n?Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)):t}))}))},T=function(){var e=[];c((function(t){return t.filter((function(e){return e.serialNo!==r+1})).map((function(t,n){return Object(j.a)(Object(j.a)({},t),{},{serialNo:n+1,files:t.files.map((function(n,a){return 0!==t.files.length&&n.new?(e.push(Object(j.a)(Object(j.a)({},n),{},{serialNo:a+1,key:"files_".concat(r,"_").concat(t.files.length)})),Object(j.a)(Object(j.a)({},n),{},{serialNo:a+1,key:"files_".concat(r,"_").concat(t.files.length)})):n}))})}))})),o((function(){return e}))},S=function(e){var t=[];console.log(e),c((function(n){return n.map((function(n,a){return Object(j.a)(Object(j.a)({},n),{},{files:function(){var c=n.files.filter((function(t,a){return r+1===n.serialNo?e!==t.serialNo:t}));return console.log(c),c.map((function(e,r){return 0!==n.files.length&&e.new?(t.push(Object(j.a)(Object(j.a)({},e),{},{serialNo:r+1,key:"files_".concat(a,"_").concat(c.length)})),Object(j.a)(Object(j.a)({},e),{},{serialNo:r+1,key:"files_".concat(a,"_").concat(c.length)})):e}))}()})}))})),o((function(e){return t}))};return Object(v.jsx)("div",{className:"l-Obj-Achiv-Program-item",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program-item",children:[Object(v.jsx)("div",{className:"c-Obj-Achiv-Program-item__Top",children:"edit"===t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"function",children:"Function:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"function",value:n.function||""})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"quality_objective",children:"Quality Objectives:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"quality_objective",value:n.quality_objective||""})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"personel_responsible",children:"Personel Responsible:"}),Object(v.jsxs)("select",{type:"text",name:"personel_responsible",onChange:D,value:n.personel_responsible||"",children:[Object(v.jsx)("option",{children:l?"Please select a role":"No roles found"}),l?l.map((function(e,t){return Object(v.jsx)("option",{value:e.role_id,children:e.name},t)})):null]})]})]}),Object(v.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"data_collection",children:"Collecting / Measuring Data:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_collection",value:n.data_collection||""})]}),Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("label",{htmlFor:"data_analysis",children:"Analysing Data:"}),Object(v.jsx)("textarea",{placeholder:"Enter input",type:"text",onChange:D,name:"data_analysis",value:n.data_analysis||""})]})]}),Object(v.jsx)("div",{className:"c-Top__Delete",children:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return T(r+1)}})})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Top c-Top__Left",children:[Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Function:"}),Object(v.jsxs)("p",{children:[n.function||"Nil"," "]})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Quality Objectives:"}),Object(v.jsx)("p",{children:n.quality_objective||"Nil"})]}),Object(v.jsxs)("div",{className:"c-Left c-Input-group",children:[Object(v.jsx)("h1",{children:"Personel Responsible:"}),Object(v.jsx)("p",{children:n.role&&n.role.name||"Nil"})]})]}),Object(v.jsxs)("div",{className:"c-Top c-Top__Right",children:[Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("h1",{children:"Collecting / Measuring Data:"}),Object(v.jsx)("p",{children:n.data_collection||"Nil"})]}),Object(v.jsxs)("div",{className:"c-Right c-Input-group",children:[Object(v.jsx)("h1",{children:"Analysing Data:"}),Object(v.jsx)("p",{children:n.data_analysis||"Nil"})]})]})]})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program-item__Table",children:[Object(v.jsx)("h1",{children:"Data tracking information"}),"edit"===t?Object(v.jsxs)("form",{className:"c-Table__Add-files",children:[Object(v.jsx)("div",{className:"c-Add-files__Left",children:Object(v.jsx)("input",{type:"file",name:"file",onChange:function(e){var t=e.target.files[0];x?o((function(e){return e.map((function(e,n){return e.itemIndex===r?{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}:e}))})):(f((function(){return!0})),o((function(e){return[].concat(Object(Ve.a)(e),[{fileObj:t,itemIndex:r,name:t.name,key:"files_".concat(r,"_").concat(s[r].files.length+1)}])})))},ref:u})}),Object(v.jsx)("div",{className:"c-Add-files__Right",children:Object(v.jsx)("button",{onClick:function(){if(""!==u.current.value){u.current.value="";var e=!1;s.forEach((function(t,n){r===n&&3===t.files.length&&(e=!0)})),e?A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maximum of 3 files per item!"})]})):c((function(e){return e.map((function(e,t){return r===t?0===e.files.length?Object(j.a)(Object(j.a)({},e),{},{files:[{serialNo:1,new:!0,fileObj:function(){var t={};return console.log(e.files.length),i.forEach((function(n,a){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=n.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}]}):Object(j.a)(Object(j.a)({},e),{},{files:[].concat(Object(Ve.a)(e.files),[{serialNo:e.files.length+1,new:!0,fileObj:function(){var t={};return i.forEach((function(n,a){e.key==="files_".concat(r,"_").concat(e.files.length+1)&&(t=e.fileObj)})),t}(),name:i[i.length-1].name,key:"files_".concat(r,"_").concat(e.files.length+1),file_name:i[i.length-1].name}])}):e}))}))}else A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Please select a file!"})]}));f((function(){return!1}))},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})})]}):null,"edit"===t?0!==n.files.length?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.files,columns:g}):"No records found!":0!==n.data.length?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:n.data,columns:_}):"No records found!"]})]})})},St=function(e){var t=e.docHeaderData,n=e.docTableData;e.docColumns,e.docKeyfield;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),Object(v.jsx)("p",{children:t.approved_on?t.approved_on:"Error"})]})]}),n.map((function(e,t){return Object(v.jsx)(Tt,{docType:"active",itemContent:e},t)}))]})},It=function(e){var t=e.docPendingTableData,n=e.docPendingHeaderData;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:n.title?n.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:n.approved_by?n.approved_by:"Error"}),Object(v.jsx)("p",{children:n.created_by?n.created_by:"Error"}),"                "]})]}),t.map((function(e,t){return Object(v.jsx)(Tt,{docType:"pending",itemContent:e},t)}))]})},Ct=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyField,e.tempFileArr),l=e.setTempFileArr,u=N.getToken(),b=N.getDecodedToken(),p=b.display_name,h=b.company_id,x=Object(a.useState)([]),f=Object(d.a)(x,2),g=f[0],A=f[1],_=Object(a.useState)([]),y=Object(d.a)(_,2),D=y[0],T=y[1];Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(j.a)(Object(j.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return Object(j.a)(Object(j.a)({},s),{},{submittedBy:"".concat(p)})})),l((function(){return[]})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/roles"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){console.log(e),T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(h,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){var t=e.data.results;A((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)}))}),[s,i]);var S=function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:S,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:S,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:g?"Please select an approver":"No approver found!"}),g?g.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,a){return Object(v.jsx)(Tt,{docType:"edit",itemContent:e,itemIndex:a,setDocEditTableData:n,docEditHeaderData:c,docEditTableData:t,tempFileArr:o,setTempFileArr:l,personelResponsibleList:D},a)})),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]})},Mt=function(e){var t=e.docRejectedHeaderData,n=e.docRejectedTableData;return Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:t.title?t.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To be approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:t.approved_by?t.approved_by:"Error"}),Object(v.jsx)("p",{children:t.created_by?t.created_by:"Error"}),t?Object(v.jsx)("textarea",{readOnly:!0,value:t.remarks||""}):"No remarks found!"]})]}),n.map((function(e,t){return Object(v.jsx)(Tt,{docType:"active",itemContent:e},t)}))]})},Ft=function(e){var t=e.docEditTableData,n=e.setDocEditTableData,c=e.docEditHeaderData,r=e.setDocEditHeaderData,s=e.docHeaderData,i=e.docTableData,o=(e.docKeyfield,e.tabSettings),l=e.startNewDoc,u=e.setStartNewDoc,b=e.tempFileArr,p=e.setTempFileArr,h=N.getToken(),x=N.getDecodedToken(),f=x.company_id,g=x.display_name,A=x.employee_id,_=Object(a.useState)([]),y=Object(d.a)(_,2),D=y[0],T=y[1],S=Object(a.useState)([]),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(a.useState)(!1),E=Object(d.a)(F,2),w=E[0],k=E[1];Object(a.useEffect)((function(){n((function(){return i.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{files:(console.log(e),e.data.map((function(e,t){return console.log(e),Object(j.a)(Object(j.a)({},e.file),{},{new:!1,serialNo:t+1})})))})}))})),r((function(){return{submittedBy:"".concat(g)}})),p((function(){return[]})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/roles"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){console.log(e),void 0!==e.data.results&&T((function(){return e.data.results.map((function(e,t){return e}))})),console.log(D)})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/approve/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=e.data.results;void 0!==t&&M((function(){return 0===t.length?null:t.map((function(e){return{displayName:"".concat(e.firstname," ").concat(e.lastname),username:"@".concat(e.account.username),approvalID:e.employee_id}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(f,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===A&&(t=!0)})),!0===t&&k((function(){return!0}))})).catch((function(e){console.log(e)}))}),[s,i]);var P=function(e){console.log(e.target.value),console.log(e.target.name),r((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};console.log(c);return Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:o.secondTab===Me.NULL?w?l?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"l-Obj-Achiv-Program__Document-title",children:Object(v.jsx)("input",{placeholder:"Title",type:"text",name:"title",onChange:P,value:c.title||""})}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsxs)("select",{type:"text",name:"approvedBy",onChange:P,value:c.approvedBy||"",children:[Object(v.jsx)("option",{children:C?"Please select an approver":"No approver found!"}),C?C.map((function(e,t){return Object(v.jsxs)("option",{value:e.approvalID,children:[e.displayName,"  ",e.username]},t)})):null]}),Object(v.jsx)("input",{type:"text",readOnly:!0,name:"submittedBy",value:c.submittedBy||""})]})]}),t.map((function(e,a){return Object(v.jsx)(Tt,{docType:"edit",itemContent:e,itemIndex:a,setDocEditTableData:n,docEditHeaderData:c,docEditTableData:t,tempFileArr:b,setTempFileArr:p,personelResponsibleList:D},a)})),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Add-row",onClick:function(){n((function(e){return[].concat(Object(Ve.a)(e),[{serialNo:e.length+1,function:"",quality_objective:"",personel_responsible:void 0,data:[],files:[],data_collection:"",data_analysis:"",display_order:e.length+1}])}))},children:Object(v.jsx)("h2",{children:"Add new row"})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("button",{onClick:function(){u((function(){return!0}))},type:"button",className:"c-Btn c-Btn--primary",children:"Start new document"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There are no existing documents"}),Object(v.jsx)("p",{children:"You do not have permission to start new documents"})]})}):Object(v.jsxs)("div",{className:"c-Document__New",children:[Object(v.jsx)("h1",{children:"There is one pending/rejected document"}),Object(v.jsx)("p",{children:"Please proceed by resolving the pending/rejected document"})]})})},Et=function(e){var t=e.tabSettings,n=e.docHeaderData,a=e.docTableData,c=e.docPendingHeaderData,r=e.docPendingTableData,s=e.setDocPendingTableData,i=e.docRejectedHeaderData,o=e.docRejectedTableData,l=e.docColumns,d=e.docType,j=e.docEditTableData,u=e.setDocEditTableData,b=e.docEditHeaderData,m=e.setDocEditHeaderData,p=e.editorState,h=e.setEditorState,O=e.tempFileArr,x=e.setTempFileArr,f=e.startNewDoc,g=e.setStartNewDoc,A={swot:{Active:$e,Pending:et,Editing:tt,Rejected:nt,Inactive:at},interestedParty:{Active:ze,Pending:Qe,Editing:Ge,Rejected:Xe,Inactive:Ke},scopeOfQMS:{Active:ct,Pending:rt,Editing:dt,Rejected:jt,Inactive:ut},companyPolicy:{Active:mt,Pending:pt,Editing:ht,Rejected:Ot,Inactive:xt},riskNOpp:{Active:ft,Pending:gt,Editing:At,Rejected:_t,Inactive:yt},objAchivProgram:{Active:St,Pending:It,Editing:Ct,Rejected:Mt,Inactive:Ft}}[d];if(0===t.focusTabIndex)if(t.firstTab===Me.ACTIVE){if("swot"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("objAchivProgram"===d)return Object(v.jsx)(A.Active,{docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"})}else{if("swot"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:f,setStartNewDoc:g});if("scopeOfQMS"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",editorState:p,setEditorState:h,tabSettings:t,startNewDoc:f,setStartNewDoc:g});if("interestedParty"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:f,setStartNewDoc:g});if("companyPolicy"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:f,setStartNewDoc:g});if("riskNOpp"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",tabSettings:t,startNewDoc:f,setStartNewDoc:g});if("objAchivProgram"===d)return Object(v.jsx)(A.Inactive,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,tempFileArr:O,setTempFileArr:x,tabSettings:t,startNewDoc:f,setStartNewDoc:g})}else{if(1!==t.focusTabIndex)return Object(v.jsx)("div",{className:"l-Document__Error",children:Object(v.jsx)("p",{children:"There was an error in loading the document =("})});if(t.secondTab===Me.PENDING){if("swot"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"id"});if("scopeOfQMS"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,setDocPendingTableData:s,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"id"});if("riskNOpp"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l});if("objAchivProgram"===d)return Object(v.jsx)(A.Pending,{docPendingHeaderData:c,docPendingTableData:r,docTableData:a,docColumns:l})}else if(t.secondTab===Me.EDITING){if("swot"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo",editorState:p,setEditorState:h});if("companyPolicy"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a});if("objAchivProgram"===d)return Object(v.jsx)(A.Editing,{docEditTableData:j,setDocEditTableData:u,docEditHeaderData:b,setDocEditHeaderData:m,docHeaderData:n,docTableData:a,tempFileArr:O,setTempFileArr:x})}else if(t.secondTab===Me.REJECTED){if("swot"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("interestedParty"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("scopeOfQMS"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("companyPolicy"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o,docColumns:l,docKeyfield:"serialNo"});if("riskNOpp"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o});if("objAchivProgram"===d)return Object(v.jsx)(A.Rejected,{docRejectedHeaderData:i,docRejectedTableData:o})}}},wt=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(d.a)(s,2),j=i[0],u=i[1],b=N.getToken();return Object(a.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return a=e.sent,e.next=6,O.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 6:c=e.sent,r((function(){return{resultDocTable:a.data,resultHeaderData:c.data}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),u((function(){return e.t0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl)}),[e]),[c,j]},kt=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(d.a)(s,2),j=i[0],u=i[1],b=N.getToken();return Object(a.useEffect)((function(){null!=e&&function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t,{headers:{Authorization:"Bearer ".concat(b)}});case 3:return c=e.sent,e.next=6,O.a.get(n,{headers:{Authorization:"Bearer ".concat(b)}});case 6:return s=e.sent,e.next=9,O.a.get(a,{headers:{Authorization:"Bearer ".concat(b)}});case 9:i=e.sent,r((function(){return{checkIfEmployeeCanEdit:c,checkIfPendingExist:s,checkIfRejectedExist:i}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("An error occured in useDocAxios.js",e.t0),u((function(){return e.t0}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()(e.firstUrl,e.secondUrl,e.thirdUrl)}),[e]),[c,j]},Pt=function(e){var t=e.deleteUrl,n=e.docHeaderUrl,a=e.setArchivedDocData,c=e.docType,r=e.idName,s=N.getToken(),i=N.getDecodedToken().company_id;return Object(v.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this document? Click confirm to proceed.",handler:function(e){return o(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},e),{},{onClose:n}))}});var o=function(e){O.a.delete(t,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){O.a.get(n,{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){var n=(void 0!==t.data.results?t.data.results.filter((function(e){return"archived"===e.status})):t.data.filter((function(e){return"archived"===e.status}))).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e[r],serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/".concat(c,"/archived/").concat(e[r]),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(i,"/").concat(c,"/").concat(e[r])})}));a((function(){return n})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document Deleted!"})]}))})).catch((function(t){console.log(t);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))})).catch((function(e){console.log(e)}))}}})})})},Bt=n(18),Rt=n.n(Bt),qt=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(a.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),ie=ae[0],oe=ae[1],le=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),de=Object(d.a)(le,2),je=de[0],ue=de[1],be=Object(a.useState)({}),me=Object(d.a)(be,2),pe=me[0],he=me[1],Oe=Object(a.useState)("active"),xe=Object(d.a)(Oe,2),ve=xe[0],fe=xe[1],ge=Object(a.useState)([]),Ae=Object(d.a)(ge,2),_e=Ae[0],ye=Ae[1],Ne=Object(a.useState)(!1),De=Object(d.a)(Ne,2),Te=De[0],Se=(De[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots")})),Ie=Object(d.a)(Se,2),Fe=Ie[0],Ee=Ie[1],we=Object(a.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(a.useState)(!1),qe=Object(d.a)(Re,2),Ye=qe[0],Ue=qe[1],ze=Object(a.useState)(!1),Qe=Object(d.a)(ze,2),Ve=Qe[0],We=Qe[1],Je=wt(Fe),Ge=Object(d.a)(Je,2),Xe=Ge[0],Ke=(Ge[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/rejected")})),Ze=Object(d.a)(Ke,2),$e=Ze[0],et=(Ze[1],kt($e)),tt=Object(d.a)(et,2),nt=tt[0];tt[1];Object(a.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){m((function(){return!1}));var t={strength:Xe.resultDocTable.results.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:Xe.resultDocTable.results.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:Xe.resultDocTable.results.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:Xe.resultDocTable.results.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};if("active"===ve){if(null!==nt){var a=!1;nt.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(a=!0)})),void 0!==nt.checkIfPendingExist.result&&(a=!1),void 0!==nt.checkIfRejectedExist.result&&(a=!1),console.log(nt),Ue(!0===a?function(){return!0}:function(){return!1})}P((function(){return t}))}else"pending"===ve?te((function(){return t})):"rejected"===ve&&(D.secondTab===Me.EDITING?P((function(){return t})):ue((function(){return t})))}if(console.log(Xe),void 0!==Xe.resultHeaderData.results){var r,s,i=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),r=!0}else if("pending"===e.status){var n={created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.swot_id};c===e.approved_by?Be((function(){return!0})):Be((function(){return!1})),oe((function(){return n})),s=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.swot_id};D.secondTab===Me.EDITING?H((function(){return a})):he((function(){return a})),i=!0}})),m(r?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==r?Me.INACTIVE:Me.ACTIVE,secondTab:!0===s?Me.PENDING:e.secondTab===Me.EDITING&&!0===i?Me.EDITING:!0===i?Me.REJECTED:Me.NULL,focusTabIndex:"active"===ve?0:1}}));var o=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.swot_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/swot/archived/".concat(e.swot_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots/").concat(e.swot_id)})}));ye((function(){return o}))}else m((function(){return!0})),T((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===ve?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&We((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe,nt]);var at=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swots"),setArchivedDocData:ye,docType:"swots",idName:"swot_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"SWOT",activeLink:"/swot",children:Object(v.jsxs)("div",{className:"c-Swot c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Swot-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Swot"})]}),Te?"loading...":Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Swot__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Swot"}),Object(v.jsx)(Le,{setQueryUrl:Ee,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:ie,docRejectedHeaderData:pe,pageType:"swot",isApprover:Pe,isEditor:Ye,docQueryEnum:ve,setDocQueryEnum:fe,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Swot_Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:F,setDocQueryEnum:fe,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ee,pageType:"swot"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:ie,docPendingTableData:ee,docRejectedHeaderData:pe,docRejectedTableData:je,docColumns:re,docType:"swot",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Swot__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==_e.length?Ve?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:_e,columns:at,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:_e,columns:se,pagination:Rt()()}):"No records found!"]})]})]})})]})},Ht=function(e){var t=e.match.params.swotID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/swots/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{id:e.swot_item_id,type:"strength",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),weakness:e.data.weaknesses.map((function(e,t){return{id:e.swot_item_id,type:"weakness",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),opp:e.data.opportunities.map((function(e,t){return{id:e.swot_item_id,type:"opp",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}})),threat:e.data.threats.map((function(e,t){return{id:e.swot_item_id,type:"threat",serialNo:t+1,content:e.content,display_order:0,parentItemID:e.parent_item_id}}))};x((function(){return t}));var n={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"SWOT Archived",activeLink:"/swot",children:Object(v.jsxs)("div",{className:"c-Swot c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Swot__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/swot",children:"SWOT"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Swot__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"SWOT (Archived)"})}),Object(v.jsx)("div",{className:"c-Swot__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Swot__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Swot__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Swot__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Error"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Error"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Error"})]})]}),Object(v.jsx)(Ze,{header:"Strengths",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h.strength,columns:re})}),Object(v.jsx)(Ze,{header:"Weaknesses",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h.weakness,columns:re})}),Object(v.jsx)(Ze,{header:"Opportunities",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h.opp,columns:re})}),Object(v.jsx)(Ze,{header:"Threats",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h.threat,columns:re})})]})})})]})})},Yt=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(C),b=Object(d.a)(u,2),m=b[0],p=b[1],h=Object(a.useState)({}),x=Object(d.a)(h,2),f=x[0],g=x[1],y=Object(a.useState)(!1),D=Object(d.a)(y,2),T=D[0],S=D[1],I=Object(a.useState)([]),M=Object(d.a)(I,2),F=M[0],E=M[1],w=Object(a.useState)({}),k=Object(d.a)(w,2),P=k[0],B=k[1],R=Object(a.useState)([]),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=Object(a.useState)({}),z=Object(d.a)(U,2),Q=z[0],V=z[1],W=Object(a.useState)([]),G=Object(d.a)(W,2),K=G[0],Z=G[1],$=Object(a.useState)({}),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(d.a)(ae,2),se=re[0],le=re[1],de=Object(a.useState)({}),je=Object(d.a)(de,2),ue=je[0],be=je[1],me=Object(a.useState)("active"),pe=Object(d.a)(me,2),he=pe[0],Oe=pe[1],xe=Object(a.useState)([]),ve=Object(d.a)(xe,2),fe=ve[0],ge=ve[1],Ae=Object(a.useState)(!1),_e=Object(d.a)(Ae,2),ye=_e[0],Ne=(_e[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-party/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties")})),De=Object(d.a)(Ne,2),Te=De[0],Se=De[1],Ie=Object(a.useState)(!1),Fe=Object(d.a)(Ie,2),Ee=Fe[0],we=Fe[1],ke=Object(a.useState)(!1),Pe=Object(d.a)(ke,2),Be=Pe[0],Re=Pe[1],qe=Object(a.useState)(!1),Ye=Object(d.a)(qe,2),Ue=Ye[0],ze=Ye[1],Qe=Object(a.useState)(!1),Ve=Object(d.a)(Qe,2),We=(Ve[0],Ve[1]),Je=wt(Te),Ge=Object(d.a)(Je,2),Xe=Ge[0];Ge[1];Object(a.useEffect)((function(){if(null!==Xe){if(void 0!==Xe.resultDocTable.results){We((function(){return!1}));var t=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));if("active"===he){var a=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Re((function(){return!0}))})).catch((function(e){console.log(e)})),E((function(){return a}))}else if("pending"===he){var r=Xe.resultDocTable.results.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,needs_n_expectations_raw:e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));Z((function(){return r}))}else"rejected"===he&&(f.secondTab===Me.EDITING?E((function(){return t})):le((function(){return t})))}if(void 0!==Xe.resultHeaderData.results){var s,i,o=!1;Xe.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};B((function(){return t})),s=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.party_id};c===e.approved_by?we((function(){return!0})):we((function(){return!1})),ne((function(){return n})),i=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.party_id};f.secondTab===Me.EDITING?B((function(){return a})):be((function(){return a})),o=!0}})),We(s?function(){return!0}:function(){return!1}),g((function(e){return{firstTab:!0!==s?Me.INACTIVE:Me.ACTIVE,secondTab:!0===i?Me.PENDING:e.secondTab===Me.EDITING&&!0===o?Me.EDITING:!0===o?Me.REJECTED:Me.NULL,focusTabIndex:"active"===he?0:1}}));var l=Xe.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.party_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/interested-party/archived/".concat(e.party_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties/").concat(e.party_id)})}));ge((function(){return l}))}else We((function(){return!0})),g((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===he?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&ze((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Xe]);var Ke=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/interested-parties"),setArchivedDocData:ge,docType:"interested-parties",idName:"party_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:m,setSideNavStatus:p,title:"Interested Party",activeLink:"/interested-party",children:Object(v.jsxs)("div",{className:"c-IP c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Interested Party"})]}),ye?"loading...":Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-IP__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Interested Parties"}),Object(v.jsx)(Le,{setQueryUrl:Se,setTabSettings:g,tabSettings:f,docEditTableData:H,docEditHeaderData:Q,docPendingTableData:K,docPendingHeaderData:te,docRejectedHeaderData:ue,pageType:"interestedParty",isApprover:Ee,isEditor:Be,docQueryEnum:he,setDocQueryEnum:Oe,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-IP__Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:S,setDocQueryEnum:Oe,setTabSettings:g,tabSettings:f,isDocCollapsed:T,setQueryUrl:Se,pageType:"interestedParty"}),Object(v.jsx)(ce,{isDocCollapsed:T,children:Object(v.jsx)(Et,{tabSettings:f,docHeaderData:P,docTableData:F,docPendingHeaderData:te,docPendingTableData:K,setDocPendingTableData:Z,docRejectedHeaderData:ue,docRejectedTableData:se,docColumns:ie,docType:"interestedParty",docEditTableData:H,setDocEditTableData:Y,docEditHeaderData:Q,setDocEditHeaderData:V,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-IP__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==fe.length?Ue?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:fe,columns:Ke,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:fe,columns:oe,pagination:Rt()()}):"No records found!"]})]})]})})]})},Ut=function(e){var t=e.match.params.ipID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(a.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/interested-parties/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data.items.map((function(e,t){return{id:e.party_item_id,needs_n_expectations:e.expectations.split("\n").length>1?e.expectations.split("\n").map((function(e){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsx)("br",{})]})})):e.expectations,serialNo:t+1,interested_parties:e.interested_party,parentItemID:e.parent_item_id}}));x((function(){return t}));var n={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Interested Party Archived",activeLink:"/interested-party",children:Object(v.jsxs)("div",{className:"c-IP c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/interested-party",children:"Interested Party"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-IP__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Interested Parties (Archived)"})}),Object(v.jsx)("div",{className:"c-IP__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-IP__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:u.title?u.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-IP__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-IP__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-IP__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Failed to load data!"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Failed to load data!"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Failed to load data!"})]})]}),Object(v.jsx)(Ce.a,{keyField:"serialNo",data:h,columns:ie})]})})})]})})})},Lt=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(a.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(a.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),ee=$[0],ne=$[1],ae=Object(a.useState)({}),re=Object(d.a)(ae,2),se=re[0],ie=re[1],oe=Object(a.useState)([]),je=Object(d.a)(oe,2),ue=je[0],be=je[1],me=Object(a.useState)({}),pe=Object(d.a)(me,2),he=pe[0],Oe=pe[1],xe=Object(a.useState)("active"),ve=Object(d.a)(xe,2),fe=ve[0],ge=ve[1],Ae=Object(a.useState)([]),_e=Object(d.a)(Ae,2),ye=_e[0],Ne=_e[1],De=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scope/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes")}),Te=Object(d.a)(De,2),Se=Te[0],Ie=Te[1],Fe=Object(a.useState)(!1),Ee=Object(d.a)(Fe,2),we=Ee[0],ke=Ee[1],Pe=Object(a.useState)(!1),Be=Object(d.a)(Pe,2),Re=Be[0],qe=Be[1],Ye=Object(a.useState)(!1),Ue=Object(d.a)(Ye,2),ze=Ue[0],Qe=Ue[1],Ve=Object(a.useState)((function(){return te.EditorState.createEmpty()})),We=Object(d.a)(Ve,2),Je=We[0],Ge=We[1],Xe=wt(Se),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(a.useEffect)((function(){if(null!==Ze){if(void 0!==Ze.resultDocTable.results){var t=Ze.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,n){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_scope"+n)})):e.site_scope,site_scope_raw:e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,n){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_address"+n)})):e.address,parentItemID:e.parent_item_id})}));"active"===fe?(O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&qe((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===fe?ne((function(){return t})):"rejected"===fe&&(D.secondTab===Me.EDITING?P((function(){return t})):be((function(){return t})))}if(void 0!==Ze.resultHeaderData.results){var a,r,s=!1;Ze.resultHeaderData.results.forEach((function(e){if(e.content?Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):Ge((function(){return te.EditorState.createEmpty()})),console.log(it()(Object(te.convertToRaw)(Je.getCurrentContent()))),"active"===e.status){var t={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),lt()(it()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),a=!0}else if("pending"===e.status){var n={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),lt()(it()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};console.log(n),c===e.approved_by?ke((function(){return!0})):ke((function(){return!1})),ie((function(){return n})),r=!0}else if("rejected"===e.status){var i={title:e.title,content:e.content?(Ge((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),lt()(it()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(Ge((function(){return te.EditorState.createEmpty()})),""),created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.qms_scope_id};D.secondTab===Me.EDITING?H((function(){return i})):Oe((function(){return i})),s=!0}})),m(a?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==a?Me.INACTIVE:Me.ACTIVE,secondTab:!0===r?Me.PENDING:e.secondTab===Me.EDITING&&!0===s?Me.EDITING:!0===s?Me.REJECTED:Me.NULL,focusTabIndex:"active"===fe?0:1}}));var i=Ze.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/scope-of-qms/archived/".concat(e.qms_scope_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes/").concat(e.qms_scope_id)})}));Ne((function(){return i}))}else m((function(){return!0})),T((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===fe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_03/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Qe((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/qms-scopes"),setArchivedDocData:Ne,docType:"qms-scopes",idName:"qms_scope_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Scope of QMS"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Scope of QMS"}),Object(v.jsx)(Le,{setQueryUrl:Ie,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:se,docRejectedHeaderData:he,pageType:"scopeOfQMS",isApprover:we,isEditor:Re,docQueryEnum:fe,setDocQueryEnum:ge,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:F,setDocQueryEnum:ge,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Ie,pageType:"scopeOfQMS"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:se,docPendingTableData:ee,docRejectedHeaderData:he,docRejectedTableData:ue,docColumns:le,docType:"scopeOfQMS",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,editorState:Je,setEditorState:Ge,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS_Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==ye.length?ze?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:ye,columns:$e,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:ye,columns:de,pagination:Rt()()}):"No records found!"]})]})})]})},zt=function(e){var t=e.match.params.scopeOfQMSID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)((function(){return te.EditorState.createEmpty()})),A=Object(d.a)(g,2),_=(A[0],A[1]);return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/qms-scopes/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.qms_scope_item_id,serialNo:t+1,site_scope:e.site_scope.split("\n").length>1?e.site_scope.split("\n").map((function(e,n){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_scope"+n)})):e.site_scope,site_address:e.address.split("\n").length>1?e.address.split("\n").map((function(e,n){return Object(v.jsxs)("div",{children:[e,Object(v.jsx)("br",{})]},t+"_address"+n)})):e.address,parentItemID:e.parent_item_id})}));f((function(){return t})),e.data.forEach((function(e){e.content?_((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})):_((function(){return te.EditorState.createEmpty()}));var t={title:e.title,content:e.content?(_((function(){return te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content)))})),lt()(it()(Object(te.convertToRaw)(te.EditorState.createWithContent(Object(te.convertFromRaw)(JSON.parse(e.content))).getCurrentContent())))):(_((function(){return te.EditorState.createEmpty()})),""),created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};m((function(){return t}))}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Scope of QMS",activeLink:"/scope-of-qms",children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/scope-of-qms",children:"Scope of QMS"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Scope Of QMS (Archived)"})}),Object(v.jsx)("div",{className:"c-Scope-of-QMS__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-content c-Document",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Company Name:"}),Object(v.jsx)("p",{children:"Active on:"})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.title?b.title:"Failed to load data"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Failed to load data"})]})]}),Object(v.jsxs)("div",{className:"l-Scope-of-QMS__WYSIWYG",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),Object(v.jsx)("div",{className:"c-Scope-Of-QMS__WYSIWYG",children:b.content})]}),Object(v.jsxs)("div",{className:"c-Scope-of-QMS__Table",children:[Object(v.jsx)("p",{children:"Physicial boundary: The corporate office address from where the above mentioned services are provided as follows"}),Object(v.jsx)(Ce.a,{keyField:"id",data:x,columns:le})]})]})})})]})})},Qt=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(a.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(a.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],se=ae[1],ie=Object(a.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],ue=Object(a.useState)({}),be=Object(d.a)(ue,2),me=be[0],pe=be[1],he=Object(a.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(a.useState)([]),ge=Object(d.a)(fe,2),Ae=ge[0],_e=ge[1],ye=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policy/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(a.useState)(!1),Ie=Object(d.a)(Se,2),Fe=Ie[0],Ee=Ie[1],we=Object(a.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(a.useState)(!1),qe=Object(d.a)(Re,2),Ye=qe[0],Ue=qe[1],ze=wt(De),Qe=Object(d.a)(ze,2),Ve=Qe[0];Qe[1];Object(a.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));if("active"===xe){var a=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return a}))}else if("pending"===xe){var r=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));te((function(){return r}))}else"rejected"===xe&&(D.secondTab===Me.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var s,i,o=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),s=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return n})),i=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.policy_id};D.secondTab===Me.EDITING?H((function(){return a})):pe((function(){return a})),o=!0}})),m(s?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==s?Me.INACTIVE:Me.ACTIVE,secondTab:!0===i?Me.PENDING:e.secondTab===Me.EDITING&&!0===o?Me.EDITING:!0===o?Me.REJECTED:Me.NULL,focusTabIndex:"active"===xe?0:1}}));var l=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/company-policy/archived/".concat(e.policy_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies/").concat(e.policy_id)})}));_e((function(){return l}))}else m((function(){return!0})),T((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m05_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var We=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Name"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/policies"),setArchivedDocData:_e,docType:"policies",idName:"policy_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"Company Policy",activeLink:"/company-policy",children:Object(v.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Company Policy"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Company Policy"}),Object(v.jsx)(Le,{setQueryUrl:Te,setTabSettings:T,docEditTableData:z,docEditHeaderData:G,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,tabSettings:D,pageType:"companyPolicy",isApprover:Fe,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"companyPolicy"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:le,docType:"companyPolicy",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==Ae.length?Ye?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:We,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:je,pagination:Rt()()}):"No records found!"]})]})})]})},Vt=function(e){var t=e.match.params.companyPolicyID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/policies/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.policy_item_id})}));f((function(){return t}));var n={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Company Policy",activeLink:"/company-policy",children:Object(v.jsxs)("div",{className:"c-Company-Policy c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Company-Policy__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/company-policy",children:"Company Policy"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View archived"})]}),Object(v.jsx)("div",{className:"c-Company-Policy__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Company Policy (Archived)"})}),Object(v.jsx)("div",{className:"c-Company-Policy__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Company-Policy__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(v.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-Company-Policy__Cards",children:[Object(v.jsx)("p",{children:"The quality management system under the scope of ISO 9001:2015 certification applies to:"}),x.map((function(e,t){return Object(v.jsx)(bt,{itemTitle:e.title,itemContent:e.content,itemIndex:t},t)}))]})]})})})]})})},Wt=n(33),Jt=n.n(Wt),Gt=function(e){var t=e.deleteUrl,n=e.refreshUrl,a=e.setRoleData,c=(e.idName,N.getToken()),r=N.getDecodedToken().company_id;return Object(v.jsx)("div",{className:"c-Archived-Delete-Btn",children:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){var e={message:"Are you sure you want to delete this role? Click confirm to proceed.",handler:function(e){return s(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},e),{},{onClose:n}))}});var s=function(e){O.a.delete(t,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){O.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){a((function(){return t.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(e.role_id)})}))})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role Deleted!"})]}))})).catch((function(t){console.log(t);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))})).catch((function(t){console.log(t),e();var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}}})})})},Xt=function(){var e=Object(u.g)(),t=Wt.Search.SearchBar,n=Wt.Search.ClearSearchButton,c=N.getToken(),r=N.getDecodedToken(),s=r.company_id,i=r.employee_id,o=r.admin_level,l=_.toastTiming,b=Object(a.useState)(C),m=Object(d.a)(b,2),p=m[0],h=m[1],x=Object(a.useState)([]),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)([]),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-charts"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),console.log(e.data.results),void 0!==e.data.results&&I((function(){return e.data.results.map((function(e,t){return{id:e.chart_id,serialNo:t+1,title:e.title,description:e.description,created_by:e.author.account.username,created_on:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_view:"/responsibility-n-authority/manage-org-chart/".concat(e.chart_id)}}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),void 0!==e.data.results&&y((function(){return e.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,created_at:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),updated_at:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/role/").concat(e.role_id)})}))}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===i&&(t=!0)})),!0===t&&w((function(){return!0}))})).catch((function(e){console.log(e)}))}),[]);var k=[{dataField:"id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"title",text:"Title"},{dataField:"description",text:"Description"},{dataField:"created_by",text:"Created By"},{dataField:"created_on",text:"Submitted On"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View more"})}}],P=[{dataField:"role_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Role"},{dataField:"created_at",text:"Created"},{dataField:"updated_at",text:"Last Updated"},{dataField:"action_manage",text:"",hidden:2!==o,formatter:function(e,t){return Object(v.jsx)("a",{href:"/responsibility-n-authority/manage-role/".concat(t.role_id),children:"Manage"})}},{dataField:"action_delete",text:"",hidden:2!==o,formatter:function(e,t){return Object(v.jsx)(Gt,{deleteUrl:e,refreshUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/roles"),setRoleData:y,idName:"role_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:l,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Resp-N-Auth c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Resp-N-Auth__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Resp. & Authority"})]}),Object(v.jsx)("div",{className:"c-Resp-N-Auth__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Responsibility & Authority"})}),Object(v.jsxs)("div",{className:"c-Resp-N-Auth__Org-Chart",children:[Object(v.jsxs)("div",{className:"c-Org-Chart__Top",children:[Object(v.jsx)("h1",{children:"Organisation Chart"}),E?Object(v.jsx)("button",{onClick:function(){return e.push("/responsibility-n-authority/add-org-chart")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload Chart"}):null]}),Object(v.jsx)("div",{className:"c-Org-Chart__Table",children:0===S.length?"No records found!":Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:S,columns:k,pagination:Rt()()})})]}),Object(v.jsxs)("div",{className:"c-Resp-N-Auth__Roles",children:[Object(v.jsx)("div",{className:"c-Roles__Top",children:Object(v.jsx)("h1",{children:"Roles"})}),Object(v.jsx)("div",{className:"c-Roles__Table",children:Object(v.jsx)(Jt.a,{search:!0,keyField:"serialNo",data:g,columns:P,children:function(a){return Object(v.jsxs)("div",{className:"c-Table",children:[Object(v.jsxs)("div",{className:"c-Table__Top",children:[Object(v.jsx)(t,Object(j.a)({},a.searchProps)),Object(v.jsx)(n,Object(j.a)({className:"c-Table__Clear-btn"},a.searchProps)),2!==o?null:Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return e.push("/responsibility-n-authority/add-role")},children:"Add role"})]}),Object(v.jsx)("hr",{}),0!==g.length?Object(v.jsx)(Ce.a,Object(j.a)(Object(j.a)({},a.baseProps),{},{bordered:!1,pagination:Rt()()})):"No records found!"]})}})})]})]})})]})},Kt=[{moduleCode:"m01_01",description:{edit:"Edit Scope"}},{moduleCode:"m02_01",description:{edit:"Edit Normative References"}},{moduleCode:"m03_01",description:{edit:"Edit Terms and Definition"}},{moduleCode:"m04_01",description:{edit:"Edit SWOT",approve:"Approve/Reject SWOT documents "}},{moduleCode:"m04_02",description:{edit:"Edit Interested Parties",approve:"Approve/Reject Interested Parties documents"}},{moduleCode:"m04_03",description:{edit:"Edit Scope of QMS",approve:"Approve/Reject Scope of QMS"}},{moduleCode:"m05_02",description:{edit:"Edit Company Policy",approve:"Approve/Reject Company Policy"}},{moduleCode:"m05_03",description:{edit:"Upload and Edit Organisation Chart"}},{moduleCode:"m06_01",description:{edit:"Edit Risk & Opportunity",approve:"Approve/Reject Risk & Opportunity"}},{moduleCode:"m06_02",description:{edit:"Edit Objective Achievement Program",approve:"Approve/Reject Objective Achievement Program"}},{moduleCode:"m07_01",description:{edit:"Permission to edit all Equipment Maintenance Program attributes"}},{moduleCode:"m07_02",description:{edit:"Permission to edit all Register of Permits, Licences & Cert attributes"}}],Zt=function(){var e=Object(u.g)(),t=N.getToken(),n=N.getDecodedToken().company_id,c=_.toastTiming,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({name:"",responsibility:"",rights:[]}),b=Object(d.a)(l,2),p=b[0],h=b[1];Object(a.useEffect)((function(){window.scrollTo(0,0),h((function(e){return Object(j.a)(Object(j.a)({},e),{},{rights:Kt.map((function(e,t){return Object(m.a)({},e.moduleCode,{edit:!1,approve:!1})}))})}))}),[]),console.log(p);var x=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},f=function(e){var t=e.split(" ")[0],n=e.split(" ")[1],a=!1;return p.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(a="edit"===n?e[r].edit:e[r].approve)})),a},g=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},{rights:(console.log(t),t.rights.map((function(t,n){var a=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return a===c?r?Object(m.a)({},a,{approve:t[a].approve,edit:!t[a].edit}):Object(m.a)({},a,{approve:!t[a].approve,edit:t[a].edit}):t})))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:c,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"c-Add-role c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Add-role__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Role"})]}),Object(v.jsx)("div",{className:"c-Add-role__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Add Role"})}),Object(v.jsxs)("div",{className:"c-Add-role__Configs",children:[Object(v.jsxs)("div",{className:"l-Configs__Left",children:[Object(v.jsx)("h1",{children:"Basic Details"}),Object(v.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:p.name,onChange:x})]}),Object(v.jsxs)("div",{className:"c-Configs__Description",children:[Object(v.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(v.jsx)("textarea",{wrap:"hard",name:"responsibility",value:p.responsibility,onChange:x})]})]}),Object(v.jsx)("div",{className:"l-Configs__VL",children:Object(v.jsx)("span",{className:"c-Configs__VL"})}),Object(v.jsx)("div",{className:"l-Configs__Right",children:Object(v.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(v.jsx)("h1",{children:"Permissions"}),Kt.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(v.jsx)("input",{type:"checkbox",onChange:g,checked:f(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode||"m07_01"===e.moduleCode||"m07_02"===e.moduleCode?null:Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(v.jsx)("input",{type:"checkbox",onChange:g,checked:f(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(v.jsxs)("div",{className:"c-Add-role__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){var a=Object(j.a)(Object(j.a)({},p),{},{rights:function(){for(var e={},t=0;t<p.rights.length;t++){var n=Object.keys(p.rights[t])[0];e[n]={approve:p.rights[t][n].approve,edit:p.rights[t][n].edit}}return e}()});console.log(a),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/roles"),a,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),e.push("/responsibility-n-authority"),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role has been added!"})]}))}),0)})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},className:"c-Btn c-Btn--primary",children:"Add Role"}),Object(v.jsx)("button",{type:"button",onClick:function(){return e.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},$t=function(e){var t=e.match.params.roleID,n=Object(u.g)(),c=(Wt.Search.SearchBar,Wt.Search.ClearSearchButton,N.getToken()),r=N.getDecodedToken().company_id,s=_.toastTiming,i=Object(a.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(a.useState)({name:"",responsibility:"",rights:[]}),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)(!1),y=Object(d.a)(g,2);y[0],y[1];Object(a.useEffect)((function(){window.scrollTo(0,0),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),f((function(){return{name:e.data.results.name,responsibility:e.data.results.responsibility,rights:function(){for(var t=Kt.map((function(e,t){return Object(m.a)({},e.moduleCode,{edit:!1,approve:!1})})),n=Object.keys(e.data.results.rights).length,a=0;a<n;a++){var c=Object.keys(e.data.results.rights)[a];if(e.data.results.rights[c].edit)for(var r=0;r<t.length;r++){var s=Object.keys(t[r])[0];if(console.log(t[r]),s===c){t[r]=Object(m.a)({},c,Object(j.a)(Object(j.a)({},t[r][c]),{},{edit:!0}));break}}if(e.data.results.rights[c].approve)for(var i=0;i<t.length;i++){if(c===Object.keys(t[i])[0]){t[i]=Object(m.a)({},c,Object(j.a)(Object(j.a)({},t[i][c]),{},{approve:!0}));break}}}return console.log(t),t}()}}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}),[]);var D=function(e){var t=e.split(" ")[0],n=e.split(" ")[1],a=!1;return console.log(x),x.rights.forEach((function(e,c){var r=Object.keys(e)[0];r===t&&(a="edit"===n?e[r].edit:e[r].approve)})),a},T=function(e){f((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},S=function(e){f((function(t){return Object(j.a)(Object(j.a)({},t),{},{rights:t.rights.map((function(t,n){var a=Object.keys(t)[0],c=e.target.name.split(" ")[0],r="edit"===e.target.name.split(" ")[1];return a===c?r?Object(m.a)({},a,{approve:t[a].approve,edit:!t[a].edit}):Object(m.a)({},a,{approve:!t[a].approve,edit:t[a].edit}):t}))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Responsibility and Authority",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Manage-role c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-role__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Role"})]}),Object(v.jsx)("div",{className:"c-Manage-role__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Role"})}),Object(v.jsxs)("div",{className:"c-Manage-role__Configs",children:[Object(v.jsxs)("div",{className:"l-Configs__Left",children:[Object(v.jsx)("h1",{children:"Basic Details"}),Object(v.jsxs)("div",{className:"c-Configs__Role-name",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Role Name"}),Object(v.jsx)("input",{type:"text",name:"name",value:x.name,onChange:T})]}),Object(v.jsxs)("div",{className:"c-Configs__Description",children:[Object(v.jsx)("label",{htmlFor:"responsibility",children:"Responsibility"}),Object(v.jsx)("textarea",{wrap:"hard",name:"responsibility",value:x.responsibility,onChange:T})]})]}),Object(v.jsx)("div",{className:"l-Configs__VL",children:Object(v.jsx)("span",{className:"c-Configs__VL"})}),Object(v.jsx)("div",{className:"l-Configs__Right",children:Object(v.jsxs)("div",{className:"c-Configs-Permissions",children:[Object(v.jsx)("h1",{children:"Permissions"}),Kt.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" edit",children:e.description.edit}),Object(v.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" edit")||!1,name:e.moduleCode+" edit",value:"".concat(e.moduleCode," edit")})]}),"m05_03"===e.moduleCode||"m01_01"===e.moduleCode||"m02_01"===e.moduleCode||"m03_01"===e.moduleCode||"m07_01"===e.moduleCode||"m07_02"===e.moduleCode?null:Object(v.jsxs)("div",{className:"c-Configs-Permissions__Checkbox",children:[Object(v.jsx)("label",{htmlFor:e.moduleCode+" approve",children:e.description.approve}),Object(v.jsx)("input",{type:"checkbox",onChange:S,checked:D(e.moduleCode+" approve")||!1,name:e.moduleCode+" approve",value:"".concat(e.moduleCode," approve")})]})]},t)}))]})})]}),Object(v.jsxs)("div",{className:"c-Manage-role__Btns",children:[Object(v.jsx)("button",{type:"button",onClick:function(){var e=Object(j.a)(Object(j.a)({},x),{},{rights:function(){for(var e={},t=0;t<x.rights.length;t++){var n=Object.keys(x.rights[t])[0];e[n]={approve:x.rights[t][n].approve,edit:x.rights[t][n].edit}}return e}()});console.log(e),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/role/").concat(t),e,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Role has been updated!"})]})),window.scrollTo(0,0)})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},className:"c-Btn c-Btn--primary",children:"Save"}),Object(v.jsx)("button",{type:"button",onClick:function(){return n.push("/responsibility-n-authority")},className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]})})]})},en=function(){var e=Object(u.g)(),t=Object(a.useRef)(),n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({title:"",description:"",file:""}),b=Object(d.a)(l,2),p=b[0],h=b[1],x=_.toastTiming,f=function(t){if("submit"===t){if(""===p.title||""===p.description||""===p.file)return void A.b.error(Object(v.jsx)(v.Fragment,{children:"Error! Some fields are empty!"}));var a=new FormData;a.append("title",p.title),a.append("description",p.description),a.append("display_order",1),a.append("chart",p.file),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/org-charts"),a,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Chart has been added!"})]}))}),0),e.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}else h((function(){return{title:"",description:"",file:""}})),e.push("/responsibility-n-authority")},g=function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:x,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Add-chart c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Add-chart__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Organisation Chart"})]}),Object(v.jsx)("div",{className:"c-Add-chart__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Add Organisation Chart"})}),Object(v.jsxs)("div",{className:"c-Add-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Add-chart__Title c-Input",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{onChange:g,type:"text",value:p.title||"",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Description c-Input",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{onChange:g,type:"text",value:p.description||"",name:"description",placeholder:"Enter description"})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Upload-file c-Input",children:[Object(v.jsx)("label",{htmlFor:"file",children:"File"}),Object(v.jsx)("input",{onChange:function(e){var t=e.target.files[0];h((function(e){return Object(j.a)(Object(j.a)({},e),{},{file:t})}))},type:"file",name:"file",ref:t})]})]}),Object(v.jsxs)("div",{className:"c-Add-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return f("submit")},children:"Submit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return f("cancel")},children:"Cancel"})]})]})})]})},tn=function(e){var t=e.match.params.orgChartID,n=Object(u.g)(),c=N.getToken(),r=N.getDecodedToken(),s=r.company_id,i=r.employee_id,o=_.toastTiming,l=Object(a.useState)(C),b=Object(d.a)(l,2),p=b[0],h=b[1],x=Object(a.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)({title:"",description:"",createdBy:"",submittedOn:"",fileName:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)(!1),F=Object(d.a)(M,2),E=F[0],w=F[1],k=Object(a.useState)(!1),P=Object(d.a)(k,2),B=P[0],R=P[1],q=Object(a.useState)(!1),H=Object(d.a)(q,2),Y=H[0],U=H[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),y((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name,fileID:e.data.results.file_id}})),I((function(){return{title:e.data.results.title,description:e.data.results.description,createdBy:e.data.results.author.account.username,submittedOn:J()(new Date(e.data.results.created_at)).format("MMMM D, YYYY h:mm A"),fileName:e.data.results.file.file_name}}))})).catch((function(e){console.log(e)})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/edit/m05_03/employees"),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===i&&(t=!0)})),!0===t&&U((function(){return!0}))})).catch((function(e){console.log(e)}))}),[B]);var z=function(e){if("submit"===e){if(""===S.title||""===S.description)return void A.b.error(Object(v.jsx)(v.Fragment,{children:"Error! Some fields are empty!"}));var a={title:S.title,description:S.description,display_order:1};O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),a,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Organisation chart details successfully updated!"})]})),w((function(){return!1})),R((function(e){return!e}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}else"delete"===e?O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(s,"/org-chart/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Organisation chart has been deleted!"})]}))}),0),w((function(){return!1})),n.push("/responsibility-n-authority")})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))})):"edit"===e?w((function(){return!0})):(I((function(){return g})),w((function(){return!1})))},Q=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},V=function(e,t){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/file/download/").concat(e),{headers:{Authorization:"Bearer ".concat(c)},responseType:"blob"}).then((function(e){Dt()(e.data,t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Document has been downloaded successfully!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:o,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:p,setSideNavStatus:h,title:"Upload Chart",activeLink:"/responsibility-n-authority",children:Object(v.jsxs)("div",{className:"c-Manage-chart c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-chart__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/responsibility-n-authority",children:"Resp. & Authority"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Organisation Chart"})]}),Object(v.jsx)("div",{className:"c-Manage-chart__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Organisation Chart"})}),E?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("textarea",{onChange:Q,type:"text",value:S.title||"",name:"title",placeholder:"Enter title"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("textarea",{onChange:Q,type:"text",value:S.description||"",name:"description",placeholder:"Enter description"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(v.jsx)("label",{htmlFor:"createdBy",children:"Created By"}),Object(v.jsx)("input",{type:"text",value:g.createdBy||"Error",name:"createdBy",disabled:!0})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(v.jsx)("label",{htmlFor:"submittedOn",children:"Submitted On"}),Object(v.jsx)("input",{type:"text",value:g.submittedOn||"Error",name:"submittedOn",disabled:!0})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(v.jsx)("label",{htmlFor:"details",children:"Details"}),""===g.fileName?"Failed to load data":Object(v.jsx)("button",{onClick:function(){return V(t,g.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Manage-chart__Inputs",children:[Object(v.jsxs)("div",{className:"c-Manage-chart__Title c-Input",children:[Object(v.jsx)("h1",{children:"Title"}),Object(v.jsx)("p",{children:g.title||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Description c-Input",children:[Object(v.jsx)("h1",{children:"Description"}),Object(v.jsx)("p",{children:g.description||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Created-by c-Input",children:[Object(v.jsx)("h1",{children:"Created By"}),Object(v.jsx)("p",{children:g.createdBy||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Submitted-on c-Input",children:[Object(v.jsx)("h1",{children:"Submitted On"}),Object(v.jsx)("p",{children:g.submittedOn||"Failed to load data"})]}),Object(v.jsxs)("div",{className:"c-Manage-chart__Details c-Input",children:[Object(v.jsx)("h1",{children:"Details"}),""===g.fileName?"Failed to load data":Object(v.jsx)("button",{onClick:function(){return V(t,g.fileName)},className:"c-Btn c-Btn--link",children:"Download"})]})]})}),Y?""===g.title?null:E?Object(v.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return z("submit")},children:"Submit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return z("cancel")},children:"Cancel"})]}):Object(v.jsxs)("div",{className:"c-Manage-chart__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return z("edit")},children:"Edit"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return z("delete")},children:"Delete"})]}):null]})})]})},nn=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],se=ae[1],ie=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(a.useState)({}),be=Object(d.a)(je,2),me=be[0],pe=be[1],he=Object(a.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(a.useState)([]),ge=Object(d.a)(fe,2),Ae=ge[0],_e=ge[1],ye=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analysis/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(a.useState)(!1),Ie=Object(d.a)(Se,2),Fe=Ie[0],Ee=Ie[1],we=Object(a.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(a.useState)(!1),qe=Object(d.a)(Re,2),Ye=qe[0],Ue=qe[1],ze=wt(De),Qe=Object(d.a)(ze,2),Ve=Qe[0],We=(Qe[1],Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m06_01/employees"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/pending"),thirdUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/swot/rejected")})),Je=Object(d.a)(We,2),Ge=Je[0],Xe=(Je[1],kt(Ge)),Ke=Object(d.a)(Xe,2),Ze=Ke[0];Ke[1];Object(a.useEffect)((function(){if(null!==Ve){if(void 0!==Ve.resultDocTable.results){m((function(){return!1}));var t={strength:Ve.resultDocTable.results.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),weakness:Ve.resultDocTable.results.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),opp:Ve.resultDocTable.results.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}})),threat:Ve.resultDocTable.results.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A")}}))};if("active"===xe){if(null!==Ze){var a=!1;Ze.checkIfEmployeeCanEdit.data.results.forEach((function(e,t){e.employee_id===c&&(a=!0)})),void 0!==Ze.checkIfPendingExist.result&&(a=!1),void 0!==Ze.checkIfRejectedExist.result&&(a=!1),console.log(Ze),Be(!0===a?function(){return!0}:function(){return!1})}H((function(){return t}))}else"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Me.EDITING?H((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var r,s,i=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};P((function(){return t})),r=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.risks_analysis_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return n})),s=!0}else if("rejected"===e.status){var a={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.risks_analysis_id};D.secondTab===Me.EDITING?P((function(){return a})):pe((function(){return a})),i=!0}})),T((function(e){return{firstTab:!0!==r?Me.NEW:Me.ACTIVE,secondTab:!0===s?Me.PENDING:e.secondTab===Me.EDITING&&!0===i?Me.EDITING:!0===i?Me.REJECTED:Me.NULL,focusTabIndex:"active"===xe?0:1}}));var o=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.risks_analysis_id,serialNo:t+1,approved_by:"".concat(e.approver.firstname," ").concat(e.approver.lastname),approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/risk-n-opportunity/archived/".concat(e.risks_analysis_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses/").concat(e.risks_analysis_id)})}));_e((function(){return o}))}else m((function(){return!0})),T((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m06_01/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve,Ze]);var $e=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return console.log(e),Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/risks-analyses"),setArchivedDocData:_e,docType:"risks-analyses",idName:"risks_analysis_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(v.jsxs)("div",{className:"c-RNO c-Main",children:[Object(v.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Risk and Opportunity"})]}),Object(v.jsxs)("div",{className:"c-RNO__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Risk and Opportunity"}),Object(v.jsx)(Le,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"riskNOpp",isApprover:Fe,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-RNO__Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"riskNOpp"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:k,docTableData:q,docPendingHeaderData:re,docPendingTableData:ee,docRejectedHeaderData:me,docRejectedTableData:le,docType:"riskNOpp",docEditHeaderData:G,setDocEditHeaderData:K,docEditTableData:z,setDocEditTableData:Q,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-RNO__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==Ae.length?Ye?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:$e,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:ue,pagination:Rt()()}):"No records found!"]})]})})]})},an=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.employee_id,r=_.toastTiming,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(a.useState)(C),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)([]),w=Object(d.a)(E,2),k=w[0],P=w[1],B=Object(a.useState)({}),R=Object(d.a)(B,2),q=R[0],H=R[1],Y=Object(a.useState)([]),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)({}),W=Object(d.a)(V,2),G=W[0],K=W[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)({}),ae=Object(d.a)(ne,2),re=ae[0],se=ae[1],ie=Object(a.useState)([]),oe=Object(d.a)(ie,2),le=oe[0],de=oe[1],je=Object(a.useState)({}),ue=Object(d.a)(je,2),me=ue[0],pe=ue[1],he=Object(a.useState)("active"),Oe=Object(d.a)(he,2),xe=Oe[0],ve=Oe[1],fe=Object(a.useState)([]),ge=Object(d.a)(fe,2),Ae=ge[0],_e=ge[1],ye=Object(a.useState)({firstUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievement/active"),secondUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements")}),Ne=Object(d.a)(ye,2),De=Ne[0],Te=Ne[1],Se=Object(a.useState)(!1),Ie=Object(d.a)(Se,2),Fe=Ie[0],Ee=Ie[1],we=Object(a.useState)(!1),ke=Object(d.a)(we,2),Pe=ke[0],Be=ke[1],Re=Object(a.useState)(!1),qe=Object(d.a)(Re,2),Ye=qe[0],Ue=qe[1],ze=wt(De),Qe=Object(d.a)(ze,2),Ve=Qe[0],We=(Qe[1],Object(a.useState)([])),Je=Object(d.a)(We,2),Ge=Je[0],Xe=Je[1],Ke=[{dataField:"id",text:"Id"},{dataField:"serialNo",text:"#"},{dataField:"filename",text:"File Name"},{dataField:"status",text:"Status"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}}];Object(a.useEffect)((function(){if(null!==Ve){if(console.log(Ve),void 0!==Ve.resultDocTable.results){m((function(){return!1})),console.log(Ve.resultDocTable);var t=Ve.resultDocTable.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_item_id,serialNo:t+1,parentItemID:e.parent_item_id,data:e.data.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,file:Object(j.a)(Object(j.a)({},e.file),{},{name:e.file_name})})}))})}));console.log(t),"active"===xe?(O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/edit/m06_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Be((function(){return!0}))})).catch((function(e){console.log(e)})),P((function(){return t}))):"pending"===xe?te((function(){return t})):"rejected"===xe&&(D.secondTab===Me.EDITING?P((function(){return t})):de((function(){return t})))}if(void 0!==Ve.resultHeaderData.results){var a,r,s=!1;Ve.resultHeaderData.results.forEach((function(e){if("active"===e.status){var t={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks};H((function(){return t})),a=!0}else if("pending"===e.status){var n={title:e.title,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,remarks:e.remarks,docID:e.achievement_id};c===e.approved_by?Ee((function(){return!0})):Ee((function(){return!1})),se((function(){return n})),r=!0}else if("rejected"===e.status){var i={title:e.title,created_by_id:e.author.employee_id,created_by:e.author.firstname+" "+e.author.lastname,approved_by:e.approver.firstname+" "+e.author.lastname,approved_on:J()(new Date(e.approved_at)).format("MMMM D, YYYY h:mm A"),remarks:e.remarks,docID:e.achievement_id};D.secondTab===Me.EDITING?H((function(){return i})):pe((function(){return i})),s=!0}})),m(a?function(){return!0}:function(){return!1}),T((function(e){return{firstTab:!0!==a?Me.INACTIVE:Me.ACTIVE,secondTab:!0===r?Me.PENDING:e.secondTab===Me.EDITING&&!0===s?Me.EDITING:!0===s?Me.REJECTED:Me.NULL,focusTabIndex:"active"===xe?0:1}}));var i=Ve.resultHeaderData.results.filter((function(e){return"archived"===e.status})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id,serialNo:t+1,name:e.title,approved_on:J()(new Date(e.approved_on)).format("MMMM D, YYYY h:mm A"),active_till:J()(new Date(e.updated_at)).format("MMMM D, YYYY h:mm A"),action_view:"/objective-achievement-program/archived/".concat(e.achievement_id),action_delete:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements/").concat(e.achievement_id)})}));_e((function(){return i}))}else m((function(){return!0})),T((function(e){return{firstTab:Me.INACTIVE,secondTab:Me.NULL,focusTabIndex:"active"===xe?0:1}}))}O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/approve/m04_02/employees"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var t=!1;void 0!==e.data.results&&e.data.results.forEach((function(e,n){e.employee_id===c&&(t=!0)})),!0===t&&Ue((function(){return!0}))})).catch((function(e){console.log(e)}))}),[Ve]);var Ze=[{dataField:"id",text:"id",hidden:!0},{dataField:"serialNo",text:"#"},{dataField:"name",text:"Title"},{dataField:"approved_on",text:"Active From"},{dataField:"active_till",text:"Active Till"},{dataField:"action_view",text:"",formatter:function(e,t){return Object(v.jsx)("a",{href:e,children:"View"})}},{dataField:"action_delete",text:"",formatter:function(e,t){return Object(v.jsx)(Pt,{deleteUrl:e,docHeaderUrl:"".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/objective-achievements"),setArchivedDocData:_e,docType:"objective-achievements",idName:"achievement_id"})}}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:x,setSideNavStatus:f,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Objective Achivement Program"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Objective Achievement Program"}),Object(v.jsx)(Le,{setQueryUrl:Te,setTabSettings:T,tabSettings:D,docEditTableData:z,docEditHeaderData:G,docPendingTableData:ee,docPendingHeaderData:re,docRejectedHeaderData:me,pageType:"objAchivProgram",isApprover:Fe,isEditor:Pe,docQueryEnum:xe,setDocQueryEnum:ve,tempFileArr:Ge,startNewDoc:o,setStartNewDoc:l})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:[Object(v.jsx)(He,{setIsDocCollapsed:F,setDocQueryEnum:ve,setTabSettings:T,tabSettings:D,isDocCollapsed:M,setQueryUrl:Te,pageType:"objAchivProgram"}),Object(v.jsx)(ce,{isDocCollapsed:M,children:Object(v.jsx)(Et,{tabSettings:D,docHeaderData:q,docTableData:k,docPendingHeaderData:re,docPendingTableData:ee,setDocPendingTableData:te,docRejectedHeaderData:me,docRejectedTableData:le,docColumns:Ke,docType:"objAchivProgram",docEditTableData:z,setDocEditTableData:Q,docEditHeaderData:G,setDocEditHeaderData:K,tempFileArr:Ge,setTempFileArr:Xe,startNewDoc:o,setStartNewDoc:l})})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),0!==Ae.length?Ye?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:Ze,pagination:Rt()()}):Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:Ae,columns:be,pagination:Rt()()}):"No records found!"]})]})})]})},cn=function(e){var t=e.match.params.oapID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),u=Object(d.a)(l,2),b=u[0],m=u[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/objective-achievements/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){if(void 0!==e.data.results){var t=e.data.results.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id})}));f((function(){return t}));var n={title:e.data.results.title,created_by:e.data.results.author.firstname+" "+e.data.results.author.lastname,approved_by:e.data.results.approver.firstname+" "+e.data.results.author.lastname,approved_on:J()(new Date(e.data.results.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return n}))}else{var a=e.data.items.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:e.achievement_id})}));f((function(){return a}));var c={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};m((function(){return c}))}})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Objective Achievement Program",activeLink:"/objective-achievement-program",children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/objective-achievement-program",children:"Objective Achivement Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Objective Achievement Program"})}),Object(v.jsx)("div",{className:"c-Obj-Achiv-Program__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:b.title?b.title:"Failed to load data!"}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:b.approved_by?b.approved_by:"Error"}),Object(v.jsx)("p",{children:b.created_by?b.created_by:"Error"}),Object(v.jsx)("p",{children:b.approved_on?b.approved_on:"Error"})]})]}),x.map((function(e,t){return Object(v.jsx)(Tt,{docType:"active",itemContent:e},t)}))]})})})]})})},rn=function(e){var t=e.type,n=e.link,a=e.linkDisplay,c=e.children;return Object(v.jsx)("div",{className:"l-Settings-Bento-Box",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box",children:[Object(v.jsx)("div",{className:"row"===t?"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row":"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column",children:c}),Object(v.jsx)("div",{className:"c-Settings-Bento-Box__Link",children:Object(v.jsx)("a",{href:n,children:a})})]})})},sn=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.company_id,c=t.display_name,r=t.display_title,s=t.email,i=t.company_name,o=t.company_alias,l=t.employee_id,j=Object(a.useState)(C),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(a.useState)(null),h=Object(d.a)(p,2),x=h[0],f=h[1];return Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(n,"/employees/").concat(l),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),f((function(){return e.data.results.admin_level}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{sideNavStatus:b,setSideNavStatus:m,title:"Settings",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Settings c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Settings__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Settings"})]}),Object(v.jsx)("div",{className:"c-Settings__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Settings"})}),Object(v.jsxs)("div",{className:"l-Settings__Bento-box",children:[Object(v.jsxs)("div",{className:"l-Bento-box__User-settings l-Bento-box",children:[Object(v.jsx)("h2",{className:"l-Bento-box__Header",children:"User Settings"}),Object(v.jsxs)(rn,{type:"row",link:"/settings/manage-account",linkDisplay:"Manage your account settings",children:[Object(v.jsx)("div",{className:"c-Settings-Bento-Box__User-image",children:Object(v.jsx)("img",{src:M,alt:"User pic"})}),Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__User-details",children:[Object(v.jsx)("p",{children:c||"Error"}),Object(v.jsx)("p",{children:r||"Error"}),Object(v.jsx)("p",{children:s||"Error"}),Object(v.jsx)("p",{children:i||"Error"})]})]})]}),2===x||3===x?Object(v.jsxs)("div",{className:"l-Bento-box__Org-settings l-Bento-box",children:[Object(v.jsx)("h2",{className:"l-Bento-box__Header",children:"Organisation Settings"}),2===x?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(rn,{type:"column",link:"/settings/manage-organization",linkDisplay:"Manage your organization settings",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-org",children:[Object(v.jsx)("h1",{children:o||"Error"}),Object(v.jsx)("h2",{children:i||"Error"})]})}),Object(v.jsx)(rn,{type:"column",link:"/settings/manage-users",linkDisplay:"Manage your users",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-users",children:[Object(v.jsx)("h1",{children:"Manage users"}),Object(v.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null,Object(v.jsx)(rn,{type:"column",link:"/settings/manage-invites",linkDisplay:"Manage invites",children:Object(v.jsxs)("div",{className:"c-Settings-Bento-Box__Manage-invites",children:[Object(v.jsx)("h1",{children:"Manage invites"}),Object(v.jsx)("h2",{children:"Click on the link to continue"})]})})]}):null]})]})})})},on=n(192),ln=function(e){var t=e.tagListing,n=e.deletable;return Object(v.jsx)("div",{className:"l-Role-tags",children:Object(v.jsxs)("div",{className:"c-Role-tags",children:[Object(v.jsx)("h1",{children:t}),n?Object(v.jsx)("button",{type:"button",children:Object(v.jsx)(E.b.Provider,{value:{color:"white",size:"16px"},children:Object(v.jsx)(on.a,{})})}):null]})})},dn=n(50),jn=function(e){var t=e.errMsg,n=e.errStatus,a=e.errStatusText;return Object(v.jsx)("div",{className:"l-Error-card",children:Object(v.jsx)("div",{className:"c-Error-card",children:Object(v.jsxs)(dn.a,{variant:"danger",children:[Object(v.jsxs)(dn.a.Heading,{children:["Error Code: ",n||"Unknown"," ",a||null," "]}),Object(v.jsx)("p",{children:t||"An unknown error has occured, try accessing again later!"})]})})})},un=function(){var e=N.getToken(),t=N.getDecodedToken(),n=t.employee_id,c=t.company_id,r=_.toastTiming,s=Object(a.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),I=T[0],F=T[1],E=Object(a.useState)(!1),w=Object(d.a)(E,2),R=w[0],q=w[1],H=/\d/,Y=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,U=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),z=Object(d.a)(U,2),Q=z[0],V=z[1],W=Object(a.useState)({oldpassword:"",password:"",confirmPassword:""}),J=Object(d.a)(W,2),G=J[0],K=J[1],Z=Object(a.useState)({fullName:"Error",username:"Error",jobTitle:"Error",email:"Error",emailDisplay:"Error",companyName:"Error",firstName:"Error",lastName:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"},roles:[]}),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(n,"?roles=true&address=true&company=true"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,n={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,emailDisplay:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code},roles:t.roles};te((function(){return n}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),re((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))})),V((function(){return{minChar:G.password.length>=8,number:!!H.test(G.password),specialChar:!!Y.test(G.password),match:G.password===G.confirmPassword}}))}),[G]);var se=function(e){K((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},ie=function(e){te((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},oe=function(e){te((function(t){return Object(j.a)(Object(j.a)({},t),{},{address:Object(j.a)(Object(j.a)({},t.address),{},Object(m.a)({},e.target.name,e.target.value))})}))},le=function(e){if("editAccount"!==e&&"editAccountCancel"!==e||h((function(e){return!e})),"editAccountSave"===e){var t={message:"You are about to save account details. Click confirm to proceed.",handler:function(e){return je(e)},heading:"Confirm Save?",type:"primary"};return Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}if("changePassword"!==e&&"changePasswordCancel"!==e||y((function(e){return!e})),"changePasswordSave"===e){var n={message:"You are about to change password. Click confirm to proceed.",handler:function(e){return de(e)},heading:"Confirm Change Password?",type:"primary"};return Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},n),{},{onClose:t}))}})}},de=function(t){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/change"),{old_password:G.oldPassword,new_password:G.password},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Changed Password successfully!");var n=e.data;console.log(n),q((function(){return!1})),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),t()})).catch((function(e){console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),q((function(){return!1})),t()}))},je=function(t){q((function(){return!0})),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(n),{firstname:ee.firstName,lastname:ee.lastName,email:ee.email,address:{address_line_one:ee.address.line1,address_line_two:ee.address.line2,city:ee.address.city,state:ee.address.state,country:ee.address.country,postal_code:ee.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated User Details successfully!");var n=e.data;console.log(n),q((function(){return!1})),te((function(e){return Object(j.a)(Object(j.a)({},e),{},{emailDisplay:ee.email})})),h((function(){return!1})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated User Details successfully!"})]})),t()})).catch((function(e){console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),q((function(){return!1})),t()}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage Account",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Account"})]}),Object(v.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Account"}),p||ce.render?null:Object(v.jsx)("button",{onClick:function(){return le("editAccount")},type:"button",className:g?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!g,children:"Edit"})]}),ce.render?Object(v.jsx)(jn,{errMsg:ce.errMsg,errStatus:ce.errStatus,errStatusText:ce.errStatusText}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Manage-account__Profile-card c-Profile-card",children:[Object(v.jsxs)("div",{className:"l-Profile-card__Left",children:[Object(v.jsx)("img",{src:M,alt:"Profile img"}),Object(v.jsx)("span",{children:"Change profile picture"})]}),Object(v.jsxs)("div",{className:"l-Profile-card__Right",children:[Object(v.jsx)("h1",{children:ee.fullName}),Object(v.jsxs)("h2",{children:["@",ee.username]}),Object(v.jsx)("p",{children:ee.jobTitle}),Object(v.jsx)("p",{children:ee.emailDisplay}),Object(v.jsx)("p",{children:ee.companyName})]})]}),p?Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"firstName",value:ee.firstName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"lastName",value:ee.lastName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:ie,name:"email",value:ee.email})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("p",{children:"Role(s)"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"line1",value:ee.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"line2",value:ee.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"city",value:ee.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"country",value:ee.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"postalCode",value:ee.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{onFocus:function(){return F(!0)},type:"text",onChange:oe,name:"state",value:ee.address.state})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[I?Object(v.jsx)("button",{onClick:function(){return le("editAccountSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:R?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return le("editAccountCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"firstName",value:ee.firstName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"lastName",value:ee.lastName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"email",value:ee.email})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Username c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"username",value:ee.username})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("p",{children:"Role(s)"}),ee.roles.map((function(e,t){return Object(v.jsx)(ln,{tagListing:"".concat(e.name),deletable:!1},t)}))]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"organisation",children:"Organisation"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"organisation",value:ee.companyName})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"address_line_one",children:"Address Line One"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"address_line_one",value:ee.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"address_line_two",children:"Address Line Two"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"address_line_two",value:ee.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"city",value:ee.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"country",value:ee.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"postal_code",value:ee.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"state",value:ee.address.state})]})]})]}),Object(v.jsxs)("div",{className:"l-Manage-account__Password",children:[Object(v.jsx)("h1",{children:"Password and Authentication"}),g?Object(v.jsxs)("div",{className:"c-Change-Password",children:[Object(v.jsx)("p",{children:"Enter your current password and a new password"}),Object(v.jsxs)("div",{className:"c-Change-Password__Current-password",children:[Object(v.jsx)("label",{htmlFor:"oldPassword",children:"Current Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"oldPassword"})]}),Object(v.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(v.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"password"})]}),Object(v.jsxs)("div",{className:"c-Change-Password__New-password",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),Object(v.jsx)("input",{onChange:se,type:"password",name:"confirmPassword"})]}),Object(v.jsx)(S,{validity:Q}),Object(v.jsxs)("div",{className:"c-Change-Password__Btns",children:[!0===Q.minChar&&!0===Q.number&&!0===Q.specialChar&&!0===Q.match?Object(v.jsx)("button",{onClick:function(){return le("changePasswordSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:"Save"}),Object(v.jsx)("button",{onClick:function(){return le("changePasswordCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsx)("div",{className:"c-Change-Password__Btns",children:Object(v.jsx)("button",{onClick:function(){return le("changePassword")},type:"button",className:p?"c-Btn c-Btn--primary c-Btn--disabled":"c-Btn c-Btn--primary",disabled:!!p,children:"Change Password"})})]})]})]})})]})},bn=function(){var e=Wt.Search.SearchBar,t=Wt.Search.ClearSearchButton,n=(Object(u.g)(),N.getToken()),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,c.admin_level),i=Object(a.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(a.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],f=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),g=Object(d.a)(f,2),A=g[0],_=g[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/employees?roles=true"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1,username:e.account.username,accountStatus:e.account.status})}));console.log(t),x((function(){return t}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),_((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))}))}),[]);var y=[{dataField:"employee_id",text:"Id",hidden:!0},{dataField:"serialNo",text:"#",editable:!1},{dataField:"admin_level",text:"Admin level",formatter:function(e,t){return 0===e?"Normal user":1===e?"Platform admin":2===e?"System admin":3===e?"Secondary Admin":void 0}},{dataField:"email",text:"Email",editable:!1},{dataField:"title",text:"Job Title"},{dataField:"username",text:"Username",editable:!1},{dataField:"roles",text:"Role(s)",editable:!1,formatter:function(e,t){return 0===e.length?"Nil":e.map((function(t,n){return e.length===n+1?t.name:Object(v.jsxs)("div",{children:[t.name+",",Object(v.jsx)("br",{})]},n)}))}},{dataField:"accountStatus",text:"Status",formatter:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)}},{dataField:"account_action",text:"",hidden:2!==s,isDummyField:!0,formatter:function(e,t){return Object(v.jsx)("a",{href:"/settings/manage-users/manage-user/".concat(t.employee_id),children:"Manage"})}}];return Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Manage Users",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-users c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-users l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Users"})]}),Object(v.jsx)("div",{className:"c-Manage-users__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Users"})}),A.render?Object(v.jsx)(jn,{errMsg:A.errMsg,errStatus:A.errStatus,errStatusText:A.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"c-Manage-users__Table",children:Object(v.jsx)(Jt.a,{keyField:"employee_id",data:h,columns:y,search:!0,children:function(n){return Object(v.jsxs)("div",{className:"c-Table",children:[Object(v.jsxs)("div",{className:"c-Table__Top",children:[Object(v.jsx)(e,Object(j.a)({},n.searchProps)),Object(v.jsx)(t,Object(j.a)({className:"c-Table__Clear-btn"},n.searchProps))]}),Object(v.jsx)("hr",{}),Object(v.jsx)(Ce.a,Object(j.a)(Object(j.a)({},n.baseProps),{},{bordered:!1,pagination:Rt()()}))]})}})})})]})})},mn=function(e){var t=e.match.params.employeeID,n=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=Object(a.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)({roles:[]}),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(a.useState)([]),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)({roles:"",jobTitle:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)({jobTitle:!1}),F=Object(d.a)(M,2),w=F[0],k=F[1],P=Object(a.useState)(!1),B=Object(d.a)(P,2),R=B[0],H=B[1],Y=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=Object(a.useState)(0),W=Object(d.a)(V,2),J=W[0],G=W[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t,"?roles=true&company=true"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results,n={fullName:"".concat(t.firstname," ").concat(t.lastname),username:t.account.username,jobTitle:t.title,email:t.email,companyName:t.company.name,firstName:t.firstname,lastName:t.lastname,roles:t.roles,accountStatus:t.account.status,adminLevel:t.admin_level};G((function(){return t.admin_level})),h((function(){return n}))})).catch((function(e){console.log(e),e.response&&(401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),Q((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})}))))})),O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/roles"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e);var t=e.data.results;y((function(){return t}))})).catch((function(e){console.log(e),console.log(e.response),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),Q((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[R]),Object(a.useEffect)((function(){I((function(){return{role:"",jobTitle:p.jobTitle}}))}),[p]);var K=function(e,a){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employee/").concat(t,"/roles"),{roles:function(){if("add"===e){var t=p.roles.map((function(e,t){return e.role_id}));return t.push(S.roles),console.log(t),t}if("delete"===e){var n=p.roles.map((function(e,t){return e.role_id})),c=n.indexOf(a);return n.splice(c,1),console.log(n),n}}()},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),H((function(e){return!e})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Roles updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},Z=function(e){var a;if("activated"===e){a="active";var r={message:"Are you sure you want to activate this account?",handler:function(e){return i(e)},heading:"Confirm Activate?",type:"primary"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},r),{},{onClose:t}))}})}else{a="deactivated";var s={message:"Are you sure you want to deactivate this account?",handler:function(e){return i(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},s),{},{onClose:t}))}})}var i=function(r){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{account_status:a},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),H((function(e){return!e})),r(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),r(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage User",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-user c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-user__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-users",children:"Manage users"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage user"})]}),Object(v.jsx)("div",{className:"c-Manage-user__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage User"})}),z.render?Object(v.jsx)(jn,{errMsg:z.errMsg,errStatus:z.errStatus,errStatusText:z.errStatusText}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h1",{className:"c-Manage-user__User-heading",children:["You are viewing settings for @","".concat(p.username)]}),Object(v.jsxs)("div",{className:"c-Manage-user__Inputs",children:[Object(v.jsxs)("div",{className:"c-Inputs__Left",children:[Object(v.jsxs)("div",{className:"c-Left__Admin-level",children:[Object(v.jsx)("label",{htmlFor:"adminLevel",children:"Admin Level"}),Object(v.jsxs)("select",{disabled:2===J,name:"adminLevel",onChange:function(e){h((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,[e.target.value]))}))},value:p.adminLevel||0,children:[Object(v.jsx)("option",{value:"0",children:"Normal User"}),Object(v.jsx)("option",{value:"3",children:"Secondary Admin"})]}),Object(v.jsx)("button",{disabled:2===J,type:"button",className:2===J?"c-Btn c-Btn--disabled":"c-Btn c-Btn--primary",onClick:function(){2!==J?(console.log(p.adminLevel),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{admin_level:p.adminLevel},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),H((function(e){return!e})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:" Admin level has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))):A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error! Message: ",Object(v.jsx)("b",{children:"Super admin cannot change its own level"})]}))},children:"Save"})]}),Object(v.jsxs)("div",{className:"c-Left__Job-title",children:[Object(v.jsx)("h2",{children:"Job Title"}),Object(v.jsx)("div",{className:"c-Job-title__Input",children:w.jobTitle?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"text",name:"jobTitle",value:S.jobTitle||"",onChange:function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))}}),Object(v.jsxs)("div",{className:"c-Input__Btn-section",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/employees/").concat(t),{title:S.jobTitle},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),I((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:p.jobTitle})})),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})),H((function(e){return!e})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Job title has been updated!"})]}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))},children:"Save"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){"jobTitle"==="jobTitle"&&(I((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:p.jobTitle})})),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})))},children:"Cancel"})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"text",value:p.jobTitle||"",disabled:!0}),Object(v.jsx)("div",{className:"c-Input__Btn-section c-Btn-section--edit",children:Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){"jobTitle"==="jobTitle"&&(k((function(e){return Object(j.a)(Object(j.a)({},e),{},{jobTitle:!e.jobTitle})})),console.log(S))},children:"Edit"})})]})})]})]}),Object(v.jsxs)("div",{className:"c-Inputs__Right",children:[Object(v.jsx)("label",{htmlFor:"roles",children:"Current Role(s)"}),Object(v.jsxs)("select",{name:"roles",onChange:function(e){var t=parseInt(e.target.value);I((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(m.a)({},e.target.name,t))}))},value:S.roles,children:[Object(v.jsx)("option",{value:"",children:"Please select a role"}),g.map((function(e,t){var n=!1;return p.roles.forEach((function(t,a){e.role_id===t.role_id&&(n=!0)})),n?null:Object(v.jsx)("option",{value:e.role_id,children:e.name},t)}))]}),p.roles.map((function(e,t){return Object(v.jsxs)("div",{className:"c-Roles__Data",children:[e.name,Object(v.jsx)("div",{className:"c-Data__Delete-Btn",children:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{onClick:function(){return K("delete",e.role_id)}})})})]},t)})),function(){var e=!1,t=g.map((function(e,t){return e.role_id})),n=p.roles.map((function(e,t){return e.role_id}));return JSON.stringify(t.sort())===JSON.stringify(n.sort())&&(e=!0),e?Object(v.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--disabled",disabled:!0,children:"Add"}):Object(v.jsx)("button",{className:"c-Roles__Add c-Btn c-Btn--primary",onClick:function(){return K("add")},children:"Add"})}()]})]}),Object(v.jsx)("div",{className:"c-Manage-user__Inputs"}),2===J?null:Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"c-Manage-user__Inputs",children:Object(v.jsxs)("div",{className:"c-Inputs__Danger-zone",children:[Object(v.jsx)("h2",{children:"Danger Zone"}),Object(v.jsx)("div",{className:"c-Danger-zone__Row",children:"active"===p.accountStatus?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return Z("deactivated")},children:"Deactivate user"}),Object(v.jsxs)("div",{className:"c-Row__Info",children:[Object(v.jsx)("h3",{children:"Deactivate this user"}),Object(v.jsx)("p",{children:"The user will not have access to the company's eISO system."})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return Z("activated")},children:"Activate user"}),Object(v.jsxs)("div",{className:"c-Row__Info",children:[Object(v.jsx)("h3",{children:"Activate this user"}),Object(v.jsx)("p",{children:"The user will regain access to the company's eISO system."})]})]})})]})})})]})]})})]})},pn=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=(t[0],t[1],Object(u.g)());return Object(v.jsx)("div",{className:"c-Page-not-found",children:Object(v.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(v.jsxs)(dn.a,{variant:"danger",children:[Object(v.jsx)(dn.a.Heading,{children:"Oh snap! You got an error!"}),Object(v.jsx)("p",{children:"This page doesn't exists :/ Would you like to go back?"}),Object(v.jsx)("button",{className:"c-Alert-box__Back-btn c-Btn c-Btn--cancel",onClick:function(){n.goBack()},children:"Go back"})]})})})},hn=function(e){var t=e.match.params.rnoID,n=N.getToken(),c=N.getDecodedToken().company_id,r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(d.a)(l,2),u=j[0],b=j[1],m=Object(a.useState)({strength:[],weakness:[],opp:[],threat:[]}),p=Object(d.a)(m,2),h=p[0],x=p[1];return Object(a.useEffect)((function(){isNaN(t)||null===t||O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/risks-analyses/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){var t={strength:e.data.strengths.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),weakness:e.data.weaknesses.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),opp:e.data.opportunities.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}})),threat:e.data.threats.map((function(e,t){return{serialNo:t+1,id:e.fk_risks_analysis_id,swot_item_id:e.fk_swot_item_id,content:e.swot.content,type:e.type,severity:e.severity,likelihood:e.likelihood,rpn:e.rpn,action:e.action,modified:J()(new Date(e.updated_at)).format("DD/MM/YYYY")}}))};x((function(){return t}));var n={title:e.data.title,created_by:e.data.author.firstname+" "+e.data.author.lastname,approved_by:e.data.approver.firstname+" "+e.data.author.lastname,approved_on:J()(new Date(e.data.approved_on)).format("MMMM D, YYYY h:mm A")};console.log(n),b((function(){return n}))})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Risk and Opportunity",activeLink:"/risk-n-opportunity",children:Object(v.jsxs)("div",{className:"c-RNO c-Main",children:[Object(v.jsxs)(X.a,{className:"c-RNO__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/risk-n-opportunity",children:"Risk and Opportunity"}),Object(v.jsx)(X.a.Item,{active:!0,children:"View Archived"})]}),Object(v.jsx)("div",{className:"c-RNO__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Risk and Opportunity (Archived)"})}),Object(v.jsx)("div",{className:"c-RNO__Document c-Main__Document",children:Object(v.jsx)(ce,{children:Object(v.jsxs)("div",{className:"c-RNO__Document-content c-Document",children:[Object(v.jsx)("h1",{className:"c-Document__Title",children:u.title?u.title:null}),Object(v.jsxs)("div",{className:"c-RNO__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-RNO__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"Approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Approved on:"})]}),Object(v.jsxs)("div",{className:"c-RNO__Document-header--right c-Document__Header--right",children:[Object(v.jsx)("p",{children:u.approved_by?u.approved_by:"Error"}),Object(v.jsx)("p",{children:u.created_by?u.created_by:"Error"}),Object(v.jsx)("p",{children:u.approved_on?u.approved_on:"Error"})]})]}),Object(v.jsxs)("div",{className:"c-RNO__Table",children:[Object(v.jsx)("h1",{children:"Strengths"}),h.strength.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Weakness"}),h.weakness.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Opportunities"}),h.opp.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)})),Object(v.jsx)("h1",{children:"Threats"}),h.threat.map((function(e,t){return console.log(e),Object(v.jsx)(vt,{docType:"active",rnoItemData:e,rnoItemIndex:t},t)}))]})]})})})]})})},On=n(195),xn=function(){Wt.Search.SearchBar,Wt.Search.ClearSearchButton,Object(u.g)();var e=N.getToken(),t=N.getDecodedToken().company_id,n=_.toastTiming,c=Object(a.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)([]),l=Object(d.a)(o,2),b=(l[0],l[1],Object(a.useState)(!1)),p=Object(d.a)(b,2),h=p[0],x=p[1],f=Object(a.useState)({name:"",email:"",title:""}),g=Object(d.a)(f,2),y=g[0],D=g[1],T=function(e){console.log(y),console.log(e.target.name),console.log(e.target.value),D((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Invites",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-invites c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-invites l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Invites"})]}),Object(v.jsx)("div",{className:"c-Manage-invites__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage Invites"})}),Object(v.jsxs)("div",{className:"c-Manage-invites__Send-email",children:[Object(v.jsx)("h2",{children:"Send Invite*"}),h?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(On.a,{animation:"border",role:"status"}),Object(v.jsx)("p",{children:"Loading..."})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"c-Send-email__Input",children:[Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"name",placeholder:"Name",value:y.name})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Job Title"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"title",placeholder:"Job Title",value:y.title})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{type:"text",onChange:T,name:"email",placeholder:"Email",value:y.email})]}),Object(v.jsxs)("div",{className:"c-Input__Row",children:[Object(v.jsx)("label",{htmlFor:"induction_template",children:"Induction Template"}),Object(v.jsx)("select",{name:"induction_template",children:Object(v.jsx)("option",{value:null,children:"Assign an induction template"})})]})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"*"}),"Users who sign up through the invite link will have the role of 'Normal User'."]}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){var n={message:"You are about to send an invite link to ".concat(y.email," to the system. Click confirm to proceed."),handler:function(e){return a(e)},heading:"Confirm send invite?",type:"primary"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},n),{},{onClose:t}))}});var a=function(n){n(),x((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/invites/new/user"),y,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["Email has been sent to: ","".concat(y.email),"!"]})]})),x((function(){return!1})),D((function(){return{name:"",email:"",title:""}}))})).catch((function(e){console.log(e);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),x((function(){return!1})),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]}))}))}},children:"Send Invite"})]})]}),Object(v.jsxs)("div",{className:"c-Manage-invites__Table",children:[Object(v.jsx)("h2",{children:"Invites List"}),Object(v.jsx)("p",{children:"Coming soon..."})]})]})})]})},vn=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,n=_.toastTiming,c=Object(a.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],b=l[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)(!1),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)({companyName:"Error",businessRegNum:"Error",companyAlias:"Error",createdOn:"Error",status:"Error",description:"Error",address:{line1:"Error",line2:"Error",city:"Error",state:"Error",country:"Error",postalCode:"Error"}}),I=Object(d.a)(S,2),M=I[0],F=I[1],E=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),w=Object(d.a)(E,2),R=w[0],q=w[1];Object(a.useEffect)((function(){O.a.get("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e);var t=e.data.results,n={companyName:t.name,businessRegNum:t.business_registration_number,companyAlias:t.alias,createdOn:t.created_at,status:t.status,description:t.description,address:{addressID:t.address_id,line1:t.address.address_line_one,line2:t.address.address_line_two,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postal_code}};F((function(){return n}))})).catch((function(e){console.log(e),401!==e.response.status&&403!==e.response.status&&404!==e.response.status||(console.log("this was ran"),q((function(t){return Object(j.a)(Object(j.a)({},t),{},{render:!0,errMsg:e.response.data.message,errStatus:e.response.status,errStatusText:e.response.statusText})})))}))}),[e,t]);var H=function(e){F((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},Y=function(e){F((function(t){return Object(j.a)(Object(j.a)({},t),{},{address:Object(j.a)(Object(j.a)({},t.address),{},Object(m.a)({},e.target.name,e.target.value))})}))},U=function(e){if("editCompany"!==e&&"editCompanyCancel"!==e||b((function(e){return!e})),"editCompanySave"===e){var t={message:"You are about to save new company details. Click confirm to proceed.",handler:function(e){return z(e)},heading:"Confirm Save?",type:"primary"};return Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}},z=function(n){T((function(){return!0})),O.a.put("".concat("http://3.136.78.128:8000/api/v1","/companies/").concat(t),{name:M.companyName,business_registration_number:M.businessRegNum,alias:M.companyAlias,status:M.status,description:M.description,address:{address_line_one:M.address.line1,address_line_two:M.address.line2,city:M.address.city,state:M.address.state,country:M.address.country,postal_code:M.address.postalCode}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log("Updated Company Details successfully!");var t=e.data;console.log(t),T((function(){return!1})),b((function(){return!1})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated Company Details successfully!"})]})),n()})).catch((function(e){console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]})),T((function(){return!1})),n()}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Account",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-account c-Main",children:[Object(v.jsxs)(X.a,{className:"c-IP__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Organization"})]}),Object(v.jsxs)("div",{className:"c-Manage-account__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Organization"}),u||R.render?null:Object(v.jsx)("button",{onClick:function(){return U("editCompany")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),R.render?Object(v.jsx)(jn,{errMsg:R.errMsg,errStatus:R.errStatus,errStatusText:R.errStatusText}):u?Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:H,name:"companyName",value:M.companyName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:H,name:"businessRegNum",value:M.businessRegNum})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:H,name:"companyAlias",value:M.companyAlias})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("p",{children:"Cannot be edited!"})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"line1",value:M.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"line2",value:M.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"city",value:M.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"country",value:M.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"postalCode",value:M.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:Y,name:"state",value:M.address.state})]})]}),Object(v.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:H,name:"description",value:M.description})]})}),Object(v.jsxs)(P.a,{className:"c-Manage-account__Btns",children:[x?Object(v.jsx)("button",{onClick:function(){return U("editCompanySave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return U("editCompanyCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-account__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__First-name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"companyName",value:M.companyName})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Last-name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"businessRegNum",children:"Business Registration Number"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"businessRegNum",value:M.businessRegNum})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"companyAlias",children:"Company Alias"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"companyAlias",value:M.companyAlias})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Email c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:J()(new Date(M.createdOn)).format("MMMM D, YYYY h:mm A")})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"line1",children:"Address Line One"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"line1",value:M.address.line1})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"line2",children:"Address Line Two"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"line2",value:M.address.line2})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"city",value:M.address.city})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"country",value:M.address.country})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"postalCode",value:M.address.postalCode})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Organisation c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"state",children:"State"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"state",value:M.address.state})]})]}),Object(v.jsx)(P.a,{className:"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input l-Manage-account__Roles c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"description",value:M.description})]})})]})]})})]})},fn=n(196),gn=n.n(fn),An=n(94),_n=function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=p[1],y=Object(a.useState)(null),N=Object(d.a)(y,2),D=N[0],T=N[1],S=Object(a.useState)({username:"",password:""}),I=Object(d.a)(S,2),C=I[0],M=I[1],F=Object(a.useState)(!1),w=Object(d.a)(F,2),R=w[0],q=w[1],H=_.toastTiming;Object(a.useEffect)((function(){""!==C.username?r((function(){return!0})):r((function(){return!1})),l(""!==D?function(){return!0}:function(){return!1})}),[C,D]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:H,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(f,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsxs)("div",{className:"c-Login__Card",children:[Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.username.value;console.log(t),e.preventDefault(),q((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/new"),{username:t},{}).then((function(e){console.log("Sent OTP successfully!");var t=e.data;console.log(t),q((function(){return!1})),x(!0),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"OTP has been sent!"})]}))})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),q((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:g,alt:"logo"})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(P.a,{children:[Object(v.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(An.a,{onClick:function(){return e.goBack()}})})}),Object(v.jsx)(B.a,{xs:11,children:Object(v.jsx)("h4",{children:"Forgot Password"})})]})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",value:C.username||"",onChange:function(e){M((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},placeholder:"username"}),Object(v.jsx)("p",{className:"c-Username__Information-message text-muted",children:"We will send a one time password for verification to your email address"})]}),c?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Send OTP"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Send OTP"})]}),h?Object(v.jsxs)("form",{onSubmit:function(t){console.log(D),console.log(C.username),t.preventDefault(),q((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/check"),{username:C.username,otp:D},{}).then((function(t){console.log("Checked OTP successfully!");var n=t.data;console.log(n),q((function(){return!1})),e.push("/change-password/".concat(C.username,"/").concat(D))})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),q((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Username",children:Object(v.jsx)("label",{htmlFor:"otp",children:"Key in OTP"})}),Object(v.jsx)(gn.a,{value:D,onChange:function(e){T((function(){return e}))},numInputs:6,inputStyle:"",className:"otpInput",name:"otp"}),o?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:R?"Loading...":"Submit"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Submit"})]}):""]})})})]})},yn=function(e){var t=e.match,n=t.params.username,c=t.params.otp,r=/\d/,s=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,i=_.toastTiming,o=Object(u.g)(),l=Object(a.useState)(!1),b=Object(d.a)(l,2),p=b[0],h=b[1],x=Object(a.useState)(!1),y=Object(d.a)(x,2),N=y[0],D=y[1],T=Object(a.useState)({password:"",confirmPassword:""}),I=Object(d.a)(T,2),C=I[0],M=I[1],F=Object(a.useState)({minChar:!1,number:!1,specialChar:!1,match:!1}),w=Object(d.a)(F,2),R=w[0],q=w[1],H=Object(a.useState)(!1),Y=Object(d.a)(H,2),U=Y[0],L=Y[1];Object(a.useEffect)((function(){""!==C.password&&""!==C.confirmPassword?h((function(){return!0})):h((function(){return!1})),q((function(){return{minChar:C.password.length>=8,number:!!r.test(C.password),specialChar:!!s.test(C.password),match:C.password===C.confirmPassword}}))}),[C]);var z=function(e){M((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:i,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(f,{title:"Login"}),Object(v.jsx)("div",{className:"c-Login",children:Object(v.jsx)("div",{className:"l-Login__Card",children:Object(v.jsx)("div",{className:"c-Login__Card",children:Object(v.jsxs)("form",{onSubmit:function(e){var t=e.target.password.value;e.preventDefault(),L((function(){return!0})),O.a.post("".concat("http://3.136.78.128:8000/api/v1","/forget-password/otp/change"),{otp:c,password:t,username:n},{}).then((function(e){console.log("Changed Password successfully!");var t=e.data;console.log(t),L((function(){return!1})),setTimeout((function(){A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Changed Password successfully!"})]}))}),0),o.push("/login")})).catch((function(e){console.log(e.response);var t="Error!",n="Error!";void 0!==e.response&&(t=e.response.status,n=e.response.data.message),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n})]})),L((function(){return!1}))}))},children:[Object(v.jsx)("div",{className:"c-Card__Logo",children:Object(v.jsx)("img",{src:g,alt:"logo"})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(P.a,{children:[Object(v.jsx)(B.a,{className:"c-Card__Back-btn",xs:1,children:Object(v.jsx)(E.b.Provider,{value:{size:"21px"},children:Object(v.jsx)(An.a,{onClick:function(){return o.goBack()}})})}),Object(v.jsx)(B.a,{xs:11,children:Object(v.jsx)("h4",{children:"Change Password"})})]})}),Object(v.jsxs)("div",{className:"c-Card__Username",children:[Object(v.jsx)("label",{htmlFor:"password",children:"New Password"}),Object(v.jsx)("input",{type:"password",onFocus:function(){return D(!0)},name:"password",value:C.password||"",onChange:z,placeholder:"Password"})]}),Object(v.jsxs)("div",{className:"c-Card__Password",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",name:"confirmPassword",value:C.confirmPassword||"",onChange:z,placeholder:"Confirm Password"})]}),N&&Object(v.jsx)(S,{validity:R}),p&&!0===R.minChar&&!0===R.number&&!0===R.specialChar&&!0===R.match?Object(v.jsx)("button",{className:"c-Btn c-Btn--login",type:"submit",value:"submit",children:U?"Loading...":"Change Password"}):Object(v.jsx)("button",{className:"c-Btn c-Btn--disabled",type:"button",disabled:!0,children:"Change Password"})]})})})})]})},Nn=function(){var e=_.toastTiming,t=Object(u.g)(),n=N.getDecodedToken(),c=n.company_id,r=n.employee_id,s=Object(a.useState)(C),i=Object(d.a)(s,2),j=i[0],b=i[1],m=Object(a.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],f=Object(a.useState)([]),g=Object(d.a)(f,2),y=g[0],D=g[1],T=Object(a.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a,s,i,l,d,j,u,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 3:if(n=t.sent,!e){t.next=39;break}if(a=!1,n.data.results.forEach((function(e,t){e.employee_id===r&&(a=!0)})),s=[],i=[],l=[],!a){t.next=31;break}return t.next=13,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"));case 13:return d=t.sent,console.log(d),s=d.data.results,console.log(s),t.next=19,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 19:return j=t.sent,console.log(j),i=j.data.results,console.log(i),t.next=25,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment?archived=1"));case 25:u=t.sent,console.log(u),l=u.data.results,console.log(l),t.next=36;break;case 31:return t.next=33,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/assigned-equipment"));case 33:b=t.sent,console.log(b),s=b.data.results;case 36:D((function(){return i.map((function(e,t){return{id:e.category_id,serialNo:t+1,name:e.name,createdOn:J()(new Date(e.created_at)).format("MMMM D, YYYY h:mm A"),action_manage:"/equipment-maintenance/manage-category/".concat(e.category_id)}}))})),x((function(){return s.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e,n){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,action_manage:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))})),M((function(){return l.map((function(e,t){return{id:e.equipment_id,serialNo:t+1,name:e.name,category:function(){var t="";return e.categories.map((function(e,n){t+=e.name+", "})),t.slice(0,-2)}(),refNo:e.reference_number,model:e.model,archived_on:J()(new Date(e.archived_at)).format("MMMM D, YYYY h:mm A"),action_view:"/equipment-maintenance/manage-equipment/".concat(e.equipment_id)}}))}));case 39:t.next=44;break;case 41:t.prev=41,t.t0=t.catch(0),console.log(t.t0);case 44:case"end":return t.stop()}}),t,null,[[0,41]])})))(),function(){e=!1}}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:j,setSideNavStatus:b,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(v.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Equipment Maintenance Program"})]}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Equipment Maintenance Programme"}),Object(v.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-equipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Equipment"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h,columns:pe,pagination:Rt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance-category__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Equipment Categories"}),Object(v.jsx)("button",{onClick:function(){t.push("/equipment-maintenance/add-category")},type:"button",className:"c-Btn c-Btn--primary",children:"Add New Category"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:y,columns:me,pagination:Rt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ce.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:I,columns:he,pagination:Rt()()})]})]})})]})},Dn=n(62),Tn=n.n(Dn),Sn=function(e){var t=e.match,n=N.getToken(),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(a.useState)(!1),b=Object(d.a)(i,2),p=(b[0],b[1]),h=Object(u.g)(),x=Object(a.useState)([]),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)(!1),T=Object(d.a)(D,2),S=T[0],I=(T[1],Object(a.useState)(!1)),M=Object(d.a)(I,2),F=M[0],w=M[1],R=Object(a.useState)({users:""}),H=Object(d.a)(R,2),Y=(H[0],H[1],Object(a.useState)({username:[]})),U=Object(d.a)(Y,2),z=(U[0],U[1],Object(a.useState)({name:"Error",category:"Error",refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",location:"Error",archivedAt:null})),Q=Object(d.a)(z,2),V=Q[0],W=Q[1],J=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),G=Object(d.a)(J,2),K=G[0],Z=(G[1],Object(a.useState)(!1)),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(C),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1],se=Object(a.useState)(!1),ie=Object(d.a)(se,2),oe=(ie[0],ie[1],Object(a.useState)([])),le=Object(d.a)(oe,2),de=(le[0],le[1],t.params.emID);Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(de));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),W((function(){return{id:t.equipment_id,name:t.name,category:function(){var e="";return t.categories.map((function(t,n){e+=t.name+", "})),e.slice(0,-2)}(),refNo:t.reference_number,regNo:t.register_number,model:t.model,serialNo:t.serial_number,location:t.location,archivedAt:t.archived_at}})),y((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:t+1,maintenanceType:e.type,responsible:function(){var t=[],n="";return e.assignees.map((function(e){n+=e.account.username+", "})),t.push(n.slice(0,-2)),n="",t}(),maintenanceFrequency:(console.log(e.freq_unit_time),7===e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30===e.freq_unit_time?"".concat(e.freq_multiplier," months"):365===e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0),lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id),action_manage:"/equipment-maintenance/manage-equipment/".concat(de,"/manage-cycle/").concat(e.maintenance_id),action_delete:(console.log(e.maintenance_id),Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return je(e.maintenance_id)}})}))}}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[V.archivedAt]);var je=function(e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(t){return a(t,e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}});var a=function(e,t){O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(de,"/all-maintenance/").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),p((function(e){return!e})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}},ue=function(e){"add"===e&&h.push("/equipment-maintenance/manage-equipment/".concat(de,"/add-cycle")),"edit"===e&&te(!0),"editEquipmentCancel"===e&&te(!1),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(V),e.next=4,O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(V.id),V,{headers:{Authorization:"Bearer ".concat(n)}});case 4:t=e.sent,console.log(t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated equipment details!"})]})),te(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},be=function(e){W((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},me=function(e){if("activated"===e){"active";var t={message:"Are you sure you want to activate this account?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}else{"deactivated";var a={message:"Are you sure you want to deactivate this account?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},a),{},{onClose:t}))}})}var c=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(de,"/activate"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),p((function(e){return!e})),t(),W(Object(j.a)(Object(j.a)({},V),{},{archivedAt:null})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},s=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(de,"/archive"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),p((function(e){return!e})),t(),W(Object(j.a)(Object(j.a)({},V),{},{archivedAt:"refresh"})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:ce,setSideNavStatus:re,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Equipment"}),ee||K.render?null:Object(v.jsx)("button",{onClick:function(){return ue("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),K.render?Object(v.jsx)(jn,{errMsg:K.errMsg,errStatus:K.errStatus,errStatusText:K.errStatusText}):Object(v.jsx)(v.Fragment,{children:ee?Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"name",value:V.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category"}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"category",value:V.category})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"refNo",value:V.refNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"location",children:"Location"}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"location",value:V.location})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"regNo",value:V.regNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"model",value:V.model})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(v.jsx)("input",{onFocus:function(){return w(!0)},type:"text",onChange:be,name:"serialNo",value:V.serialNo})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[F?Object(v.jsx)("button",{onClick:function(){return ue("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:S?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return ue("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"name",value:V.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"category",value:V.category})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"refNo",children:"Ref. No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"refNo",value:V.refNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"location",children:"Location"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"location",value:V.location})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"regNo",children:"Reg. No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"regNo",value:V.regNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"model",value:V.model})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"serialNo",children:"Serial No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"serialNo",value:V.serialNo})]})]})]})}),Object(v.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(v.jsxs)("div",{className:"c-Danger-zone__Row",children:[console.log(V.archivedAt),null===V.archivedAt?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return me("deactivated")},children:"Archive Equipment"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"The equipment will be moved to archives."})})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return me("activated")},children:"Unarchive Equipment"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"The equipment will be restored from archives."})})]})})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Maintenance Cycles"}),Object(v.jsx)("button",{onClick:function(){return ue("add")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:[console.log(g),0!==g.length?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:g,columns:Oe,pagination:Rt()()}):"No records found!"]})]})})]})},In=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,n=_.toastTiming,c=Object(u.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=(s[0],s[1]),b=Object(a.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=(p[1],Object(a.useState)(!1)),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)({name:"",categories:[],reference_number:"",register_number:"",model:"",serial_number:"",location:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)([]),F=Object(d.a)(M,2),E=F[0],w=F[1],R=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(R,2),H=q[0],Y=(q[1],Object(a.useState)(C)),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=function(n){if("addEquipment"===n){console.log(S);var a={message:"Are you sure you want to add this equipment?",handler:function(e){return r(e)},heading:"Confirm Add?",type:"primary"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},a),{},{onClose:t}))}})}else"cancel"===n&&c.push("/equipment-maintenance");var r=function(n){O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/all-equipment"),S,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),i((function(e){return!e})),n(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"New equipment has been added!"})]}))})).catch((function(e){console.log(e),console.log(e.response);var t="Error!",a="Error!";void 0!==e.response&&(t=e.response.status,a=e.response.data.message),n(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}},W=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},J=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,[e.target.value]))}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 4:a=e.sent,console.log(a),n=a.data.results,console.log(n),w((function(){return 0===n.length?null:n.map((function(e){return{name:"".concat(e.name)}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:z,setSideNavStatus:Q,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Equipment"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[g?Object(v.jsx)("button",{onClick:function(){return V("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:h?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return V("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),H.render?Object(v.jsx)(jn,{errMsg:H.errMsg,errStatus:H.errStatus,errStatusText:H.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Name"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"name",value:S.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"categories",children:"Category"}),Object(v.jsxs)("select",{onFocus:function(){return y(!0)},type:"text",name:"categories",onChange:J,value:S.categories||"Error",children:[Object(v.jsx)("option",{children:E?"Select Category":"No categories found!"}),E?E.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)})):null]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"reference_number",children:"Ref. No."}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"reference_number",value:S.reference_number})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"register_number",children:"Reg. No."}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"register_number",value:S.register_number})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"model",children:"Model/Brand"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"model",value:S.model})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"serial_number",children:"Serial No."}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"serial_number",value:S.serial_number})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Serial-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"location",children:"Location"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"location",value:S.location})]})]})]})})]})})]})},Cn=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,n=_.toastTiming,c=Object(u.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=s[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)({name:""}),y=Object(d.a)(g,2),D=y[0],T=y[1],S=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),I=Object(d.a)(S,2),M=I[0],F=(I[1],Object(a.useState)(C)),E=Object(d.a)(F,2),w=E[0],R=E[1],q=function(n){"addCategory"===n?(console.log(D),Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(!0),n.next=4,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"),D,{headers:{Authorization:"Bearer ".concat(e)}});case 4:a=n.sent,console.log(a),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Inserted new category!"})]})),b(!1),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0),b(!1),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n.t0.response.status}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:n.t0.response.data.message})]}));case 15:case"end":return n.stop()}}),n,null,[[0,10]])})))()):"cancel"===n&&c.push("/equipment-maintenance")},H=function(e){T((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:w,setSideNavStatus:R,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-category",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Category"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Category"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[x?Object(v.jsx)("button",{onClick:function(){return q("addCategory")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return q("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),M.render?Object(v.jsx)(jn,{errMsg:M.errMsg,errStatus:M.errStatus,errStatusText:M.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsx)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{onFocus:function(){return f(!0)},type:"text",onChange:H,name:"name",value:D.name})]})})})})]})})]})},Mn=function(e){var t=e.match,n=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=(Object(u.g)(),t.params.catID),i=Object(a.useState)(!1),b=Object(d.a)(i,2),p=b[0],h=b[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),g=f[0],y=(f[1],Object(a.useState)(!1)),D=Object(d.a)(y,2),T=D[0],S=D[1],I=Object(a.useState)({name:"",description:"f"}),M=Object(d.a)(I,2),F=M[0],E=M[1],w=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),R=Object(d.a)(w,2),q=R[0],H=(R[1],Object(a.useState)(C)),Y=Object(d.a)(H,2),U=Y[0],z=Y[1],Q=function(e){"save"===e?(console.log(F),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(s),F,{headers:{Authorization:"Bearer ".concat(n)}});case 3:t=e.sent,console.log(t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated category!"})]})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:e.t0.response.status}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:e.t0.response.data.message})]}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()):"cancel"===e?h(!1):"edit"===e&&h(!0)},V=function(e){E((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories/").concat(s,"/assigned-equipment"));case 3:t=e.sent,console.log(t),n=t.data.results.name,a=t.data.results.created_at,p||E((function(){return{name:n,createdOn:J()(new Date(a)).format("MMMM D, YYYY h:mm A")}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:U,setSideNavStatus:z,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/manage-category",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Category"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Category"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[p?T?Object(v.jsx)("button",{onClick:function(){return Q("save")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:g?"Loading...":"Save"}):Object(v.jsx)("button",{onClick:function(){return Q("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"}),p?Object(v.jsx)("button",{onClick:function(){return Q("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"}):null]})]}),q.render?Object(v.jsx)(jn,{errMsg:q.errMsg,errStatus:q.errStatus,errStatusText:q.errStatusText}):Object(v.jsx)(v.Fragment,{children:p?Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{onFocus:function(){return S(!0)},type:"text",onChange:V,name:"name",value:F.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:F.createdOn})]})]})}):Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Category Name"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"name",value:F.name})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"createdOn",children:"Created On"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"createdOn",value:F.createdOn})]})]})})})]})})]})},Fn=function(){var e=_.toastTiming,t=Object(u.g)(),n=N.getDecodedToken(),c=n.company_id,r=n.employee_id,s=Object(a.useState)(C),i=Object(d.a)(s,2),j=i[0],b=i[1],m=Object(a.useState)([]),p=Object(d.a)(m,2),h=p[0],x=p[1],f=Object(a.useState)([]),g=Object(d.a)(f,2),y=g[0];g[1];Object(a.useEffect)((function(){var e=!0;return Object(l.a)(o.a.mark((function t(){var n,a,s,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/edit/m07_01/employees"));case 3:if(n=t.sent,!e){t.next=24;break}if(a=!1,n.data.results.forEach((function(e,t){e.employee_id===r&&(a=!0)})),s=[],[],!a){t.next=18;break}return t.next=12,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/licence-registry/all-licences"));case 12:i=t.sent,console.log(i),s=i.data.results,console.log(s),t.next=23;break;case 18:return t.next=20,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/equipment/assignments"));case 20:l=t.sent,console.log(l),s=l.data.results;case 23:x((function(){return s.map((function(e,t){return{id:e.licence_id,serialNo:t+1,license:e.licence_name,licenseNo:e.licence_number,expDate:e.expires_at,externalAgency:e.external_organisation,responsibleUser:function(){var t="";return e.assignees.map((function(e,n){t+=e.account.username+", "})),t.slice(0,-2)}(),status:"",action_manage:"/licenses/manage-licenses/".concat(e.licence_id)}}))}));case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),console.log(t.t0);case 29:case"end":return t.stop()}}),t,null,[[0,26]])})))(),function(){e=!1}}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:j,setSideNavStatus:b,title:"Permits Licenses",activeLink:"/licenses",children:Object(v.jsxs)("div",{className:"c-Equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Register of Permits, Licenses, Approvals & Certificates"})]}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(v.jsx)("button",{onClick:function(){t.push("/licenses/add-license")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"})]}),Object(v.jsx)("div",{className:"c-Equipment-maintenance__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:h,columns:ve,pagination:Rt()()})}),Object(v.jsxs)("div",{className:"c-Equipment-maintenance__Archives c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ce.a,{wrapperClasses:"c-Equipment-maintenance__Archives-table",bordered:!1,keyField:"serialNo",data:y,columns:he,pagination:Rt()()})]})]})})]})},En=function(){var e=N.getToken(),t=N.getDecodedToken().company_id,n=_.toastTiming,c=Object(u.g)(),r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],b=(s[1],Object(a.useState)(!1)),p=Object(d.a)(b,2),h=p[0],x=p[1],f=Object(a.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),g=Object(d.a)(f,2),y=g[0],D=g[1],T=Object(a.useState)([]),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),E=Object(d.a)(F,2),w=E[0],R=(E[1],Object(a.useState)(C)),q=Object(d.a)(R,2),H=q[0],Y=q[1],U=function(n){"addLicence"===n?(console.log(y),Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/licence-registry/all-licences"),y,{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=n.sent,console.log(a),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"New License has been added!"})]})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()):"cancel"===n&&c.push("/licenses")},z=function(e){D((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/edit/m07_02/employees"));case 3:return n=e.sent,console.log(n),a=[],e.next=8,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(t,"/equipment-maintenance-program/categories"));case 8:c=e.sent,console.log(c),a=c.data.results,console.log(a),M((function(){return 0===a.length?null:a.map((function(e){return{name:"".concat(e.name)}}))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:H,setSideNavStatus:Y,title:"Licenses",activeLink:"/licenses/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add License/Permit/Certificate"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add License/Permit/Certificate"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[h?Object(v.jsx)("button",{onClick:function(){return U("addEquipment")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:i?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return U("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),w.render?Object(v.jsx)(jn,{errMsg:w.errMsg,errStatus:w.errStatus,errStatusText:w.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:z,name:"license",value:y.license})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:z,name:"licenseNo",value:y.licenseNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:z,name:"expDate",value:y.expDate})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"externalAgency",children:"Responsible External Agency"}),Object(v.jsx)("input",{onFocus:function(){return x(!0)},type:"text",onChange:z,name:"externalAgency",value:y.externalAgency})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(v.jsxs)("select",{onFocus:function(){return x(!0)},type:"text",name:"responsibleUser",onChange:z,value:y.responsibleUser||"Error",children:[Object(v.jsx)("option",{children:I?"Select User":"No users found!"}),I?I.map((function(e,t){return Object(v.jsx)("option",{value:e.username,children:e.username},t)})):null]})]})]})]})})]})})]})},wn=function(){Object(u.g)(),N.getToken(),N.getDecodedToken();var e=Object(a.useRef)(""),t=Object(a.useState)(C),n=Object(d.a)(t,2),c=n[0],r=n[1],s=[{id:1,serialNo:1,template_name:"IT Department Induction Template",action_manage:"/settings/induction-templates/induction-template/".concat(1)}];return Object(v.jsx)(L,{sideNavStatus:c,setSideNavStatus:r,title:"Induction Templates",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-templates c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-templates__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Induction Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Induction Templates"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(Ye.confirmAlert)({customUI:function(n){var a=n.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--new-template",children:[Object(v.jsx)("h1",{children:"Create new template"}),Object(v.jsx)("input",{placeholder:"Enter template name",name:"newTemplateName",ref:e}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return t(a)},children:"Create"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:a,children:" Cancel"})]})]})}});var t=function(e){}}()},children:"Add Template"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates__Table",children:[Object(v.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:s,columns:Ne})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-templates c-Main__Archives",children:[Object(v.jsx)("h1",{children:"History (Archived)"}),Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:s,columns:De,pagination:Rt()()})]})]})})},kn=function(e){var t=e.match,n=Object(u.g)(),c=(N.getToken(),N.getDecodedToken(),t.params.templateID,Object(a.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=[{id:1,serialNo:1,form_name:"AY2021 Induction Form for IT Department",version_label:"IT2021.1",status:"test",action_view:"/settings/manage-induction-templates/manage-induction-template/".concat(1,"/manage-induction-form/",1)}];return Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Induction Forms",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-versions c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-versions l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Induction Versions"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-versions__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Induction Versions"}),Object(v.jsxs)("div",{className:"c-Manage-indudction-versions__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return n.push("/settings/induction-templates/induction-template-versions/".concat(1,"/create"))},children:"Create New Form"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",children:"Archive"})]})]}),Object(v.jsx)("div",{className:"c-Manage-induction-versions__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:o,columns:Te})})]})})},Pn=function(e){e.taskMode;var t=e.taskData;return console.log("test"),Object(v.jsxs)("div",{className:"c-Induction-form-task c-Induction-form-task--view",children:[Object(v.jsx)("div",{className:"c-Induction-form-task__Header",children:Object(v.jsxs)("p",{className:"c-Induction-form-task__Text",children:["Task: ",(null===t||void 0===t?void 0:t.task)?t.task:"Could not retrieve section name"]})}),Object(v.jsx)("div",{className:"c-Induction-form-task__Table",children:0!==(null===t||void 0===t?void 0:t.length)?Object(v.jsx)(Ce.a,{keyField:"order",bordered:!1,data:t.descriptions,columns:Se}):"No records found!"})]})},Bn=function(e){var t,n,a=e.sectionData,c=e.formMode;return console.log(a),"edit"===c?Object(v.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(v.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(v.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===a||void 0===a?void 0:a.section)?a.section:"Could not retrieve section name"})}),Object(v.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===a||void 0===a||null===(t=a.tasks)||void 0===t?void 0:t.length)?a.tasks.map((function(e,t){return console.log("ram thjis"),Object(v.jsx)(Pn,{taskMode:"edit",taskData:e},t)})):"No records found!"})]}):Object(v.jsxs)("div",{className:"c-Induction-form-section c-Induction-form-section--view",children:[Object(v.jsx)("div",{className:"c-Induction-form-section__Header",children:Object(v.jsx)("p",{className:"c-Induction-form-section__Text",children:(null===a||void 0===a?void 0:a.section)?a.section:"Could not retrieve section name"})}),Object(v.jsx)("div",{className:"c-Induction-form-section__Tasks",children:0!==(null===a||void 0===a||null===(n=a.tasks)||void 0===n?void 0:n.length)?a.tasks.map((function(e,t){return Object(v.jsx)(Pn,{taskData:e},t)})):"No records found!"})]})},Rn=function(e){var t=e.match,n=(Object(u.g)(),N.getToken(),N.getDecodedToken(),t.params.formID,t.params.templateID,Object(a.useState)(C)),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),o=Object(d.a)(i,2),l=o[0];o[1],"/settings/manage-induction-templates/manage-induction-template/".concat(1);return Object(a.useEffect)((function(){}),[]),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Induction Templates",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-induction-form c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-induction-form l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-induction-templates",children:"Manage Induction Templates"}),Object(v.jsx)(X.a.Item,{href:"/settings/manage-induction-templates/manage-induction-template/".concat(1),children:"Manage Induction Template"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Induction Form"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Induction Form"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Change to Active"})]}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document c-Main__Document",children:[Object(v.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document-content",children:[Object(v.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(v.jsxs)("div",{className:"c-Manage-induction-form__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Manage-indcution-form__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsx)("div",{className:"c-IP__Document-header--right c-Document__Header--right"})]}),0!==l.length?l.map((function(e,t){return Object(v.jsx)(Bn,{sectionData:e},t)})):"No records found!"]})})]})]})})},qn=function(){var e=_.toastTiming,t=Object(u.g)(),n=Object(a.useState)(C),c=Object(d.a)(n,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""}],o=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),request_status:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),request_status:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Training",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Training c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Training__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Training"})]}),Object(v.jsx)("div",{className:"c-Training__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Training"})}),Object(v.jsxs)("div",{className:"c-Training__Records",children:[Object(v.jsx)("h2",{children:"My Training Records"}),Object(v.jsx)("div",{className:"c-Training__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:i,columns:fe})})]}),Object(v.jsxs)("div",{className:"c-Training__Requests c-Requests",children:[Object(v.jsxs)("div",{className:"c-Requests__Top",children:[Object(v.jsx)("h2",{children:"My Training Requests"}),Object(v.jsx)("button",{onClick:function(){return t.push("/training/training-request/create")},type:"button",className:"c-Btn c-Btn--primary",children:"Create Training Request"})]}),Object(v.jsx)("div",{className:"c-Training__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:o,columns:ge})})]})]})})]})},Hn=function(e){var t=e.text,n=Object(a.useRef)(null);return Object(v.jsxs)("div",{className:"c-File-select",children:[Object(v.jsx)("span",{className:"c-File-select__Area",onClick:function(){n.current.click()},children:Object(v.jsx)("p",{children:t||"Please click to select file"})}),Object(v.jsx)("input",{className:"c-File-select__Raw",type:"file",ref:n})]})},Yn=function(e){var t=e.match,n=_.toastTiming,c=Object(u.g)(),r=t.params.trainingRecordID,s=Object(a.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],b=Object(a.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1];return Object(a.useEffect)((function(){h((function(){return!0}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Manage My Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-my-training-record c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-my-training-record__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage My Training Record"})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage my Training Record"}),p?Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/manage/".concat(r,"/post-training-evaluation"))},children:"Complete Post Evaluation"}):Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return function(){Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--training-record-file-upload",children:[Object(v.jsx)("h1",{children:"Upload File"}),Object(v.jsxs)("div",{className:"c-Confirm-alert__File",children:[Object(v.jsx)(Hn,{}),Object(v.jsx)("p",{children:"This training record's attendance will be updated to completed upon uploading the file"})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--primary",onClick:function(){return e(n)},children:"Upload"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--cancel",onClick:n,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Upload File"})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Evaluation Status (Trainee)"}),Object(v.jsx)(Q,{type:"pending"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approver"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Evaluation Status (Approver)"}),Object(v.jsx)(Q,{type:"pending"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Attendance Status"}),Object(v.jsx)(Q,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-record__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective request permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},e),{},{onClose:n}))}});var t=function(){}}()},children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Un=function(e){var t=e.mode,n=e.qns,c=e.qnsType,r=e.index,s=e.viewType,i=e.setQuestions,o=e.formType,l=Object(a.useState)(ke),u=Object(d.a)(l,2),b=u[0],m=u[1];Object(a.useEffect)((function(){c&&m((function(){return c}))}),[]);return Object(v.jsx)("div",{className:"c-Evaluation-qns",children:t===Pe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Edit",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(v.jsxs)("div",{className:"c-Top__Left",children:[Object(v.jsxs)("label",{htmlFor:"qns",children:[r+1,"."]}),Object(v.jsx)("input",{name:"qns",type:"text",placeholder:"Enter question",value:n||"",onChange:function(e){return function(e){i("trainee"===o?function(t){return Object(j.a)(Object(j.a)({},t),{},{trainee:t.trainee.map((function(t){return t.serialNo===r?Object(j.a)(Object(j.a)({},t),{},{question:e.target.value}):t}))})}:function(t){return Object(j.a)(Object(j.a)({},t),{},{supervisor:t.supervisor.map((function(t){return t.serialNo===r?Object(j.a)(Object(j.a)({},t),{},{question:e.target.value}):t}))})})}(e)}})]}),Object(v.jsxs)("div",{className:"c-Top__Right",children:[Object(v.jsx)("label",{htmlFor:"qnsType",children:"Qns Type:"}),Object(v.jsxs)("select",{name:"qnsType",value:b,onChange:function(e){return function(e){m((function(){return e.target.value}))}(e)},children:[Object(v.jsx)("option",{value:ke,children:"Select a qns type"}),Object(v.jsx)("option",{value:Ee,children:"Open Ended"}),Object(v.jsx)("option",{value:Fe,children:"1 - 5 Rating"}),Object(v.jsx)("option",{value:we,children:"Yes or No"})]})]})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Types",children:[b===we?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):b===Fe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",disabled:!0}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):b===Ee?Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(v.jsx)("textarea",{name:"open",disabled:!0,placeholder:"Enter something"})}):Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(v.jsx)("p",{children:"Please select a question type"})}),Object(v.jsx)("div",{className:"c-Evaluation-qns__Del",children:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"21px"},children:Object(v.jsx)(q.c,{className:"c-Delete",onClick:function(){i((function(e){var t="",n=e[t="trainee"===o?"trainee":"supervisor"].filter((function(e){return e.serialNo!==r+1})).map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}));return"trainee"===t?Object(j.a)(Object(j.a)({},e),{},{trainee:n}):Object(j.a)(Object(j.a)({},e),{},{supervisor:n})}))}})})})]}),Object(v.jsx)("hr",{})]}):t===Be?Object(v.jsxs)("div",{className:"c-Evaluation-qns__View",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Top c-Top",children:[Object(v.jsxs)("p",{children:[r+1,"."]}),Object(v.jsx)("p",{children:n})]}),Object(v.jsx)("div",{className:"c-Evaluation-qns__Types",children:s===we?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",value:"yes"}),Object(v.jsx)("label",{htmlFor:"boolean",children:"Yes"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"boolean",type:"radio",value:"no"}),Object(v.jsx)("label",{htmlFor:"boolean",children:"No"})]})]}):s===Fe?Object(v.jsxs)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating",children:[Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"1"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"2"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Disagree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"3"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Neutrel"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"4"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Agree"})]}),Object(v.jsxs)("div",{className:"c-Evaluation-qns__Option",children:[Object(v.jsx)("input",{name:"rating",type:"radio",value:"5"}),Object(v.jsx)("label",{htmlFor:"rating",children:"Strongly Agree"})]})]}):s===Ee?Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--open",children:Object(v.jsx)("textarea",{name:"open",placeholder:"Enter something"})}):Object(v.jsx)("div",{className:"c-Evaluation-qns__Type c-Evaluation-qns__Type--default",children:Object(v.jsx)("p",{children:"Error! Invalid Question type."})})}),Object(v.jsx)("hr",{})]}):void 0})},Ln=function(e){var t=e.match,n=_.toastTiming,c=Object(u.g)(),r=Object(u.h)().pathname.split("/"),s=Object(a.useState)(C),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)([]),b=Object(d.a)(j,2),m=(b[0],b[1],t.params.trainingRecordID,Object(a.useState)(null)),p=Object(d.a)(m,2),h=p[0],O=p[1];Object(a.useEffect)((function(){"settings"===r[1]?O((function(){return"approver"})):"training"===r[1]?O((function(){return"trainee"})):c.push("/page-not-found")}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:o,setSideNavStatus:l,title:"Post Evaluation Form",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Post-evaluation-form c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Post-evaluation-form__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{href:"/training/training-record",children:"Manage My Training Record"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Post Training Evaluation"})]}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){console.log("Clicked on submit")},children:"Submit"})]}),Object(v.jsx)("div",{className:"c-Post-evaluation-form__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-content",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"}),Object(v.jsx)("p",{children:"S$1599.90"}),Object(v.jsx)("p",{children:"Completed"}),Object(v.jsx)("p",{children:"PTEF.2022.1"}),Object(v.jsx)("p",{children:"@bobSong"}),Object(v.jsx)("p",{children:"@appleKim"}),Object(v.jsx)("p",{children:"6/1/2022"}),Object(v.jsx)("p",{children:"7/1/2022"})]})]}),Object(v.jsxs)("div",{className:"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit",children:[Object(v.jsx)("div",{className:"c-Document-form__Heading",children:Object(v.jsxs)("h1",{children:["approver"===h?"Approver":"Trainee"," Section"]})}),Object(v.jsx)("div",{className:"c-Document-form__Fields"})]})]})})})]})})]})},zn=function(){var e=_.toastTiming,t=(Object(u.g)(),Object(a.useState)(C)),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(new Date),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:c,setSideNavStatus:r,title:"Create Training Request",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Create-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Training Request"})]}),Object(v.jsxs)("div",{className:"c-Create-training-request__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Training Request"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){},children:"Create Training Request"})]}),Object(v.jsxs)("div",{className:"c-Create-training-request__Form c-Form",children:[Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"courseTitle",children:"Course Title"}),Object(v.jsx)("input",{name:"courseTitle",type:"text",placeholder:"Enter Course Title"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(v.jsx)(Tn.a,{onChange:l,value:o,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"organisation",children:"Organisation/Institution"}),Object(v.jsx)("input",{name:"organisation",type:"text",placeholder:"Enter Organisation/Instition"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(v.jsx)(Tn.a,{onChange:l,value:o,className:"c-Form__Date",format:"dd/MM/y"})]})]}),Object(v.jsxs)("div",{className:"c-Form__Row",children:[Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"cost",children:"Cost"}),Object(v.jsx)("input",{name:"cost",type:"text",placeholder:"Enter training cost S$"})]}),Object(v.jsxs)("div",{className:"c-Form__Right c-Form__Input",children:[Object(v.jsx)("label",{htmlFor:"approver",children:"To be approved by"}),Object(v.jsx)("select",{name:"approver",className:"c-Form__Approver",children:Object(v.jsx)("option",{children:"Select an approver"})})]})]}),Object(v.jsx)("div",{className:"c-Form__Row",children:Object(v.jsxs)("div",{className:"c-Form__Left c-Form__Input c-Form__Justification",children:[Object(v.jsx)("label",{htmlFor:"justification",children:"Justification"}),Object(v.jsx)("textarea",{name:"justification",type:"text",placeholder:"Enter Justification"})]})}),Object(v.jsx)("div",{className:"c-Form__Row",children:Object(v.jsxs)("div",{className:"c-Form__File-upload",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"No File Detected."}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Upload File"})]})})]})]})})]})},Qn=function(){var e=_.toastTiming,t=Object(u.g)(),n=Object(a.useState)(C),c=Object(d.a)(n,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,course_title:"Direct Integration Consultant Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""},{id:2,serialNo:2,course_title:"Human Quality Engineer Upskilling Workshop",approver:"@AppleKim",start_date:J()(new Date).format("D MMM YYYY"),end_date:J()(new Date).format("D MMM YYYY"),evaluation:void 0,attendance:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Trainings",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-trainings c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-trainings__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Trainings"})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Trainings"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates")},children:"Manage Post Evaluation Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Pending-requests",children:[Object(v.jsx)("h2",{children:"Training Requests pending for your approval"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:i,columns:Ae})})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Requests c-Requests",children:[Object(v.jsx)("h2",{children:"All Training Requests"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:i,columns:_e})})]}),Object(v.jsxs)("div",{className:"c-Manage-trainings__Records c-Requests",children:[Object(v.jsx)("h2",{children:"All Training Records"}),Object(v.jsx)("div",{className:"c-Manage-trainings__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:i,columns:_e})})]})]})})]})},Vn=function(){var e=_.toastTiming,t=Object(u.g)(),n=Object(a.useState)(C),c=Object(d.a)(n,2),r=c[0],s=c[1],i=[{id:1,serialNo:1,template_title:"Post Evaluation Template 2022",version:"PETF.2022.2",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""},{id:2,serialNo:2,template_title:"Post Evaluation Template 2022",version:"PETF.2022.1",created_by:"@AppleKim",created_on:J()(new Date).format("D MMM YYYY"),status:void 0,action_manage:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:e,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:r,setSideNavStatus:s,title:"Manage Post Evaluation Templates",activeLink:"/training",children:Object(v.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Templates"})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Post Evaluation Templates"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return t.push("/settings/trainings/post-evaluation-templates/create-template")},children:"Create New Template"})]}),Object(v.jsx)("div",{className:"c-Manage-PET__Table",children:Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:i,columns:ye})})]})})]})},Wn={meta:{template:{name:"Post training evaluation 20XX",version:"20XX.X",created_by:null,created_at:null,effective_at:null},form:{trainee_id:null,supervisor_id:null,created_at:"",updated_at:""}},evaluation:{trainee:[{order:2,type:Fe,question:"Rating question"},{order:1,type:Ee,question:"Open Ended question"},{order:3,type:we,question:"Yes or No Question"}],supervisor:[{order:2,type:Fe,question:"Rating question"},{order:1,type:Ee,question:"Open Ended question"},{order:3,type:we,question:"Yes or No Question"}]}},Jn=function(){var e,t,n,c,r=_.toastTiming,s=Object(u.g)(),i=Object(a.useState)(C),o=Object(d.a)(i,2),l=o[0],b=o[1],p=Object(a.useState)({trainee:[],supervisor:[]}),h=Object(d.a)(p,2),O=h[0],x=h[1],f=Object(a.useState)({}),g=Object(d.a)(f,2),y=g[0],N=g[1];Object(a.useEffect)((function(){x((function(){var e=Wn.evaluation.trainee.sort((function(e,t){return e.order-t.order})),t=Wn.evaluation.supervisor.sort((function(e,t){return e.order-t.order}));return{trainee:e.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})})),supervisor:t.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{serialNo:t+1})}))}})),N((function(){return Wn.meta}))}),[]);var D=function(e){x("trainee"===e?function(e){return Object(j.a)(Object(j.a)({},e),{},{trainee:[].concat(Object(Ve.a)(e.trainee),[{serialNo:e.trainee.length+1,question:"",answer:"",type:ke}])})}:function(e){return Object(j.a)(Object(j.a)({},e),{},{supervisor:[].concat(Object(Ve.a)(e.supervisor),[{serialNo:e.supervisor.length+1,question:"",answer:"",type:ke}])})})},T=function(e){N((function(t){return Object(j.a)(Object(j.a)({},t),{},{template:Object(j.a)(Object(j.a)({},t.template),{},Object(m.a)({},e.target.name,e.target.value))})}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:l,setSideNavStatus:b,title:"Create Post Evaluation Template",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Create-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Post Evaluation Template"})]}),Object(v.jsxs)("div",{className:"c-Create-PET__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Post Evaluation Template"}),Object(v.jsxs)("div",{className:"c-Top__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return s.push("/settings/trainings/post-evaluation-templates")},children:"Cancel"})]})]}),Object(v.jsx)("div",{className:"c-Create-PET__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Create-PET__Document-content",children:[Object(v.jsx)("div",{className:"c-Create-PET__Document-title",children:Object(v.jsx)("input",{type:"text",placeholder:"Enter form title",name:"name",value:null===(e=y.template)||void 0===e?void 0:e.name,onChange:function(e){return T(e)}})}),Object(v.jsxs)("div",{className:"c-Create-PET__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",name:"version",value:null===(t=y.template)||void 0===t?void 0:t.version,onChange:function(e){return T(e)}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})]}),Object(v.jsxs)("div",{className:"c-Create-PET__Document-form c-Document-form",children:[Object(v.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Trainee Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===O||void 0===O||null===(n=O.trainee)||void 0===n?void 0:n.length)>0?O.trainee.map((function(e,t){return Object(v.jsx)(Un,{mode:Pe,qnsType:e.type,qns:e.question,index:t,setQuestions:x,formType:"trainee"},t)})):Object(v.jsx)("p",{children:"No questions detected!"}),Object(v.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("trainee")},children:Object(v.jsx)("p",{children:"Add New Row"})})]})]}),Object(v.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[(null===O||void 0===O||null===(c=O.supervisor)||void 0===c?void 0:c.length)>0?O.supervisor.map((function(e,t){return Object(v.jsx)(Un,{mode:Pe,qnsType:e.type,qns:e.question,index:t,setQuestions:x,formType:"supervisor"},t)})):Object(v.jsx)("p",{children:"No questions detected!"}),Object(v.jsx)("div",{className:"c-Document-form__Add-qns",onClick:function(){return D("supervisor")},children:Object(v.jsx)("p",{children:"Add New Row"})})]})]})]})]})})})]})})]})},Gn=function(e){var t=e.match,n=_.toastTiming,c=(Object(u.g)(),t.params.trainingReqID,Object(a.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage My Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-my-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-my-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/training",children:"Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage My Training Request"})]}),Object(v.jsx)("div",{className:"c-Manage-my-training-request__Top c-Main__Top",children:Object(v.jsx)("h1",{children:"Manage my Training Request"})}),Object(v.jsxs)("div",{className:"c-Manage-my-training-request__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Justification"}),Object(v.jsx)("p",{children:"I need to learn how to clean my house better! #wfh #uncondusive_working_environment"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"To be Approved by"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Other Recommendations"}),Object(v.jsx)("p",{children:"Nil"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approval Status"}),Object(v.jsx)(Q,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-my-training-request__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(){var e={message:"Deleting this record will remove its respective record (if any) permanently. Click confirm to proceed.",handler:function(e){return t(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},e),{},{onClose:n}))}});var t=function(){}}()},children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Xn=function(e){var t=e.match,n=_.toastTiming,c=Object(u.g)(),r=(t.params.trainingRecordID,Object(a.useState)(C)),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(!1),j=Object(d.a)(l,2),b=j[0];j[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Manage Training Record",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-training-record c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-training-record__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Training Record"})]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Training Record"}),b?Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){c.push("/training/training-record/post-training-evaluation")},children:"Complete Post Evaluation"}):null]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Evaluation Status"}),Object(v.jsx)("p",{children:"Na"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (Evidence for Attendance)"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approver"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Attendance Status"}),Object(v.jsx)(Q,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-record__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the record and request permanently. This action cannot be undoned."})]})]})]})})]})},Kn=function(e){var t=e.match,n=_.toastTiming,c=(Object(u.g)(),t.params.trainingReqID,Object(a.useRef)("")),r=Object(a.useState)(C),s=Object(d.a)(r,2),i=s[0],o=s[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:i,setSideNavStatus:o,title:"Manage Training Request",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-training-request c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-training-request__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Training Request"})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Training Request"}),Object(v.jsxs)("div",{className:"c-Top__Btns",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--ok",onClick:function(){},children:"Approve"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert",onClick:function(){return function(){Object(Ye.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(v.jsxs)("div",{className:"c-Confirm-alert c-Confirm-alert--pending-reject",children:[Object(v.jsx)("h1",{children:"Confirm Reject?"}),Object(v.jsx)("p",{children:"Please key in reason for rejection and click on confirm reject."}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Remarks",children:[Object(v.jsx)("h2",{children:"Remarks"}),Object(v.jsx)("textarea",{name:"pendingReject",ref:c})]}),Object(v.jsxs)("div",{className:"c-Confirm-alert__Buttons",children:[Object(v.jsx)("button",{className:"c-Btn c-Btn--alert",onClick:function(){return e(n)},children:"Confirm Reject"}),Object(v.jsx)("button",{className:"c-Btn c-Btn--dark",onClick:n,children:" Cancel"})]})]})}});var e=function(e){}}()},children:"Reject"})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Fields c-Fields",children:[Object(v.jsxs)("div",{className:"c-Fields__Left",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Course Title"}),Object(v.jsx)("p",{children:"Housekeeping Essentials Workshop"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Organisation/Institution"}),Object(v.jsx)("p",{children:"Samsung Asia Pte Ltd"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Cost"}),Object(v.jsx)("p",{children:"S$1599.90"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Justification"}),Object(v.jsx)("p",{children:"I need to learn how to clean my house better! #wfh #uncondusive_working_environment"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Rejection Remarks"}),Object(v.jsx)("p",{children:"Na"})]})]}),Object(v.jsxs)("div",{className:"c-Fields__Right",children:[Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Start Date"}),Object(v.jsx)("p",{children:"6/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"End Date"}),Object(v.jsx)("p",{children:"7/1/2022"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"To be Approved by"}),Object(v.jsx)("p",{children:"@AppleKim"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"File (For Justification)"}),Object(v.jsx)("p",{children:"Na"})]}),Object(v.jsxs)("div",{className:"c-Field",children:[Object(v.jsx)("h2",{children:"Approval Status"}),Object(v.jsx)(Q,{type:"pending"})]})]})]}),Object(v.jsxs)("div",{className:"c-Manage-training-request__Danger c-Danger",children:[Object(v.jsx)("div",{className:"c-Danger__Top",children:Object(v.jsx)("h1",{children:"Danger Zone"})}),Object(v.jsxs)("div",{className:"c-Danger__Contents",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",children:"Remove record & request"}),Object(v.jsx)("p",{children:"Performing this action will remove the request and record (if any) permanently. This action cannot be undoned."})]})]})]})})]})},Zn=function(e){var t=e.match,n=_.toastTiming,c=(Object(u.g)(),t.params.templateID,Object(a.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({trainee:[],supervisor:[]}),l=Object(d.a)(o,2),j=(l[0],l[1]),b=Object(a.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:n,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Manage Post Evaluation Template",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Manage-PET c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Manage-PET__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings",children:"Manage Trainings"}),Object(v.jsx)(X.a.Item,{href:"/settings/trainings/post-evaluation-templates",children:"Manage Post Evaluation Templates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Post Evaluation Template"})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Top c-Top",children:[Object(v.jsxs)("div",{className:"c-Top__Row",children:[Object(v.jsx)("h1",{children:"Manage Post Evaluation Template"}),Object(v.jsx)("div",{className:"c-Top__Btns",children:p?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--cancel",onClick:function(){return h((function(e){return!e}))},children:"Cancel"})]}):Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",onClick:function(){return h((function(e){return!e}))},children:"Edit"})})]}),Object(v.jsxs)("div",{className:"c-Top__Row",children:[Object(v.jsx)("h2",{children:"Status:"}),Object(v.jsx)(Q,{type:"active"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--link",children:"Change Status to Active"})]})]}),Object(v.jsx)("div",{className:"c-Manage-PET__Document c-Main__Document",children:Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Manage-PET__Document-content",children:[Object(v.jsx)("h1",{children:"Post Training Evaluation Form 2022"}),Object(v.jsxs)("div",{className:"c-Manage-PET__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Document-header__Key",children:[Object(v.jsx)("p",{children:"Course Title"}),Object(v.jsx)("p",{children:"Organisation"}),Object(v.jsx)("p",{children:"Cost"}),Object(v.jsx)("p",{children:"Status"}),Object(v.jsx)("p",{children:"Evaluation Form Version"}),Object(v.jsx)("p",{children:"Trainee"}),Object(v.jsx)("p",{children:"Approver"}),Object(v.jsx)("p",{children:"Start Date"}),Object(v.jsx)("p",{children:"End Date"})]}),Object(v.jsxs)("div",{className:"c-Document-header__Value",children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",value:"PTEF.2022.1",disabled:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})]}),Object(v.jsxs)("div",{className:"c-Manage-PET__Document-form c-Document-form",children:[Object(v.jsxs)("div",{className:"c-Document-form__Trainee",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Trainee Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the trainee when doing the form"})]}),Object(v.jsxs)("div",{className:"c-Document-form__Fields",children:[Object(v.jsx)(Un,{mode:Be,qns:"Boolean?",viewType:Ee,index:"1",setQuestions:j,formType:"trainee"}),Object(v.jsx)(Un,{mode:Be,qns:"Boolean?",viewType:Fe,index:"1",setQuestions:j,formType:"trainee"}),Object(v.jsx)(Un,{mode:Be,qns:"Boolean?",viewType:we,index:"1",setQuestions:j,formType:"trainee"})]})]}),Object(v.jsxs)("div",{className:"c-Document-form__Approver",children:[Object(v.jsxs)("div",{className:"c-Document-form__Heading",children:[Object(v.jsx)("h1",{children:"Approver/Supervisor Section"}),Object(v.jsx)("p",{children:"This section will only be shown to the approver/supervisor when doing the form"})]}),Object(v.jsx)("div",{className:"c-Document-form__Fields",children:Object(v.jsx)(Un,{mode:Be,qns:"A question?",index:"1",viewType:Ee})})]})]})]})})})]})})]})},$n=function(e){var t=e.match,n=N.getToken(),c=N.getDecodedToken().company_id,r=_.toastTiming,s=Object(u.g)(),i=t.params.emID,b=Object(a.useState)(!1),p=Object(d.a)(b,2),h=p[0],x=(p[1],Object(a.useState)(!1)),f=Object(d.a)(x,2),g=f[0],y=f[1],D=Object(a.useState)({name:"",category:"",reference_number:"",register_number:"",model:"",serial_number:""}),T=Object(d.a)(D,2),S=T[0],I=T[1],M=Object(a.useState)([]),F=Object(d.a)(M,2),E=F[0],w=F[1],R=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),q=Object(d.a)(R,2),H=q[0],Y=(q[1],Object(a.useState)(C)),U=Object(d.a)(Y,2),z=U[0],Q=U[1],V=function(e){"addCycle"===e?(console.log(S),Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/all-equipment"),S,{headers:{Authorization:"Bearer ".concat(n)}});case 3:t=e.sent,console.log(t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"New equipment has been added!"})]})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()):"cancel"===e&&s.push("/equipment-maintenance/manage-equipment/".concat(i))},W=function(e){I((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(c,"/equipment-maintenance-program/categories"));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),w((function(){return 0===t.length?null:t.map((function(e){return{name:"".concat(e.name)}}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:r,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:z,setSideNavStatus:Q,title:"Equipment Maintenance",activeLink:"/equipment-maintenance/add-equipment",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(i),children:"Manage Equipment"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Add Equipment"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Add Maintenance Cycle"}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Btns",children:[g?Object(v.jsx)("button",{onClick:function(){return V("addCycle")},type:"button",className:"c-Btn c-Btn--primary",children:"Add"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:h?"Loading...":"Add"}),Object(v.jsx)("button",{onClick:function(){return V("cancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}),H.render?Object(v.jsx)(jn,{errMsg:H.errMsg,errStatus:H.errStatus,errStatusText:H.errStatusText}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{className:"l-Manage-equipment__Inputs",children:Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Maintenance-type c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"type",children:"Maintenance Type"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"type",value:S.type})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsxs)("select",{onFocus:function(){return y(!0)},type:"text",name:"responsible",onChange:W,value:S.responsible||"Error",children:[Object(v.jsx)("option",{children:E?"Select Users":"No users found!"}),E?E.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)})):null]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"maintenanceMultiplier",value:S.maintenanceMultiplier}),Object(v.jsxs)("select",{onFocus:function(){return y(!0)},type:"text",name:"maintenanceUnitTime",onChange:W,value:S.maintenanceUnitTime,children:[Object(v.jsx)("option",{children:"Select Time Unit"}),Object(v.jsx)("option",{children:"Days"}),Object(v.jsx)("option",{children:"Weeks"}),Object(v.jsx)("option",{children:"Months"})]})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{onFocus:function(){return y(!0)},type:"text",onChange:W,name:"lastServiceDate",value:S.lastServiceDate})]})]})})})]})})]})},ea=function(e){var t=e.match,n=N.getToken(),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(a.useState)(!1),u=Object(d.a)(i,2),b=(u[0],u[1]),p=Object(a.useState)([]),h=Object(d.a)(p,2),x=h[0],f=h[1],g=Object(a.useState)(!1),y=Object(d.a)(g,2),D=y[0],T=(y[1],Object(a.useState)(!1)),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(a.useState)({users:""}),w=Object(d.a)(F,2),R=(w[0],w[1],Object(a.useState)({username:[]})),H=Object(d.a)(R,2),Y=(H[0],H[1],Object(a.useState)([])),U=Object(d.a)(Y,2),z=U[0],V=U[1],W=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),G=Object(d.a)(W,2),K=G[0],Z=(G[1],Object(a.useState)(!1)),$=Object(d.a)(Z,2),ee=$[0],te=($[1],Object(a.useState)(C)),ne=Object(d.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(!1),se=Object(d.a)(re,2),ie=(se[0],se[1],Object(a.useState)([])),oe=Object(d.a)(ie,2),le=(oe[0],oe[1],t.params.emID),de=t.params.maintenanceID;Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(le,"/all-maintenance/").concat(de));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),V((function(){return{id:t.maintenance_id,serialNo:1,maintenanceType:t.type,responsible:function(){var e=[],n="";return t.assignees.map((function(e){n+=e.account.username+", "})),e.push(n.slice(0,-2)),n="",e}(),maintenanceFrequency:(console.log(t.freq_unit_time),7===t.freq_unit_time?"".concat(t.freq_multiplier," weeks"):30===t.freq_unit_time?"".concat(t.freq_multiplier," months"):365===t.freq_unit_time?"".concat(t.freq_multiplier," years"):void 0),lastServiceDate:t.last_service_at,status:Object(v.jsx)(Q,{type:"active"})}})),f((function(){return{id:t.maintenance_id,serialNo:1,fileName:t.fileName,description:t.last_service_at,uploader:function(){var e=[],n="";return t.assignees.map((function(e){n+=e.account.username+", "})),e.push(n.slice(0,-2)),n="",e}(),uploadDate:t.last_service_at,action_download:"/equipment-maintenance/manage-equipment/manage-cycle/".concat(t.maintenance_id),action_delete:Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return ue(t.maintenance_record_id)}})})}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[]);var je=function(e){V((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},ue=function(e){if("deleteRecord"===e){var t={message:"Are you sure you want to delete this maintenance record?",handler:function(e){return a(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}var a=function(e){O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(le,"/all-maintenance/").concat(de),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),b((function(e){return!e})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}},be=[{id:1,serialNo:1,maintenanceType:"Preventive",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"active",action_manage:"",action_delete:""},{id:2,serialNo:2,maintenanceType:"Corrective",responsible:"HengHeng",maintenanceFrequency:"1 Month",lastServiceDate:J()(new Date).format("MMMM D, YYYY h:mm A"),status:"almostDue",action_manage:"",action_delete:""}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:ae,setSideNavStatus:ce,title:"Equipment Maintenance Cycle",activeLink:"/equipment-maintenance/manage-equipment/".concat(le,"/manage-cycle/").concat(de),children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance",children:"Equipment Maintenance Program"}),Object(v.jsx)(X.a.Item,{href:"/equipment-maintenance/manage-equipment/".concat(le),children:"Manage Equipment"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Maintenance Cycle"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Maintenance cycle"}),ee||K.render?null:Object(v.jsx)("button",{onClick:function(){},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),K.render?Object(v.jsx)(jn,{errMsg:K.errMsg,errStatus:K.errStatus,errStatusText:K.errStatusText}):Object(v.jsx)(v.Fragment,{children:ee?Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:je,name:"maintenanceType",value:z.maintenanceType})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:je,name:"responsible",value:z.responsible})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:je,name:"maintenanceMultiplier",value:z.maintenanceMultiplier}),Object(v.jsxs)("select",{onFocus:function(){return M(!0)},type:"text",name:"maintenanceUnitTime",onChange:je,value:z.maintenanceUnitTime,children:[Object(v.jsx)("option",{children:"Select Time Unit"}),Object(v.jsx)("option",{children:"Days"}),Object(v.jsx)("option",{children:"Weeks"}),Object(v.jsx)("option",{children:"Months"})]})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:je,name:"lastServiceDate",value:z.lastServiceDate})]}),Object(v.jsx)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit"})]}),Object(v.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[I?Object(v.jsx)("button",{onClick:function(){},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceType",value:z.maintenanceType})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"responsible",children:"Responsible"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"responsible",value:z.responsible})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"maintenanceFrequency",children:"Maintenance Frequency"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"maintenanceFrequency",value:z.maintenanceFrequency})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"lastServiceDate",children:"Last Service Date"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"lastServiceDate",value:z.lastServiceDate})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"status",children:"Status"}),z.status]})]})]})}),Object(v.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(v.jsx)("div",{className:"c-Danger-zone__Row",children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return function(e){if("deleteCycle"===e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(e){return a(e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}var a=function(e){O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(le,"/all-maintenance/").concat(de),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),b((function(e){return!e})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}}("deleteCycle")},children:"Delete Cycle"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"This action cannot be undone"})})]})}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Maintenance Records"}),Object(v.jsx)("button",{onClick:function(){},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table",children:[console.log(x),0!==be.length?Object(v.jsx)(Ce.a,{bordered:!1,keyField:"serialNo",data:x,columns:xe,pagination:Rt()()}):"No records found!"]})]})})]})},ta=function(){Object(u.g)(),N.getToken(),N.getDecodedToken();var e=Object(a.useState)([{order:1,section:"Section A: Introduction",tasks:[{order:1,task:"Introduction",descriptions:[{order:1,description:"Dress code",file:"dress code picture",done:!1,done_at:"1234"},{order:3,description:"Staff indentification",file:"staff id card",done:!0,done_at:"1234"},{order:2,description:"Working hours",done:!0,done_at:"1234"}]},{order:2,task:"Rules",descriptions:[{order:1,description:"Attendance",file:"attendance"},{order:2,description:"Regulations"}]}]}]),t=Object(d.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(C)),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(v.jsx)(L,{sideNavStatus:s,setSideNavStatus:i,title:"Create Induction Template",activeLink:"/settings",children:Object(v.jsxs)("div",{className:"c-Create-induction-form c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Create-induction-form__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/settings",children:"Settings"}),Object(v.jsx)(X.a.Item,{href:"/settings/induction-templates",children:"Induction Templates"}),Object(v.jsx)(X.a.Item,{href:"/settings/induction-templates/induction-template-versions/".concat(1),children:"Manage Induction Versions"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Create Induction Form"})]}),Object(v.jsxs)("div",{className:"c-Create-induction-form__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Create Induction Form"}),Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary",children:"Create"})]}),Object(v.jsxs)("div",{className:"c-Create-induction-form__Document c-Main__Document",children:[Object(v.jsx)("h2",{children:"Template: IT Department Induction Forms"}),Object(v.jsx)(ce,{isDocCollapsed:!1,children:Object(v.jsxs)("div",{className:"c-Create-induction-form__Document-content",children:[Object(v.jsx)("h1",{children:"AY2021 Induction Form for IT Department"}),Object(v.jsxs)("div",{className:"c-Create-induction-form__Document-header c-Document__Header",children:[Object(v.jsxs)("div",{className:"c-Create-indcution-form__Document-header--left c-Document__Header--left",children:[Object(v.jsx)("p",{children:"To bv approved by:"}),Object(v.jsx)("p",{children:"Submitted by:"}),Object(v.jsx)("p",{children:"Remarks"})]}),Object(v.jsx)("div",{className:"c-Create__Document-header--right c-Document__Header--right"})]}),0!==n.length?n.map((function(e,t){return Object(v.jsx)(Bn,{formMode:"edit",sectionData:e},t)})):"No records found!"]})})]})]})})},na=function(e){var t=e.match,n=N.getToken(),c=N.getDecodedToken(),r=c.company_id,s=(c.employee_id,_.toastTiming),i=Object(a.useState)(!1),b=Object(d.a)(i,2),p=(b[0],b[1]),h=(Object(u.g)(),Object(a.useState)([])),x=Object(d.a)(h,2),f=(x[0],x[1]),g=Object(a.useState)(!1),y=Object(d.a)(g,2),D=y[0],T=(y[1],Object(a.useState)(!1)),S=Object(d.a)(T,2),I=S[0],M=S[1],F=Object(a.useState)({users:""}),w=Object(d.a)(F,2),R=(w[0],w[1],Object(a.useState)({username:[]})),H=Object(d.a)(R,2),Y=(H[0],H[1],Object(a.useState)({name:"Error",category:"Error",refNo:"Error",regNo:"Error",model:"Error",serialNo:"Error",location:"Error",archivedAt:null})),U=Object(d.a)(Y,2),z=U[0],V=U[1],W=Object(a.useState)({render:!1,errMsg:null,errStatus:null,errStatusText:null}),J=Object(d.a)(W,2),G=J[0],K=(J[1],Object(a.useState)(!1)),Z=Object(d.a)(K,2),$=Z[0],ee=Z[1],te=Object(a.useState)(C),ne=Object(d.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(!1),se=Object(d.a)(re,2),ie=(se[0],se[1],Object(a.useState)([])),oe=Object(d.a)(ie,2),le=(oe[0],oe[1],t.params.licenseID);Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,O.a.get("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(le));case 4:n=e.sent,console.log(n),t=n.data.results,console.log(t),V((function(){return{id:t.equipment_id,license:t.name,licenseNo:t.reference_number,expDate:t.register_number,responsibleExternalAgency:t.model,responsibleUser:function(){var e="";return t.categories.map((function(t,n){e+=t.name+", "})),e.slice(0,-2)}(),status:Object(v.jsx)(Q,{type:"active"})}})),f((function(){return t.maintenance.map((function(e,t){return{id:e.maintenance_id,serialNo:t+1,maintenanceType:e.type,responsible:function(){var t=[],n="";return e.assignees.map((function(e){n+=e.account.username+", "})),t.push(n.slice(0,-2)),n="",t}(),maintenanceFrequency:(console.log(e.freq_unit_time),7===e.freq_unit_time?"".concat(e.freq_multiplier," weeks"):30===e.freq_unit_time?"".concat(e.freq_multiplier," months"):365===e.freq_unit_time?"".concat(e.freq_multiplier," years"):void 0),lastServiceDate:e.last_service_at,status:"/equipment-maintenance/manage-equipment/".concat(e.maintenance_id),action_manage:"/equipment-maintenance/manage-equipment/".concat(le,"/manage-cycle/").concat(e.maintenance_id),action_delete:(console.log(e.maintenance_id),Object(v.jsx)(E.b.Provider,{value:{color:"#DC3545",size:"16px"},children:Object(v.jsx)(q.c,{className:"c-Table-Btn--bin c-Table-Btn",onClick:function(){return de(e.maintenance_id)}})}))}}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[z.archivedAt]);var de=function(e){var t={message:"Are you sure you want to delete this maintenance cycle?",handler:function(t){return a(t,e)},heading:"Confirm Delete?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}});var a=function(e,t){O.a.delete("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(le,"/all-maintenance/").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),p((function(e){return!e})),e(),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Maintenance cycle has been deleted!"})]}))})).catch((function(t){console.log(t),console.log(t.response);var n="Error!",a="Error!";void 0!==t.response&&(n=t.response.status,a=t.response.data.message),e(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}},je=function(e){"edit"===e&&ee(!0),"editEquipmentCancel"===e&&ee(!1),"editEquipmentSave"===e&&Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(z),e.next=4,O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/equipment-maintenance-program/all-equipment/").concat(z.id),z,{headers:{Authorization:"Bearer ".concat(n)}});case 4:t=e.sent,console.log(t),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:"Updated equipment details!"})]})),ee(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},ue=function(e){V((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},be=function(e){if("activated"===e){"active";var t={message:"Are you sure you want to activate this account?",handler:function(e){return c(e)},heading:"Confirm Activate?",type:"primary"};Object(Ye.confirmAlert)({customUI:function(e){var n=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},t),{},{onClose:n}))}})}else{"deactivated";var a={message:"Are you sure you want to deactivate this account?",handler:function(e){return s(e)},heading:"Confirm Dectivate?",type:"alert"};Object(Ye.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsx)(Ue,Object(j.a)(Object(j.a)({},a),{},{onClose:t}))}})}var c=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(le,"/activate"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),p((function(e){return!e})),t(),V(Object(j.a)(Object(j.a)({},z),{},{archivedAt:null})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))},s=function(t){O.a.put("".concat("http://3.136.78.128:8000/api/v1","/company/").concat(r,"/licence-registry/all-licences/").concat(le,"/archive"),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(n){console.log(n),p((function(e){return!e})),t(),V(Object(j.a)(Object(j.a)({},z),{},{archivedAt:"refresh"})),A.b.success(Object(v.jsxs)(v.Fragment,{children:["Success!",Object(v.jsx)("br",{}),"Message: ",Object(v.jsxs)("b",{children:["User has been ",e,"!"]})]}))})).catch((function(e){console.log(e),console.log(e.response);var n="Error!",a="Error!";void 0!==e.response&&(n=e.response.status,a=e.response.data.message),t(),A.b.error(Object(v.jsxs)(v.Fragment,{children:["Error Code: ",Object(v.jsx)("b",{children:n}),Object(v.jsx)("br",{}),"Message: ",Object(v.jsx)("b",{children:a})]}))}))}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{position:"top-center",autoClose:s,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(v.jsx)(L,{sideNavStatus:ae,setSideNavStatus:ce,title:"Equipment Maintenance",activeLink:"/equipment-maintenance",children:Object(v.jsxs)("div",{className:"c-Manage-equipment-maintenance c-Main",children:[Object(v.jsxs)(X.a,{className:"c-Equipment-maintenance__Breadcrumb l-Breadcrumb",children:[Object(v.jsx)(X.a.Item,{href:"/dashboard",children:"Dashboard"}),Object(v.jsx)(X.a.Item,{href:"/licenses",children:"Register of Permits, Licenses, Approvals & Certificates"}),Object(v.jsx)(X.a.Item,{active:!0,children:"Manage Permits/Licenses/Certificates"})]}),Object(v.jsxs)("div",{className:"c-Manage-equipment__Top c-Main__Top",children:[Object(v.jsx)("h1",{children:"Manage Permits/Licenses/Certificates"}),$||G.render?null:Object(v.jsx)("button",{onClick:function(){return je("edit")},type:"button",className:"c-Btn c-Btn--primary",children:"Edit"})]}),G.render?Object(v.jsx)(jn,{errMsg:G.errMsg,errStatus:G.errStatus,errStatusText:G.errStatusText}):Object(v.jsx)(v.Fragment,{children:$?Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:ue,name:"license",value:z.license})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:ue,name:"licenseNo",value:z.licenseNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:ue,name:"expDate",value:z.expDate})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:ue,name:"responsibleExternalAgency",value:z.responsibleExternalAgency})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--edit",children:[Object(v.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(v.jsx)("input",{onFocus:function(){return M(!0)},type:"text",onChange:ue,name:"responsibleUser",value:z.responsibleUser})]})]}),Object(v.jsxs)(P.a,{className:"c-Manage-equipment__Btns",children:[I?Object(v.jsx)("button",{onClick:function(){return je("editEquipmentSave")},type:"button",className:"c-Btn c-Btn--primary",children:"Save"}):Object(v.jsx)("button",{type:"button",disabled:!0,className:"c-Btn c-Btn--disabled",children:D?"Loading...":"Save"}),Object(v.jsx)("button",{onClick:function(){return je("editEquipmentCancel")},type:"button",className:"c-Btn c-Btn--cancel",children:"Cancel"})]})]}):Object(v.jsxs)(k.a,{className:"l-Manage-equipment__Inputs",children:[Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Name c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"license",children:"License/Permit/Certificate"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"license",value:z.license})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Category c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"licenseNo",children:"License No."}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"licenseNo",value:z.licenseNo})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Ref-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"expDate",children:"Exp. Date"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"expDate",value:z.expDate})]})]}),Object(v.jsxs)(P.a,{className:"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row",children:[Object(v.jsxs)(B.a,{className:"c-Input c-Input__Reg-no c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"responsibleExternalAgency",children:"Responsible External Agency"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"responsibleExternalAgency",value:z.responsibleExternalAgency})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"responsibleUser",children:"Responsible User"}),Object(v.jsx)("input",{readOnly:!0,type:"text",name:"responsibleUser",value:z.responsibleUser})]}),Object(v.jsxs)(B.a,{className:"c-Input c-Input__Model-brand c-Input--read-only",children:[Object(v.jsx)("label",{htmlFor:"status",children:"Status"}),z.status]})]})]})}),Object(v.jsx)("div",{className:"c-Manage-equipment__Mid c-Main__Top",children:Object(v.jsx)("button",{onClick:function(){return je("upload")},type:"button",className:"c-Btn c-Btn--primary",children:"Upload"})}),Object(v.jsx)("h2",{className:"c-Danger-zone__Title",children:"Danger Zone"}),Object(v.jsxs)("div",{className:"c-Danger-zone__Row",children:[console.log(z.archivedAt),null===z.archivedAt?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--alert-border",onClick:function(){return be("deactivated")},children:"Archive Permits/Licenses/Certificates"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"Perfoming this action will archive this permit/license/certificate"})})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"c-Danger-zone__Item",children:[Object(v.jsx)("button",{type:"button",className:"c-Btn c-Btn--primary-border",onClick:function(){return be("activated")},children:"Unarchive Permits/Licenses/Certificates"}),Object(v.jsx)("div",{className:"c-Row__Info",children:Object(v.jsx)("p",{children:"Perfoming this action will unarchive this permit/license/certificate "})})]})})]})]})})]})},aa=function(){var e=function(e){return function(t){return N.getToken()?Object(v.jsx)(e,Object(j.a)({},t)):Object(v.jsx)(u.a,Object(j.a)({to:"/login"},t))}};return Object(v.jsx)(b.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:"/login",render:function(){return Object(v.jsx)(D,{})}}),Object(v.jsx)(u.b,{path:"/forgot-password",render:function(){return Object(v.jsx)(_n,{})}}),Object(v.jsx)(u.b,{path:"/change-password/:username/:otp",render:function(e){return Object(v.jsx)(yn,Object(j.a)({},e))}}),Object(v.jsx)(u.b,{path:"/create-account/:token",render:function(e){return Object(v.jsx)(I,Object(j.a)({},e))}}),Object(v.jsx)(u.b,{exact:!0,path:"/",children:Object(v.jsx)(u.a,{to:"/dashboard"})}),Object(v.jsx)(u.b,{path:"/dashboard",render:function(t){return e(G)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/announcements",render:function(t){return e(Z)(t)}}),Object(v.jsx)(u.b,{path:"/announcements/view/:aID",render:function(t){return e($)(t)}}),Object(v.jsx)(u.b,{path:"/announcements/create",render:function(t){return e(ae)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/swot",render:function(t){return e(qt)(t)}}),Object(v.jsx)(u.b,{path:"/swot/archived/:swotID",render:function(t){return e(Ht)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/interested-party",render:function(t){return e(Yt)(t)}}),Object(v.jsx)(u.b,{path:"/interested-party/archived/:ipID",render:function(t){return e(Ut)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/scope-of-qms",render:function(t){return e(Lt)(t)}}),Object(v.jsx)(u.b,{path:"/scope-of-qms/archived/:scopeOfQMSID",render:function(t){return e(zt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/company-policy",render:function(t){return e(Qt)(t)}}),Object(v.jsx)(u.b,{path:"/company-policy/archived/:companyPolicyID",render:function(t){return e(Vt)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/responsibility-n-authority",render:function(t){return e(Xt)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/add-org-chart",render:function(t){return e(en)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/manage-org-chart/:orgChartID",render:function(t){return e(tn)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/add-role",render:function(t){return e(Zt)(t)}}),Object(v.jsx)(u.b,{path:"/responsibility-n-authority/manage-role/:roleID",render:function(t){return e($t)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/risk-n-opportunity",render:function(t){return e(nn)(t)}}),Object(v.jsx)(u.b,{path:"/risk-n-opportunity/archived/:rnoID",render:function(t){return e(hn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/objective-achievement-program",render:function(t){return e(an)(t)}}),Object(v.jsx)(u.b,{path:"/objective-achievement-program/archived/:oapID",render:function(t){return e(cn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance",render:function(t){return e(Nn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID",render:function(t){return e(Sn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/add-equipment",render:function(t){return e(In)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/add-category",render:function(t){return e(Cn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/add-cycle",render:function(t){return e($n)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID",render:function(t){return e(ea)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/equipment-maintenance/manage-category/:catID",render:function(t){return e(Mn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/licenses",render:function(t){return e(Fn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/licenses/add-license",render:function(t){return e(En)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/licenses/manage-license/:licenseID",render:function(t){return e(na)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training",render:function(t){return e(qn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID",render:function(t){return e(Yn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-request/manage/:trainingReqID",render:function(t){return e(Gn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-record/manage/:trainingRecordID/post-training-evaluation",render:function(t){return e(Ln)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/training/training-request/create",render:function(t){return e(zn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings",render:function(t){return e(sn)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-account",render:function(t){return e(un)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/manage-users",render:function(t){return e(bn)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-users/manage-user/:employeeID",render:function(t){return e(mn)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-organization",render:function(t){return e(vn)(t)}}),Object(v.jsx)(u.b,{path:"/settings/manage-invites",render:function(t){return e(xn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates",render:function(t){return e(wn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID",render:function(t){return e(kn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/create",render:function(t){return e(ta)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/induction-templates/induction-template-versions/:templateID/manage/:formID",render:function(t){return e(Rn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings",render:function(t){return e(Qn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-record/manage/:trainingID",render:function(t){return e(Xn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-record/manage/:trainingID/post-training-evaluation",render:function(t){return e(Ln)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/training-request/manage/:trainingID",render:function(t){return e(Kn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates",render:function(t){return e(Vn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates/manage/:templateID",render:function(t){return e(Zn)(t)}}),Object(v.jsx)(u.b,{exact:!0,path:"/settings/trainings/post-evaluation-templates/create-template",render:function(t){return e(Jn)(t)}}),Object(v.jsx)(u.b,{path:"*",render:function(){return Object(v.jsx)(pn,{})}})]})})},ca=n(197),ra=n(198),sa=n(200),ia=n(199),oa=function(e){Object(sa.a)(n,e);var t=Object(ia.a)(n);function n(){var e;Object(ca.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(ra.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(v.jsx)("div",{className:"c-Page-not-found",children:Object(v.jsx)("div",{className:"c-Page-not-found__Alert-box",children:Object(v.jsxs)(dn.a,{variant:"danger",children:[Object(v.jsx)(dn.a.Heading,{children:"Oh snap! You got an error!"}),Object(v.jsx)("p",{children:"Something went wrong, try again later!"})]})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),n}(c.a.Component),la=function(){return Object(v.jsxs)("div",{className:"c-Loading",children:[Object(v.jsx)(On.a,{animation:"border",role:"status",variant:"secondary"}),Object(v.jsx)("p",{children:"Loading"})]})},da=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],j=s[1],u=Object(a.useCallback)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(){return!0})),e.next=3,b();case 3:c((function(){return!1}));case 4:case"end":return e.stop()}}),e)}))),[]),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("attempted to refresh token again"),O.a.defaults.withCredentials=!0,e.next=5,O.a.post("".concat("http://3.136.78.128:8000/api/v1","/refresh"),{},{withCredentials:!0});case 5:t=e.sent,console.log(t),200===t.status?(n=t.data.results.token,N.setToken(n),O.a.defaults.headers.common.Authorization="bearer ".concat(n),setTimeout(b,18e5)):N.logout(),j((function(){return!1})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),401!==(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(j((function(){return!0})),N.logout()),N.setMessage(null===(c=e.t0.response)||void 0===c?void 0:c.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u()}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(oa,{children:i?Object(v.jsx)(jn,{}):n?Object(v.jsx)(la,{}):Object(v.jsx)(aa,{})})})};n(426),n(427),n(428),n(429),n(430),n(431);s.a.render(Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(da,{})}),document.getElementById("eISO-root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.c455cdd6.chunk.js.map