{"version":3,"sources":["assets/images/eISO-logo.png","common/Title.js","config/config.js","utilities/tokenManager.js","pages/Login.js","common/PasswordCriteria.js","pages/CreateAccount.js","utilities/localStorageUtils.js","utilities/sideNavUtils.js","assets/images/default-profile-pic.jpg","layout/Header.js","layout/Footer.js","assets/images/eISO-logo-white.png","common/sideNav/SideNavSubMenu.js","config/sideNavListArr.js","common/sideNav/SideNav.js","layout/PageLayout.js","common/DashboardInfoCards.js","common/StatusPill.js","common/AnnouncementsBentoBox.js","pages/Dashboard.js","common/AnnouncementsListItem.js","pages/Announcements/Announcements.js","pages/Announcements/ViewAnnouncements.js","pages/Announcements/CreateAnnouncement.js","layout/DocumentLayout.js","config/tableColumns.js","config/enums.js","common/Tab.js","hooks/useEndpoints.js","common/TabRow.js","common/CustomConfirmAlert.js","common/DocumentBtnSection.js","pages/InterestedParty/InterestedPartyActive.js","pages/InterestedParty/InterestedPartyPending.js","pages/InterestedParty/InterestedPartyEditing.js","pages/InterestedParty/InterestedPartyRejected.js","pages/InterestedParty/InterestedPartyInactive.js","common/SwotItems.js","pages/Swot/SwotActive.js","pages/Swot/SwotPending.js","pages/Swot/SwotEditing.js","pages/Swot/SwotRejected.js","pages/Swot/SwotInactive.js","pages/ScopeOfQMS/ScopeOfQMSActive.js","pages/ScopeOfQMS/ScopeOfQMSPending.js","pages/ScopeOfQMS/ScopeOfQMSEditing.js","pages/ScopeOfQMS/ScopeOfQMSRejected.js","pages/ScopeOfQMS/ScopeOfQMSInactive.js","common/CompanyPolicyItem.js","pages/CompanyPolicy/CompanyPolicyActive.js","pages/CompanyPolicy/CompanyPolicyPending.js","pages/CompanyPolicy/CompanyPolicyEditing.js","pages/CompanyPolicy/CompanyPolicyRejected.js","pages/CompanyPolicy/CompanyPolicyInactive.js","common/RiskNOppItem.js","pages/RiskNOpp/RiskNOppActive.js","pages/RiskNOpp/RiskNOppPending.js","pages/RiskNOpp/RiskNOppEditing.js","pages/RiskNOpp/RiskNOppRejected.js","pages/RiskNOpp/RiskNOppInactive.js","common/ObjAchivProgramItem.js","pages/ObjAchivProgram/ObjAchivProgramActive.js","pages/ObjAchivProgram/ObjAchivProgramPending.js","pages/ObjAchivProgram/ObjAchivProgramEditing.js","pages/ObjAchivProgram/ObjAchivProgramRejected.js","pages/ObjAchivProgram/ObjAchivProgramInactive.js","common/RenderDocument.js","hooks/useDocAxios.js","hooks/useCheckEditableAxios.js","common/ManageDeleteArchivedDoc.js","pages/Swot/Swot.js","pages/Swot/SwotArchived.js","pages/InterestedParty/InterestedParty.js","pages/InterestedParty/InterestedPartyArchived.js","pages/ScopeOfQMS/ScopeOfQMS.js","pages/ScopeOfQMS/ScopeOfQMSArchived.js","pages/CompanyPolicy/CompanyPolicy.js","pages/CompanyPolicy/CompanyPolicyArchived.js","pages/ManageDeleteRole.js","pages/RespNAuthority/RespNAuthority.js","config/permissionListArr.js","pages/RespNAuthority/RespNAuthorityAddRole.js","pages/RespNAuthority/RespNAuthorityManageRole.js","pages/RespNAuthority/RespNAuthorityAddChart.js","pages/RespNAuthority/RespNAuthorityManageChart.js","pages/RiskNOpp/RiskNOpp.js","pages/ObjAchivProgram/ObjAchivProgram.js","pages/ObjAchivProgram/ObjAchivProgramArchived.js","common/SettingsBentoBox.js","pages/Settings.js","common/RoleTags.js","common/ErrorCard.js","pages/ManageAccount.js","pages/ManageUsers.js","pages/ManageUser.js","pages/PageNotFound.js","pages/RiskNOpp/RiskNOppArchived.js","pages/ManageInvites.js","pages/ManageOrganization.js","pages/ForgotPassword/ForgotPassword.js","pages/ForgotPassword/ChangePassword.js","pages/EquipmentMaintenance/EquipmentMaintenance.js","pages/EquipmentMaintenance/ManageEquipmentMaintenance.js","pages/EquipmentMaintenance/AddEquipmentMaintenance.js","pages/EquipmentMaintenance/AddEquipmentCategory.js","pages/EquipmentMaintenance/ManageEquipmentCategory.js","pages/PermitLicenses/Licenses.js","pages/PermitLicenses/AddLicense.js","pages/InductionForm/ManageInductionTemplates.js","pages/InductionForm/ManageInductionVersions.js","common/InductionFormSection.js","pages/InductionForm/ManageInductionForm.js","pages/Training/MyTraining.js","common/FileSelect.js","pages/Training/ManageMyTrainingRecord.js","common/EvaluationQuestions.js","pages/Training/PostEvaluationForm.js","pages/Training/CreateTrainingRequest.js","pages/Training/ManageTrainings.js","pages/Training/ManagePostEvaluationTemplates.js","config/trainingEvaluation.js","pages/Training/CreateEvaluationTemplate.js","pages/Training/ManageMyTrainingRequest.js","pages/Training/ManageTrainingRecord.js","pages/Training/ManageTrainingRequest.js","pages/Training/ManageEvaluationTemplate.js","pages/EquipmentMaintenance/AddMaintenanceCycle.js","pages/EquipmentMaintenance/ManageMaintenanceCycle.js","pages/InductionForm/CreateInductionForm.js","pages/PermitLicenses/ManageLicense.js","Routes.js","pages/ErrorBoundary.js","common/Loading.js","App.js","index.js"],"names":["Title","title","Helmet","charSet","config","baseUrl","process","toastTiming","tokenManager","console","log","accessToken","message","getToken","getDecodedToken","jwtDecode","setToken","pToken","removeToken","logout","a","axios","post","withCredentials","window","localStorage","setItem","Date","now","response","getMessage","setMessage","pMsg","Login","history","useHistory","useState","formFilled","setFormFilled","username","password","inputValues","setInputValues","loading","setLoading","useEffect","handleInputChange","event","prevValues","target","name","value","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","className","onSubmit","preventDefault","then","res","data","results","token","TokenManager","defaults","headers","common","push","catch","err","errCode","errMsg","undefined","status","toast","error","src","logo","alt","htmlFor","type","onChange","placeholder","href","disabled","PasswordStrengthIndicatorItem","isValid","text","highlightClass","PasswordCriteria","validity","minChar","number","specialChar","match","CreateAccount","decodedToken","companyName","company_name","adminLevel","admin_level","isNumberRegx","specialCharacterRegx","firstName","lastName","confirmPassword","addressLineOne","addressLineTwo","city","state","country","postalCode","passwordFocused","setPasswordFocused","passwordValidity","setPasswordValidity","length","test","createNormalUserAccount","email","company_id","setTimeout","success","createAdminUserAccount","onFocus","saveUserSideNavStatus","sideNavStatus","getSideNavStatus","tempSideNavStatus","getItem","Header","setSideNavStatus","displayName","display_name","userEmail","company_alias","isProfilePopUpOpen","setIsProfilePopUpOpen","handleLogOutClick","onClick","prevState","Provider","color","size","profilePic","Footer","Container","Row","Col","md","xl","SideNavSubMenu","sideNavListObj","index","activeLink","userID","employee_id","userCompanyID","setAdminLevel","link","isSubMenuOpen","setIsSubMenuOpen","get","handleSubMenuIcon","display","subLinksArr","map","subLinkObj","calMapIndex","isSecondaryAdmin","header","subLinks","subLink","to","sideNavListArr","minHeight","SideNav","sideNavWidth","style","width","PageLayout","children","DashboardInfoCards","isEditor","organisationContent","heading","editMode","setEditMode","tempDisplayData","setTempDisplayData","tempEditedData","setTempEditedData","split","strLine","handleTextareaChange","handleBtnClick","btnType","saveUrl","content","StatusPill","AnnouncementsBentoBox","date","Dashboard","axiosConfig","contentVariableArr","dataUrlArr","editorUrlArr","companyScope","companyReferences","companyTerms","setOrganisationContent","setIsEditor","Promise","all","forEach","resObj","i","canEdit","lg","dayjs","format","AnnouncementsListItem","id","Announcements","announcementData","Breadcrumb","Item","active","ViewAnnouncements","params","aid","CreateAnnouncement","label","recipientGroup","allRecipients","setAllRecipients","EditorState","createEmpty","editorState","setEditorState","componentMounted","employeesData","account","isMulti","options","wrapperClassName","editorClassName","onEditorStateChange","DocumentLayout","isDocCollapsed","docSwotColumns","dataField","hidden","headerAttrs","historySwotColumns","formatter","cell","row","docInterestedPartyColumns","historyInterestedPartyColumns","docScopeOfQMSColumns","historyScopeOfQMSColumns","historyCompanyPolicyColumns","historyRiskNOppColumns","historyObjAchivColumns","categoryColumns","equipmentMaintenanceColumns","historyEquipmentMaintenanceColumns","maintenanceCycleColumns","maintenanceRecordColumns","licenseColumns","historyLicenseColumns","myTrainingRecordsColumns","attendance","myTrainingRequestsColumns","managePendingTrainingRequestsColumns","manageAllTrainingRequestsColumns","done_at","managePETColumns","manageInductionTemplatesColumns","historyInductionTemplatesColumns","manageInductionTemplateColumns","manageInductionFormSectionColumns","TAB","ACTIVE","PENDING","REJECTED","EDITING","COLLAPSE","NULL","INACTIVE","QUESTION_TYPE","TRAINING_EVALUATION_MODE","Tab","handleTabOnClick","tabType","focus","tabSettings","secondTab","toLowerCase","useEndpoints","swot","editSubmit","pendingApprove","pendingReject","rejectedEdit","rejectedDelete","interestedParty","scopeOfQMS","companyPolicy","respNAuth","riskNOpp","objAchivProgram","btnEndpointsListObj","getAll","pending","rejected","tabEndpointsListObj","TabRow","setIsDocCollapsed","setDocQueryEnum","setTabSettings","setQueryUrl","pageType","newTabIndex","firstUrl","secondUrl","focusTabIndex","firstTab","CustomConfirmAlert","handler","onClose","DocumentBtnSection","docEditTableData","docEditHeaderData","docPendingHeaderData","docPendingTableData","docRejectedHeaderData","isApprover","docQueryEnum","tempFileArr","startNewDoc","setStartNewDoc","rejectRemarks","useRef","handleDocActionBtns","approvedBy","isNaN","editSubmitAxiosReqData","editSubmitUrl","strengths","strength","parent_item_id","parentItemID","weaknesses","weakness","opportunities","opp","threats","threat","approved_by","parseInt","interested_parties","interested_party","expectations","needs_n_expectations","display_order","serialNo","JSON","stringify","convertToRaw","getCurrentContent","boundaries","site_name","site_scope","address","site_address","policies","action","rpn","missingPersonelResponsible","personel_responsible","objAchivFormData","FormData","append","key","fileObj","handleRejectDelete","confirmAlert","customUI","rejectedDeleteUrl","docID","delete","pendingApproveUrl","put","ref","pendingRejectAxiosReqData","remarks","current","pendingRejectUrl","handleRejectPendingDocument","created_by_id","InterestedPartyActive","docHeaderData","docTableData","docColumns","docKeyfield","created_by","approved_on","keyField","columns","InterestedPartyPending","setDocPendingTableData","newRowArr","deletedRowArr","editedRowArr","rowStyle","setRowStyle","rowStyleTable","setRowStyleTable","filter","activeData","activeIndex","isDeleted","pendingData","pendingIndex","rowIndex","backgroundColor","textDecoration","fontWeight","InterestedPartyEditing","setDocEditTableData","setDocEditHeaderData","approverList","setApproverList","userDisplayName","needs_n_expectations_raw","submittedBy","approverListData","acc","firstname","lastname","approvalID","docEditingColumns","editable","editor","Type","TEXTAREA","height","wordWrap","isDummyField","handleDocDeleteRow","deleteRowSerialID","prevDocTableData","dataElem","approver","readOnly","cellEdit","cellEditFactory","mode","blurToSave","InterestedPartyRejected","docRejectedTableData","InterestedPartyInactive","SwotItems","SwotActive","bordered","SwotPending","newStrengthRowArr","newWeaknessRowArr","newOppRowArr","newThreatRowArr","editedStrengthRowArr","editedWeaknessRowArr","editedOppRowArr","editedThreatRowArr","rowStrengthStyleTable","setRowStrengthStyleTable","rowWeaknessStyleTable","setRowWeaknessStyleTable","rowOppStyleTable","setRowOppStyleTable","rowThreatStyleTable","setRowThreatStyleTable","SwotEditing","handleDocAddRow","tableType","swotType","newSwotTypeTableData","formattedSwotTypeTableData","formattedDocTableData","SwotRejected","SwotInactive","ScopeOfQMSActive","ScopeOfQMSPending","ScopeOfQMSEditing","site_scope_raw","approvalListData","ScopeOfQMSRejected","ScopeOfQMSInactive","CompanyPolicyItem","itemTitle","itemContent","itemIndex","docType","CompanyPolicyActive","CompanyPolicyPending","CompanyPolicyEditing","CompanyPolicyRejected","CompanyPolicyInactive","RiskNOppItem","rnoType","rnoItemData","rnoItemIndex","severity","likelihood","optionsColorTheme","setOptionsColorTheme","setRpn","handleSelectChange","toBeMultipliedWithNewSelectValue","newSelectValue","renderEditOptions","renderOptions","modified","RiskNOppActive","strengthData","RiskNOppPending","RiskNOppEditing","setApprovalList","weaknessData","oppData","threatData","RiskNOppRejected","RiskNOppInactive","ObjAchivProgramItem","setTempFileArr","personelResponsibleList","fileRef","fileUploadInProgress","setFileUploadInProgress","docObjAchivProgramFilesEditableColumns","handleDeleteFile","docObjAchivProgramFilesColumns","handleFileDownload","fk_file_id","file_name","fileID","fileName","responseType","FileDownload","formattedTempFileArr","files","fileData","fileIndex","new","fileSerialNo","newFileArr","innerData","innerIndex","newData","newIndex","function","quality_objective","prData","prIndex","role_id","data_collection","data_analysis","role","threeFilesAlready","toBeReturnedFileObj","ObjAchivProgramActive","ObjAchivProgramPending","ObjAchivProgramEditing","docKeyField","setPersonelResponsibleList","file","ObjAchivProgramRejected","ObjAchivProgramInactive","RenderDocument","SpecificDocType","Active","SWOTActive","Pending","SWOTPending","Editing","SWOTEditing","Rejected","SWOTRejected","Inactive","SWOTInactive","useDocAxios","url","setResponse","setError","resultDocTable","resultHeaderData","fetchDocData","useCheckEditableAxios","thirdUrl","checkIfEmployeeCanEdit","checkIfPendingExist","checkIfRejectedExist","checkIfCanEdit","ManageDeleteArchivedDoc","deleteUrl","docHeaderUrl","setArchivedDocData","idName","handleDeleteArchiveDoc","formattedArchivedDocData","archivedData","active_till","updated_at","action_view","action_delete","Swot","setIsNewDoc","setDocTableData","setDocHeaderData","setDocPendingHeaderData","setDocRejectedTableData","setDocRejectedHeaderData","archivedDocData","queryUrl","isApproverOfPendingDoc","setIsApproverOfPendingDoc","setIsApprover","axiosResponse","queryCheckEditableAxiosUrl","checkEditableAxiosResponse","strengthIndex","swot_item_id","weaknessIndex","oppIndex","threatIndex","result","docActive","docPending","docRejected","formattedData","author","approved_at","swot_id","prevTabSettings","canApprove","historySwotDeletableColumns","pagination","paginationFactory","SwotArchived","swotID","InterestedParty","items","party_item_id","formattedDocActiveTableData","party_id","historyInterestedPartyDeletableColumns","InterestedPartyArchived","ipID","ScopeOfQMS","qms_scope_item_id","strLineIndex","createWithContent","convertFromRaw","parse","draftToHtml","convert","qms_scope_id","historyScopeOfQMSDeletableColumns","ScopeOfQMSArchived","scopeOfQMSID","CompanyPolicy","policy_item_id","formattedDocPendingTableData","policy_id","historyCompanyPolicyDeletableColumns","CompanyPolicyArchived","companyPolicyID","ManageDeleteRole","refreshUrl","setRoleData","handleDeleteRole","created_at","RespNAuthority","SearchBar","Search","ClearSearchButton","roleData","orgChartData","setOrgChartData","isUploader","setIsUploader","chart_id","description","created_on","docRespNAuthOrgChartColumns","docRespNAuthRolesColumns","search","props","searchProps","baseProps","normalPermissionListArr","moduleCode","edit","approve","RespNAuthorityAddRole","responsibility","rights","roleInputData","setRoleInputData","scrollTo","handeInputChange","checkCheckboxChecked","moduleCodeAndRights","checkModuleCode","checkModuleRights","Object","keys","handleCheckboxChange","checkIfEditExist","wrap","checked","formattedInsertData","tempRightsObj","RespNAuthorityManageRole","roleID","fullPermissionList","rightsObjSize","v","RespNAuthorityAddChart","handleBtn","formData","RespNAuthorityManageChart","orgChartID","createdBy","submittedOn","editableOrgChartData","setEditableOrgChartData","rerender","setRerender","file_id","axiosSubmitData","RiskNOpp","fk_risks_analysis_id","fk_swot_item_id","risks_analysis_id","NEW","historyRiskNOppDeletableColumns","ObjAchivProgram","mockDataColumns","achievement_item_id","achievement_id","historyObjAchivDeletableColumns","ObjAchivProgramArchived","oapID","SettingsBentoBox","linkDisplay","Settings","jobTitle","display_title","companyAlias","RoleTags","tagListing","deletable","ErrorCard","errStatus","errStatusText","Alert","variant","Heading","ManageAccount","isEditing","setIsEditing","isChangingPassword","setIsChangingPassword","inputTouched","setInputTouched","oldpassword","fullName","emailDisplay","line1","line2","roles","userData","setUserData","render","renderErrorCard","setRenderErrorCard","resDataResults","formattedUserData","company","addressID","address_id","address_line_one","address_line_two","postal_code","statusText","handlePasswordInputChange","handleAddressInputChange","buttonType","editUserDetails","changePassword","old_password","oldPassword","new_password","ManageUsers","usersData","setUsersData","formattedUsersData","accountStatus","usersColumn","charAt","toUpperCase","slice","ManageUser","employeeID","editData","setEditData","realAdminLevel","setRealAdminLevel","formattedRoleData","handleEditRole","handleType","tempRoleArrList","indexOfToBeDeletedRoleID","indexOf","splice","handleUserActivation","actionType","accountStatusType","handleActivateAccount","account_status","selectValue","data1","index1","userHaveAlready","data2","index2","userHaveAllRoles","roleDataArr","userRoleDataArr","sort","renderAddRoleBtnSection","PageNotFound","goBack","RiskNOppArchived","rnoID","ManageInvites","sendInviteInputData","setSendInviteInputData","Spinner","animation","handleSendInviteAxios","ManageOrganization","businessRegNum","createdOn","companyData","setCompanyData","formattedCompanyData","business_registration_number","alias","editCompanyDetails","ForgotPassword","otpFormFilled","setOtpFormFilled","sentEmail","setSentEmail","otp","setOtp","xs","numInputs","inputStyle","ChangePassword","EquipmentMaintenance","equipmentData","setEquipmentData","categoryData","setCategoryData","archivedEquipmentData","setArchivedEquipmentData","filteredCategoryID","setFilteredCategoryID","resClausePermission","tempEquipmentData","tempCategoryData","tempArchivedEquimentData","resAllEquipments","equipment","resAllCategories","resArchivedEquipments","resSpecificEquipments","category_id","action_manage","equipment_id","category","categoryString","categories","catData","refNo","reference_number","model","archived_on","archived_at","wrapperClasses","ManageEquipmentMaintenance","maintenanceCyclesData","setMaintenanceCyclesData","users","regNo","location","archivedAt","categoryList","setCategoryList","equipmentID","emID","resOneEquipment","register_number","serial_number","maintenance","maintenance_id","maintenanceType","responsible","personArray","personString","assignees","eachPerson","maintenanceFrequency","freq_unit_time","freq_multiplier","lastServiceDate","last_service_at","handleDeleteCycle","maintenanceID","handleDelete","resUpdateEquipment","handleInputArrayChange","handleEquipmentArchive","handleDeactivateAccount","catStr","AddEquipmentMaintenance","handleAddEquipment","AddEquipmentCategory","resInsertOneCategory","ManageEquipmentCategory","categoryID","catID","resUpdateOneCategory","resCategoryData","dbName","handleDeleteCategory","Licenses","licenseData","setLicenseData","archivedLicenseData","setArchivedLicenseData","tempLicenseData","tempArchivedLicenseData","resAllLicenses","resArchivedLicenses","licence_id","license","licence_name","licenseNo","licence_number","expDate","expires_at","externalAgency","external_organisation","responsibleUser","userString","AddLicense","userList","setUserList","resInsertOneLicence","setLastServiceDate","tempUserData","ManageInductionTemplates","newTemplateName","fakeInductionTemplateData","template_name","confirmAddTemplate","handleAddTemplate","ManageInductionVersions","templateID","form_name","version_label","InductionFormTask","taskMode","taskData","task","descriptions","InductionFormSection","sectionData","formMode","section","tasks","ManageInductionForm","formID","order","done","sectionsData","MyTraining","myTrainingRecords","setMyTrainingRecords","myTrainingRequests","setMyTrainingRequests","resMyTrainingRequests","resMyTrainingRecords","tempMyTrainingRequests","tempMyTrainingRecords","training_id","course_title","start_date","training_start","end_date","training_end","attendance_upload","request_status","supervisor_evaluation_done","trainee_evaluation_done","FileSelect","inputFile","click","ManageMyTrainingRecord","trainingRecordID","boolCompletedTraining","setBoolCompletedTraining","myTrainingRecord","setMyTrainingRecord","resMyTrainingRequest","tempMyTrainingRecord","organisation","training_institution","cost","training_cost","confirmUploadFile","handleUploadFileBtn","confirmRemoveRecord","handleRemoveRecord","EvaluationQuestions","qns","qnsType","viewType","setQuestions","formType","setType","trainee","question","supervisor","handleQnsInputChange","handleSelectQnsType","formTypeUsage","PostEvaluationForm","pathnameArr","useLocation","pathname","setFormType","CreateTrainingRequest","justification_text","newTrainingRequest","setNewTrainingRequest","newJustificationFile","setNewJustificationFile","resApprover","handleSubmitTrainingRequest","property","newTrainingRequestFormData","handleDateChange","ManageTrainings","setTrainingRequests","setTrainingRecords","resTrainingRequests","resTrainingRecords","tempTrainingRequests","tempTrainingRecords","fakeTrainingRecordsData","evaluation","ManagePostEvaluationTemplates","fakeEvaluationTemplateData","template_title","version","defaultTemplate","meta","template","effective_at","CreateEvaluationTemplate","questions","setMeta","sortedTraineeQnsRaw","b","sortedSupervisorQnsRaw","handleAddQns","answer","ManageMyTrainingRequest","trainingReqID","myTrainingRequest","setMyTrainingRequest","tempMyTrainingRequest","approval_status","justification_upload","handleDownloadFile","fileInfoRes","fileRes","ManageTrainingRecord","trainingID","trainingRecord","setTrainingRecord","resTrainingRecord","tempTrainingRecord","ManageTrainingRequest","trainingRequest","setTrainingRequest","confirmReject","handleReject","ManageEvaluationTemplate","AddMaintenanceCycle","freq_unit_time_UI","maintenanceData","setMaintenanceData","resInsertOneMaintenance","handleTimeInputChange","unitTime","tempUsersData","resAllUsers","ManageMaintenanceCycle","maintenanceRecordsData","setMaintenanceRecordsData","tempPersonsData","uploader","uploadDate","action_download","handleDeleteRecord","maintenance_record_id","resUpdateCycle","maintenanceCyclesDataPlaceholder","personStr","CreateInductionForm","ManageLicense","licenseID","responsibleExternalAgency","licenseFile","setLicenseFile","resOneLicense","personData","resUpdateLicense","setExpDate","handleLicenseArchive","handleActivateLicense","handleDeactivateLicense","Routes","authGuard","Component","path","exact","CreateAnnouncements","ErrorBoundary","hasError","this","React","Loading","App","verifyUser","useCallback","getRefreshToken","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e19ff048.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import Helmet from \"react-helmet\";\r\nimport React from 'react';\r\n\r\nconst Title = ({title}) => {\r\n    const defaultTitle = \"eISO System\";\r\n    return (\r\n        <Helmet>\r\n            <meta charSet=\"utf-8\"/>\r\n            <title>{title ? title : defaultTitle}</title>\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nexport default Title;","const config = {\r\n    baseUrl: process.env.REACT_APP_BASEURL,\r\n    toastTiming: 2000\r\n}\r\n\r\nexport default config;","import jwtDecode from \"jwt-decode\";\r\nimport axios from 'axios';\r\n\r\nconst tokenManager = () => {\r\n    console.log(\"token manager has been run\");\r\n    let accessToken = null;\r\n    let message = \"\";\r\n\r\n    const getToken = () => accessToken;\r\n\r\n    const getDecodedToken = () => {\r\n        if (accessToken) {\r\n            return jwtDecode(accessToken);\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const setToken = (pToken) => {\r\n        accessToken = pToken;\r\n        return true;\r\n    };\r\n\r\n    const removeToken = () => {\r\n        accessToken = null;\r\n        return true;\r\n    };\r\n\r\n    const logout = async () => {\r\n        try {\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/logout`, {}, {withCredentials: true});\r\n            window.localStorage.setItem(\"logout\", Date.now());\r\n            accessToken = null;\r\n            return true;\r\n        } catch (error) {\r\n            console.log(error);\r\n            console.log(error.response)\r\n            return false;\r\n        };\r\n    };\r\n\r\n    const getMessage = () => message;\r\n\r\n    const setMessage = (pMsg) => {\r\n        message = pMsg;\r\n        return true;\r\n    };\r\n\r\n    return {\r\n        getToken,\r\n        getDecodedToken,\r\n        setToken,\r\n        removeToken,\r\n        logout,\r\n        getMessage,\r\n        setMessage\r\n    };\r\n};\r\n\r\nexport default tokenManager();","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport Title from '../common/Title';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    const toastTiming = config.toastTiming;\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.username !== '' && inputValues.password !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n    }, [inputValues]);\r\n    \r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        let username = event.target.username.value;\r\n        let password = event.target.password.value;\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/login`, {\r\n            \"username\": username,\r\n            \"password\": password\r\n    })\r\n            .then((res) => {\r\n                const data = res.data.results;\r\n                console.log(data);\r\n                const accessToken = res.data.results.token;\r\n                TokenManager.setToken(accessToken);\r\n                console.log(TokenManager.getToken());\r\n                axios.defaults.headers.common['Authorization'] = `bearer ${accessToken}`;\r\n                // saveUserData(data.token, data.data.display_name, data.data.display_title, data.data.username, data.data.email, data.data.company_id, data.data.company_alias, data.data.company_name);\r\n                setLoading(() => (false));\r\n                history.push('/dashboard');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                \r\n                toast.error(<>Error Code: <b>{errCode}</b><br/>Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Username */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"Username\" />\r\n                            </div>\r\n                            {/* Password */}\r\n                            <div className=\"c-Card__Password\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\" name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                                <a href=\"/forgot-password\" className=\"c-Card__Forgot-password\">Forgot password?</a>\r\n                            </div>\r\n                            {\r\n                                // Check if user has touched both inputs\r\n                                formFilled ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Login\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Login</button>\r\n                            }\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\n\r\nconst PasswordCriteria = ({\r\n    validity: { minChar, number, specialChar, match }\r\n}) => {\r\n    return (\r\n        <div className=\"c-Card__Password-criteria\">\r\n            <div className=\"c-Password-criteria__Header\">\r\n                <b>Password Criteria</b>\r\n            </div>\r\n            <ul>\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={minChar}\r\n                    text=\"Have at least 8 characters\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={number}\r\n                    text=\"Have at least 1 number\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={specialChar}\r\n                    text=\"Have at least 1 special character\"\r\n                />\r\n                <PasswordStrengthIndicatorItem\r\n                    isValid={match}\r\n                    text=\"Passwords must match\"\r\n                />\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PasswordStrengthIndicatorItem = ({ isValid, text }) => {\r\n    const highlightClass = isValid\r\n        ? \"text-success\"\r\n        : \"text-danger\";\r\n    return <li className={highlightClass}>{text}</li>;\r\n};\r\n\r\nexport default PasswordCriteria;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Title from '../common/Title';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport PasswordCriteria from '../common/PasswordCriteria';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst CreateAccount = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    console.log(\"------------Decoded Token-------------\");\r\n    console.log(decodedToken);\r\n    const companyName = decodedToken.company_name;\r\n    const adminLevel = decodedToken.admin_level;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // Regex for password criteria\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        addressLineOne: '',\r\n        addressLineTwo: '',\r\n        city: '',\r\n        state: '',\r\n        country: '',\r\n        postalCode: '',\r\n\r\n    });\r\n    const [passwordFocused, setPasswordFocused] = useState(false);\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.firstName !== '' && inputValues.lastName !== '' && inputValues.username !== '' &&\r\n            inputValues.password !== '' && inputValues.confirmPassword !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        // Company id set to 1 & email set to abc@gmail.com & title set to placeholder\r\n        // These should be taken from jwt token\r\n        let firstName = event.target.firstName.value;\r\n        let lastName = event.target.lastName.value;\r\n        let username = event.target.username.value;\r\n        let email = decodedToken.email;\r\n        let password = event.target.password.value;\r\n        let addressLineOne = event.target.addressLineOne.value;\r\n        let addressLineTwo = event.target.addressLineTwo.value;\r\n        let city = event.target.city.value;\r\n        let state = event.target.state.value;\r\n        let country = event.target.country.value;\r\n        let postalCode = event.target.postalCode.value;\r\n        let title = \"placeholder\";\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n        if (adminLevel === 2) {\r\n            createAdminUserAccount(firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title);\r\n        } else if (adminLevel === 0) {\r\n            createNormalUserAccount(firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title);\r\n        }\r\n    }\r\n\r\n    // End point for creating normal user account\r\n    const createNormalUserAccount = (firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${decodedToken.company_id}/invites/accept/${token}`, {\r\n            \"firstname\": firstName,\r\n            \"lastname\": lastName,\r\n            \"username\": username,\r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"address\": {\r\n                \"address_line_one\": addressLineOne,\r\n                \"address_line_two\": addressLineTwo,\r\n                \"city\": city,\r\n                \"state\": state,\r\n                \"country\": country,\r\n                \"postal_code\": postalCode,\r\n            },\r\n            \"title\": title,\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Create account successful!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Account has been created!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // End point for creating normal user account\r\n    const createAdminUserAccount = (firstName, lastName, username, email, password, addressLineOne, addressLineTwo, city, state, country, postalCode, title) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${decodedToken.company_id}/invites/accept/${token}`, {\r\n            \"firstname\": firstName,\r\n            \"lastname\": lastName,\r\n            \"username\": username,\r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"address\": {\r\n                \"address_line_one\": addressLineOne,\r\n                \"address_line_two\": addressLineTwo,\r\n                \"city\": city,\r\n                \"state\": state,\r\n                \"country\": country,\r\n                \"postal_code\": postalCode,\r\n            },\r\n            \"title\": title,\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Create account successful!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Account has been created!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Create Account\" />\r\n            <div className=\"c-Create-account\">\r\n                <div className=\"l-Create-account__Card\">\r\n                    <div className=\"c-Create-account__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div >\r\n                            {/* Title */}\r\n                            <div className=\"c-Card__Form-title\">\r\n                                <h5><b>Create Your Account</b></h5>\r\n                                <p>Hello, {decodedToken.name}! You are invited to eISO as a {adminLevel === 2 ? \"super admin\" : \"normal user\"} by {adminLevel === 2 ? \"the platform admin\" : companyName || 'Error'}.</p>\r\n                            </div>\r\n                            {/* Form input first title */}\r\n                            <div className=\"c-Card__Form-input-title\">\r\n                                <b>Basic Details</b>\r\n                            </div>\r\n                            {/* Basic Details First Row */}\r\n                            <div className=\"c-Card__Basic-details-first-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"firstName\">First Name</label>\r\n                                    <input type=\"text\" name=\"firstName\" value={inputValues.firstName || ''} onChange={handleInputChange} placeholder=\"First Name\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"lastName\">Last Name</label>\r\n                                    <input type=\"text\" name=\"lastName\" value={inputValues.lastName || ''} onChange={handleInputChange} placeholder=\"Last Name\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Second Row */}\r\n                            <div className=\"c-Card__Basic-details-second-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"addressLineOne\">Address Line One</label>\r\n                                    <input type=\"text\" name=\"addressLineOne\" value={inputValues.addressLineOne || ''} onChange={handleInputChange} placeholder=\"Address Line One\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"addressLineTwo\">Address Line Two</label>\r\n                                    <input type=\"text\" name=\"addressLineTwo\" value={inputValues.addressLineTwo || ''} onChange={handleInputChange} placeholder=\"Address Line Two\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Third Row */}\r\n                            <div className=\"c-Card__Basic-details-third-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"city\">City</label>\r\n                                    <input type=\"text\" name=\"city\" value={inputValues.city || ''} onChange={handleInputChange} placeholder=\"City\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"state\">State</label>\r\n                                    <input type=\"text\" name=\"state\" value={inputValues.state || ''} onChange={handleInputChange} placeholder=\"State\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Fourth Row */}\r\n                            <div className=\"c-Card__Basic-details-fourth-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"country\">Country</label>\r\n                                    <input type=\"text\" name=\"country\" value={inputValues.country || ''} onChange={handleInputChange} placeholder=\"Country\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"postalCode\">Postal Code</label>\r\n                                    <input type=\"text\" name=\"postalCode\" value={inputValues.postalCode || ''} onChange={handleInputChange} placeholder=\"Postal Code\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Basic Details Fifth Row*/}\r\n                            <div className=\"c-Card__Basic-details-fifth-row row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"username\">Username</label>\r\n                                    <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"Username\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Form input second title */}\r\n                            <div className=\"c-Card__Form-input-title\">\r\n                                <b>Password Info</b>\r\n                            </div>\r\n                            {/* Password Info */}\r\n                            <div className=\"c-Card__Password-info row\">\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"password\">Password</label>\r\n                                    <input onFocus={() => setPasswordFocused(true)} type=\"password\" name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                                    <input type=\"password\" name=\"confirmPassword\" value={inputValues.confirmPassword || ''} onChange={handleInputChange} placeholder=\"confirmPassword\" />\r\n                                </div>\r\n                            </div>\r\n                            {/* Password Criteria */}\r\n                            {passwordFocused && (\r\n                                <PasswordCriteria\r\n                                    validity={passwordValidity}\r\n                                />\r\n                            )}\r\n                            {/* Submit button */}\r\n                            <div className=\"c-Card__Submit-btn\">\r\n                                {\r\n                                    // Check if user has touched both inputs\r\n                                    formFilled && (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                        passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                        <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Create Account\"}</button> :\r\n                                        <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Create Account</button>\r\n                                }\r\n                            </div>\r\n                            {/* Terms message */}\r\n                            <div className=\"c-Card__Terms-message\">\r\n                                <p>By creating an account, you agree to our <a href=\"#\">Terms of Service</a> and <a href=\"#\">Privacy Policy</a></p>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAccount;","// Set user's side navigation collapsed status\r\nexport const saveUserSideNavStatus = (sideNavStatus) => {\r\n    localStorage.setItem('sideNavStatus', sideNavStatus);\r\n}\r\n\r\n// Return user's side navigation collapsed status\r\nexport const getUserSideNavStatus = () => {\r\n    return localStorage.getItem('sideNavStatus') || null;\r\n}\r\n\r\n// Return the user's token\r\nexport const getToken = () => {\r\n    return localStorage.getItem('token') || null;\r\n}\r\n\r\n// Return the user's first name and last name\r\nexport const getUserDisplayName = () => {\r\n    return localStorage.getItem('displayName') || null;\r\n}\r\n\r\n// Return user's job title\r\nexport const getUserJobTitle= () => {\r\n    return localStorage.getItem('jobTitle') || null;\r\n}\r\n\r\n// Return username\r\nexport const getUsername = () => {\r\n    return localStorage.getItem('username') || null;\r\n}\r\n\r\n// Return user's email\r\nexport const getUserEmail = () => {\r\n    return localStorage.getItem('email') || null;\r\n}\r\n// Return user's company alias\r\nexport const getUserCompanyAlias = () => {\r\n    return localStorage.getItem('companyAlias') || null;\r\n}\r\n\r\n// Return the user's company name\r\nexport const getUserCompanyName = () => {\r\n    return localStorage.getItem('companyName') || null;\r\n}\r\n\r\n// Return the user's company id\r\nexport const getUserCompanyID = () => {\r\n    return localStorage.getItem('companyID') || null;\r\n}\r\n\r\n// Set the user's token when signing in\r\nexport const saveUserData = (token, displayName, jobTitle, username, email, companyID, companyAlias, companyName) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('displayName', displayName);\r\n    localStorage.setItem('jobTitle', jobTitle);\r\n    localStorage.setItem('username', username);\r\n    localStorage.setItem('email', email);\r\n    localStorage.setItem('companyID', companyID);\r\n    localStorage.setItem('companyAlias', companyAlias);\r\n    localStorage.setItem('companyName', companyName);\r\n}\r\n\r\n// Clear user's localStorage\r\nexport const clearLocalStorage = () => {\r\n    localStorage.clear();\r\n}","import { getUserSideNavStatus, saveUserSideNavStatus } from './localStorageUtils.js';\r\n\r\nexport const getSideNavStatus = () => {\r\n    const tempSideNavStatus = getUserSideNavStatus();\r\n\r\n    // Default value\r\n    if (tempSideNavStatus == null || tempSideNavStatus === \"true\") {\r\n        saveUserSideNavStatus(true);\r\n        return true;\r\n    }\r\n    saveUserSideNavStatus(false);\r\n    return false;\r\n}","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4MDcwRTFGQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4MDcwRTFFQjZGQzExRTVCN0I0RDI5QTQwNzA1QjVBIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDVFRTVGRDhCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFRTVGRDlCNkZDMTFFNUI0QjlFQkMyQjFGQTJBQjIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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\"","import React, { useState } from 'react';\r\nimport logo from '../assets/images/eISO-logo.png';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { saveUserSideNavStatus, clearLocalStorage, getUserDisplayName, getUsername, getUserEmail, getUserCompanyAlias, getUserCompanyName } from '../utilities/localStorageUtils';\r\nimport * as FaIcons from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\nimport { toast } from 'react-toastify';\r\n// import { Badge } from '@material-ui/core';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\n\r\nconst Header = ({ sideNavStatus, setSideNavStatus }) => {\r\n    let history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const displayName = decodedToken.display_name;\r\n    const username = decodedToken.username;\r\n    const userEmail = decodedToken.email;\r\n    const companyAlias = decodedToken.company_alias;\r\n    const companyName = decodedToken.company_name;\r\n\r\n    // States declaration\r\n    const [isProfilePopUpOpen, setIsProfilePopUpOpen] = useState(false);\r\n\r\n\r\n    // Handler for side navigation hamburger icon\r\n    const handleSideNavHamburger = () => {\r\n        saveUserSideNavStatus(!sideNavStatus);\r\n        setSideNavStatus((prevState) => {\r\n            return !prevState;\r\n        });\r\n    }\r\n\r\n    // Handler for clicking on profile picture\r\n    const handleProfilePicClick = () => {\r\n        setIsProfilePopUpOpen((prevState) => (!prevState));\r\n    }\r\n\r\n    // Handler for logging out of system\r\n    const handleLogOutClick = async () => {\r\n        const res = await TokenManager.logout();\r\n        if (res) {\r\n          toast(\"Logged out successfully\");\r\n          history.push(\"/login\");\r\n        } else {\r\n          toast(\"Logged out failed\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            {/* Left section */}\r\n            <div className=\"l-left\">\r\n                <div className=\"c-Hamburger\">\r\n                    <button onClick={handleSideNavHamburger}>\r\n                        <IconContext.Provider value={{ color: \"#1666BA\", size: \"21px\" }}>\r\n                            <FaIcons.FaBars />\r\n                        </IconContext.Provider>\r\n                    </button>\r\n                </div>\r\n                <div className=\"c-Logo\">\r\n                    <a href=\"/dashboard\"><img src={logo} alt=\"logo\" /></a>\r\n                    <p>{companyName || ''}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right section */}\r\n            <div className=\"l-right\">\r\n\r\n                {/* Notification bell section\r\n                <div className=\"header-notification-icon-section\">\r\n                    <Badge badgeContent={1} color=\"secondary\" variant=\"dot\">\r\n                        <IconContext.Provider value={{ color: \"black\", size: \"21px\" }}>\r\n                            <FaIcons.FaBell />\r\n                        </IconContext.Provider>\r\n                    </Badge>\r\n                </div> */}\r\n\r\n                {/* Profile section */}\r\n                <div className=\"l-Profile\">\r\n                    <div className=\"c-Profile\">\r\n                        <button onClick={handleProfilePicClick}>\r\n                            <img src={profilePic} alt = \"Profile img\" />\r\n                        </button>\r\n\r\n                        {/* Profile picture pop up box */}\r\n                        {isProfilePopUpOpen ?\r\n                            <div className=\"l-ProfilePopUp\">\r\n                                <div className=\"c-ProfilePopUp\">\r\n                                    <div className=\"c-ProfilePopUp__top\">\r\n                                        <img src={profilePic} alt=\"Profile img\" />\r\n                                        <h1>{displayName ? displayName : \"Error\"}</h1>\r\n                                        <h2>@{username ? username: \"Error\"}</h2>\r\n                                        <h2>{userEmail ? userEmail : \"Error\" }</h2>\r\n                                    </div>\r\n                                    <div className=\"c-ProfilePopUp__bottom\">\r\n                                        <a href=\"/settings/manage-account\">Manage Account</a>\r\n                                        <hr />\r\n                                        <button onClick={handleLogOutClick}>Log Out</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                    <div className=\"c-ProfileName\">\r\n                        <h1>{displayName ? displayName : \"Error\"}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n    ;","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport logoWhite from '../assets/images/eISO-logo-white.png';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <Container className=\"l-Footer\">\r\n        <footer className=\"c-Footer\">\r\n                {/* Main Content */}\r\n                <Row className=\"c-Footer__top\">\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__img\">\r\n                        <img src={logoWhite} alt=\"eISO Logo\" />\r\n                    </Col>\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__company\">\r\n                        <h1>Company</h1>\r\n                        <p>78B Telok Blangah Street 32,<br/> #03-06, Singapore 102078</p>\r\n                        <a href=\"#\">Contact Us</a>\r\n                    </Col>\r\n                    <Col md = {12} xl = {4} className=\"c-Footer__legal\">\r\n                        <h1>Legal</h1>\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                        <a href=\"#\">Terms Of Service</a>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Horizontal Line */}\r\n                <hr className=\"c-Footer__hr\" />\r\n\r\n                {/* Caption */}\r\n                <Row className=\"c-Footer__caption\">\r\n                    <p>Copyright &copy; 2021 Associates Consulting Pte Ltd. All rights reserved.</p>\r\n                </Row>\r\n        </footer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport * as RiIcons from \"react-icons/ri\";\r\nimport { IconContext } from 'react-icons';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport TokenManager from \"../../utilities/tokenManager\";\r\n\r\n\r\nconst SideNavSubMenu = ({ sideNavListObj, index, activeLink }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [adminLevel, setAdminLevel] = useState(null);\r\n\r\n    const [isSubMenuOpen, setIsSubMenuOpen] = useState(() => {\r\n        if (activeLink === sideNavListObj.link) {\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                setAdminLevel(() => res.data.results.admin_level);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setAdminLevel(() => null);\r\n            });\r\n    }, []);\r\n\r\n    // Handler for sub menu\r\n    const handleSubMenuIcon = () => {\r\n        setIsSubMenuOpen(() => (!isSubMenuOpen));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Sidebar label */}\r\n            {\r\n                sideNavListObj.link === activeLink ?\r\n                    <div key={\"\" + index} className=\"c-Sidenav__Links-header--active c-Sidenav__Links-header\" onClick={handleSubMenuIcon}>\r\n                        <p>{sideNavListObj.display}</p>\r\n                        {\r\n                            isSubMenuOpen ?\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropUpLine />\r\n                                </IconContext.Provider>\r\n                                :\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropDownLine />\r\n                                </IconContext.Provider>\r\n                        }\r\n\r\n                    </div>\r\n                    :\r\n                    <div key={\"\" + index} className=\"c-Sidenav__Links-header \" onClick={handleSubMenuIcon}>\r\n                        <p>{sideNavListObj.display}</p>\r\n                        {\r\n                            isSubMenuOpen ?\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropUpLine />\r\n                                </IconContext.Provider>\r\n                                :\r\n                                <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                    <RiIcons.RiArrowDropDownLine />\r\n                                </IconContext.Provider>\r\n                        }\r\n                    </div>\r\n            }\r\n\r\n            <div className=\"l-Sidenav__Sub-links--outer\" >\r\n                {isSubMenuOpen ?\r\n                    <div className=\"l-Sidenav__Sub-links--inner\">\r\n                        {sideNavListObj.subLinksArr.map((subLinkObj, calMapIndex) => {\r\n                            let isSecondaryAdmin = false;\r\n                            // if user is secondary admin\r\n                            if (subLinkObj.header === \"Organisation Settings\" && adminLevel === 3) {\r\n                                isSecondaryAdmin = true;\r\n                            }\r\n                            // if user is not super admin\r\n                            else if (subLinkObj.header === \"Organisation Settings\" && adminLevel !== 2) {\r\n                                return null;\r\n                            }\r\n                            return (\r\n                                <div className = \"c-Sidenav__Sub-links\" key={calMapIndex}>\r\n                                    <h2 key={\"\" + calMapIndex} className=\"c-Sub-links__Header\">{subLinkObj.header}</h2>\r\n                                    {subLinkObj.subLinks.map((subLink) => {\r\n                                        if (isSecondaryAdmin) {\r\n                                            if (subLink.link === \"/manage-users\" || subLink.link === \"/manage-organization\") {\r\n                                                return null\r\n                                            }\r\n                                        }\r\n                                        return <NavLink key={\"\" + subLink.link} to={sideNavListObj.link + subLink.link} className=\"c-Sub-links__Links\">{subLink.display}</NavLink>\r\n                                    })}\r\n\r\n                                    {/* Don't render horizontal line if it's last sub link section*/}\r\n                                    {sideNavListObj.subLinksArr.length - 1 !== calMapIndex ? <hr className=\"c-Sub-links__HR\" /> : null}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SideNavSubMenu;\r\n","const sideNavListArr = [\r\n    {\r\n        link: \"/dashboard\",\r\n        display: \"Dashboard\"\r\n    },\r\n    {\r\n        link: \"/announcements\",\r\n        display: \"Announcements\"\r\n    },\r\n    {\r\n        link: \"/swot\",\r\n        display: \"4.1 SWOT\"\r\n    },\r\n    {\r\n        link: \"/interested-party\",\r\n        display: \"4.2 Interested Party\"\r\n    },\r\n    {\r\n        link: \"/scope-of-qms\",\r\n        display: \"4.3 Scope of QMS\"\r\n    },\r\n    {\r\n        link: \"/company-policy\",\r\n        display: \"5.2 Company Policy\"\r\n    },\r\n    {\r\n        link: \"/responsibility-n-authority\",\r\n        display: \"5.3 Resp. & Authority\"\r\n    },\r\n    {\r\n        link: \"/risk-n-opportunity\",\r\n        display: \"6.1 Risk & Opp.\"\r\n    },\r\n    {\r\n        link: \"/objective-achievement-program\",\r\n        display: \"6.2 Obj. Achiv. Program\"\r\n    },\r\n    {\r\n        link: \"/equipment-maintenance\",\r\n        display: \"7.1 Equipment Maintenance Program\"\r\n    },\r\n    {\r\n        link: \"/licenses\",\r\n        display: \"7.2 Permits Licenses\"\r\n    },\r\n    {\r\n        link: \"/training\",\r\n        display: \"7.3 Training\",\r\n        subLinksArr: [\r\n            {\r\n                header: \"Training Pages\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"\",\r\n                        display: \"My Training\"\r\n                    },\r\n                    {\r\n                        link: \"/manage\",\r\n                        display: \"Manage Trainings\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        link: \"/settings\",\r\n        display: \"Settings\",\r\n        minHeight: \"380.8px\",\r\n        subLinksArr: [\r\n            {\r\n                header: \"Overview\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"\",\r\n                        display: \"Settings Overview\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                header: \"User Settings\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"/manage-account\",\r\n                        display: \"Manage Account\"\r\n                    },\r\n                    {\r\n                        link: \"/notifications\",\r\n                        display: \"Notifications\"\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                header: \"Organisation Settings\",\r\n                subLinks: [\r\n                    {\r\n                        link: \"/manage-organization\",\r\n                        display: \"Manage Organization\"\r\n                    },\r\n                    {\r\n                        link: \"/manage-users\",\r\n                        display: \"Manage Users\"\r\n                    },\r\n                    {\r\n                        link: \"/manage-invites\",\r\n                        display: \"Manage Invites\"\r\n                    },\r\n                    {\r\n                        link: \"/induction-templates\",\r\n                        display: \"Manage Induction Templates\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n];\r\nexport default sideNavListArr;","import React from 'react';\r\nimport SideNavSubMenu from './SideNavSubMenu';\r\nimport { NavLink } from 'react-router-dom';\r\nimport sideNavListArr from '../../config/sideNavListArr';\r\n\r\n/*\r\n    Array data for side nav can be found/modified in utilities/sideNavList.js\r\n*/\r\n\r\nconst SideNav = ({ sideNavStatus, activeLink }) => {\r\n\r\n    var sideNavWidth = \"100%\";\r\n    if (sideNavStatus === false) {\r\n        sideNavWidth = \"0px\";\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Sidenav\" style={{ width: sideNavWidth }}>\r\n            {  sideNavListArr.map((sideNavListObj, index) => {\r\n\r\n                // Check if there's sub link\r\n                if (\"subLinksArr\" in sideNavListObj) {\r\n                    return (\r\n                        <SideNavSubMenu key = {index} activeLink={activeLink} index={index} sideNavListObj={sideNavListObj} />\r\n                    )\r\n                } else {\r\n                    if (sideNavListObj.link === activeLink) {\r\n                        return <NavLink key={\"\" + index} to={sideNavListObj.link} className=\"c-Sidenav__Links-header--active c-Sidenav__Links-header \">{sideNavListObj.display}</NavLink>\r\n                    }\r\n                    return <NavLink key={\"\" + index} to={sideNavListObj.link} className = \"c-Sidenav__Links-header \" >{sideNavListObj.display}</NavLink>\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideNav;\r\n\r\n\r\n","import Title from '../common/Title';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport SideNav from '../common/sideNav/SideNav';\r\n\r\nconst PageLayout = ({ sideNavStatus, setSideNavStatus, title, activeLink, children }) => {\r\n\r\n    return (\r\n        <>\r\n            <Title title={title} />\r\n            <Header sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} />\r\n            <main className=\"l-Main__Outer\">\r\n                <SideNav sideNavStatus={sideNavStatus} activeLink={activeLink} />\r\n                <div className={sideNavStatus ? \"l-Main__Inner l-Main__Inner--uncollapsed\" : \"l-Main__Inner l-Main__Inner--collapsed\"}>\r\n                    {children}\r\n                    <Footer />\r\n                </div>\r\n\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PageLayout;","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { getUserCompanyID, getToken } from '../utilities/localStorageUtils';\r\nimport { toast } from 'react-toastify';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\nconst DashboardInfoCards = ({ isEditor, organisationContent, heading, type }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken;\r\n\r\n\r\n    // State declarations\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [tempDisplayData, setTempDisplayData] = useState(undefined);  // Had to create another state for storing formatted display data\r\n    const [tempEditedData, setTempEditedData] = useState(undefined);    // This state is for storing the raw content data\r\n\r\n    useEffect(() => {\r\n        if (organisationContent[type] !== undefined && organisationContent[type] !== null) {\r\n            setTempDisplayData(() => {\r\n                if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                    return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                }\r\n                return organisationContent[type];\r\n            });\r\n            setTempEditedData(() => organisationContent[type]);\r\n        } else if (organisationContent[type] === null) {\r\n            setTempDisplayData(() => {\r\n                return undefined;\r\n            });\r\n            setTempEditedData(() => {\r\n                return undefined;\r\n            });\r\n        }\r\n    }, [organisationContent]);\r\n\r\n    const handleTextareaChange = (event) => {\r\n        setTempEditedData(() => {\r\n            return event.target.value;\r\n        });\r\n        setTempDisplayData(() => {\r\n            if (event.target.value.split(\"\\n\").length > 1) {\r\n                return event.target.value.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            }\r\n            return event.target.value;\r\n        });\r\n    }\r\n\r\n    const handleBtnClick = (btnType) => {\r\n        if (btnType === \"cancel\") {\r\n            setTempEditedData(() => organisationContent[type]);\r\n            setTempDisplayData(() => {\r\n                if (organisationContent[type] !== undefined) {\r\n                    if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                        return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                    }\r\n                }\r\n\r\n                return organisationContent[type];\r\n            });\r\n        } else if (btnType === \"save\") {\r\n            let saveUrl;\r\n            if (type === \"companyScope\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/scopes`;\r\n            } else if (type === \"companyReferences\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/references`\r\n            } else if (type === \"companyTerms\") {\r\n                saveUrl = `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/terms`\r\n            }\r\n            axios.post(saveUrl, {\r\n                content: tempEditedData\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json;charset=UTF-8',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>{heading} has been updated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    setTempEditedData(() => organisationContent[type]);\r\n                    setTempDisplayData(() => {\r\n                        if (organisationContent[type] !== undefined) {\r\n                            if (organisationContent[type].split(\"\\n\").length > 1) {\r\n                                return organisationContent[type].split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n                            }\r\n                        }\r\n\r\n                        return organisationContent[type];\r\n                    });\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                })\r\n        }\r\n        setEditMode((prevState) => !prevState);\r\n    }\r\n\r\n    const renderEditMode = () => {\r\n        return (\r\n            <textarea className=\"c-Content__Textarea\" value={tempEditedData} onChange={handleTextareaChange}></textarea>\r\n        );\r\n    }\r\n\r\n    const renderNormalMode = () => {\r\n        if (tempDisplayData) {\r\n            return tempDisplayData;\r\n        } else {\r\n            return \"Data not found!\";\r\n        }\r\n    }\r\n\r\n    console.log(isEditor);\r\n    return (\r\n        <div className=\"l-Dashboard-Info-Cards\">\r\n            <div className=\"c-Dashboard-Info-Cards\">\r\n                {/* Heading */}\r\n                <div className=\"c-Dashboard-Info-Cards__Heading\">\r\n                    {heading ? heading : \"Data not found!\"}\r\n                    {\r\n                        !isEditor ?\r\n                            null :\r\n                            !editMode ?\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"edit\")} className=\"c-Btn c-Btn--link\">Edit</button> :\r\n                                null\r\n                    }\r\n\r\n                </div>\r\n                {/* Content */}\r\n                <div className=\"c-Dashboard-Info-Cards__Content\">\r\n                    {\r\n                        editMode ?\r\n                            renderEditMode() :\r\n                            renderNormalMode()\r\n                    }\r\n                </div>\r\n                {/* Button section */}\r\n                <div className=\"c-Dashboard-Info-Cards__Btn\">\r\n                    {\r\n                        editMode ?\r\n                            <>\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"save\")} className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                <button type=\"button\" onClick={() => handleBtnClick(\"cancel\")} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                            </> :\r\n                            null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashboardInfoCards;","import React from 'react'\r\n\r\nconst StatusPill = ({ type }) => {\r\n    const renderType = () => {\r\n        if (type === \"active\") {\r\n            return \"Active\";\r\n        } \r\n        else if (type === \"completed\") {\r\n            return \"Completed\";\r\n        }\r\n        else if (type === \"overdue\") {\r\n            return \"Overdue\";\r\n        } \r\n        else if (type === \"rejected\") {\r\n            return \"Rejected\"\r\n        }\r\n        else if (type === \"almostDue\") {\r\n            return \"Almost Due\";\r\n        } else if (type === \"pending\") {\r\n            return \"Pending\";\r\n        } \r\n        else {\r\n            return \"Na\";\r\n        }\r\n    };\r\n\r\n    const renderClassName = () => {\r\n        if (type === \"active\" || type === \"completed\") {\r\n            return \"active\";\r\n        } else if (type === \"overdue\" || type === \"rejected\") {\r\n            return \"overdue\";\r\n        } else if (type === \"almostDue\") {\r\n            return \"almost-due\";\r\n        } else if (type === \"pending\") {\r\n            return \"pending\";\r\n        } \r\n        else {\r\n            return \"Na\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className = {`c-Status-pill c-Status-pill--${type ? renderClassName() : \"active\"}`}>\r\n            <h1>{ type ? renderType() : \"Active\" }</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusPill;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst AnnouncementsBentoBox = ({ username, date, title, content, link }) => {\r\n    if (username) {\r\n        username = \"@\" + username;\r\n    }\r\n    return (\r\n        <div className=\"l-Announcements-bento-box\">\r\n            {/* Top Line (Deco) */}\r\n            <div className=\"l-Announcements-bento-box__Top-line\"></div>\r\n            <div className=\"c-Announcements-bento-box\">\r\n\r\n                {/* Account Information */}\r\n                <div className=\"c-Announcements-bento-box__Account\">\r\n                    <h1>{username}</h1>\r\n                    <p>{date}</p>\r\n                </div>\r\n                <hr />\r\n                {/* Announcement Content */}\r\n                <div className=\"c-Announcements-bento-box__Content\">\r\n                    <h1>{title}</h1>\r\n                    <p>{content}</p>\r\n                </div>\r\n                {/* View More Link */}\r\n                <div className=\"c-Announcements-bento-box__Link\">\r\n                    <NavLink to={`/${link}`}>View more</NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AnnouncementsBentoBox;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport { getUserDisplayName, getToken, getUserCompanyID } from '../utilities/localStorageUtils.js';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport DashboardInfoCards from '../common/DashboardInfoCards';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport DashboardBentoBox from '../common/DashboardBentoBox';\r\nimport config from '../config/config';\r\nimport StatusPill from '../common/StatusPill.js';\r\nimport AnnouncementsBentoBox from '../common/AnnouncementsBentoBox.js';\r\nimport dayjs from 'dayjs';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport TokenManager from '../utilities/tokenManager.js';\r\n\r\nconst Dashboard = () => {\r\n\r\n    // Variable declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const displayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n    const axiosConfig = {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    }\r\n    const contentVariableArr = [\"companyScope\", \"companyReferences\", \"companyTerms\"];\r\n    const dataUrlArr = [\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/scopes`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/references`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/terms`, axiosConfig)\r\n    ];\r\n    const editorUrlArr = [\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m01_01/employees`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m02_01/employees`, axiosConfig),\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m03_01/employees`, axiosConfig),\r\n    ];\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [organisationContent, setOrganisationContent] = useState({\r\n        companyScope: undefined,\r\n        companyReferences: undefined,\r\n        companyTerms: undefined\r\n    });\r\n    const [isEditor, setIsEditor] = useState({\r\n        companyScope: false,\r\n        companyReferences: false,\r\n        companyTerms: false\r\n    });\r\n\r\n    useEffect(() => {\r\n        Promise.all(dataUrlArr)\r\n            .then((res) => {\r\n                // Go through response object, if document is found then set organisation content\r\n                res.forEach((resObj, i) => {\r\n                    if (resObj.status === 200) {\r\n                        setOrganisationContent((prevState) => ({\r\n                            ...prevState,\r\n                            [contentVariableArr[i]]: resObj.data.content\r\n                        }));\r\n                    }\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        Promise.all(editorUrlArr)\r\n            .then((res) => {\r\n                // Go through response object, if document is found then set content as editable\r\n                res.forEach((resObj, i) => {\r\n                    if (resObj.status === 200) {\r\n                        let canEdit = false;\r\n                        resObj.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (canEdit === true) {\r\n                            setIsEditor((prevState) => ({\r\n                                ...prevState,\r\n                                [contentVariableArr[i]]: true\r\n                            }));\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n    console.log(isEditor);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Dashboard' activeLink=\"/dashboard\">\r\n                {/* Welcome message */}\r\n                <Container className=\"c-Dashboard\">\r\n                    <Row className=\"c-Dashboard__Welcome\">\r\n                        <h1>Welcome!</h1>\r\n                        <h2>{displayName ? displayName : \"Error in retrieving name\"}</h2>\r\n                    </Row>\r\n\r\n                    {/* Latest Announcements */}\r\n                    <Row className=\"c-Dashboard__Latest-announcements\">\r\n                        {/* Heading */}\r\n                        <div className=\"c-Latest-announcements__Heading\">\r\n                            <h1>Latest Announcements</h1>\r\n                        </div>\r\n                        <Row className=\"c-Latest-announcements__Content\">\r\n                            <Col className=\"c-Latest-announcements__Wrapper\" md = {12} lg = {6}>\r\n                                <AnnouncementsBentoBox\r\n                                    username=\"BobSong\"\r\n                                    date={dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\")}\r\n                                    title=\"Important: Double check for roles\"\r\n                                    content=\"Hi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\nHi all, I have just assigned roles to your accounts, please help me double check if your role is allocated correctly.\\n allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly. allocated correctly.\"\r\n                                />\r\n                            </Col>\r\n                            <Col className=\"c-Latest-announcements__Wrapper\" md = {12} lg = {6}>\r\n                                <AnnouncementsBentoBox\r\n                                    username=\"BobSong\"\r\n                                    date={dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\")}\r\n                                    title=\"Important: Double check for roles\"\r\n                                    content=\"Hi all, I have just assigned roles tose help mve just aouble check if your role is allocated correctly.\\n\"\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <div className=\"c-Latest-announcements__Link\">\r\n                            <NavLink to=\"/announcements\">View more Announcements</NavLink>\r\n                        </div>\r\n\r\n                    </Row>\r\n\r\n                    {/* Statistic section\r\n                    <div className=\"c-Dashboard__Stats\">\r\n                        <DashboardBentoBox bgVariation={1} stat=\"N.a.\" statType=\"Coming soon...\" />\r\n                        <DashboardBentoBox bgVariation={2} stat=\"N.a.\" statType=\"Coming soon...\" />\r\n                    </div> */}\r\n                    {/* Clause 1 - 3 Organisation info*/}\r\n                    <div className=\"c-Dashboard__Organisation-info\">\r\n                        {/* Heading */}\r\n                        <div className=\"c-Organisation-Info__Heading\">\r\n                            <h1>Your organisation</h1>\r\n                        </div>\r\n                        {/* Info cards */}\r\n                        <div className=\"l-Organisation-Info__Info-Cards\">\r\n                            <DashboardInfoCards isEditor={isEditor.companyReferences} organisationContent={organisationContent} type=\"companyScope\" heading=\"Scope\" />\r\n                            <DashboardInfoCards isEditor={isEditor.companyScope} organisationContent={organisationContent} type=\"companyReferences\" heading=\"Normative References\" />\r\n                            <DashboardInfoCards isEditor={isEditor.companyTerms} organisationContent={organisationContent} type=\"companyTerms\" heading=\"Terms and definition\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                </Container>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst AnnouncementsListItem = ({ id, username, date, title, content }) => {\r\n    const history = useHistory();\r\n\r\n    const handleClick = () => {\r\n        history.push(`/announcements/view/${id}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Announcements-list-item\" onClick={() => handleClick()}>\r\n            <div className=\"c-Announcements-list-item__Content\">\r\n                <h1>@{username}</h1>\r\n                <h3>{date}</h3>\r\n                <h2>{title}</h2>\r\n                <p>{content}</p>\r\n            </div>\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AnnouncementsListItem;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserDisplayName, getToken, getUserCompanyID } from '../../utilities/localStorageUtils.js';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport dayjs from 'dayjs';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport AnnouncementsListItem from '../../common/AnnouncementsListItem.js';\r\n\r\nconst Announcements = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    const announcementData = [\r\n        {\r\n            id: 1,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        {\r\n            id: 2,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        {\r\n            id: 3,\r\n            username: \"BobSong\",\r\n            date: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            title: \"Important: Double check for roles\",\r\n            content: \"Hi all, I have just assigned roles to your accounts, please help me double check \"\r\n        },\r\n        \r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Announcements' activeLink=\"/announcements\">\r\n                {/* Welcome message */}\r\n                <div className=\"c-Announcements c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Announcements</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Announcements__Top c-Main__Top\">\r\n                        <h1>Announcements</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => history.push(\"/announcements/create\")}>Create announcements</button>\r\n                    </div>\r\n\r\n                    {/* Filter section */}\r\n                    <div className=\"c-Announcements__Filter\">\r\n\r\n                    </div>\r\n\r\n                    {/* Annouoncement list */}\r\n                    <div className=\"c-Announcements__List\">\r\n                        {\r\n                            announcementData ?\r\n                                <>\r\n                                    <hr />\r\n                                    {\r\n                                        announcementData.map((data, index) =>\r\n                                            <AnnouncementsListItem\r\n                                                key={index}\r\n                                                id={data.id}\r\n                                                username={data.username}\r\n                                                date={data.date}\r\n                                                title={data.title}\r\n                                                content={data.content}\r\n                                            />\r\n                                        )\r\n                                    }\r\n                                </>\r\n                                :\r\n                                <p>No records found.</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Announcements;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport dayjs from 'dayjs';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\n\r\nconst ViewAnnouncements = ({ match }) => {\r\n    const aID = match.params.aid;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='View Announcement' activeLink=\"/announcements\">\r\n                {/* Welcome message */}\r\n                <div className=\"c-View-announcements c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-View-announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/announcements\">Announcements</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>View Announcement</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-View-announcements__Top c-Main__Top\">\r\n                        <h1>View Announcement</h1>\r\n                    </div>\r\n\r\n                    {/* Content section */}\r\n                    <div className=\"c-View-announcements__Content\">\r\n                        <div className=\"c-Content__Top\">\r\n                            <hr/>\r\n                            <h1>@BobSong</h1>\r\n                            <h3>10 Nov 2021, 3:45PM</h3>\r\n                            <p><i>This announcement was sent to all employee's email of this company</i></p>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"c-Content__Main\">\r\n                            <h1>Important: Double check for roles</h1>\r\n                            <hr />\r\n                            <p>\r\n                                Hi all, <br />I have just assigned roles to your accounts, please help me double check if your role is allocated correctly. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n                                <br />\r\n                                <br />\r\n                                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n                                <br />\r\n                                <br />\r\n                                Regards,\r\n                                <br />\r\n                                Bob Song\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"c-Content__Attachments\">\r\n                            <p><i>2 Attachments</i></p>\r\n                            <div className=\"c-Content__Attachments-section\">\r\n\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                    </div>\r\n\r\n                    {/* Danger zone */}\r\n                    <div className=\"c-View-announcements__Danger\">\r\n                        <h1>Danger Zone</h1>\r\n                        <div className=\"c-Danger__Row\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\">Delete</button>\r\n                            <p>This action cannot be reversed.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ViewAnnouncements;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport config from '../../config/config';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport Select from \"react-select\";\r\nimport axios from 'axios';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst CreateAnnouncement = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [recipientGroup, setRecipientGroup] = useState([\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ]);\r\n    const [allRecipients, setAllRecipients] = useState([]);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n        (async () => {\r\n            try {\r\n                const res = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees`);\r\n                const employeesData = res.data.results;\r\n                console.log(res);\r\n                console.log(employeesData);\r\n                if (componentMounted) {\r\n                    setAllRecipients(() => employeesData.map((data, index) => ({\r\n                        label: `@${data.account.username}`,\r\n                        value: data.account.username\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='View Announcement' activeLink=\"/announcements\">\r\n                <div className=\"c-Create-announcement c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-announcements__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/announcements\">Announcements</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Announcement</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-announcement__Top c-Main__Top\">\r\n                        <h1>Create Announcement</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\">Publish</button>\r\n                    </div>\r\n\r\n                    {/* Content section */}\r\n                    <div className=\"c-Create-announcement__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Fields__Recipients\">\r\n                                <h2>Send to</h2>\r\n                                <Select\r\n                                    isMulti\r\n                                    options={recipientGroup}\r\n                                    placeholder=\"Select recipient group\"\r\n                                />\r\n                                <h3>Or</h3>\r\n                                <Select\r\n                                    isMulti\r\n                                    options={allRecipients}\r\n                                    placeholder=\"Select specific recipients\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"c-Fields__Title\">\r\n                                <label htmlFor=\"title\">Title</label>\r\n                                <input type=\"text\" name=\"title\" placeholder=\"Enter title\" />\r\n                            </div>\r\n                            <div className=\"c-Fields__Content\">\r\n                                <h2>Content</h2>\r\n                                <Editor\r\n                                    editorState={editorState}\r\n                                    wrapperClassName=\"demo-wrapper\"\r\n                                    editorClassName=\"demo-editor\"\r\n                                    onEditorStateChange={setEditorState}\r\n                                    placeholder='Enter content'\r\n                                />\r\n                            </div>\r\n                            <div className=\"c-Fields__More-info\">\r\n                                <h2>More info</h2>\r\n                                <input type=\"checkbox\" name=\"sendEmail\" />\r\n                                <label htmlFor=\"sendEmail\">Send announcement to specified employees via email</label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <span className=\"c-Fields__VL\"></span>\r\n\r\n                        <div className=\"c-Fields__Right\">\r\n                            <h2>Attachments</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAnnouncement\r\n","import React from 'react';\r\n\r\nconst DocumentLayout = ({ isDocCollapsed, children }) => {\r\n    return (\r\n        <div className={isDocCollapsed ? \"l-Document l-Document__collapsed\" : \"l-Document\"}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentLayout;","import StatusPill from '../common/StatusPill';\r\nimport { NavLink } from 'react-router-dom';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\n// ----------------------------------------------------\r\n// SWOT\r\n// ----------------------------------------------------\r\n// Document columns\r\nexport const docSwotColumns = [\r\n    {\r\n        dataField: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    },\r\n    {\r\n        dataField: 'content',\r\n        text: 'Name',\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    },\r\n];\r\n\r\n// History columns\r\nexport const historySwotColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Swot\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// Interested Party\r\n// ----------------------------------------------------\r\n// Document columns\r\nexport const docInterestedPartyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\"\r\n    },\r\n    {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\"\r\n    }];\r\n\r\n// History columns\r\nexport const historyInterestedPartyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Interested Party\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Scope of QMS\r\n// ----------------------------------------------------\r\n\r\nexport const docScopeOfQMSColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#'\r\n    },\r\n    {\r\n        dataField: 'site_name',\r\n        text: 'Site Name'\r\n    },\r\n    {\r\n        dataField: 'site_address',\r\n        text: 'Site Address'\r\n    },\r\n    {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope'\r\n    }\r\n];\r\n\r\nexport const historyScopeOfQMSColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n// ----------------------------------------------------\r\n// End of Scope of QMS\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// Start of Company Policy\r\n// ----------------------------------------------------\r\nexport const historyCompanyPolicyColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'updated_at',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Company Policy\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Resp & Auth\r\n// ----------------------------------------------------\r\n\r\n\r\n// ----------------------------------------------------\r\n// End of Resp & Auth\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Risk & Opportunity\r\n// ----------------------------------------------------\r\n\r\nexport const historyRiskNOppColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Risk & Opportunity\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Obj. Achi. Program\r\n// ----------------------------------------------------\r\n\r\n\r\nexport const historyObjAchivColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'approved_on',\r\n        text: 'Active From'\r\n    },\r\n    {\r\n        dataField: 'active_till',\r\n        text: 'Active Till'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    }\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Obj. Achi. Program\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Equipment Maintainence Program\r\n// ----------------------------------------------------\r\n\r\n// History columns\r\nexport const historyManageEquipmentColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'file_name',\r\n        text: 'File Name'\r\n    },\r\n    {\r\n        dataField: 'uploader',\r\n        text: 'Uploader'\r\n    },\r\n    {\r\n        dataField: 'upload_date',\r\n        text: 'Upload Date'\r\n    },\r\n    {\r\n        dataField: 'action_download',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Download</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const categoryColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'createdOn',\r\n        text: 'Created On',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n]\r\n\r\nexport const equipmentMaintenanceColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'category',\r\n        text: 'Category',\r\n    },\r\n    {\r\n        dataField: 'refNo',\r\n        text: 'Ref. No.',\r\n    },\r\n    {\r\n        dataField: 'model',\r\n        text: 'Model/Brand',\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyEquipmentMaintenanceColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'name',\r\n        text: 'Name',\r\n    },\r\n    {\r\n        dataField: 'category',\r\n        text: 'Category'\r\n    },\r\n    {\r\n        dataField: 'refNo',\r\n        text: 'Ref. No.'\r\n    },\r\n    {\r\n        dataField: 'model',\r\n        text: 'Model/Brand'\r\n    },\r\n    {\r\n        dataField: 'archived_on',\r\n        text: 'Archived On'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: 'View',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >View</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const maintenanceCycleColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'maintenanceType',\r\n        text: 'Maintenance Type'\r\n    },\r\n    {\r\n        dataField: 'responsible',\r\n        text: 'Responsible'\r\n    },\r\n    {\r\n        dataField: 'maintenanceFrequency',\r\n        text: 'Maintenance Frequency'\r\n    },\r\n    {\r\n        dataField: 'lastServiceDate',\r\n        text: 'Last Service Date'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <StatusPill type={cell} />\r\n            } else {\r\n                return \"Error\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_delete',\r\n        text: '',\r\n        formatter: (cell) => {\r\n            return cell\r\n        }\r\n    },\r\n];\r\n\r\nexport const maintenanceRecordColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'fileName',\r\n        text: 'File Name'\r\n    },\r\n    {\r\n        dataField: 'description',\r\n        text: 'Description'\r\n    },\r\n    {\r\n        dataField: 'uploader',\r\n        text: 'Uploader'\r\n    },\r\n    {\r\n        dataField: 'uploadDate',\r\n        text: 'Upload Date'\r\n    },\r\n    {\r\n        dataField: 'action_download',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Download</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_delete',\r\n        text: '',\r\n        formatter: (cell) => {\r\n            console.log(cell);\r\n            return cell\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Equipment Maintenance Program\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Register of Permits, Licenses, Approvals & Certificates\r\n// ----------------------------------------------------\r\n\r\nexport const licenseColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'license',\r\n        text: 'License/Permit/Certificate',\r\n    },\r\n    {\r\n        dataField: 'licenseNo',\r\n        text: 'License No.',\r\n    },\r\n    {\r\n        dataField: 'expDate',\r\n        text: 'Exp. Date',\r\n    },\r\n    {\r\n        dataField: 'externalAgency',\r\n        text: 'Responsible External Agency',\r\n    },\r\n    {\r\n        dataField: 'responsibleUser',\r\n        text: 'Responsible User',\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyLicenseColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'license',\r\n        text: 'License/Permit/Certificate',\r\n    },\r\n    {\r\n        dataField: 'licenseNo',\r\n        text: 'License No.',\r\n    },\r\n    {\r\n        dataField: 'expDate',\r\n        text: 'Exp. Date',\r\n    },\r\n    {\r\n        dataField: 'externalAgency',\r\n        text: 'Responsible External Agency',\r\n    },\r\n    {\r\n        dataField: 'responsibleUser',\r\n        text: 'Responsible User',\r\n    },\r\n    {\r\n        dataField: 'archived_on',\r\n        text: 'Archived On',\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: 'Manage',\r\n        headerAttrs: {\r\n            hidden: true\r\n        },\r\n        formatter: (cell, row) => {\r\n            if (cell) {\r\n                return <NavLink to={cell} >Manage</NavLink>\r\n            } else {\r\n                return \"N.a.\"\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Register of Permits, Licenses, Approvals & Certificates\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Training\r\n// ----------------------------------------------------\r\n\r\n// My Training records columns\r\nexport const myTrainingRecordsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'Approver'\r\n    },\r\n    {\r\n        dataField: 'supervisor_evaluation_done',\r\n        text: 'Evaluation (Approver)',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type =\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'trainee_evaluation_done',\r\n        text: 'Evaluation (Trainee)',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined || row.attendance === false) {\r\n                return <p>Nil</p>\r\n            }\r\n            if (cell === false) {\r\n                return <StatusPill type =\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'attendance',\r\n        text: 'Attendance',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n\r\n            if (cell === false) {\r\n                return <StatusPill type =\"pending\" />\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// My Training requests columns\r\nexport const myTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'To be approved by'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        formatter: (cell, row) => {\r\n            if (cell === \"pending\") {\r\n                return <StatusPill type =\"pending\" />\r\n            }\r\n            if (cell === \"rejected\") {\r\n                return <StatusPill type = \"rejected\"/>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Mange pending Training requests columns\r\nexport const managePendingTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'To be approved by'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage all Training requests columns\r\nexport const manageAllTrainingRequestsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'To be approved by'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'request_status',\r\n        text: 'Request status',\r\n        formatter: (cell, row) => {\r\n            if (row.done_at === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage all Training records columns\r\nexport const manageAllTrainingRecordsColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'course_title',\r\n        text: 'Course Title'\r\n    },\r\n    {\r\n        dataField: 'approver',\r\n        text: 'Approver'\r\n    },\r\n    {\r\n        dataField: 'start_date',\r\n        text: 'Start Date'\r\n    },\r\n    {\r\n        dataField: 'end_date',\r\n        text: 'End Date'\r\n    },\r\n    {\r\n        dataField: 'evaluation',\r\n        text: 'Evaluation',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'attendance',\r\n        text: 'Attendance',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// Manage post evaluation templates columns\r\nexport const managePETColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_title',\r\n        text: 'Template Title'\r\n    },\r\n    {\r\n        dataField: 'version',\r\n        text: 'Version'\r\n    },\r\n    {\r\n        dataField: 'created_by',\r\n        text: 'Created By'\r\n    },\r\n    {\r\n        dataField: 'created_on',\r\n        text: 'Created On'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (cell === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Training\r\n// ----------------------------------------------------\r\n\r\n// ----------------------------------------------------\r\n// Start of Induction Program\r\n// ----------------------------------------------------\r\n\r\n// Manage induction template columns\r\nexport const manageInductionTemplatesColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_name',\r\n        text: 'Template Name'\r\n    },\r\n    {\r\n        dataField: 'action_manage',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Manage</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const historyInductionTemplatesColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'template_name',\r\n        text: 'Template Name'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>View</a>\r\n        }\r\n    },\r\n];\r\n\r\nexport const manageInductionTemplateColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n    },\r\n    {\r\n        dataField: 'form_name',\r\n        text: 'Form Name'\r\n    },\r\n    {\r\n        dataField: 'version_label',\r\n        text: 'Version Label'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status'\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <NavLink to={cell}>View</NavLink>\r\n        }\r\n    },\r\n];\r\n\r\nexport const manageInductionFormSectionColumns = [\r\n    {\r\n        dataField: 'id',\r\n        text: 'Id',\r\n        hidden: true\r\n    },\r\n    {\r\n        dataField: 'description',\r\n        text: 'Description'\r\n    },\r\n    {\r\n        dataField: 'file',\r\n        text: 'file'\r\n    },\r\n    {\r\n        dataField: 'done_at',\r\n        text: 'Done On'\r\n    },\r\n    {\r\n        dataField: 'status',\r\n        text: 'Status',\r\n        formatter: (cell, row) => {\r\n            if (row.done_at === undefined) {\r\n                return <p>Nil</p>\r\n            }\r\n            return <StatusPill type=\"active\" />\r\n        }\r\n    },\r\n    {\r\n        dataField: 'action_view',\r\n        text: '',\r\n        formatter: (cell, row) => {\r\n            return <a href={cell}>Mark Done</a>\r\n        }\r\n    },\r\n];\r\n\r\n// ----------------------------------------------------\r\n// End of Induction Program\r\n// ----------------------------------------------------","/* \r\n    State enums\r\n    Ensures user can only be in one of these states at one point of time\r\n    Refer to pluralsight video 'Managing react state' By Cory House module 6.\r\n*/\r\n\r\n// Track the tabs that the user can see\r\nexport const TAB = {\r\n    ACTIVE: \"Active\",\r\n    PENDING: \"Pending\",\r\n    REJECTED: \"Rejected\",\r\n    EDITING: \"Editing\",\r\n    COLLAPSE: \"Dark\",\r\n    NULL: null,\r\n    INACTIVE: \"Inactive\"\r\n}\r\n\r\n// Tracks the document submission status\r\nexport const DOCUMENT = {\r\n    IDLE: \"IDLE\",\r\n    SUBMITTED: \"SUBMITTED\",\r\n    SUBMITTING: \"SUBMITTING\",\r\n    COMPLETED: \"COMPLETED\",\r\n}\r\n\r\n// Type of questions for post training evaluation\r\nexport const QUESTION_TYPE = {\r\n    RATING: 'rating', // rate 1 to 5\r\n    OPEN: 'open', // open ended question\r\n    BOOLEAN: 'bool', // yes or no\r\n    DEFAULT: 'default' // default\r\n};\r\n\r\nexport const TRAINING_EVALUATION_MODE = {\r\n    EDIT: 'edit',\r\n    VIEW: 'view'\r\n}","import React from 'react';\r\nimport { TAB } from '../config/enums';\r\n\r\nconst Tab = ({ handleTabOnClick, tabType, children, focus, tabSettings }) => {\r\n\r\n    return (\r\n        <>\r\n            {tabType\r\n                ?\r\n                <div className=\"c-Tab\" >\r\n                    <div className={focus ? \"c-Tab--focused\" : \"c-Tab--unfocused\"}>\r\n                        <span \r\n                            onClick={handleTabOnClick ? handleTabOnClick : null} \r\n                            // Prevent user from clicking on active if form is in editing mode\r\n                            className={tabType ? (tabType === 'Active' && tabSettings.secondTab === TAB.EDITING || tabType === \"Inactive\" && tabSettings.secondTab === TAB.EDITING ? \"c-Tab--disabled c-Tab--\" + tabType.toLowerCase() :  \"c-Tab--\" + tabType.toLowerCase()) : null}\r\n                        >\r\n                            {children ? children : tabType}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Tab;","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst useEndpoints = ({TokenManager}) => {\r\n\r\n    let decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const userCompanyID = decodedToken?.company_id;\r\n\r\n    const [btnEndpointsListObj, setBtnEndpointsListObj] = useState({\r\n        swot: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/`,\r\n        },\r\n        interestedParty: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/`,\r\n        },\r\n        scopeOfQMS: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/`,\r\n        },\r\n        companyPolicy: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/`,\r\n        },\r\n        respNAuth: {\r\n    \r\n        },\r\n        riskNOpp: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/`,\r\n        },\r\n        objAchivProgram: {\r\n            editSubmit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n            pendingApprove: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/approve/`,\r\n            pendingReject: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/reject/`,\r\n            rejectedEdit: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/reject/`,\r\n            rejectedDelete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/`\r\n        }\r\n    });\r\n\r\n    const [tabEndpointsListObj, setTabEndpointsListObj] = useState({\r\n        swot: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/rejected`,\r\n        },\r\n        interestedParty: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/rejected`,\r\n        },\r\n        scopeOfQMS: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/rejected`,\r\n        },\r\n        companyPolicy: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/rejected`,\r\n        },\r\n        respNAuth: {\r\n    \r\n        },\r\n        riskNOpp: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/rejected`,\r\n        },\r\n        objAchivProgram: {\r\n            getAll: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n            active: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/active`,\r\n            pending: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/pending`,\r\n            rejected: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/rejected`,\r\n        }\r\n    });\r\n\r\n\r\n    return [btnEndpointsListObj, tabEndpointsListObj];\r\n}\r\n\r\nexport default useEndpoints;","import React from 'react';\r\nimport Tab from \"./Tab\";\r\nimport { TAB } from '../config/enums';\r\n// import { tabEndpointsListObj } from '../config/endpointsListObj';\r\nimport useEndpoints from '../hooks/useEndpoints';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst TabRow = ({ setIsDocCollapsed, setDocQueryEnum, setTabSettings, tabSettings, isDocCollapsed, setQueryUrl, pageType }) => {\r\n    \r\n    // Handler for collapse button\r\n    const handleCollapseBtn = () => {\r\n        setIsDocCollapsed((prevState) => {\r\n            return !prevState;\r\n        })\r\n    };\r\n\r\n    const [btnEndpointsListObj, tabEndpointsListObj] = useEndpoints({TokenManager});\r\n\r\n\r\n    // Handler for tabs\r\n    const handleTabOnClick = (newTabIndex, tabType) => {\r\n        // Active tabs\r\n        if (tabType === TAB.ACTIVE) {\r\n            setDocQueryEnum(() => ('active'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.active,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            } else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        // Pending tabs\r\n        else if (tabType === TAB.PENDING) {\r\n            // Pass in data\r\n            console.log(\"setting query enum\");\r\n            setDocQueryEnum(() => ('pending'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.pending,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.pending,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.pending,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.pending,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.pending,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.pending,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n        } \r\n        \r\n        // Editing tabs\r\n        else if (tabType === TAB.EDITING) {\r\n\r\n            // Pass in data\r\n        } \r\n        \r\n        // Rejected tabs\r\n        else if (tabType === TAB.REJECTED) {\r\n            setDocQueryEnum(() => ('rejected'));\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.rejected,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"interestedParty\" ) {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            }\r\n            else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n        }\r\n        setTabSettings((prevState) => ({\r\n            ...prevState,\r\n            focusTabIndex: newTabIndex\r\n        }));\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Tabs */}\r\n            <div className=\"l-Tabs__Row\">\r\n                <div className=\"l-Tabs__Row--left l-Tabs__Side\">\r\n                    <Tab\r\n                        focus={tabSettings.focusTabIndex === 0 ? true : false}\r\n                        tabType={tabSettings.firstTab}\r\n                        handleTabOnClick={() => (handleTabOnClick(0, tabSettings.firstTab))}\r\n                        tabSettings={tabSettings}\r\n                    />\r\n                    <Tab\r\n                        focus={tabSettings.focusTabIndex === 1 ? true : false}\r\n                        tabType={tabSettings.secondTab}\r\n                        handleTabOnClick={() => (handleTabOnClick(1, tabSettings.secondTab))}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"l-Tabs__Row--right l-Tabs__Side\">\r\n                    <Tab handleTabOnClick={handleCollapseBtn} tabType={TAB.COLLAPSE}>\r\n                        {\r\n                            isDocCollapsed ?\r\n                                <>Expand Document</>\r\n                                :\r\n                                <>Collapse Document</>\r\n                        }\r\n                    </Tab>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TabRow;","import React from 'react';\r\n\r\nconst CustomConfirmAlert = ({ message, type = \"primary\", handler, heading, onClose }) => {\r\n    return (\r\n        <div className='c-Confirm-alert c-Confirm-alert--send-invite'>\r\n            <h1>{heading}</h1>\r\n            <p>{message}</p>\r\n            <div className='c-Confirm-alert__Buttons'>\r\n                <button className={\"c-Btn c-Btn--\" + type} onClick={() => (handler(onClose))}>Confirm</button>\r\n                <button className=\"c-Btn c-Btn--cancel\" onClick={onClose}> Cancel</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CustomConfirmAlert;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { getToken } from '../utilities/localStorageUtils';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { TAB } from '../config/enums';\r\n// import { btnEndpointsListObj, tabEndpointsListObj } from '../config/endpointsListObj';\r\nimport useEndpoints from '../hooks/useEndpoints';\r\nimport { toast } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { convertToRaw } from 'draft-js';\r\nimport CustomConfirmAlert from './CustomConfirmAlert';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\n\r\nconst DocumentBtnSection = ({\r\n    setQueryUrl,\r\n    setTabSettings,\r\n    tabSettings,\r\n    docEditTableData,\r\n    docEditHeaderData,\r\n    docPendingTableData,\r\n    docPendingHeaderData,\r\n    docRejectedHeaderData,\r\n    pageType,\r\n    isApprover,\r\n    isEditor,\r\n    docQueryEnum,\r\n    setDocQueryEnum,\r\n    editorState,\r\n    setEditorState,\r\n    tempFileArr,\r\n    startNewDoc,\r\n    setStartNewDoc }) => { // Start of DocumentBtnSection\r\n    const [btnEndpointsListObj, tabEndpointsListObj] = useEndpoints({TokenManager});\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n\r\n    const rejectRemarks = useRef(\"\");\r\n    // Handler for document action buttons\r\n    const handleDocActionBtns = (btnType) => {\r\n        console.log(docEditTableData)\r\n        if (btnType === \"edit\") {\r\n            setTabSettings(() => ({\r\n                firstTab: TAB.ACTIVE,\r\n                secondTab: TAB.EDITING,\r\n                focusTabIndex: 1\r\n            }));\r\n        } else if (btnType === \"editSubmit\") {\r\n            console.log(docEditHeaderData);\r\n            // Validation check\r\n            if (docEditHeaderData.approvedBy === undefined || isNaN(docEditHeaderData.approvedBy)) {\r\n                console.log(\"Error! No approver selected!\");\r\n                toast.error(<>Error!<br />Message: <b>Please select an approver!</b></>);\r\n                return;\r\n            }\r\n\r\n\r\n            let editSubmitAxiosReqData = {};\r\n            let editSubmitUrl = \"\";\r\n            if (pageType === \"swot\") {\r\n                editSubmitAxiosReqData = {\r\n                    strengths: docEditTableData.strength.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    })),\r\n                    weaknesses: docEditTableData.weakness.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            console.log(\"docQueryEnum:\" + docQueryEnum);\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    })),\r\n                    opportunities: docEditTableData.opp.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    threats: docEditTableData.threat.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    approved_by: parseInt(docEditHeaderData.approvedBy)\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.swot.editSubmit;\r\n            }\r\n            else if (pageType === \"interestedParty\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    interested_parties: docEditTableData.map((row) => ({\r\n                        interested_party: row.interested_parties,\r\n                        expectations: row.needs_n_expectations,\r\n                        display_order: row.serialNo,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.interestedParty.editSubmit;\r\n            }\r\n            else if (pageType === \"scopeOfQMS\") {\r\n                // console.log(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    content: JSON.stringify(convertToRaw(editorState.getCurrentContent())),\r\n                    boundaries: docEditTableData.map((row) => ({\r\n                        site_name: row.site_name,\r\n                        site_scope: row.site_scope,\r\n                        address: row.site_address,\r\n                        display_order: row.serialNo,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.scopeOfQMS.editSubmit;\r\n            }\r\n            else if (pageType === \"companyPolicy\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    policies: docEditTableData.map((row, index) => ({\r\n                        title: row.title,\r\n                        content: row.content,\r\n                        display_order: index + 1,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })()\r\n                    }))\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.companyPolicy.editSubmit;\r\n            }\r\n            else if (pageType === \"respNAuth\") {\r\n\r\n            }\r\n            else if (pageType === \"riskNOpp\") {\r\n                editSubmitAxiosReqData = {\r\n                    approved_by: docEditHeaderData.approvedBy,\r\n                    title: docEditHeaderData.title,\r\n                    strengths: docEditTableData.strength.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            // If this submit button request came from a rejected tab, then use the current row's parent item id instead of its own id.\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    weaknesses: docEditTableData.weakness.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    opportunities: docEditTableData.opp.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                    threats: docEditTableData.threat.map((row) => ({\r\n                        ...row,\r\n                        parent_item_id: (() => {\r\n                            if (docQueryEnum === \"rejected\") {\r\n                                return row.parentItemID;\r\n                            } else {\r\n                                return row.id;\r\n                            }\r\n                        })(),\r\n                        action: (() => {\r\n                            if (row.rpn < 12 || row.rpn === null || isNaN(row.rpn)) {\r\n                                return null;\r\n                            } else {\r\n                                return row.action;\r\n                            }\r\n                        })()\r\n                    })),\r\n                }\r\n                editSubmitUrl = btnEndpointsListObj.riskNOpp.editSubmit;\r\n            }\r\n            else if (pageType === \"objAchivProgram\") {\r\n                let missingPersonelResponsible = false;\r\n                docEditTableData.forEach((data, index) => {\r\n                    if (data.personel_responsible === undefined || isNaN(data.personel_responsible)) {\r\n                        missingPersonelResponsible = true;\r\n                    }\r\n                });\r\n                if (missingPersonelResponsible) {\r\n                    toast.error(<>Error!<br />Message: <b>Please select a personel responsible for all items!</b></>);\r\n                    return;\r\n                }\r\n                const objAchivFormData = new FormData();\r\n                objAchivFormData.append(\"approved_by\", docEditHeaderData.approvedBy);\r\n                objAchivFormData.append(\"title\", docEditHeaderData.title);\r\n                objAchivFormData.append(\"achievements\", JSON.stringify(docEditTableData));\r\n\r\n                for (let i = 0; i < tempFileArr.length; i++) {\r\n                    objAchivFormData.append(tempFileArr[i].key, tempFileArr[i].fileObj);\r\n                };\r\n\r\n                editSubmitUrl = btnEndpointsListObj.objAchivProgram.editSubmit;\r\n                // obj achiv program has its own axios call\r\n                axios.post(editSubmitUrl, objAchivFormData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`,\r\n                        'Content-Type': 'multipart/form-data',\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        console.log(res);\r\n                        toast.success(<>Success!<br />Message: <b>Document submitted for approval!</b></>);\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                            secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                        });\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.PENDING,\r\n                            focusTabIndex: 0\r\n                        }));\r\n                        setDocQueryEnum(() => ('active'));\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        let errCode = \"Error!\";\r\n                        let errMsg = \"Error!\"\r\n                        if (err.response !== undefined) {\r\n                            errCode = err.response.status;\r\n                            errMsg = err.response.data.message;\r\n                        }\r\n\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    });\r\n                // end here for obj achiv program\r\n                return;\r\n            }\r\n\r\n            axios.post(editSubmitUrl, editSubmitAxiosReqData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json;charset=UTF-8',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    toast.success(<>Success!<br />Message: <b>Document submitted for approval!</b></>);\r\n                    if (pageType === \"swot\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.swot.active,\r\n                            secondUrl: tabEndpointsListObj.swot.getAll,\r\n                        });\r\n                    } else if (pageType === \"interestedParty\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                            secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                        });\r\n                    } else if (pageType === \"scopeOfQMS\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                            secondUrl: tabEndpointsListObj.scopeOfQMS.getAll\r\n                        })\r\n                    } else if (pageType === \"companyPolicy\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                            secondUrl: tabEndpointsListObj.companyPolicy.getAll\r\n                        })\r\n                    } else if (pageType === \"riskNOpp\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                            secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                        });\r\n                    }\r\n                    setTabSettings(() => ({\r\n                        firstTab: TAB.ACTIVE,\r\n                        secondTab: TAB.PENDING,\r\n                        focusTabIndex: 0\r\n                    }));\r\n                    setDocQueryEnum(() => ('active'));\r\n                    setStartNewDoc(() => false)\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    const errCode = err.response.status;\r\n                    const errMsg = err.response.data.message;\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n\r\n        } else if (btnType === \"editCancel\") {\r\n            // Check if there is currently a rejected document\r\n            if (docQueryEnum === \"rejected\") {\r\n                if (pageType === \"swot\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.swot.rejected,\r\n                        secondUrl: tabEndpointsListObj.swot.getAll,\r\n                    });\r\n                } else if (pageType === \"interestedParty\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                        secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                    });\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                        secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                    });\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                        secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                    });\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                        secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                    });\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                        secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                    });\r\n                }\r\n                setTabSettings(() => ({\r\n                    firstTab: TAB.ACTIVE,\r\n                    secondTab: TAB.REJECTED,\r\n                    focusTabIndex: 1\r\n                }));\r\n                setDocQueryEnum(() => ('rejected'));\r\n            } else {\r\n                if (pageType === \"swot\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.swot.active,\r\n                        secondUrl: tabEndpointsListObj.swot.getAll,\r\n                    });\r\n                } else if (pageType === \"interestedParty\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                        secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                    });\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                        secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                    });\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                        secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                    });\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                        secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                    });\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    setQueryUrl({\r\n                        firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                        secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                    });\r\n                }\r\n\r\n                setTabSettings(() => ({\r\n                    firstTab: TAB.ACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: 0\r\n                }));\r\n                setDocQueryEnum(() => ('active'));\r\n            }\r\n        } else if (btnType === \"rejectedEdit\") {\r\n            console.log(\"edit btn click\");\r\n            if (pageType === \"swot\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.swot.rejected,\r\n                    secondUrl: tabEndpointsListObj.swot.getAll,\r\n                });\r\n            } else if (pageType === \"interestedParty\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                    secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                });\r\n            } else if (pageType === \"scopeOfQMS\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                    secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                });\r\n            } else if (pageType === \"companyPolicy\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                    secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                });\r\n            } else if (pageType === \"riskNOpp\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                    secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                });\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                setQueryUrl({\r\n                    firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                    secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                });\r\n            }\r\n\r\n            setTabSettings(() => ({\r\n                firstTab: TAB.ACTIVE,\r\n                secondTab: TAB.EDITING,\r\n                focusTabIndex: 1\r\n            }));\r\n            setDocQueryEnum(() => ('rejected'));\r\n        } else if (btnType === \"rejectedDelete\") {\r\n            // Confirmation dialogue for deleting rejected document\r\n            const message = `Are you sure you want to delete this document? Click confirm to proceed.`;\r\n            const handler = (onClose) => handleRejectDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n\r\n            // Deleting document from the client side doesn't actually delete the dataset in the database\r\n            // We are merely marking the table row that's deleted as deleted by setting \"deleted_at\" column with a value\r\n            const handleRejectDelete = (onClose) => {\r\n                let rejectedDeleteUrl = \"\";\r\n\r\n                if (pageType === \"swot\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.swot.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"interestedParty\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.interestedParty.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.scopeOfQMS.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.companyPolicy.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.riskNOpp.rejectedDelete + docRejectedHeaderData.docID;\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    rejectedDeleteUrl = btnEndpointsListObj.objAchivProgram.rejectedDelete + docRejectedHeaderData.docID;\r\n\r\n                }\r\n\r\n                axios.delete(rejectedDeleteUrl, {\r\n                    headers: {\r\n                        \"Authorization\": `Bearer ${token}`\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        toast.success(<>Success!<br />Message: <b>Rejected document has been deleted!</b></>);\r\n                        onClose();\r\n                        if (pageType === \"swot\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.swot.active,\r\n                                secondUrl: tabEndpointsListObj.swot.getAll,\r\n                            });\r\n                        } else if (pageType === \"interestedParty\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                                secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                            });\r\n                        } else if (pageType === \"scopeOfQMS\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                                secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                            });\r\n                        } else if (pageType === \"companyPolicy\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                                secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                            });\r\n                        } else if (pageType === \"riskNOpp\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                                secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                            });\r\n                        } else if (pageType === \"objAchivProgram\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                                secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                            });\r\n                        }\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.NULL,\r\n                            focusTabIndex: 0\r\n                        }));\r\n                        setDocQueryEnum(() => ('active'));\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        onClose();\r\n                        let errCode = \"Error!\";\r\n                        let errMsg = \"Error!\"\r\n                        if (err.response !== undefined) {\r\n                            errCode = err.response.status;\r\n                            errMsg = err.response.data.message;\r\n                        }\r\n\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    });\r\n            };\r\n\r\n        } else if (btnType === \"pendingApprove\") {\r\n            let pendingApproveUrl = \"\";\r\n\r\n\r\n            if (pageType === \"swot\") {\r\n                pendingApproveUrl = btnEndpointsListObj.swot.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"interestedParty\") {\r\n                pendingApproveUrl = btnEndpointsListObj.interestedParty.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"scopeOfQMS\") {\r\n                pendingApproveUrl = btnEndpointsListObj.scopeOfQMS.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"companyPolicy\") {\r\n                pendingApproveUrl = btnEndpointsListObj.companyPolicy.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"riskNOpp\") {\r\n                pendingApproveUrl = btnEndpointsListObj.riskNOpp.pendingApprove + docPendingHeaderData.docID;\r\n            } else if (pageType === \"objAchivProgram\") {\r\n                pendingApproveUrl = btnEndpointsListObj.objAchivProgram.pendingApprove + docPendingHeaderData.docID;\r\n            }\r\n\r\n            axios.put(pendingApproveUrl, {}, {\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    if (pageType === \"swot\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.swot.active,\r\n                            secondUrl: tabEndpointsListObj.swot.getAll,\r\n                        });\r\n                    } else if (pageType === \"interestedParty\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.interestedParty.active,\r\n                            secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                        });\r\n                    } else if (pageType === \"scopeOfQMS\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.scopeOfQMS.active,\r\n                            secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                        });\r\n                    } else if (pageType === \"companyPolicy\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.companyPolicy.active,\r\n                            secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                        });\r\n                    } else if (pageType === \"riskNOpp\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.riskNOpp.active,\r\n                            secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                        });\r\n                    } else if (pageType === \"objAchivProgram\") {\r\n                        setQueryUrl({\r\n                            firstUrl: tabEndpointsListObj.objAchivProgram.active,\r\n                            secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                        });\r\n                    }\r\n                    toast.success(<>Success!<br />Message: <b>Document approved!</b></>);\r\n                    setTabSettings(() => ({\r\n                        firstTab: TAB.ACTIVE,\r\n                        secondTab: TAB.NULL,\r\n                        focusTabIndex: 0\r\n                    }));\r\n                    setDocQueryEnum(() => ('active'));\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    const errCode = err.response.status || \"N.a.\";\r\n                    const errMsg = err.response.data.message || \"N.a.\";\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n        } else if (btnType === \"pendingReject\") {\r\n\r\n            const handleRejectPendingDocument = (onClose) => {\r\n\r\n                const pendingRejectAxiosReqData = {\r\n                    remarks: rejectRemarks.current.value\r\n                }\r\n\r\n                let pendingRejectUrl = \"\";\r\n\r\n                if (pageType === \"swot\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.swot.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"interestedParty\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.interestedParty.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"scopeOfQMS\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.scopeOfQMS.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"companyPolicy\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.companyPolicy.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"riskNOpp\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.riskNOpp.pendingReject + docPendingHeaderData.docID;\r\n                } else if (pageType === \"objAchivProgram\") {\r\n                    pendingRejectUrl = btnEndpointsListObj.objAchivProgram.pendingReject + docPendingHeaderData.docID;\r\n                }\r\n\r\n                axios.put(pendingRejectUrl, pendingRejectAxiosReqData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                    .then((res) => {\r\n                        onClose();\r\n                        if (pageType === \"swot\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.swot.rejected,\r\n                                secondUrl: tabEndpointsListObj.swot.getAll,\r\n                            });\r\n                        } else if (pageType === \"interestedParty\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.interestedParty.rejected,\r\n                                secondUrl: tabEndpointsListObj.interestedParty.getAll,\r\n                            });\r\n                        } else if (pageType === \"scopeOfQMS\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.scopeOfQMS.rejected,\r\n                                secondUrl: tabEndpointsListObj.scopeOfQMS.getAll,\r\n                            });\r\n                        } else if (pageType === \"companyPolicy\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.companyPolicy.rejected,\r\n                                secondUrl: tabEndpointsListObj.companyPolicy.getAll,\r\n                            });\r\n                        } else if (pageType === \"riskNOpp\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.riskNOpp.rejected,\r\n                                secondUrl: tabEndpointsListObj.riskNOpp.getAll,\r\n                            });\r\n                        } else if (pageType === \"objAchivProgram\") {\r\n                            setQueryUrl({\r\n                                firstUrl: tabEndpointsListObj.objAchivProgram.rejected,\r\n                                secondUrl: tabEndpointsListObj.objAchivProgram.getAll,\r\n                            });\r\n                        }\r\n\r\n                        setTabSettings(() => ({\r\n                            firstTab: TAB.ACTIVE,\r\n                            secondTab: TAB.REJECTED,\r\n                            focusTabIndex: 1\r\n                        }));\r\n                        setDocQueryEnum(() => ('rejected'));\r\n                        toast.success(<>Success!<br />Message: <b>Document has been rejected!</b></>);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                        console.error(err);\r\n                        onClose();\r\n                        const errCode = err.response.status;\r\n                        const errMsg = err.response.data.message;\r\n                        toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                    })\r\n            }\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return (\r\n                        <div className='c-Confirm-alert c-Confirm-alert--pending-reject'>\r\n                            <h1>Confirm Reject?</h1>\r\n                            <div className=\"c-Confirm-alert__Remarks\">\r\n                                <h2>Remarks</h2>\r\n                                <textarea name=\"pendingReject\" ref={rejectRemarks}></textarea>\r\n                            </div>\r\n                            <div className='c-Confirm-alert__Buttons'>\r\n                                <button className=\"c-Btn c-Btn--alert\" onClick={() => (handleRejectPendingDocument(onClose))}>Confirm Reject</button>\r\n                                <button className=\"c-Btn c-Btn--dark\" onClick={onClose}> Cancel</button>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // User focusing on active tab\r\n    if (tabSettings.firstTab === TAB.ACTIVE && tabSettings.focusTabIndex === 0 && isEditor) {\r\n        // Return null if second tab is either pending, rejected or editing\r\n        if (tabSettings.secondTab === TAB.NULL) {\r\n            return (\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"edit\" type=\"button\" onClick={() => (handleDocActionBtns(\"edit\"))} className=\"c-Btn c-Btn--primary\">Edit</button>\r\n                </div>\r\n            )\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    // User on inactive tab with startNewDoc\r\n    else if (tabSettings.firstTab === TAB.INACTIVE && tabSettings.focusTabIndex === 0 && startNewDoc) {\r\n        return (\r\n            <div className=\"l-IP__Btns\">\r\n                <button key=\"editSubmit\" type=\"button\" onClick={() => (handleDocActionBtns(\"editSubmit\"))} className=\"c-Btn c-Btn--primary\" >Submit</button>\r\n                <button key=\"editCancel\" type=\"button\" onClick={() => (setStartNewDoc(() => false))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n            </div>\r\n        )\r\n    }\r\n    // User focusing on editing tab\r\n    else if (tabSettings.secondTab === TAB.EDITING && tabSettings.focusTabIndex === 1) {\r\n        return (\r\n            <>\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"editSubmit\" type=\"button\" onClick={() => (handleDocActionBtns(\"editSubmit\"))} className=\"c-Btn c-Btn--primary\" >Submit</button>\r\n                    <button key=\"editCancel\" type=\"button\" onClick={() => (handleDocActionBtns(\"editCancel\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    // User focusing on rejected tab\r\n    else if (tabSettings.secondTab === TAB.REJECTED && tabSettings.focusTabIndex === 1) {\r\n        if (docRejectedHeaderData.created_by_id === userID) {\r\n            return (\r\n                <div className=\"l-IP__Btns\">\r\n                    <button key=\"rejectedEdit\" type=\"button\" onClick={() => (handleDocActionBtns(\"rejectedEdit\"))} className=\"c-Btn c-Btn--primary\" >Edit</button>\r\n                    <button key=\"rejectedDelete\" type=\"button\" onClick={() => (handleDocActionBtns(\"rejectedDelete\"))} className=\"c-Btn c-Btn--alert\">Delete</button>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    else if (tabSettings.secondTab === TAB.PENDING && tabSettings.focusTabIndex === 1 && isApprover) {\r\n        return (\r\n            <div className=\"l-IP__Btns\">\r\n                {/* TBC Need to do checking of roles to authorise users to have access to this account */}\r\n                <button key=\"pendingApprove\" type=\"button\" onClick={() => (handleDocActionBtns(\"pendingApprove\"))} className=\"c-Btn c-Btn--ok\">Approve</button>\r\n                <button key=\"pendingReject\" type=\"button\" onClick={() => (handleDocActionBtns(\"pendingReject\"))} className=\"c-Btn c-Btn--alert\">Reject</button>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default DocumentBtnSection;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst InterestedPartyActive = ({docHeaderData, docTableData, docColumns, docKeyfield}) => {\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable keyField={docKeyfield} data={docTableData} columns={docColumns} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyActive;","import React, {useState, useEffect} from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\n\r\nconst InterestedPartyPending = ({\r\n    docPendingTableData, \r\n    setDocPendingTableData,\r\n    docPendingHeaderData, \r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns, \r\n    docKeyfield}) => { // start of InterestedPartyPending\r\n\r\n    const [rowStyle, setRowStyle] = useState({\r\n        newRowArr: [],\r\n        deletedRowArr: [],\r\n        editedRowArr: []\r\n    });\r\n    const [rowStyleTable, setRowStyleTable] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Check if table row is edited/deleted/added\r\n        setRowStyle(() => {\r\n            let newRowArr = [];\r\n            let deletedRowArr = [];\r\n            let editedRowArr = [];\r\n            // Obtain rows that are newly added\r\n            const checkNewRow = docPendingTableData.filter((data, index) => {\r\n                return data.parentItemID === null;\r\n            });\r\n            checkNewRow.forEach((data) => {\r\n                newRowArr.push(data.id);\r\n            });\r\n\r\n            // Obtain deleted rows\r\n            docTableData.forEach((activeData, activeIndex) => {\r\n                let isDeleted = true;\r\n                docPendingTableData.forEach((pendingData, pendingIndex) => {\r\n                    if (pendingData.parentItemID === activeData.id) {\r\n                        isDeleted = false;\r\n                    }\r\n                });\r\n                if (isDeleted === true) {\r\n                    deletedRowArr.push(activeData.id);\r\n                }\r\n            });\r\n\r\n            // Obtain edited rows\r\n            docPendingTableData.forEach((pendingData, pendingIndex) => {\r\n                \r\n                docTableData.forEach((activeData, activeIndex) => {\r\n                    if (pendingData.parentItemID === activeData.id) {\r\n                        // Check if the fields has been edited\r\n                        if (pendingData.interested_parties !== activeData.interested_parties || pendingData.needs_n_expectations !== activeData.needs_n_expectations) {\r\n                            editedRowArr.push(pendingData.id);\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n            return ({\r\n                newRowArr,\r\n                deletedRowArr,\r\n                editedRowArr\r\n            });\r\n\r\n        })}, [docPendingTableData, docTableData]);\r\n\r\n    useEffect(() => {\r\n        setRowStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n    \r\n            rowStyle.deletedRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                }\r\n            })\r\n          \r\n            rowStyle.editedRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n    }, [rowStyle]);\r\n    \r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1>{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable keyField={docKeyfield} data={docPendingTableData} columns={docColumns} rowStyle={ rowStyleTable } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyPending;\r\n","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyEditing = ({ docEditTableData, setDocEditTableData, docEditHeaderData, setDocEditHeaderData, docHeaderData, docTableData, docKeyfield }) => {\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    needs_n_expectations: data.needs_n_expectations_raw\r\n                }\r\n            })\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\",\r\n        editable: true,\r\n    }, {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\",\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                interested_parties: \"Enter Input\",\r\n                needs_n_expectations: \"Enter input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-IP__Document-title\">\r\n                <input type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header info */}\r\n            <div className=\"c-IP__Document-header c-Document__Header\">\r\n                <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <BootstrapTable\r\n                keyField={docKeyfield}\r\n                data={docEditTableData}\r\n                columns={docEditingColumns}\r\n                cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n            />\r\n            {/* Add row */}\r\n            <div className=\"c-IP__Add-row\" onClick={handleDocAddRow}>\r\n                <h2>Add new row</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyEditing;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst InterestedPartyRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n    docColumns, \r\n    docKeyfield}) => {  // Start of InterestedPartyRejected\r\n\r\n    console.log(docRejectedHeaderData);\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n        {/* Title */}\r\n        <h1>{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n        {/* Document Header info */}\r\n        <div className=\"c-IP__Document-header c-Document__Header\">\r\n            <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                <p>To bv approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n            </div>\r\n            <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n            </div>\r\n        </div>\r\n        {/* Table section */}\r\n        <BootstrapTable keyField={docKeyfield} data={docRejectedTableData} columns={docColumns} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyRejected;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            interested_parties: \"Enter Input\",\r\n            needs_n_expectations: \"Enter input\"\r\n        }]));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'interested_parties',\r\n        text: \"Interested Parties\",\r\n        editable: true,\r\n    }, {\r\n        dataField: 'needs_n_expectations',\r\n        text: \"Needs and Expectations\",\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                interested_parties: \"Enter Input\",\r\n                needs_n_expectations: \"Enter input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n    console.log(tabSettings);\r\n    console.log(tabSettings.secondTab);\r\n    console.log(tabSettings === TAB.NULL);\r\n    console.log(TAB.NULL);\r\n    return (\r\n        <div className=\"c-IP__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <h1>There are no existing documents</h1>\r\n                                <div className=\"c-IP__Document-new\">\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                < div className=\"l-IP__Document-title\">\r\n                                    <input type=\"text\" name=\"title\" placeholder=\"Title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header info */}\r\n                                <div className=\"c-IP__Document-header c-Document__Header\">\r\n                                    <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Table section */}\r\n                                <BootstrapTable\r\n                                    keyField={docKeyfield}\r\n                                    data={docEditTableData}\r\n                                    columns={docEditingColumns}\r\n                                    cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                />\r\n                                {/* Add row */}\r\n                                <div className=\"c-IP__Add-row\" onClick={handleDocAddRow}>\r\n                                    <h2>Add new row</h2>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-IP__Document-new\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-IP__Document-new\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default InterestedPartyInactive;","import React from 'react'\r\n\r\n// Swot items refer to swot heading + its list of data\r\n\r\nconst SwotItems = ({header, children}) => {\r\n    return (\r\n        <div className = \"c-Swot-item\">\r\n            <h1 className=\"c-Swot-item__Header\">{header}</h1>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotItems;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of SwotActive\r\n\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by  ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on  ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.strength}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.weakness}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.opp}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docTableData.threat}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotActive;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {    // start of SwotPending\r\n    console.log(docPendingHeaderData);\r\n    console.log(docPendingTableData);\r\n\r\n    const [rowStyle, setRowStyle] = useState({\r\n        newStrengthRowArr: [],\r\n        newWeaknessRowArr: [],\r\n        newOppRowArr: [],\r\n        newThreatRowArr: [],\r\n        editedStrengthRowArr: [],\r\n        editedWeaknessRowArr: [],\r\n        editedOppRowArr: [],\r\n        editedThreatRowArr: [],\r\n    });\r\n    const [rowStrengthStyleTable, setRowStrengthStyleTable] = useState(null);\r\n    const [rowWeaknessStyleTable, setRowWeaknessStyleTable] = useState(null);\r\n    const [rowOppStyleTable, setRowOppStyleTable] = useState(null);\r\n    const [rowThreatStyleTable, setRowThreatStyleTable] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setRowStyle(() => {\r\n\r\n            // Variables declaration\r\n            let newStrengthRowArr = [];\r\n            let newWeaknessRowArr = [];\r\n            let newOppRowArr = [];\r\n            let newThreatRowArr = [];\r\n            let editedStrengthRowArr = [];\r\n            let editedWeaknessRowArr = [];\r\n            let editedOppRowArr = [];\r\n            let editedThreatRowArr = [];\r\n\r\n            const checkNewRow = () => {\r\n                // Obtain rows that are newly added\r\n                const checkStrengthNewRow = docPendingTableData.strength.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkStrengthNewRow.forEach((data) => {\r\n                    newStrengthRowArr.push(data.id);\r\n                });\r\n                const checkWeaknessNewRow = docPendingTableData.weakness.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkWeaknessNewRow.forEach((data) => {\r\n                    newWeaknessRowArr.push(data.id);\r\n                });\r\n                const checkOppNewRow = docPendingTableData.opp.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkOppNewRow.forEach((data) => {\r\n                    newOppRowArr.push(data.id);\r\n                });\r\n                const checkThreatNewRow = docPendingTableData.threat.filter((data, index) => {\r\n                    console.log(data);\r\n                    return data.parentItemID === null;\r\n                });\r\n                checkThreatNewRow.forEach((data) => {\r\n                    newThreatRowArr.push(data.id);\r\n                });\r\n            }\r\n\r\n            const checkEditedRow = () => {\r\n                // Obtain edited rows\r\n                docPendingTableData.strength.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.strength.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedStrengthRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.weakness.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.weakness.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedWeaknessRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.opp.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.opp.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedOppRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n                // Obtain edited rows\r\n                docPendingTableData.threat.forEach((pendingData, pendingIndex) => {\r\n\r\n                    docTableData.threat.forEach((activeData, activeIndex) => {\r\n                        if (pendingData.parentItemID === activeData.id) {\r\n                            // Check if the fields has been edited\r\n                            if (pendingData.content !== activeData.content) {\r\n                                editedThreatRowArr.push(pendingData.id);\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n            checkNewRow();\r\n            checkEditedRow();\r\n\r\n            return ({\r\n                newStrengthRowArr,\r\n                newWeaknessRowArr,\r\n                newOppRowArr,\r\n                newThreatRowArr,\r\n                editedStrengthRowArr,\r\n                editedWeaknessRowArr,\r\n                editedOppRowArr,\r\n                editedThreatRowArr\r\n            });\r\n        });\r\n\r\n\r\n    }, [docPendingTableData, docTableData]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"rowstyle chanigng\")\r\n        setRowStrengthStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newStrengthRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedStrengthRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowWeaknessStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newWeaknessRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedWeaknessRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowOppStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newOppRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedOppRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n        setRowThreatStyleTable(() => ((row, rowIndex) => {\r\n            const style = {};\r\n            rowStyle.newThreatRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.textDecoration = 'underline';\r\n                }\r\n            });\r\n          \r\n            rowStyle.editedThreatRowArr.forEach((data) => {\r\n                if (row.id === data) {\r\n                    style.backgroundColor = '#FFF3CD';\r\n                    style.fontWeight = 'bold';\r\n                }\r\n            })\r\n          \r\n            return style;\r\n        }));\r\n    }, [rowStyle]);\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.strength}\r\n                    columns={docColumns}\r\n                    rowStyle={rowStrengthStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.weakness}\r\n                    columns={docColumns}\r\n                    rowStyle={rowWeaknessStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.opp}\r\n                    columns={docColumns}\r\n                    rowStyle={rowOppStyleTable}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docPendingTableData.threat}\r\n                    columns={docColumns}\r\n                    rowStyle={rowThreatStyleTable}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotPending;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst SwotEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield,\r\n}) => { // start of SwotEditing\r\n\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApproverList] = useState([]);\r\n    const userDisplayName = decodedToken.display_name;\r\n\r\n    useEffect(() => {\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n\r\n        setDocEditTableData(() => (docTableData));\r\n\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docTableData]);\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false,\r\n    }, {\r\n        dataField: 'type',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'content',\r\n        text: \"Swot content\",\r\n        editable: true,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            console.log(row);\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo, row.type))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n    \r\n    // Handler for adding row to document, table type refers to either strength, weakness, opportunity, or threat in swot.\r\n    const handleDocAddRow = (tableType) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            let newDocTableData = {\r\n                ...prevDocTableData,\r\n                [tableType]: [\r\n                    ...prevDocTableData[tableType],\r\n                    {\r\n                        serialNo: prevDocTableData[tableType].length + 1,\r\n                        content: `Click to input`,\r\n                        type: tableType,\r\n                        display_order: 0\r\n                    }\r\n                ]\r\n            }\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID, swotType) => {\r\n\r\n        console.log(docEditTableData);\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from specific swot type array\r\n            const newSwotTypeTableData = prevDocTableData[swotType].filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n            console.log(newSwotTypeTableData);\r\n\r\n            // Update serial no.\r\n            const formattedSwotTypeTableData = newSwotTypeTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            });\r\n            console.log(formattedSwotTypeTableData);\r\n\r\n            // final formatted data with previous data\r\n            const formattedDocTableData = {\r\n                ...prevDocTableData,\r\n                [swotType]: formattedSwotTypeTableData\r\n            }\r\n            console.log(formattedDocTableData);\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>To be Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || 'Error' }>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                </div>\r\n            </div>\r\n            <div className=\"c-Swot__Tables--edit\">\r\n                {/* Swot table section */}\r\n                <SwotItems header=\"Strengths\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.strength}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"strength\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Weaknesses\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.weakness}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"weakness\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Opportunities\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.opp}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"opp\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n                <SwotItems header=\"Threats\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={docEditTableData.threat}\r\n                        columns={docEditingColumns}\r\n                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                    />\r\n                    {/* Add new row */}\r\n                    <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"threat\"))}>\r\n                        <h2>Add new row</h2>\r\n                    </div>\r\n                </SwotItems>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotEditing;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport SwotItems from '../../common/SwotItems';\r\n\r\nconst SwotRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Swot__Document-content c-Document\">\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                    <p>Rejected By:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n                </div>\r\n            </div>\r\n            {/* Swot table section */}\r\n            <SwotItems header=\"Strengths\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.strength}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Weaknesses\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.weakness}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Opportunities\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.opp}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n            <SwotItems header=\"Threats\">\r\n                <BootstrapTable\r\n                    bordered={false}\r\n                    keyField='serialNo'\r\n                    data={docRejectedTableData.threat}\r\n                    columns={docColumns}\r\n                />\r\n            </SwotItems>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotRejected;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst SwotInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ({ ...docTableData }));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false,\r\n    }, {\r\n        dataField: 'type',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'content',\r\n        text: \"Swot content\",\r\n        editable: true,\r\n        headerAttrs: {\r\n            hidden: true\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            console.log(row);\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo, row.type))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }];\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document, table type refers to either strength, weakness, opportunity, or threat in swot.\r\n    const handleDocAddRow = (tableType) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            let newDocTableData = {\r\n                ...prevDocTableData,\r\n                [tableType]: [\r\n                    ...prevDocTableData[tableType],\r\n                    {\r\n                        serialNo: prevDocTableData[tableType].length + 1,\r\n                        content: `Click to input`,\r\n                        type: tableType,\r\n                        display_order: 0\r\n                    }\r\n                ]\r\n            }\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID, swotType) => {\r\n\r\n        console.log(docEditTableData);\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from specific swot type array\r\n            const newSwotTypeTableData = prevDocTableData[swotType].filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n            console.log(newSwotTypeTableData);\r\n\r\n            // Update serial no.\r\n            const formattedSwotTypeTableData = newSwotTypeTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            });\r\n            console.log(formattedSwotTypeTableData);\r\n\r\n            // final formatted data with previous data\r\n            const formattedDocTableData = {\r\n                ...prevDocTableData,\r\n                [swotType]: formattedSwotTypeTableData\r\n            }\r\n            console.log(formattedDocTableData);\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-SWOT__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                                        <p>To be Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || 'Error'}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"c-Swot__Tables--edit\">\r\n                                    {/* Swot table section */}\r\n                                    <SwotItems header=\"Strengths\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.strength}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"strength\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Weaknesses\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.weakness}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"weakness\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Opportunities\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.opp}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"opp\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                    <SwotItems header=\"Threats\">\r\n                                        <BootstrapTable\r\n                                            bordered={false}\r\n                                            keyField='serialNo'\r\n                                            data={docEditTableData.threat}\r\n                                            columns={docEditingColumns}\r\n                                            cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                        />\r\n                                        {/* Add new row */}\r\n                                        <div className=\"c-Swot__Add-row\" onClick={() => (handleDocAddRow(\"threat\"))}>\r\n                                            <h2>Add new row</h2>\r\n                                        </div>\r\n                                    </SwotItems>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SwotInactive;","import React, {useState} from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of ScopeOfQMSActive\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>Company Name:</p>\r\n                    <p>Active on:</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.title ? docHeaderData.title : \"Failed to load data\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className = \"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSActive;","import React, {useState} from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>Company Name:</p>\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data\"}</p>\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className = \"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docPendingHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docPendingTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSPending;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport convert from 'htmr';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield,\r\n    editorState,\r\n    setEditorState\r\n}) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const userDisplayName = getUserDisplayName();\r\n    console.log(docEditTableData);\r\n    console.log(docEditHeaderData);\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    site_scope: data.site_scope_raw\r\n                }\r\n            })\r\n        });\r\n        setDocEditHeaderData(() => (docHeaderData));\r\n\r\n\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approvalListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approvalListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approvalListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                site_name: \"Enter Input\",\r\n                site_address: \"Enter Input\",\r\n                site_scope: \"Enter Input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'site_name',\r\n        text: 'Site Name',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_address',\r\n        text: 'Site Address',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope',\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }\r\n    ];\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Form name</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input placeholder=\"Form Name\" type=\"text\" name=\"title\" onChange={handleInputChange} value = {docEditHeaderData.title || ''} />\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* Insert wysiwyg editor here */}\r\n                <Editor\r\n                    editorState={editorState}\r\n                    wrapperClassName=\"demo-wrapper\"\r\n                    editorClassName=\"demo-editor\"\r\n                    onEditorStateChange={setEditorState}\r\n                />\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='serialNo'\r\n                    data={docEditTableData}\r\n                    columns={docEditingColumns}\r\n                    cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                />\r\n                {/* Add row */}\r\n                <div className=\"c-Scope-of-QMS__Add-row\" onClick={handleDocAddRow}>\r\n                    <h2>Add new row</h2>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSEditing;","import React, { useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n\r\nconst ScopeOfQMSRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => {\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {/* Document Header info */}\r\n            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                    <p>To bv approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"}\r\n                </div>\r\n            </div>\r\n            {/* WYSIWYG editor section */}\r\n            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                <div className=\"c-Scope-Of-QMS__WYSIWYG\">\r\n                    {docRejectedHeaderData.content}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Table section */}\r\n            <div className=\"c-Scope-of-QMS__Table\">\r\n                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                <BootstrapTable\r\n                    keyField='id'\r\n                    data={docRejectedTableData}\r\n                    columns={docColumns}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSRejected;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    editorState,\r\n    setEditorState,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            site_name: \"Enter Input\",\r\n            site_address: \"Enter Input\",\r\n            site_scope: \"Enter Input\"\r\n        }]));\r\n        setDocEditHeaderData(() => (docHeaderData));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                site_name: \"Enter Input\",\r\n                site_address: \"Enter Input\",\r\n                site_scope: \"Enter Input\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    };\r\n\r\n    const docEditingColumns = [{\r\n        dataField: 'id',\r\n        hidden: true,\r\n        editable: false\r\n    }, {\r\n        dataField: 'serialNo',\r\n        text: '#',\r\n        editable: false\r\n    }, {\r\n        dataField: 'site_name',\r\n        text: 'Site Name',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_address',\r\n        text: 'Site Address',\r\n        editable: true,\r\n    }, {\r\n        dataField: 'site_scope',\r\n        text: 'Site Scope',\r\n        editable: true,\r\n        editor: {\r\n            type: Type.TEXTAREA\r\n        },\r\n        style: { height: \"auto\", wordWrap: \"hard\" },\r\n        formatter: (cell, row, rowIndex) => {\r\n            if (cell.split(\"\\n\").length > 1) {\r\n                return cell.split(\"\\n\").map((strLine, index) => (<div key={index}>{strLine}<br /></div>));\r\n            } else {\r\n                return cell;\r\n            }\r\n        }\r\n    }, {\r\n        dataField: 'action_delete',\r\n        isDummyField: true,\r\n        editable: false,\r\n        text: \"\",\r\n        formatter: (cell, row) => {\r\n            return (\r\n                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDocDeleteRow(row.serialNo))} />\r\n                </IconContext.Provider>\r\n            );\r\n        }\r\n    }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                                        <p>To be approved by:</p>\r\n                                        <p>Form name</p>\r\n                                    </div>\r\n                                    <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input placeholder=\"Form Name\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* WYSIWYG editor section */}\r\n                                <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                                    <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                    {/* Insert wysiwyg editor here */}\r\n                                    <Editor\r\n                                        editorState={editorState}\r\n                                        wrapperClassName=\"demo-wrapper\"\r\n                                        editorClassName=\"demo-editor\"\r\n                                        onEditorStateChange={setEditorState}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Table section */}\r\n                                <div className=\"c-Scope-of-QMS__Table\">\r\n                                    <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                                    <BootstrapTable\r\n                                        keyField='serialNo'\r\n                                        data={docEditTableData}\r\n                                        columns={docEditingColumns}\r\n                                        cellEdit={cellEditFactory({ mode: 'click', blurToSave: true })}\r\n                                    />\r\n                                    {/* Add row */}\r\n                                    <div className=\"c-Scope-of-QMS__Add-row\" onClick={handleDocAddRow}>\r\n                                        <h2>Add new row</h2>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSInactive;","import React from 'react';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst CompanyPolicyItem = ({\r\n    itemTitle,\r\n    itemContent,\r\n    itemIndex,\r\n    docType,\r\n    setDocEditTableData }) => { // start of CompanyPolicyItem\r\n\r\n    const renderEditItem = () => {\r\n        return (\r\n            <div className={(itemIndex + 1) % 2 === 0 ? \"l-Company-Policy-Item l-Company-Policy-Item--even\" : \"l-Company-Policy-Item l-Company-Policy-Item--odd\"}>\r\n                <div className=\"c-Company-Policy-Item\" >\r\n                    <div className=\"c-Company-Policy-Item__Top\">\r\n                        <input type=\"text\" name=\"title\" onChange={handleInputChange} value={itemTitle} />\r\n                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                            <RiIcons.RiDeleteBin7Line onClick={() => (handleDocDeleteRow(itemIndex + 1))} />\r\n                        </IconContext.Provider>\r\n                    </div>\r\n                    <textarea type=\"text\" name=\"content\" onChange={handleInputChange} value={itemContent}></textarea>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Handler for deleting row\r\n    const handleDocDeleteRow = (deleteRowSerialID) => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevDocTableData.filter((dataElem) => {\r\n                return dataElem.serialNo !== deleteRowSerialID;\r\n            });\r\n\r\n            // Update serial no.\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1\r\n                });\r\n            })\r\n\r\n            return formattedDocTableData;\r\n        });\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => {\r\n            return prevState.map((data, index) => {\r\n                if (itemIndex === index) {\r\n                    return {\r\n                        ...data,\r\n                        [event.target.name]: event.target.value\r\n                    }\r\n                }\r\n                return data;\r\n            });\r\n        });\r\n    }\r\n\r\n    const renderItem = () => {\r\n        return (\r\n            <div className={(itemIndex + 1) % 2 === 0 ? \"l-Company-Policy-Item l-Company-Policy-Item--even\" : \"l-Company-Policy-Item l-Company-Policy-Item--odd\"}>\r\n                <div className=\"c-Company-Policy-Item\" >\r\n                    <h1>{itemTitle ? itemTitle : \"Error\"}</h1>\r\n                    <p>{itemContent ? itemContent : \"itemContent\"}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                docType === \"editing\" ?\r\n                    renderEditItem()\r\n                    :\r\n                    renderItem()\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyItem;","import React from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of CompanyPolicyActive\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* Map through an array to display CompanyPolicyItem */}\r\n                {docTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                    />\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyActive;","import React, {useState, useEffect} from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyPending = ({\r\n    docPendingTableData, \r\n    setDocPendingTableData,\r\n    docPendingHeaderData, \r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns, \r\n    docKeyfield}) => { // start of CompanyPolicyPending.js\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {/* TBC: map through an array to display CompanyPolicyItem */}\r\n                {docPendingTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                    />\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyPending;","import React, { useState, useEffect } from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of CompanyPolicyActive\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    // State declaration\r\n    const [approverList, setApproverList] = useState([]);\r\n    useEffect(() => {\r\n        setDocEditTableData(() => [...docTableData]);\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                title: \"Enter Input\",\r\n                content: \"Enter input Test\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-Company-Policy__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Company policy cards section */}\r\n            <div className=\"c-Company-Policy__Cards\">\r\n                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                {docEditTableData.map((data, index) => (\r\n                    <CompanyPolicyItem\r\n                        key={index}\r\n                        itemTitle={data.title}\r\n                        itemContent={data.content}\r\n                        itemIndex={index}\r\n                        docType=\"editing\"\r\n                        setDocEditTableData={setDocEditTableData}\r\n                    />\r\n                ))\r\n                }\r\n                {/* Add row */}\r\n                <div className=\"c-Company-Policy__Add-row\" onClick={handleDocAddRow}>\r\n                    <h2>Add new row</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyEditing;","import React from 'react';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\n\r\nconst CompanyPolicyRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n    docColumns, \r\n    docKeyfield}) => {  // Start of CompanyPolicyRejected\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n        {/* Title */}\r\n        <h1 className = \"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n        {/* Document Header Info */}\r\n        <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n            <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                <p>To be approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n            </div>\r\n            <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n            </div>\r\n        </div>\r\n        {/* Company policy cards section */}\r\n        <div className=\"c-Company-Policy__Cards\">\r\n            <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n            {/* TBC: map through an array to display CompanyPolicyItem */}\r\n            {docRejectedTableData.map((data, index) => (\r\n                <CompanyPolicyItem\r\n                    key={index}\r\n                    itemTitle={data.title}\r\n                    itemContent={data.content}\r\n                    itemIndex={index}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyRejected;","import React, { useState, useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => ([{\r\n            serialNo: 1,\r\n            title: \"Enter Input\",\r\n            content: \"Enter input Test\"\r\n        }]));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for adding row to document\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevDocTableData) => {\r\n            let newDocTableData = [...prevDocTableData, {\r\n                serialNo: prevDocTableData.length + 1,\r\n                title: \"Enter Input\",\r\n                content: \"Enter input Test\"\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                <div className=\"l-Company-Policy__Document-title\">\r\n                                    <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Company policy cards section */}\r\n                                <div className=\"c-Company-Policy__Cards\">\r\n                                    <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                    {docEditTableData.map((data, index) => (\r\n                                        <CompanyPolicyItem\r\n                                            key={index}\r\n                                            itemTitle={data.title}\r\n                                            itemContent={data.content}\r\n                                            itemIndex={index}\r\n                                            docType=\"editing\"\r\n                                            setDocEditTableData={setDocEditTableData}\r\n                                        />\r\n                                    ))\r\n                                    }\r\n                                    {/* Add row */}\r\n                                    <div className=\"c-Company-Policy__Add-row\" onClick={handleDocAddRow}>\r\n                                        <h2>Add new row</h2>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicyInactive;","import React, { useState, useEffect } from 'react';\r\n\r\nconst RiskNOppItem = ({\r\n    docType,\r\n    rnoType,\r\n    rnoItemData,\r\n    rnoItemIndex,\r\n    docEditTableData,\r\n    setDocEditTableData\r\n}) => { // start of RiskNOppItem\r\n\r\n    const [optionsColorTheme, setOptionsColorTheme] = useState({\r\n        type: \"c-RNO-item__Options-item\",\r\n        severity: \"c-RNO-item__Options-item\",\r\n        likelihood: \"c-RNO-item__Options-item\",\r\n    }); // State for handling the risk evaluation sections\r\n    const [rpn, setRpn] = useState();\r\n\r\n    useEffect(() => {\r\n        let type = optionsColorTheme.type;\r\n        let severity = optionsColorTheme.severity;\r\n        let likelihood = optionsColorTheme.likelihood;\r\n\r\n        // Check type\r\n        if (rnoItemData.type && rnoItemData.type === \"opportunity\") {\r\n            type = type + \" c-RNO-item__Options-item--green\";\r\n        } else if (rnoItemData.type && rnoItemData.type === \"risk\") {\r\n            type = type + \" c-RNO-item__Options-item--red\";\r\n        }\r\n\r\n        // Check severity\r\n        if (rnoItemData.severity && rnoItemData.severity === 1) {\r\n            severity = severity + \" c-RNO-item__Options-item--red\";\r\n        } else if (rnoItemData.severity && rnoItemData.severity === 5) {\r\n            severity = severity + \" c-RNO-item__Options-item--green\";\r\n        } else {\r\n\r\n        }\r\n\r\n        // Check likelihood\r\n        if (rnoItemData.likelihood && rnoItemData.likelihood === 1) {\r\n            likelihood = severity + \" c-RNO-item__Options-item--red\";\r\n        } else if (rnoItemData.likelihood && rnoItemData.likelihood === 5) {\r\n            likelihood = severity + \" c-RNO-item__Options-item--green\";\r\n        }\r\n\r\n        // Set rpn\r\n        if (docType === \"edit\" && rnoItemData.severity && rnoItemData.likelihood) {\r\n            setRpn(() => {\r\n                return rnoItemData.severity * rnoItemData.likelihood;\r\n            });\r\n        } else if (docType === \"edit\") {\r\n            setRpn(() => {\r\n                return null;\r\n            });\r\n        } else {\r\n            setRpn(() => (rnoItemData.rpn))\r\n        }\r\n\r\n        // Set the classnames to get the color~~~ \r\n        setOptionsColorTheme(() => ({\r\n            type,\r\n            severity,\r\n            likelihood\r\n        }));\r\n    }, [rnoItemData]);\r\n\r\n    // This function is for formatting the options integer value to a human readable string\r\n    const renderOptions = () => {\r\n        const type = rnoItemData.type;\r\n        let severity = null;\r\n        let likelihood = null;\r\n\r\n        // Format severity\r\n        switch (rnoItemData.severity) {\r\n            case 1: {\r\n                severity = \"Negligible\";\r\n                break;\r\n            }\r\n            case 2: {\r\n                severity = \"Minor\";\r\n                break;\r\n            }\r\n            case 3: {\r\n                severity = \"Moderate\";\r\n                break;\r\n            }\r\n            case 4: {\r\n                severity = \"Major\";\r\n                break;\r\n            }\r\n            case 5: {\r\n                severity = \"Catastrophic\";\r\n                break;\r\n            }\r\n            default: {\r\n                severity = \"Nil\";\r\n                break;\r\n            }\r\n        }\r\n        // Format likelihood\r\n        switch (rnoItemData.likelihood) {\r\n            case 1: {\r\n                likelihood = \"Rare\";\r\n                break;\r\n            }\r\n            case 2: {\r\n                likelihood = \"Remote\";\r\n                break;\r\n            }\r\n            case 3: {\r\n                likelihood = \"Occasional\";\r\n                break;\r\n            }\r\n            case 4: {\r\n                likelihood = \"Frequent\";\r\n                break;\r\n            }\r\n            case 5: {\r\n                likelihood = \"Almost Certain\";\r\n                break;\r\n            }\r\n            default: {\r\n                likelihood = \"Nil\";\r\n                break;\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <>\r\n                <span className={optionsColorTheme.type}>{type || \"Nil\"}</span>\r\n                <span className={optionsColorTheme.severity}>{severity}</span>\r\n                <span className={optionsColorTheme.likelihood}>{likelihood}</span>\r\n            </>\r\n        )\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderEditOptions = () => {\r\n        if (docEditTableData.length !== 0) {\r\n            return (\r\n                <>\r\n                    {/* Opportunity / Risk */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].type || ''} name=\"type\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value=\"risk\">Risk</option>\r\n                        <option value=\"opportunity\">Opportunity</option>\r\n                    </select>\r\n                    {/* Severity Categories */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].severity || ''} name=\"severity\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value={1}>Negligible</option>\r\n                        <option value={2}>Minor</option>\r\n                        <option value={3}>Moderate</option>\r\n                        <option value={4}>Major</option>\r\n                        <option value={5}>Catastrophic</option>\r\n                    </select>\r\n                    {/* Likelihood Categories and description */}\r\n                    <select value={docEditTableData[rnoType][rnoItemIndex].likelihood || ''} name=\"likelihood\" onChange={handleSelectChange}>\r\n                        <option value=\"na\">Nil</option>\r\n                        <option value={1}>Rare</option>\r\n                        <option value={2}>Remote</option>\r\n                        <option value={3}>Occasional</option>\r\n                        <option value={4}>Frequent</option>\r\n                        <option value={5}>Almost Certain</option>\r\n                    </select>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    // Handle changes for select elements\r\n    const handleSelectChange = (event) => {\r\n        let newSelectValue = event.target.value;\r\n        let toBeMultipliedWithNewSelectValue;\r\n\r\n        // If the select input's name is not \"type\", change it to int type\r\n        if (event.target.name !== \"type\") {\r\n            newSelectValue = parseInt(newSelectValue);\r\n            if (event.target.name === \"likelihood\") {\r\n                toBeMultipliedWithNewSelectValue = rnoItemData.severity;\r\n            } else if (event.target.name === \"severity\") {\r\n                toBeMultipliedWithNewSelectValue = rnoItemData.likelihood;\r\n            }\r\n        }\r\n\r\n        setDocEditTableData((prevState) => ({\r\n            ...prevState,\r\n            [rnoType]: (() => ( // rnoType can be strength, weakness, opp, or threat\r\n                prevState[rnoType].map((data, index) => {\r\n                    if (rnoItemIndex === index) {\r\n                        return {\r\n                            ...data,\r\n                            [event.target.name]: newSelectValue,\r\n                            rpn: (() => {\r\n                                if (event.target.name !== \"type\") {\r\n                                    return newSelectValue * toBeMultipliedWithNewSelectValue\r\n                                } else {\r\n                                    return data.rpn\r\n                                }\r\n                            })()\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            ))()\r\n        }));\r\n        setRpn(() => {\r\n            return docEditTableData[rnoType][rnoItemIndex].severity * docEditTableData[rnoType][rnoItemIndex].likelihood;\r\n        });\r\n    }\r\n\r\n    // Handle for input change\r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => ({\r\n            ...prevState,\r\n            [rnoType]: (() => ( // rnoType can be strength, weakness, opp, or threat\r\n                prevState[rnoType].map((data, index) => {\r\n                    if (rnoItemIndex === index) {\r\n                        return {\r\n                            ...data,\r\n                            [event.target.name]: event.target.value\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            ))()\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderActionPlanEdit = () => {\r\n        if (rpn < 12 || rpn === null) {\r\n            return (\r\n                <>\r\n                    <label htmlFor=\"action\">Action Plan:</label>\r\n                    <input type=\"text\" name=\"action\" readOnly placeholder = \"Rpn < 12\" value=\"\" />\r\n                </>\r\n            );\r\n        } else if (docEditTableData.length !== 0) {\r\n            return (\r\n                <>\r\n                    <label htmlFor=\"action\">Action Plan:</label>\r\n                    <input type=\"text\" name=\"action\" onChange={handleInputChange} value={rnoItemData.action || ''} />\r\n                </>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"l-RNO-item\">\r\n            <div className=\"c-RNO-item\">\r\n                {/* Options */}\r\n                <div className=\"l-RNO-item__Options\">\r\n                    <div className=\"c-RNO-item__Options c-RNO-item__Options--left\">\r\n                        {docType === \"edit\" ? // to be changed to if edit\r\n                            renderEditOptions()\r\n                            :\r\n                            renderOptions()\r\n                        }\r\n                    </div>\r\n                    {/* RPN */}\r\n                    <div className=\"c-RNO-item__Options c-RNO-item__Options--right\">\r\n                        <p>RPN: {rpn ? rpn : \"Nil\"}</p>\r\n                        {/* Last modified */}\r\n                        <p>Modified: {rnoItemData.modified ? rnoItemData.modified : \"Nil\"}</p>\r\n                    </div>\r\n                </div>\r\n                {/* Swot content */}\r\n                <div className=\"c-RNO-item__SWOT\">\r\n                    <p>{rnoItemIndex + 1}</p>\r\n                    <p>{rnoItemData.content}</p>\r\n                </div>\r\n                {/* Action plan */}\r\n                <div className=\"c-RNO-item__Action-plan\">\r\n                    {\r\n                        docType === \"edit\" ? // to be changed to if edit\r\n                            renderActionPlanEdit()\r\n                            :\r\n                            <p>Action Plan: {rnoItemData.action ? rnoItemData.action : \"Nil\"}</p>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default RiskNOppItem;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield }) => {   // start of RiskNOppActive\r\n    return (\r\n     \r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docTableData.strength.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docTableData.weakness.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docTableData.opp.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docTableData.threat.map((strengthData, index) => {\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppActive;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppPending = ({\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    docTableData,\r\n    docColumns,\r\n}) => { // start of RiskNOppPending\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docPendingTableData.strength.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docPendingTableData.weakness.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docPendingTableData.opp.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docPendingTableData.threat.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"active\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppPending;","import React, { useState, useEffect } from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\nimport axios from 'axios';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RiskNOppEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData\r\n}) => {     // start of RiskNOppEditing\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApprovalList] = useState([]);\r\n    const userDisplayName =decodedToken.display_name;\r\n    useEffect(() => {\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n\r\n        setDocEditTableData(() => (docTableData));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approvalListData = res.data.results;\r\n                setApprovalList(() => {\r\n                    if (approvalListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approvalListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docTableData]);\r\n\r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-RNO__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>To be Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || 'Error'} />\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.strength.map((strengthData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"strength\"\r\n                            rnoItemData={strengthData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Weakness</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.weakness.map((weaknessData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"weakness\"\r\n                            rnoItemData={weaknessData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.opp.map((oppData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"opp\"\r\n                            rnoItemData={oppData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n                <h1>Threats</h1>\r\n                {docEditTableData.length !== 0 ? docEditTableData.threat.map((threatData, index) => {\r\n                    return (\r\n                        <RiskNOppItem\r\n                            key={index}\r\n                            docType=\"edit\"\r\n                            rnoType=\"threat\"\r\n                            rnoItemData={threatData}\r\n                            rnoItemIndex={index}\r\n                            docEditTableData={docEditTableData}\r\n                            setDocEditTableData={setDocEditTableData}\r\n                        />\r\n                    );\r\n                })\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        </div>\r\n    \r\n    );\r\n}\r\n\r\nexport default RiskNOppEditing;","import React from 'react';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\n\r\nconst RiskNOppRejected = ({\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n}) => { // start of RiskNOppRejected\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className=\"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : null}</h1>\r\n            {/* Document Header info */}\r\n            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                    <p>Rejected By:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                    <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"}\r\n                </div>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-RNO__Table\">\r\n                <h1>Strengths</h1>\r\n                {\r\n                    docRejectedTableData.strength.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Weakness</h1>\r\n                {\r\n                    docRejectedTableData.weakness.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Opportunities</h1>\r\n                {\r\n                    docRejectedTableData.opp.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n                <h1>Threats</h1>\r\n                {\r\n                    docRejectedTableData.threat.map((strengthData, index) => {\r\n                        console.log(strengthData);\r\n                        return (\r\n                            <RiskNOppItem\r\n                                key={index}\r\n                                docType=\"rejected\"\r\n                                rnoItemData={strengthData}\r\n                                rnoItemIndex={index}\r\n                            />\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RiskNOppRejected;","import React, { useState, useEffect } from 'react';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RiskNOppInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(docTableData);\r\n        setDocEditTableData(() => (docTableData));\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    return (\r\n        <div className=\"c-RNO__Document-content c-Document\">\r\n            {/* Header */}\r\n            <div className=\"c-Document__New\">\r\n                <h1>There are no existing swot documents</h1>\r\n                <p>Please proceed by having an active swot documents first</p>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default RiskNOppInactive;","import React, { useState, useRef } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { docObjAchivProgramFilesColumns } from '../config/tableColumns';\r\nimport { toast } from 'react-toastify';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport axios from 'axios';\r\nimport { getToken } from '../utilities/localStorageUtils';\r\nimport FileDownload from 'js-file-download';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ObjAchivProgramItem = ({\r\n    docType,\r\n    itemContent,\r\n    setDocEditTableData,\r\n    itemIndex,\r\n    docEditHeaderData,\r\n    docEditTableData,\r\n    tempFileArr,\r\n    setTempFileArr,\r\n    personelResponsibleList\r\n}) => {\r\n\r\n    const fileRef = useRef();\r\n    const token = TokenManager.getToken();\r\n    const [fileUploadInProgress, setFileUploadInProgress] = useState(false);\r\n\r\n    const docObjAchivProgramFilesEditableColumns = [\r\n        {\r\n            dataField: 'fk_file_id',\r\n            text: 'fileID',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'file_name',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                        <RiIcons.RiDeleteBin7Line onClick={() => (handleDeleteFile(row.serialNo))} />\r\n                    </IconContext.Provider>\r\n                );\r\n            }\r\n        }\r\n    ];\r\n\r\n    const docObjAchivProgramFilesColumns = [\r\n        {\r\n            dataField: 'fk_file_id',\r\n            text: 'fileID',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'file_name',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'action_download',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <button key={cell} onClick={() => handleFileDownload(row.fk_file_id, row.file_name)} className=\"c-Btn c-Btn--link\">Download</button>\r\n            }\r\n        }\r\n    ];\r\n\r\n    // Handle file download\r\n    const handleFileDownload = (fileID, fileName) => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${fileID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n            responseType: 'blob'\r\n        })\r\n            .then((res) => {\r\n                FileDownload(res.data, fileName);\r\n                toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    const renderTopEditDetails = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Top c-Top__Left\">\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"function\">Function:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"function\" value={itemContent.function || ''}></textarea>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"quality_objective\">Quality Objectives:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"quality_objective\" value={itemContent.quality_objective || ''} ></textarea>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <label htmlFor=\"personel_responsible\">Personel Responsible:</label>\r\n                        <select type=\"text\" name=\"personel_responsible\" onChange = {handleInputChange} value={itemContent.personel_responsible || ''}>\r\n                            <option>{!personelResponsibleList ? \"No roles found\" : \"Please select a role\"}</option>\r\n                            {\r\n                                !personelResponsibleList ? null : personelResponsibleList.map((prData, prIndex) => (\r\n                                    <option key={prIndex} value={prData.role_id}>\r\n                                        {prData.name}\r\n                                    </option>\r\n                                ))\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top c-Top__Right\">\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <label htmlFor=\"data_collection\">Collecting / Measuring Data:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"data_collection\" value={itemContent.data_collection || ''}></textarea>\r\n                    </div>\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <label htmlFor=\"data_analysis\">Analysing Data:</label>\r\n                        <textarea placeholder=\"Enter input\" type=\"text\" onChange={handleInputChange} name=\"data_analysis\" value={itemContent.data_analysis || ''}></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top__Delete\">\r\n                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                        <RiIcons.RiDeleteBin7Line onClick={() => (handleDocDeleteRow(itemIndex + 1))} />\r\n                    </IconContext.Provider>\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    };\r\n\r\n    const renderTopDetails = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Top c-Top__Left\">\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Function:</h1>\r\n                        <p>{itemContent.function || 'Nil'} </p>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Quality Objectives:</h1>\r\n                        <p>{itemContent.quality_objective || 'Nil'}</p>\r\n                    </div>\r\n                    <div className=\"c-Left c-Input-group\">\r\n                        <h1>Personel Responsible:</h1>\r\n                        <p>{itemContent.role && itemContent.role.name || 'Nil'}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"c-Top c-Top__Right\">\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <h1>Collecting / Measuring Data:</h1>\r\n                        <p>{itemContent.data_collection || 'Nil'}</p>\r\n                    </div>\r\n                    <div className=\"c-Right c-Input-group\">\r\n                        <h1>Analysing Data:</h1>\r\n                        <p>{itemContent.data_analysis || 'Nil'}</p>\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    // Handle input change\r\n    const handleInputChange = (event) => {\r\n        setDocEditTableData((prevState) => {\r\n            return prevState.map((data, index) => {\r\n                if (itemIndex === index) {\r\n                    return {\r\n                        ...data,\r\n                        [event.target.name]: event.target.value\r\n                    }\r\n                }\r\n                return data;\r\n            });\r\n        })\r\n    };\r\n\r\n    // Handler for deleting row \r\n    const handleDocDeleteRow = () => {\r\n        let formattedTempFileArr = [];\r\n        // Reset docEditTableData\r\n        setDocEditTableData((prevState) => {\r\n            // Remove deleted row from data array\r\n            let newDocTableData = prevState.filter((dataElem) => {\r\n                return dataElem.serialNo !== (itemIndex + 1);\r\n            });\r\n            // Update serial no. and files array\r\n            let formattedDocTableData = newDocTableData.map((dataElem, index) => {\r\n                return ({\r\n                    ...dataElem,\r\n                    serialNo: index + 1,\r\n                    files: (() => {\r\n                        return dataElem.files.map((fileData, fileIndex) => {\r\n                            // if there are files\r\n                            if (dataElem.files.length !== 0) {\r\n                                // If files is new\r\n                                if (fileData.new) {\r\n                                    formattedTempFileArr.push({\r\n                                        ...fileData,\r\n                                        serialNo: fileIndex + 1,\r\n                                        key: `files_${itemIndex}_${dataElem.files.length}`\r\n                                    })\r\n                                    return {\r\n                                        ...fileData,\r\n                                        serialNo: fileIndex + 1,\r\n                                        key: `files_${itemIndex}_${dataElem.files.length}`\r\n                                    }\r\n                                } else {\r\n                                    return fileData;\r\n                                }\r\n\r\n                            } else {\r\n                                return fileData;\r\n                            }\r\n                        });\r\n\r\n                    })()\r\n                });\r\n            });\r\n            return formattedDocTableData;\r\n        });\r\n\r\n        // Reset temp file array\r\n        setTempFileArr(() => {\r\n            return formattedTempFileArr;\r\n        });\r\n    };\r\n\r\n    // Handle files input change\r\n    const handleFilesInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        // if else is to prevent users from submitting multiple files everytime they click on choose file\r\n        if (fileUploadInProgress) {\r\n            setTempFileArr((prevState) => {\r\n                return prevState.map((data, index) => {\r\n                    if (data.itemIndex === itemIndex) {\r\n                        return {\r\n                            fileObj: fileObj,\r\n                            itemIndex: itemIndex,\r\n                            name: fileObj.name,\r\n                            key: `files_${itemIndex}_${docEditTableData[itemIndex].files.length + 1}`\r\n                        }\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                });\r\n            })\r\n        } else {\r\n            setFileUploadInProgress(() => true);\r\n            setTempFileArr((prevState) => {\r\n                return [\r\n                    ...prevState,\r\n                    {\r\n                        fileObj: fileObj,\r\n                        itemIndex: itemIndex,\r\n                        name: fileObj.name,\r\n                        key: `files_${itemIndex}_${docEditTableData[itemIndex].files.length + 1}`\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    // Handle delete file\r\n    const handleDeleteFile = (fileSerialNo) => {\r\n        let formattedTempFileArr = [];\r\n        console.log(fileSerialNo);\r\n        setDocEditTableData((prevState) => {\r\n\r\n            return prevState.map((data, index) => {\r\n                return {\r\n                    ...data,\r\n                    files: (() => {\r\n                        // Filter out the remaining files\r\n                        const newFileArr = data.files.filter((innerData, innerIndex) => {\r\n                            if ((itemIndex + 1) === data.serialNo) {\r\n                                return fileSerialNo !== innerData.serialNo;\r\n                            } else {\r\n                                return innerData;\r\n                            }\r\n                        });\r\n                        console.log(newFileArr);\r\n                        // Format the new files\r\n                        const formattedFileArr = newFileArr.map((newData, newIndex) => {\r\n                            // if there are files\r\n                            if (data.files.length !== 0) {\r\n                                // If files is new\r\n                                if (newData.new) {\r\n                                    formattedTempFileArr.push({\r\n                                        ...newData,\r\n                                        serialNo: newIndex + 1,\r\n                                        key: `files_${index}_${newFileArr.length}`\r\n                                    })\r\n                                    return {\r\n                                        ...newData,\r\n                                        serialNo: newIndex + 1,\r\n                                        key: `files_${index}_${newFileArr.length}`\r\n                                    }\r\n                                } else {\r\n                                    return newData;\r\n                                }\r\n\r\n                            } else {\r\n                                return newData;\r\n                            }\r\n\r\n                        });\r\n                        return formattedFileArr;\r\n                    })()\r\n                }\r\n            });\r\n        });\r\n        setTempFileArr((prevState) => {\r\n            return formattedTempFileArr;\r\n        });\r\n    };\r\n\r\n\r\n    // Handle upload file\r\n    const handleFileUploadBtn = () => {\r\n\r\n        // Check if there are files uploaded\r\n        if (fileRef.current.value !== \"\") {\r\n            // reset file input value\r\n            fileRef.current.value = \"\";\r\n            let threeFilesAlready = false;\r\n            // check if there's already 3 files\r\n            docEditTableData.forEach((data, index) => {\r\n                if (itemIndex === index) {\r\n                    if (data.files.length === 3) {\r\n                        threeFilesAlready = true;\r\n                    }\r\n                }\r\n            });\r\n            if (threeFilesAlready) {\r\n                toast.error(<>Error!<br />Message: <b>Maximum of 3 files per item!</b></>);\r\n            } else {\r\n                setDocEditTableData((prevState) => {\r\n                    return prevState.map((data, index) => {\r\n                        if (itemIndex === index) {\r\n                            if (data.files.length === 0) {\r\n                                return {\r\n                                    ...data,\r\n                                    files: [\r\n                                        {\r\n                                            serialNo: 1,\r\n                                            new: true,\r\n                                            fileObj: (() => {\r\n                                                let toBeReturnedFileObj = {};\r\n                                                console.log(data.files.length);\r\n                                                tempFileArr.forEach((innerData, innerIndex) => {\r\n                                                    if (data.key === `files_${itemIndex}_${data.files.length + 1}`) {\r\n                                                        toBeReturnedFileObj = innerData.fileObj;\r\n                                                    }\r\n                                                });\r\n                                                return toBeReturnedFileObj;\r\n                                            })(),\r\n                                            name: tempFileArr[tempFileArr.length - 1].name,\r\n                                            key: `files_${itemIndex}_${data.files.length + 1}`,\r\n                                            file_name: tempFileArr[tempFileArr.length - 1].name\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            } else {\r\n                                return {\r\n                                    ...data,\r\n                                    files: [\r\n                                        ...data.files,\r\n                                        {\r\n                                            serialNo: data.files.length + 1,\r\n                                            new: true,\r\n                                            fileObj: (() => {\r\n                                                let toBeReturnedFileObj = {};\r\n                                                tempFileArr.forEach((innerData, innerIndex) => {\r\n                                                    if (data.key === `files_${itemIndex}_${data.files.length + 1}`) {\r\n                                                        toBeReturnedFileObj = data.fileObj;\r\n                                                    }\r\n                                                });\r\n                                                return toBeReturnedFileObj;\r\n                                            })(),\r\n                                            name: tempFileArr[tempFileArr.length - 1].name,\r\n                                            key: `files_${itemIndex}_${data.files.length + 1}`,\r\n                                            file_name: tempFileArr[tempFileArr.length - 1].name\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            }\r\n                        }\r\n                        return data;\r\n                    })\r\n                });\r\n            }\r\n\r\n        } else {\r\n            toast.error(<>Error!<br />Message: <b>Please select a file!</b></>);\r\n        }\r\n        setFileUploadInProgress(() => false);\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"l-Obj-Achiv-Program-item\">\r\n            <div className=\"c-Obj-Achiv-Program-item\">\r\n                <div className=\"c-Obj-Achiv-Program-item__Top\">\r\n                    {docType === \"edit\" ?\r\n                        renderTopEditDetails()\r\n                        :\r\n                        renderTopDetails()\r\n                    }\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program-item__Table\">\r\n                    <h1>Data tracking information</h1>\r\n                    {/* Table section */}\r\n                    {\r\n                        docType === \"edit\" ?\r\n                            <form className=\"c-Table__Add-files\">\r\n                                <div className=\"c-Add-files__Left\">\r\n                                    <input type=\"file\" name=\"file\" onChange={handleFilesInputChange} ref={fileRef} />\r\n                                </div>\r\n                                <div className=\"c-Add-files__Right\">\r\n                                    <button onClick={handleFileUploadBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload</button>\r\n                                </div>\r\n                            </form>\r\n                            :\r\n                            null\r\n                    }\r\n                    {\r\n                        docType === \"edit\" ?\r\n                            itemContent.files.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={itemContent.files}\r\n                                    columns={docObjAchivProgramFilesEditableColumns}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                            :\r\n                            itemContent.data.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={itemContent.data}\r\n                                    columns={docObjAchivProgramFilesColumns}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramItem;","import React, { useState, useEffect } from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\nconst ObjAchivProgramActive = ({\r\n    docHeaderData,\r\n    docTableData,\r\n    docColumns,\r\n    docKeyfield\r\n}) => { // start of ObjAchivProgramActive\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                    <p>Approved on:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"active\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ObjAchivProgramActive;","import React from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\nconst ObjAchivProgramPending = ({\r\n    docPendingTableData,\r\n    docPendingHeaderData\r\n}) => { // start of ObjAchivProgramPending.js\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docPendingHeaderData.title ? docPendingHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>To be approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <p>{docPendingHeaderData.approved_by ? docPendingHeaderData.approved_by : \"Error\"}</p>\r\n                    <p>{docPendingHeaderData.created_by ? docPendingHeaderData.created_by : \"Error\"}</p>                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docPendingTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"pending\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramPending;","import React, { useState, useEffect } from 'react';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ObjAchivProgramEditing = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyField,\r\n    tempFileArr,\r\n    setTempFileArr\r\n}) => {     // start of ObjAchivProgramEditing\r\n\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const [approverList, setApproverList] = useState([]);\r\n    \r\n    const [personelResponsibleList, setPersonelResponsibleList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => ({\r\n                ...data,\r\n                files: (() => {\r\n                    console.log(data);\r\n                    return data.data.map((fileData, fileIndex) => {\r\n                        console.log(fileData);\r\n                        return {\r\n                            ...fileData.file,\r\n                            new: false,\r\n                            serialNo: fileIndex + 1\r\n                        }  \r\n                    });\r\n                })()\r\n            }));\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            ...docHeaderData,\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        setTempFileArr(() => []);\r\n        // Do axios call to find out the company roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {   \r\n            console.log(res);\r\n            setPersonelResponsibleList(() => {\r\n                return res.data.results.map((data, index) => {\r\n                    return data;\r\n                });\r\n            });\r\n            console.log(personelResponsibleList);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        });\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                setApproverList(() => {\r\n                    if (approverListData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return approverListData.map((acc) => ({\r\n                        displayName: `${acc.firstname} ${acc.lastname}`,\r\n                        username: `@${acc.account.username}`,\r\n                        approvalID: acc.employee_id\r\n                    }));\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n\r\n    }, [docHeaderData, docTableData]);\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // add new role\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevState) => {\r\n            let newDocTableData = [...prevState, {\r\n                serialNo: prevState.length + 1,\r\n                function: \"\",\r\n                quality_objective: \"\",\r\n                personel_responsible: undefined,\r\n                data: [],\r\n                files: [],\r\n                data_collection: \"\",\r\n                data_analysis: \"\",\r\n                display_order: prevState.length + 1\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <div className=\"l-Obj-Achiv-Program__Document-title\">\r\n                <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n            </div>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                    <p>Approved by:</p>\r\n                    <p>Submitted by:</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                    <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                        <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                        {!approverList ? null : approverList.map((approver, index) => (\r\n                            <option key={index} value={approver.approvalID}>\r\n                                {approver.displayName}  {approver.username}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docEditTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"edit\"\r\n                    itemContent={data}\r\n                    itemIndex={index}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    docEditTableData={docEditTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                    personelResponsibleList={personelResponsibleList}\r\n                />\r\n            ))\r\n            }\r\n            {/* Add row */}\r\n            <div className=\"c-Obj-Achiv-Program__Add-row\" onClick={handleDocAddRow}>\r\n                <h2>Add new row</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramEditing;","import React from 'react';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\n\r\n\r\nconst ObjAchivProgramRejected = ({\r\n    docRejectedHeaderData, \r\n    docRejectedTableData, \r\n}) => { // start of ObjAchivProgramRejected\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {/* Title */}\r\n            <h1 className = \"c-Document__Title\">{docRejectedHeaderData.title ? docRejectedHeaderData.title : \"Failed to load data!\"}</h1>\r\n            {/* Document Header Info */}\r\n            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                <p>To be approved by:</p>\r\n                <p>Submitted by:</p>\r\n                <p>Remarks</p>\r\n                </div>\r\n                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Error\"}</p>\r\n                <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Error\"}</p>\r\n                {docRejectedHeaderData ? <textarea readOnly value = {docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\" }\r\n                </div>\r\n            </div>\r\n            {/* Map through an array to display ObjAchivProgramItem */}\r\n            {docRejectedTableData.map((data, index) => (\r\n                <ObjAchivProgramItem\r\n                    key={index}\r\n                    docType=\"active\"\r\n                    itemContent={data}\r\n                />\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramRejected;","import React, { useState, useEffect } from 'react';\r\nimport { getUserDisplayName, getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { TAB } from '../../config/enums';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\n\r\nconst ObjAchivProgramInactive = ({\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    docHeaderData,\r\n    docTableData,\r\n    docKeyfield,\r\n    tabSettings,\r\n    startNewDoc,\r\n    setStartNewDoc,\r\n    tempFileArr,\r\n    setTempFileArr }) => {\r\n\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userDisplayName = decodedToken.display_name;\r\n    const userID = decodedToken.employee_id;\r\n    const [personelResponsibleList, setPersonelResponsibleList] = useState([]);\r\n\r\n    // State declarations\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [isEditor, setIsEditor] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setDocEditTableData(() => {\r\n            return docTableData.map((data, index) => ({\r\n                ...data,\r\n                files: (() => {\r\n                    console.log(data);\r\n                    return data.data.map((fileData, fileIndex) => {\r\n                        console.log(fileData);\r\n                        return {\r\n                            ...fileData.file,\r\n                            new: false,\r\n                            serialNo: fileIndex + 1\r\n                        }\r\n                    });\r\n                })()\r\n            }));\r\n        });\r\n        setDocEditHeaderData(() => ({\r\n            submittedBy: `${userDisplayName}`\r\n        }));\r\n        setTempFileArr(() => []);\r\n        // Do axios call to find out the company roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.data.results !== undefined) {\r\n                    setPersonelResponsibleList(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return data;\r\n                        });\r\n                    });\r\n                }\r\n\r\n                console.log(personelResponsibleList);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        // Do axios call here to get approval list then set approved by who\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                const approverListData = res.data.results;\r\n                if (approverListData !== undefined) {\r\n                    setApproverList(() => {\r\n                        if (approverListData.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return approverListData.map((acc) => ({\r\n                            displayName: `${acc.firstname} ${acc.lastname}`,\r\n                            username: `@${acc.account.username}`,\r\n                            approvalID: acc.employee_id\r\n                        }));\r\n                    });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Do axios call here to get list of users who can edit the document\r\n        // Check if user can edit the document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsEditor(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [docHeaderData, docTableData]);\r\n\r\n    // Handle start new doc buttton\r\n    const handleStartNewDocBtn = () => {\r\n        setStartNewDoc(() => true);\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        console.log(event.target.value);\r\n        console.log(event.target.name);\r\n        setDocEditHeaderData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n    console.log(docEditHeaderData);\r\n\r\n    // add new role\r\n    const handleDocAddRow = () => {\r\n        setDocEditTableData((prevState) => {\r\n            let newDocTableData = [...prevState, {\r\n                serialNo: prevState.length + 1,\r\n                function: \"\",\r\n                quality_objective: \"\",\r\n                personel_responsible: undefined,\r\n                data: [],\r\n                files: [],\r\n                data_collection: \"\",\r\n                data_analysis: \"\",\r\n                display_order: prevState.length + 1\r\n            }];\r\n            return newDocTableData;\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n            {\r\n                tabSettings.secondTab === TAB.NULL ?\r\n                    isEditor ?\r\n                        !startNewDoc ?\r\n                            <>\r\n                                {/* Header */}\r\n                                <div className=\"c-Document__New\">\r\n                                    <h1>There are no existing documents</h1>\r\n                                    <button onClick={handleStartNewDocBtn} type=\"button\" className=\"c-Btn c-Btn--primary\">Start new document</button>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {/* Title */}\r\n                                <div className=\"l-Obj-Achiv-Program__Document-title\">\r\n                                    <input placeholder=\"Title\" type=\"text\" name=\"title\" onChange={handleInputChange} value={docEditHeaderData.title || ''} />\r\n                                </div>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                    </div>\r\n                                    <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                                        <select type=\"text\" name=\"approvedBy\" onChange={handleInputChange} value={docEditHeaderData.approvedBy || ''}>\r\n                                            <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                            {!approverList ? null : approverList.map((approver, index) => (\r\n                                                <option key={index} value={approver.approvalID}>\r\n                                                    {approver.displayName}  {approver.username}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <input type=\"text\" readOnly name=\"submittedBy\" value={docEditHeaderData.submittedBy || ''} />\r\n                                    </div>\r\n                                </div>\r\n                                {/* Map through an array to display ObjAchivProgramItem */}\r\n                                {docEditTableData.map((data, index) => (\r\n                                    <ObjAchivProgramItem\r\n                                        key={index}\r\n                                        docType=\"edit\"\r\n                                        itemContent={data}\r\n                                        itemIndex={index}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        docEditTableData={docEditTableData}\r\n                                        tempFileArr={tempFileArr}\r\n                                        setTempFileArr={setTempFileArr}\r\n                                        personelResponsibleList={personelResponsibleList}\r\n                                    />\r\n                                ))\r\n                                }\r\n                                {/* Add row */}\r\n                                <div className=\"c-Obj-Achiv-Program__Add-row\" onClick={handleDocAddRow}>\r\n                                    <h2>Add new row</h2>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        <>\r\n                            <div className=\"c-Document__New\">\r\n                                <h1>There are no existing documents</h1>\r\n                                <p>You do not have permission to start new documents</p>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                    <div className=\"c-Document__New\">\r\n                        <h1>There is one pending/rejected document</h1>\r\n                        <p>Please proceed by resolving the pending/rejected document</p>\r\n                    </div>\r\n\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramInactive;","import React from 'react';\r\nimport { TAB } from '../config/enums';\r\nimport InterestedPartyActive from '../pages/InterestedParty/InterestedPartyActive';\r\nimport InterestedPartyPending from '../pages/InterestedParty/InterestedPartyPending';\r\nimport InterestedPartyEditing from '../pages/InterestedParty/InterestedPartyEditing';\r\nimport InterestedPartyRejected from '../pages/InterestedParty/InterestedPartyRejected';\r\nimport InterestedPartyInactive from '../pages/InterestedParty/InterestedPartyInactive';\r\nimport SWOTActive from '../pages/Swot/SwotActive';\r\nimport SWOTPending from '../pages/Swot/SwotPending';\r\nimport SWOTEditing from '../pages/Swot/SwotEditing';\r\nimport SWOTRejected from '../pages/Swot/SwotRejected';\r\nimport SWOTInactive from '../pages/Swot/SwotInactive';\r\nimport ScopeOfQMSActive from '../pages/ScopeOfQMS/ScopeOfQMSActive';\r\nimport ScopeOfQMSPending from '../pages/ScopeOfQMS/ScopeOfQMSPending';\r\nimport ScopeOfQMSEditing from '../pages/ScopeOfQMS/ScopeOfQMSEditing';\r\nimport ScopeOfQMSRejected from '../pages/ScopeOfQMS/ScopeOfQMSRejected';\r\nimport ScopeOfQMSInactive from '../pages/ScopeOfQMS/ScopeOfQMSInactive';\r\nimport CompanyPolicyActive from '../pages/CompanyPolicy/CompanyPolicyActive';\r\nimport CompanyPolicyPending from '../pages/CompanyPolicy/CompanyPolicyPending';\r\nimport CompanyPolicyEditing from '../pages/CompanyPolicy/CompanyPolicyEditing';\r\nimport CompanyPolicyRejected from '../pages/CompanyPolicy/CompanyPolicyRejected';\r\nimport CompanyPolicyInactive from '../pages/CompanyPolicy/CompanyPolicyInactive';\r\nimport RiskNOppActive from '../pages/RiskNOpp/RiskNOppActive';\r\nimport RiskNOppPending from '../pages/RiskNOpp/RiskNOppPending';\r\nimport RiskNOppEditing from '../pages/RiskNOpp/RiskNOppEditing';\r\nimport RiskNOppRejected from '../pages/RiskNOpp/RiskNOppRejected';\r\nimport RiskNOppInactive from '../pages/RiskNOpp/RiskNOppInactive';\r\nimport ObjAchivProgramActive from '../pages/ObjAchivProgram/ObjAchivProgramActive';\r\nimport ObjAchivProgramPending from '../pages/ObjAchivProgram/ObjAchivProgramPending';\r\nimport ObjAchivProgramEditing from '../pages/ObjAchivProgram/ObjAchivProgramEditing';\r\nimport ObjAchivProgramRejected from '../pages/ObjAchivProgram/ObjAchivProgramRejected';\r\nimport ObjAchivProgramInactive from '../pages/ObjAchivProgram/ObjAchivProgramInactive';\r\n\r\n\r\nconst RenderDocument = ({\r\n    tabSettings,\r\n    docHeaderData,\r\n    docTableData,\r\n    docPendingHeaderData,\r\n    docPendingTableData,\r\n    setDocPendingTableData,\r\n    docRejectedHeaderData,\r\n    docRejectedTableData,\r\n    docColumns,\r\n    docType,\r\n    docEditTableData,\r\n    setDocEditTableData,\r\n    docEditHeaderData,\r\n    setDocEditHeaderData,\r\n    editorState,\r\n    setEditorState,\r\n    tempFileArr,\r\n    setTempFileArr,\r\n    startNewDoc,\r\n    setStartNewDoc\r\n}) => { // start of RenderDocument function\r\n    const DOC_COMPONENT = {\r\n        swot: {\r\n            Active: SWOTActive,\r\n            Pending: SWOTPending,\r\n            Editing: SWOTEditing,\r\n            Rejected: SWOTRejected,\r\n            Inactive: SWOTInactive\r\n        },\r\n        interestedParty: {\r\n            Active: InterestedPartyActive,\r\n            Pending: InterestedPartyPending,\r\n            Editing: InterestedPartyEditing,\r\n            Rejected: InterestedPartyRejected,\r\n            Inactive: InterestedPartyInactive\r\n        },\r\n        scopeOfQMS: {\r\n            Active: ScopeOfQMSActive,\r\n            Pending: ScopeOfQMSPending,\r\n            Editing: ScopeOfQMSEditing,\r\n            Rejected: ScopeOfQMSRejected,\r\n            Inactive: ScopeOfQMSInactive\r\n        },\r\n        companyPolicy: {\r\n            Active: CompanyPolicyActive,\r\n            Pending: CompanyPolicyPending,\r\n            Editing: CompanyPolicyEditing,\r\n            Rejected: CompanyPolicyRejected,\r\n            Inactive: CompanyPolicyInactive\r\n        },\r\n        riskNOpp: {\r\n            Active: RiskNOppActive,\r\n            Pending: RiskNOppPending,\r\n            Editing: RiskNOppEditing,\r\n            Rejected: RiskNOppRejected,\r\n            Inactive: RiskNOppInactive\r\n        },\r\n        objAchivProgram: {\r\n            Active: ObjAchivProgramActive,\r\n            Pending: ObjAchivProgramPending,\r\n            Editing: ObjAchivProgramEditing,\r\n            Rejected: ObjAchivProgramRejected,\r\n            Inactive: ObjAchivProgramInactive\r\n        }\r\n\r\n    }\r\n    const SpecificDocType = DOC_COMPONENT[docType];\r\n    if (tabSettings.focusTabIndex === 0) {\r\n        if (tabSettings.firstTab === TAB.ACTIVE) {\r\n            // Active tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Active\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n        }\r\n        // TBC No current active tab (design ui of this first)\r\n        else {\r\n            // Active tab UI with no data\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    editorState={editorState}\r\n                    setEditorState={setEditorState}\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Inactive\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                    tabSettings={tabSettings}\r\n                    startNewDoc={startNewDoc}\r\n                    setStartNewDoc={setStartNewDoc}\r\n                />\r\n            }\r\n        }\r\n    } else if (tabSettings.focusTabIndex === 1) {\r\n        if (tabSettings.secondTab === TAB.PENDING) {\r\n            // Pending tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    setDocPendingTableData={setDocPendingTableData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"id\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    setDocPendingTableData={setDocPendingTableData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"id\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Pending\r\n                    docPendingHeaderData={docPendingHeaderData}\r\n                    docPendingTableData={docPendingTableData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                />\r\n            }\r\n        } else if (tabSettings.secondTab === TAB.EDITING) {\r\n            // Editing tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                    editorState={editorState}\r\n                    setEditorState={setEditorState}\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Editing\r\n                    docEditTableData={docEditTableData}\r\n                    setDocEditTableData={setDocEditTableData}\r\n                    docEditHeaderData={docEditHeaderData}\r\n                    setDocEditHeaderData={setDocEditHeaderData}\r\n                    docHeaderData={docHeaderData}\r\n                    docTableData={docTableData}\r\n                    tempFileArr={tempFileArr}\r\n                    setTempFileArr={setTempFileArr}\r\n                />\r\n            }\r\n        } else if (tabSettings.secondTab === TAB.REJECTED) {\r\n            // Rejected tab UI\r\n            if (docType === \"swot\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"interestedParty\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"scopeOfQMS\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"companyPolicy\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                    docColumns={docColumns}\r\n                    docKeyfield=\"serialNo\"\r\n                />\r\n            }\r\n            else if (docType === \"riskNOpp\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                />\r\n            }\r\n            else if (docType === \"objAchivProgram\") {\r\n                return <SpecificDocType.Rejected\r\n                    docRejectedHeaderData={docRejectedHeaderData}\r\n                    docRejectedTableData={docRejectedTableData}\r\n                />\r\n            }\r\n        }\r\n    } else {\r\n        return (\r\n            <div className=\"l-Document__Error\">\r\n                <p>There was an error in loading the document =(</p>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RenderDocument;","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\n/*\r\n    Custom hook for obtaining data\r\n*/\r\n\r\nconst useDocAxios = (url) => {\r\n    // State declarations\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const token = TokenManager.getToken();\r\n    useEffect(() => {\r\n        const fetchDocData = async (firstUrl, secondUrl) => {\r\n            try {\r\n                // GET document table data\r\n                const resultDocTable = await axios.get(firstUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n\r\n                // GET basic details of the active document, and all the status of the document\r\n                const resultHeaderData = await axios.get(secondUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n                setResponse(() => {\r\n                    return ({\r\n                        resultDocTable: resultDocTable.data,\r\n                        resultHeaderData: resultHeaderData.data\r\n                    })\r\n                });\r\n            } catch (error) {\r\n                console.log(\"An error occured in useDocAxios.js\", error);\r\n                setError(() => (error));\r\n            }\r\n        }\r\n        if (url != null) {\r\n            fetchDocData(url.firstUrl, url.secondUrl);\r\n        }\r\n    }, [url]);\r\n\r\n    return [response, error];\r\n}\r\n\r\nexport default useDocAxios;","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport TokenManager from \"../utilities/tokenManager\";\r\n\r\nconst useCheckEditableAxios = (url) => {\r\n    // State declarations\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const token = TokenManager.getToken();\r\n\r\n    useEffect(() => {\r\n        const checkIfCanEdit = async (firstUrl, secondUrl, thirdUrl) => {\r\n            try {\r\n                // GET document table data\r\n                const checkIfEmployeeCanEdit = await axios.get(firstUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n        \r\n                // GET basic details of the active document, and all the status of the document\r\n                const checkIfPendingExist = await axios.get(secondUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n        \r\n                const checkIfRejectedExist = await axios.get(thirdUrl, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n                setResponse(() => {\r\n                    return ({\r\n                        checkIfEmployeeCanEdit,\r\n                        checkIfPendingExist,\r\n                        checkIfRejectedExist\r\n                    })\r\n                });\r\n            } catch (error) {\r\n                console.log(\"An error occured in useDocAxios.js\", error);\r\n                setError(() => (error));\r\n            }\r\n        };\r\n        if (url != null) {\r\n            checkIfCanEdit(url.firstUrl, url.secondUrl, url.thirdUrl);\r\n        }\r\n    }, [url]);\r\n\r\n    return [response, error];\r\n}\r\n\r\nexport default useCheckEditableAxios;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport dayjs from 'dayjs';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from './CustomConfirmAlert';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\n\r\nconst ManageDeleteArchivedDoc = ({ deleteUrl, docHeaderUrl, setArchivedDocData, docType, idName }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // Call endpoint to delete doc first\r\n    const deleteArchivedDoc = () => {\r\n        // Confirmation dialogue for deleting archived document\r\n        const message = `Are you sure you want to delete this document? Click confirm to proceed.`;\r\n        const handler = (onClose) => handleDeleteArchiveDoc(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleDeleteArchiveDoc = (onClose) => {\r\n            axios.delete(deleteUrl, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    axios.get(docHeaderUrl, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let filteredArchivedDocData;\r\n                            if (res.data.results !== undefined) {\r\n                                // Set archives data\r\n                                filteredArchivedDocData = res.data.results.filter((resObj) => {\r\n                                    return resObj.status === 'archived';\r\n                                });\r\n                            } else {\r\n                                // Set archives data\r\n                                filteredArchivedDocData = res.data.filter((resObj) => {\r\n                                    return resObj.status === 'archived';\r\n                                });\r\n                            }\r\n\r\n\r\n                            var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                                return ({\r\n                                    ...archivedData,\r\n                                    id: archivedData[idName],\r\n                                    serialNo: index + 1,\r\n                                    name: archivedData.title,\r\n                                    approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                    active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                    action_view: `/${docType}/archived/${archivedData[idName]}`,\r\n                                    action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/${docType}/${archivedData[idName]}`\r\n                                });\r\n                            })\r\n                            setArchivedDocData(() => (formattedArchivedDocData));\r\n                            onClose();\r\n                            toast.success(<>Success!<br />Message: <b>Document Deleted!</b></>);\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            let errCode = \"Error!\";\r\n                            let errMsg = \"Error!\"\r\n                            if (err.response !== undefined) {\r\n                                errCode = err.response.status;\r\n                                errMsg = err.response.data.message;\r\n                            }\r\n                            onClose();\r\n\r\n                            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        };\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Archived-Delete-Btn\">\r\n            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                <RiIcons.RiDeleteBin7Line onClick={deleteArchivedDoc} />\r\n            </IconContext.Provider>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ManageDeleteArchivedDoc;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { docSwotColumns, historySwotColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport useCheckEditableAxios from '../../hooks/useCheckEditableAxios';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport axios from 'axios';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst Swot = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [loading, setLoading] = useState(false); // to be done\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    // These two const below are used for checking if user can edit\r\n    const [queryCheckEditableAxiosUrl, setQueryCheckEditableAxiosUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_01/employees`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/pending`,\r\n        thirdUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/rejected`,\r\n    })\r\n    const [checkEditableAxiosResponse, checkEditableAxiosError] = useCheckEditableAxios(queryCheckEditableAxiosUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = {\r\n                    strength: axiosResponse.resultDocTable.results.strengths.map((strengthData, strengthIndex) => {\r\n                        return {\r\n                            id: strengthData.swot_item_id,\r\n                            type: \"strength\",\r\n                            serialNo: strengthIndex + 1,\r\n                            content: strengthData.content,\r\n                            display_order: 0,\r\n                            parentItemID: strengthData.parent_item_id\r\n                        }\r\n                    }),\r\n                    weakness: axiosResponse.resultDocTable.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                        return {\r\n                            id: weaknessData.swot_item_id,\r\n                            type: \"weakness\",\r\n                            serialNo: weaknessIndex + 1,\r\n                            content: weaknessData.content,\r\n                            display_order: 0,\r\n                            parentItemID: weaknessData.parent_item_id\r\n                        }\r\n                    }),\r\n                    opp: axiosResponse.resultDocTable.results.opportunities.map((oppData, oppIndex) => {\r\n                        return {\r\n                            id: oppData.swot_item_id,\r\n                            type: \"opp\",\r\n                            serialNo: oppIndex + 1,\r\n                            content: oppData.content,\r\n                            display_order: 0,\r\n                            parentItemID: oppData.parent_item_id\r\n                        }\r\n                    }),\r\n                    threat: axiosResponse.resultDocTable.results.threats.map((threatData, threatIndex) => {\r\n                        return {\r\n                            id: threatData.swot_item_id,\r\n                            type: \"threat\",\r\n                            serialNo: threatIndex + 1,\r\n                            content: threatData.content,\r\n                            display_order: 0,\r\n                            parentItemID: threatData.parent_item_id\r\n                        }\r\n                    })\r\n                }\r\n\r\n                if (docQueryEnum === 'active') {\r\n                    if (checkEditableAxiosResponse !== null) {\r\n                        // check if user can edit\r\n                        let canEdit = false;\r\n\r\n                        checkEditableAxiosResponse.checkIfEmployeeCanEdit.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (checkEditableAxiosResponse.checkIfPendingExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        if (checkEditableAxiosResponse.checkIfRejectedExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        console.log(checkEditableAxiosResponse)\r\n\r\n                        if (canEdit === true) {\r\n                            setIsEditor(() => (true));\r\n                        } else {\r\n                            setIsEditor(() => (false));\r\n                        }\r\n                    }\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n\r\n                }\r\n            }\r\n            console.log(axiosResponse);\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n\r\n                    //  Active tab\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    }\r\n                    //  Pending tab\r\n                    else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.swot_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    }\r\n                    // Rejected tab\r\n                    else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.swot_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data (More refinements to be done)\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.swot_id,\r\n                        serialNo: index + 1,\r\n                        approved_by: `${archivedData.approver.firstname} ${archivedData.approver.lastname}`,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/swot/archived/${archivedData.swot_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/${archivedData.swot_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse, checkEditableAxiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historySwotDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"swots\"\r\n                        idName=\"swot_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='SWOT' activeLink=\"/swot\">\r\n                <div className=\"c-Swot c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Swot-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Swot</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {!loading ?\r\n                        <>\r\n                            {/* Top section */}\r\n                            <div className=\"c-Swot__Top c-Main__Top\">\r\n                                <h1>Swot</h1>\r\n                                <DocumentBtnSection\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    docEditTableData={docEditTableData}\r\n                                    docEditHeaderData={docEditHeaderData}\r\n                                    docPendingTableData={docPendingTableData}\r\n                                    docPendingHeaderData={docPendingHeaderData}\r\n                                    docRejectedHeaderData={docRejectedHeaderData}\r\n                                    pageType=\"swot\"\r\n                                    isApprover={isApproverOfPendingDoc}\r\n                                    isEditor={isEditor}\r\n                                    docQueryEnum={docQueryEnum}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    startNewDoc={startNewDoc}\r\n                                    setStartNewDoc={setStartNewDoc}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Document section */}\r\n                            <div className=\"c-Swot_Document c-Main__Document\">\r\n                                {/* Tabs */}\r\n                                <TabRow\r\n                                    setIsDocCollapsed={setIsDocCollapsed}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    isDocCollapsed={isDocCollapsed}\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    pageType=\"swot\"\r\n                                />\r\n\r\n                                {/* Document */}\r\n                                <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                                    {/* Render document should be done only when you have set up all the five types of file in this folder (refer to interested party folder) */}\r\n                                    <RenderDocument\r\n                                        tabSettings={tabSettings}\r\n                                        docHeaderData={docHeaderData}\r\n                                        docTableData={docTableData}\r\n                                        docPendingHeaderData={docPendingHeaderData}\r\n                                        docPendingTableData={docPendingTableData}\r\n                                        docRejectedHeaderData={docRejectedHeaderData}\r\n                                        docRejectedTableData={docRejectedTableData}\r\n                                        docColumns={docSwotColumns}\r\n                                        docType=\"swot\"\r\n                                        docEditTableData={docEditTableData}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        setDocEditHeaderData={setDocEditHeaderData}\r\n                                        startNewDoc={startNewDoc}\r\n                                        setStartNewDoc={setStartNewDoc}\r\n                                    />\r\n                                </DocumentLayout>\r\n                            </div>\r\n\r\n                            {/* History/archives section */}\r\n                            <div className=\"c-Swot__Archives c-Main__Archives\">\r\n                                <h1>History (Archived)</h1>\r\n                                {\r\n                                    archivedDocData.length !== 0 ?\r\n                                        isApprover ?\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historySwotDeletableColumns}\r\n                                                pagination={paginationFactory()}\r\n                                            />\r\n                                            :\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historySwotColumns}\r\n                                                pagination={paginationFactory()}\r\n                                            />\r\n                                        :\r\n                                        \"No records found!\"\r\n                                }\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        \"loading...\"\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Swot;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport SwotItems from '../../common/SwotItems';\r\nimport { docSwotColumns } from '../../config/tableColumns';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst SwotArchived = ({ match }) => {\r\n    const swotID = match.params.swotID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(swotID) && swotID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swots/${swotID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = {\r\n                        strength: res.data.strengths.map((strengthData, strengthIndex) => {\r\n                            return {\r\n                                id: strengthData.swot_item_id,\r\n                                type: \"strength\",\r\n                                serialNo: strengthIndex + 1,\r\n                                content: strengthData.content,\r\n                                display_order: 0,\r\n                                parentItemID: strengthData.parent_item_id\r\n                            }\r\n                        }),\r\n                        weakness: res.data.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                            return {\r\n                                id: weaknessData.swot_item_id,\r\n                                type: \"weakness\",\r\n                                serialNo: weaknessIndex + 1,\r\n                                content: weaknessData.content,\r\n                                display_order: 0,\r\n                                parentItemID: weaknessData.parent_item_id\r\n                            }\r\n                        }),\r\n                        opp: res.data.opportunities.map((oppData, oppIndex) => {\r\n                            return {\r\n                                id: oppData.swot_item_id,\r\n                                type: \"opp\",\r\n                                serialNo: oppIndex + 1,\r\n                                content: oppData.content,\r\n                                display_order: 0,\r\n                                parentItemID: oppData.parent_item_id\r\n                            }\r\n                        }),\r\n                        threat: res.data.threats.map((threatData, threatIndex) => {\r\n                            return {\r\n                                id: threatData.swot_item_id,\r\n                                type: \"threat\",\r\n                                serialNo: threatIndex + 1,\r\n                                content: threatData.content,\r\n                                display_order: 0,\r\n                                parentItemID: threatData.parent_item_id\r\n                            }\r\n                        })\r\n                    }\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.title,\r\n                        created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                        approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"SWOT Archived\" activeLink=\"/swot\">\r\n            <div className=\"c-Swot c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Swot__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/swot\">SWOT</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Swot__Top c-Main__Top\">\r\n                    <h1>SWOT (Archived)</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Swot__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Swot__Document-content c-Document\">\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Swot__Document-header c-Document__Header\">\r\n                                <div className=\"c-Swot__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Swot__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Swot table section */}\r\n                            <SwotItems header=\"Strengths\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.strength}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Weaknesses\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.weakness}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Opportunities\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.opp}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                            <SwotItems header=\"Threats\">\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={docTableData.threat}\r\n                                    columns={docSwotColumns}\r\n                                />\r\n                            </SwotItems>\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default SwotArchived;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport dayjs from 'dayjs';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport { docInterestedPartyColumns, historyInterestedPartyColumns } from '../../config/tableColumns';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst InterestedParty = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active');\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [loading, setLoading] = useState(false); // to be done\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-party/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    // Format data received from axiosResponse\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        id: data.party_item_id,\r\n                        needs_n_expectations: (() => {\r\n                            if (data.expectations.split(\"\\n\").length > 1) {\r\n                                return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                            }\r\n                            return data.expectations;\r\n                        })(),\r\n                        needs_n_expectations_raw: data.expectations,\r\n                        serialNo: index + 1,\r\n                        interested_parties: data.interested_party,\r\n                        parentItemID: data.parent_item_id,\r\n                    })\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    // Format table data\r\n                    const formattedDocActiveTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            needs_n_expectations_raw: data.expectations,\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocActiveTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    // Format table data\r\n                    const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            needs_n_expectations_raw: data.expectations,\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.party_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.party_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n            \r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.party_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/interested-party/archived/${archivedData.party_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/${archivedData.party_id}`\r\n                    });\r\n                });\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historyInterestedPartyDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"interested-parties\"\r\n                        idName=\"party_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Interested Party' activeLink=\"/interested-party\">\r\n                <div className=\"c-IP c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Interested Party</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {!loading ?\r\n\r\n                        <>\r\n                            {/* Top section */}\r\n                            <div className=\"c-IP__Top c-Main__Top\">\r\n                                <h1>Interested Parties</h1>\r\n                                <DocumentBtnSection\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    docEditTableData={docEditTableData}\r\n                                    docEditHeaderData={docEditHeaderData}\r\n                                    docPendingTableData={docPendingTableData}\r\n                                    docPendingHeaderData={docPendingHeaderData}\r\n                                    docRejectedHeaderData={docRejectedHeaderData}\r\n                                    pageType=\"interestedParty\"\r\n                                    isApprover={isApproverOfPendingDoc}\r\n                                    isEditor={isEditor}\r\n                                    docQueryEnum={docQueryEnum}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    startNewDoc={startNewDoc}\r\n                                    setStartNewDoc={setStartNewDoc}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Document section */}\r\n                            <div className=\"c-IP__Document c-Main__Document\">\r\n                                {/* Tabs */}\r\n                                <TabRow\r\n                                    setIsDocCollapsed={setIsDocCollapsed}\r\n                                    setDocQueryEnum={setDocQueryEnum}\r\n                                    setTabSettings={setTabSettings}\r\n                                    tabSettings={tabSettings}\r\n                                    isDocCollapsed={isDocCollapsed}\r\n                                    setQueryUrl={setQueryUrl}\r\n                                    pageType=\"interestedParty\"\r\n                                />\r\n\r\n                                {/* Document */}\r\n                                <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                                    <RenderDocument\r\n                                        tabSettings={tabSettings}\r\n                                        docHeaderData={docHeaderData}\r\n                                        docTableData={docTableData}\r\n                                        docPendingHeaderData={docPendingHeaderData}\r\n                                        docPendingTableData={docPendingTableData}\r\n                                        setDocPendingTableData={setDocPendingTableData}\r\n                                        docRejectedHeaderData={docRejectedHeaderData}\r\n                                        docRejectedTableData={docRejectedTableData}\r\n                                        docColumns={docInterestedPartyColumns}\r\n                                        docType=\"interestedParty\"\r\n                                        docEditTableData={docEditTableData}\r\n                                        setDocEditTableData={setDocEditTableData}\r\n                                        docEditHeaderData={docEditHeaderData}\r\n                                        setDocEditHeaderData={setDocEditHeaderData}\r\n                                        startNewDoc={startNewDoc}\r\n                                        setStartNewDoc={setStartNewDoc}\r\n                                    />\r\n                                </DocumentLayout>\r\n                            </div>\r\n\r\n                            {/* History/archives section */}\r\n                            <div className=\"c-IP__Archives c-Main__Archives\">\r\n                                <h1>History (Archived)</h1>\r\n                                {\r\n                                    archivedDocData.length !== 0 ?\r\n                                        isApprover ?\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historyInterestedPartyDeletableColumns}\r\n                                                pagination={ paginationFactory() }\r\n                                            />\r\n                                            :\r\n                                            <BootstrapTable\r\n                                                bordered={false}\r\n                                                keyField='serialNo'\r\n                                                data={archivedDocData}\r\n                                                columns={historyInterestedPartyColumns}\r\n                                                pagination={ paginationFactory() }\r\n                                            />\r\n                                        :\r\n                                        \"No records found!\"\r\n                                }\r\n\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        \"loading...\"\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InterestedParty;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { docInterestedPartyColumns } from '../../config/tableColumns';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst InterestedPartyArchived = ({ match }) => {\r\n    const ipID = match.params.ipID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(ipID) && ipID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/interested-parties/${ipID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = res.data.items.map((data, index) => {\r\n                        return ({\r\n                            id: data.party_item_id,\r\n                            needs_n_expectations: (() => {\r\n                                if (data.expectations.split(\"\\n\").length > 1) {\r\n                                    return data.expectations.split(\"\\n\").map(strLine => (<>{strLine}<br /></>));\r\n                                }\r\n                                return data.expectations;\r\n                            })(),\r\n                            serialNo: index + 1,\r\n                            interested_parties: data.interested_party,\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.title,\r\n                        created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                        approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Interested Party Archived\" activeLink=\"/interested-party\">\r\n                <div className=\"c-IP c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/interested-party\">Interested Party</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-IP__Top c-Main__Top\">\r\n                        <h1>Interested Parties (Archived)</h1>\r\n                    </div>\r\n                    {/* Document section */}\r\n                    <div className=\"c-IP__Document c-Main__Document\">\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout >\r\n                            <div className=\"c-IP__Document-content c-Document\">\r\n                                {/* Title */}\r\n                                <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                                {/* Document Header info */}\r\n                                <div className=\"c-IP__Document-header c-Document__Header\">\r\n                                    <div className=\"c-IP__Document-header--left c-Document__Header--left\">\r\n                                        <p>Approved by:</p>\r\n                                        <p>Submitted by:</p>\r\n                                        <p>Approved on:</p>\r\n                                    </div>\r\n                                    <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                        <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                        <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                        <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data!\"}</p>\r\n                                    </div>\r\n                                </div>\r\n                                {/* Table section */}\r\n                                <BootstrapTable keyField='serialNo' data={docTableData} columns={docInterestedPartyColumns} />\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InterestedPartyArchived;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB, DOCUMENT } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport dayjs from 'dayjs';\r\nimport axios from 'axios';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport convert from 'htmr';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport { docScopeOfQMSColumns, historyScopeOfQMSColumns } from '../../config/tableColumns';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMS = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scope/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.qms_scope_item_id,\r\n                        serialNo: index + 1,\r\n                        site_scope: (() => {\r\n                            if (data.site_scope.split(\"\\n\").length > 1) {\r\n                                return data.site_scope.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_scope\" + strLineIndex}>{strLine}<br /></div>));\r\n                            }\r\n                            return data.site_scope;\r\n                        })(),\r\n                        site_scope_raw: data.site_scope,\r\n                        site_address: (() => {\r\n                            if (data.address.split(\"\\n\").length > 1) {\r\n                                return data.address.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_address\" + strLineIndex}>{strLine}<br /></div>));\r\n                            }\r\n                            return data.address;\r\n                        })(),\r\n                        parentItemID: data.parent_item_id\r\n                    })\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.content) {\r\n                        setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))))\r\n                    } else {\r\n                        setEditorState(() => (EditorState.createEmpty()));\r\n                    }\r\n\r\n                    console.log((draftToHtml(convertToRaw(editorState.getCurrentContent()))));\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                        docActive = true;\r\n\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.qms_scope_id,\r\n                        }\r\n                        console.log(formattedData);\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.qms_scope_id,\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n\r\n                    }\r\n\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.qms_scope_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/scope-of-qms/archived/${archivedData.qms_scope_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/${archivedData.qms_scope_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        }\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n    const historyScopeOfQMSDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"qms-scopes\"\r\n                        idName=\"qms_scope_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Scope of QMS' activeLink=\"/scope-of-qms\">\r\n                <div className=\"c-Scope-of-QMS c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Scope of QMS</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Scope-of-QMS__Top c-Main__Top\">\r\n                        <h1>Scope of QMS</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"scopeOfQMS\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            editorState={editorState}\r\n                            setEditorState={setEditorState}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Scope-of-QMS__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"scopeOfQMS\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docColumns={docScopeOfQMSColumns}\r\n                                docType=\"scopeOfQMS\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                editorState={editorState}\r\n                                setEditorState={setEditorState}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Scope-of-QMS_Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyScopeOfQMSDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyScopeOfQMSColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMS;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { docScopeOfQMSColumns } from '../../config/tableColumns';\r\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport convert from 'htmr';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ScopeOfQMSArchived = ({ match }) => {\r\n    const scopeOfQMSID = match.params.scopeOfQMSID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [editorState, setEditorState] = useState(() => (EditorState.createEmpty()));  // Create initial editorState\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(scopeOfQMSID) && scopeOfQMSID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/qms-scopes/${scopeOfQMSID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    // Format table data\r\n                    const formattedDocTableData = res.data.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.qms_scope_item_id,\r\n                            serialNo: index + 1,\r\n                            site_scope: (() => {\r\n                                if (data.site_scope.split(\"\\n\").length > 1) {\r\n                                    return data.site_scope.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_scope\" + strLineIndex}>{strLine}<br /></div>));\r\n                                }\r\n                                return data.site_scope;\r\n                            })(),\r\n                            site_address: (() => {\r\n                                if (data.address.split(\"\\n\").length > 1) {\r\n                                    return data.address.split(\"\\n\").map((strLine, strLineIndex) => (<div key={index + \"_address\" + strLineIndex}>{strLine}<br /></div>));\r\n                                }\r\n                                return data.address;\r\n                            })(),\r\n                            parentItemID: data.parent_item_id\r\n                        })\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    res.data.forEach((resObj) => {\r\n                        if (resObj.content) {\r\n                            setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))))\r\n                        } else {\r\n                            setEditorState(() => (EditorState.createEmpty()));\r\n                        }\r\n\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            content: (() => {\r\n                                if (resObj.content) {\r\n                                    setEditorState(() => (EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content)))));\r\n                                    return convert(draftToHtml(convertToRaw(EditorState.createWithContent(convertFromRaw(JSON.parse(resObj.content))).getCurrentContent())));\r\n                                } else {\r\n                                    setEditorState(() => (EditorState.createEmpty()));\r\n                                    return \"\";\r\n                                }\r\n                            })(),\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Scope of QMS' activeLink=\"/scope-of-qms\">\r\n            <div className=\"c-Scope-of-QMS c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/scope-of-qms\">Scope of QMS</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Scope-of-QMS__Top c-Main__Top\">\r\n                    <h1>Scope Of QMS (Archived)</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Scope-of-QMS__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Scope-of-QMS__Document-content c-Document\">\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Scope-of-QMS__Document-header c-Document__Header\">\r\n                                <div className=\"c-Scope-of-QMS__Document-header--left c-Document__Header--left\">\r\n                                    <p>Company Name:</p>\r\n                                    <p>Active on:</p>\r\n                                </div>\r\n                                <div className=\"c-Scope-of-QMS__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.title ? docHeaderData.title : \"Failed to load data\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Failed to load data\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* WYSIWYG editor section */}\r\n                            <div className=\"l-Scope-of-QMS__WYSIWYG\">\r\n                                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                <div className=\"c-Scope-Of-QMS__WYSIWYG\">\r\n                                    {docHeaderData.content}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Table section */}\r\n                            <div className=\"c-Scope-of-QMS__Table\">\r\n                                <p>Physicial boundary: The corporate office address from where the above mentioned services are provided as follows</p>\r\n                                <BootstrapTable\r\n                                    keyField='id'\r\n                                    data={docTableData}\r\n                                    columns={docScopeOfQMSColumns}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ScopeOfQMSArchived;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { historyCompanyPolicyColumns } from '../../config/tableColumns';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n// To do wireframes first, then start setting up the 4 types of states of the documents\r\n\r\nconst CompanyPolicy = () => {\r\n    // State declarations\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policy/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n\r\n    // Format data received from axiosResponse\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.policy_item_id,\r\n                    });\r\n                });\r\n                if (docQueryEnum === 'active') {\r\n                    const formattedDocActiveTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m04_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocActiveTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    const formattedDocPendingTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    setDocPendingTableData(() => (formattedDocPendingTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.policy_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.policy_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.policy_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/company-policy/archived/${archivedData.policy_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/${archivedData.policy_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n\r\n        }\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m05_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    const historyCompanyPolicyDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Name',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"policies\"\r\n                        idName=\"policy_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Company Policy' activeLink=\"/company-policy\">\r\n                <div className=\"c-Company-Policy c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Company Policy</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Company-Policy__Top c-Main__Top\">\r\n                        <h1>Company Policy</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            tabSettings={tabSettings}\r\n                            pageType=\"companyPolicy\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Company-Policy__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"companyPolicy\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docType=\"companyPolicy\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Company-Policy__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyCompanyPolicyDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyCompanyPolicyColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CompanyPolicy;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport CompanyPolicyItem from '../../common/CompanyPolicyItem';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst CompanyPolicyArchived = ({ match }) => {\r\n    const companyPolicyID = match.params.companyPolicyID;     // get id of company policy\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(companyPolicyID) && companyPolicyID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/policies/${companyPolicyID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = res.data.items.map((data, index) => {\r\n                        return ({\r\n                            ...data,\r\n                            id: data.policy_item_id,\r\n                        });\r\n                    });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.title,\r\n                        created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                        approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Company Policy' activeLink=\"/company-policy\">\r\n            <div className=\"c-Company-Policy c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Company-Policy__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/company-policy\">Company Policy</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                {/* Top section */}\r\n                <div className=\"c-Company-Policy__Top c-Main__Top\">\r\n                    <h1>Company Policy (Archived)</h1>\r\n                </div>\r\n                {/* Document section */}\r\n                <div className=\"c-Company-Policy__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-Company-Policy__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Company-Policy__Document-header c-Document__Header\">\r\n                                <div className=\"c-Company-Policy__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Company-Policy__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Company policy cards section */}\r\n                            <div className=\"c-Company-Policy__Cards\">\r\n                                <p>The quality management system under the scope of ISO 9001:2015 certification applies to:</p>\r\n                                {/* Map through an array to display CompanyPolicyItem */}\r\n                                {docTableData.map((data, index) => (\r\n                                    <CompanyPolicyItem\r\n                                        key={index}\r\n                                        itemTitle={data.title}\r\n                                        itemContent={data.content}\r\n                                        itemIndex={index}\r\n                                    />\r\n                                ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    );\r\n}\r\n\r\nexport default CompanyPolicyArchived;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport dayjs from 'dayjs';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst ManageDeleteRole = ({ deleteUrl, refreshUrl, setRoleData, idName }) => {\r\n    const token =  TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // Call endpoint to delete doc first\r\n    const deleteArchivedDoc = () => {\r\n        // Confirmation dialogue for deleting role\r\n        const message = `Are you sure you want to delete this role? Click confirm to proceed.`;\r\n        const handler = (onClose) => handleDeleteRole(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleDeleteRole = (onClose) => {\r\n            axios.delete(deleteUrl, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    axios.get(refreshUrl, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            // Set role data\r\n                            setRoleData(() => {\r\n                                return res.data.results.map((data, index) => {\r\n                                    return ({\r\n                                        ...data,\r\n                                        serialNo: index + 1,\r\n                                        created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                        updated_at: dayjs(new Date(data.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${data.role_id}`\r\n                                    });\r\n                                })\r\n                            })\r\n                            onClose();\r\n                            toast.success(<>Success!<br />Message: <b>Role Deleted!</b></>);\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            let errCode = \"Error!\";\r\n                            let errMsg = \"Error!\"\r\n                            if (err.response !== undefined) {\r\n                                errCode = err.response.status;\r\n                                errMsg = err.response.data.message;\r\n                            }\r\n                            onClose();\r\n\r\n                            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    onClose();\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        };\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Archived-Delete-Btn\">\r\n            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                <RiIcons.RiDeleteBin7Line onClick={deleteArchivedDoc} />\r\n            </IconContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ManageDeleteRole;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getToken, getUserCompanyID } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport { useHistory } from 'react-router';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport ManageDeleteRole from '../ManageDeleteRole';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from 'jwt-decode';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthority = () => {\r\n    const history = useHistory();\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const adminLevel = decodedToken.admin_level;    // 0 = normal user, 1 = secondary admin, 2 = super admin\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [roleData, setRoleData] = useState([]);\r\n    const [orgChartData, setOrgChartData] = useState([]);\r\n    const [isUploader, setIsUploader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Get org chart data\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-charts`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                console.log(res.data.results);\r\n                if (res.data.results !== undefined) {\r\n                    // to do setOrgchart here\r\n                    setOrgChartData(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return {\r\n                                id: data.chart_id,\r\n                                serialNo: index + 1,\r\n                                title: data.title,\r\n                                description: data.description,\r\n                                created_by: data.author.account.username,\r\n                                created_on: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_view: `/responsibility-n-authority/manage-org-chart/${data.chart_id}`\r\n                            }\r\n                        });\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // get all the roles\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.data.results !== undefined) {\r\n                    setRoleData(() => {\r\n                        return res.data.results.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                serialNo: index + 1,\r\n                                created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                updated_at: dayjs(new Date(data.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${data.role_id}`\r\n                            });\r\n                        })\r\n                    });\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n        // Check if user can upload chart\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canEdit === true) {\r\n                    setIsUploader(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    const docRespNAuthOrgChartColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'description',\r\n            text: 'Description',\r\n        },\r\n        {\r\n            dataField: 'created_by',\r\n            text: 'Created By',\r\n        },\r\n        {\r\n            dataField: 'created_on',\r\n            text: 'Submitted On',\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View more</a>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const docRespNAuthRolesColumns = [\r\n        {\r\n            dataField: 'role_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Role',\r\n        },\r\n        {\r\n            dataField: 'created_at',\r\n            text: 'Created',\r\n        },\r\n        {\r\n            dataField: 'updated_at',\r\n            text: 'Last Updated',\r\n        },\r\n        {\r\n            dataField: 'action_manage',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            formatter: (cell, row) => {\r\n                return <a href={`/responsibility-n-authority/manage-role/${row.role_id}`}>Manage</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteRole\r\n                        deleteUrl={cell}\r\n                        refreshUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`}\r\n                        setRoleData={setRoleData}\r\n                        idName=\"role_id\"\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Resp-N-Auth c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Resp-N-Auth__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Resp. & Authority</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Resp-N-Auth__Top c-Main__Top\">\r\n                        <h1>Responsibility & Authority</h1>\r\n                    </div>\r\n\r\n                    {/* Organisation chart section */}\r\n                    <div className=\"c-Resp-N-Auth__Org-Chart\">\r\n                        {/* Header + btn */}\r\n                        <div className=\"c-Org-Chart__Top\">\r\n                            <h1>Organisation Chart</h1>\r\n                            {\r\n                                isUploader ?\r\n                                    <button onClick={() => (history.push(\"/responsibility-n-authority/add-org-chart\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Upload Chart</button>\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </div>\r\n                        {/* Organisation chart Table */}\r\n                        <div className=\"c-Org-Chart__Table\">\r\n                            {\r\n                                orgChartData.length === 0 ?\r\n                                    \"No records found!\" :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={orgChartData}\r\n                                        columns={docRespNAuthOrgChartColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Roles section */}\r\n                    <div className=\"c-Resp-N-Auth__Roles\">\r\n\r\n                        {/* Header */}\r\n                        <div className=\"c-Roles__Top\">\r\n                            <h1>Roles</h1>\r\n                        </div>\r\n                        {/* Table */}\r\n                        <div className=\"c-Roles__Table\">\r\n                            <ToolkitProvider\r\n                                search\r\n                                keyField='serialNo'\r\n                                data={roleData}\r\n                                columns={docRespNAuthRolesColumns}\r\n                            >\r\n                                {\r\n                                    props => (\r\n                                        <div className=\"c-Table\">\r\n                                            <div className=\"c-Table__Top\">\r\n                                                <SearchBar {...props.searchProps} />\r\n                                                <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                {\r\n                                                    adminLevel !== 2 ?\r\n                                                        null :\r\n                                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => (history.push('/responsibility-n-authority/add-role'))}>Add role</button>\r\n                                                }\r\n                                            </div>\r\n                                            <hr />\r\n                                            {\r\n                                                roleData.length !== 0 ?\r\n                                                    <BootstrapTable\r\n                                                        {...props.baseProps}\r\n                                                        bordered={false}\r\n                                                        pagination={paginationFactory()}\r\n                                                    />\r\n                                                    :\r\n                                                    \"No records found!\"\r\n                                            }\r\n\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </ToolkitProvider>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthority;\r\n","export const normalPermissionListArr = [\r\n    {\r\n        moduleCode: \"m01_01\",\r\n        description: {\r\n            edit: \"Edit Scope\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m02_01\",\r\n        description: {\r\n            edit: \"Edit Normative References\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m03_01\",\r\n        description: {\r\n            edit: \"Edit Terms and Definition\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_01\",\r\n        description: {\r\n            edit: \"Edit SWOT\",\r\n            approve: \"Approve/Reject SWOT documents \"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_02\",\r\n        description: {\r\n            edit: \"Edit Interested Parties\",\r\n            approve: \"Approve/Reject Interested Parties documents\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m04_03\",\r\n        description: {\r\n            edit: \"Edit Scope of QMS\",\r\n            approve: \"Approve/Reject Scope of QMS\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m05_02\",\r\n        description: {\r\n            edit: \"Edit Company Policy\",\r\n            approve: \"Approve/Reject Company Policy\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m05_03\",\r\n        description: {\r\n            edit: \"Upload and Edit Organisation Chart\",\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m06_01\",\r\n        description: {\r\n            edit: \"Edit Risk & Opportunity\",\r\n            approve: \"Approve/Reject Risk & Opportunity\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m06_02\",\r\n        description: {\r\n            edit: \"Edit Objective Achievement Program\",\r\n            approve: \"Approve/Reject Objective Achievement Program\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m07_01\",\r\n        description: {\r\n            edit: \"Permission to be assigned to Equipment Maintenance items\",\r\n            approve: \"Permission to Create Equipment Maintenance Program attributes\"\r\n        }\r\n    },\r\n    {\r\n        moduleCode: \"m07_02\",\r\n        description: {\r\n            edit: \"Permission to be assigned to Permis/licenses items\",\r\n            approve: \"Permission to Create Permits/licenses\"\r\n        }\r\n    },\r\n];\r\n\r\nexport const advancedPermissionListArr = [\r\n    {\r\n\r\n    }\r\n]","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router';\r\nimport { normalPermissionListArr } from '../../config/permissionListArr';\r\nimport axios from 'axios';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityAddRole = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [roleInputData, setRoleInputData] = useState({\r\n        name: \"\",\r\n        responsibility: \"\",\r\n        rights: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // scroll to top when component is rendered\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                return normalPermissionListArr.map((data, index) => {\r\n                    return {\r\n                        [data.moduleCode]: {\r\n                            edit: false,\r\n                            approve: false\r\n                        }\r\n                    };\r\n                });\r\n            })()\r\n        }));\r\n\r\n    }, []);\r\n    console.log(roleInputData);\r\n\r\n    // Handler for add role button\r\n    const handeInputChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Check if checkbox is checked\r\n    const checkCheckboxChecked = (moduleCodeAndRights) => {\r\n        const checkModuleCode = moduleCodeAndRights.split(\" \")[0];\r\n        const checkModuleRights = moduleCodeAndRights.split(\" \")[1];\r\n        let checkCheckboxChecked = false;\r\n        roleInputData.rights.forEach((data, index) => {\r\n            const moduleCode = Object.keys(data)[0];\r\n            if (moduleCode === checkModuleCode) {\r\n                if (checkModuleRights === \"edit\") {\r\n                    checkCheckboxChecked = data[moduleCode].edit;\r\n                } else {\r\n                    checkCheckboxChecked = data[moduleCode].approve;\r\n                }\r\n            }\r\n        });\r\n        return checkCheckboxChecked;\r\n    }\r\n\r\n    // Handler for add role button\r\n    const handleAddRole = () => {\r\n\r\n        const formattedInsertData = {\r\n            ...roleInputData,\r\n            rights: (() => {\r\n                let tempRightsObj = {};\r\n                for (var i = 0; i < roleInputData.rights.length; i++) {\r\n                    const moduleCode = Object.keys(roleInputData.rights[i])[0];\r\n                    tempRightsObj[moduleCode] = {\r\n                        approve: roleInputData.rights[i][moduleCode].approve,\r\n                        edit: roleInputData.rights[i][moduleCode].edit,\r\n                    };\r\n                }\r\n                return tempRightsObj;\r\n            })()\r\n        };\r\n        console.log(formattedInsertData)\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, formattedInsertData, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            history.push('/responsibility-n-authority');\r\n            // Need to set time out so that toast request will not be flushed out\r\n            setTimeout(function () {\r\n                toast.success(<>Success!<br />Message: <b>Role has been added!</b></>);\r\n            }, 0);\r\n\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        })\r\n    };\r\n\r\n    // Handler for checkbox change\r\n    const handleCheckboxChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                console.log(prevState);\r\n                return prevState.rights.map((data, index) => {\r\n                    const moduleCode = Object.keys(data)[0];\r\n                    const checkModuleCode = event.target.name.split(\" \")[0];\r\n                    const checkIfEditExist = event.target.name.split(\" \")[1] === \"edit\";\r\n                    if (moduleCode === checkModuleCode) {\r\n                        if (checkIfEditExist) {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: data[moduleCode].approve,\r\n                                    edit: !data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: !data[moduleCode].approve,\r\n                                    edit: data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            })()\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <form onSubmit={(event) => (event.preventDefault())} className=\"c-Add-role c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Add-role__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Role</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Add-role__Top c-Main__Top\">\r\n                        <h1>Add Role</h1>\r\n                    </div>\r\n\r\n                    {/* Configurations section */}\r\n                    <div className=\"c-Add-role__Configs\">\r\n                        {/* Left section */}\r\n                        <div className=\"l-Configs__Left\">\r\n                            <h1>Basic Details</h1>\r\n                            {/* Role name */}\r\n                            <div className=\"c-Configs__Role-name\">\r\n                                <label htmlFor=\"name\">Role Name</label>\r\n                                <input type=\"text\" name=\"name\" value={roleInputData.name} onChange={handeInputChange} />\r\n                            </div>\r\n                            {/* Description */}\r\n                            <div className=\"c-Configs__Description\">\r\n                                <label htmlFor=\"responsibility\">Responsibility</label>\r\n                                <textarea wrap=\"hard\" name=\"responsibility\" value={roleInputData.responsibility} onChange={handeInputChange} />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {/* Vertical line */}\r\n                        <div className=\"l-Configs__VL\" >\r\n                            <span className=\"c-Configs__VL\"></span>\r\n                        </div>\r\n\r\n                        {/* Right section */}\r\n                        <div className=\"l-Configs__Right\">\r\n                            <div className=\"c-Configs-Permissions\">\r\n                                <h1>Permissions</h1>\r\n                                {/* TBC: do mapping of rules here */}\r\n                                {\r\n                                    normalPermissionListArr.map((data, index) => {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                {/* Edit */}\r\n                                                <div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                    <label htmlFor={data.moduleCode + \" edit\"}>{data.description.edit}</label>\r\n                                                    <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" edit\") || false} name={data.moduleCode + \" edit\"} value={`${data.moduleCode} edit`} />\r\n                                                </div>\r\n                                                {\r\n                                                    data.moduleCode === \"m05_03\" || data.moduleCode === \"m01_01\" || data.moduleCode === \"m02_01\" || data.moduleCode === \"m03_01\" ?\r\n                                                        null :\r\n\r\n                                                        < div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                            <label htmlFor={data.moduleCode + \" approve\"}>{data.description.approve}</label>\r\n                                                            <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" approve\") || false} name={data.moduleCode + \" approve\"} value={`${data.moduleCode} approve`} />\r\n                                                        </div>\r\n                                                }\r\n\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Button section */}\r\n                    <div className=\"c-Add-role__Btns\">\r\n                        <button type=\"button\" onClick={handleAddRole} className=\"c-Btn c-Btn--primary\">Add Role</button>\r\n                        <button type=\"button\" onClick={() => (history.push(\"/responsibility-n-authority\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                    </div>\r\n\r\n\r\n                </form>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityAddRole;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport { useHistory } from 'react-router';\r\nimport { normalPermissionListArr } from '../../config/permissionListArr';\r\nimport axios from 'axios';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RespNAuthorityManageRole = ({ match }) => {\r\n    const roleID = match.params.roleID;     // get id of role\r\n    const history = useHistory();\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);   // Tracks if sidenav is collapsed\r\n    const [roleInputData, setRoleInputData] = useState({\r\n        name: \"\",\r\n        responsibility: \"\",\r\n        rights: []\r\n    });\r\n    const [renderErrorPage, setRenderErrorPage] = useState(false);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);  // scroll to top when component is rendered\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${roleID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRoleInputData(() => {\r\n                    return {\r\n                        name: res.data.results.name,\r\n                        responsibility: res.data.results.responsibility,\r\n                        rights: (() => {\r\n                            const fullPermissionList = normalPermissionListArr.map((data, index) => {\r\n                                return {\r\n                                    [data.moduleCode]: {\r\n                                        edit: false,\r\n                                        approve: false\r\n                                    }\r\n                                };\r\n                            });\r\n                            // push all the objects in rights to array\r\n                            let rightsObjSize = Object.keys(res.data.results.rights).length;\r\n                            for (let i = 0; i < rightsObjSize; i++) {\r\n                                const moduleCode = Object.keys(res.data.results.rights)[i];\r\n                                const canEdit = res.data.results.rights[moduleCode].edit;\r\n                                if (canEdit) {\r\n                                    for (let v = 0; v < fullPermissionList.length; v++) {\r\n                                        const checkModuleCode = Object.keys(fullPermissionList[v])[0];\r\n                                        console.log(fullPermissionList[v])\r\n                                        if (checkModuleCode === moduleCode) {\r\n                                            fullPermissionList[v] = {\r\n                                                [moduleCode]: {\r\n                                                    ...fullPermissionList[v][moduleCode],\r\n                                                    edit: true,\r\n                                                }\r\n                                            };\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                const canApprove = res.data.results.rights[moduleCode].approve;\r\n                                if (canApprove) {\r\n                                    for (let v = 0; v < fullPermissionList.length; v++) {\r\n                                        const checkModuleCode = Object.keys(fullPermissionList[v])[0];\r\n                                        if (moduleCode === checkModuleCode) {\r\n                                            fullPermissionList[v] = {\r\n                                                [moduleCode]: {\r\n                                                    ...fullPermissionList[v][moduleCode],\r\n                                                    approve: true,\r\n                                                }\r\n                                            };\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            };\r\n                            console.log(fullPermissionList);\r\n                            return fullPermissionList;\r\n                        })()\r\n                    }\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\";\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n\r\n    }, []);\r\n\r\n\r\n    const docRespNAuthOrgChartColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'description',\r\n            text: 'Description',\r\n        },\r\n        {\r\n            dataField: 'created_by',\r\n            text: 'Created By',\r\n        },\r\n        {\r\n            dataField: 'created_on',\r\n            text: 'Submitted On',\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View more</a>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const manageRoleUserColumn = [\r\n        {\r\n            dataField: 'role_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'user',\r\n            text: 'User',\r\n        },\r\n    ];\r\n\r\n    // Mock data, eventually you'll need to call endpoint and shift the columns to config/tableColumns.js\r\n    const mockDocData = [\r\n        { id: 1, name: 'George', animal: 'Monkey' },\r\n        { id: 2, name: 'Jeffrey', animal: 'Giraffe' },\r\n        { id: 3, name: 'Alice', animal: 'Giraffe' },\r\n        { id: 4, name: 'Alice', animal: 'Tiger' }\r\n    ];\r\n    // Check if checkbox is checked\r\n    const checkCheckboxChecked = (moduleCodeAndRights) => {\r\n        const checkModuleCode = moduleCodeAndRights.split(\" \")[0];\r\n        const checkModuleRights = moduleCodeAndRights.split(\" \")[1];\r\n        let checkCheckboxChecked = false;\r\n        console.log(roleInputData);\r\n        roleInputData.rights.forEach((data, index) => {\r\n            const moduleCode = Object.keys(data)[0];\r\n            if (moduleCode === checkModuleCode) {\r\n                if (checkModuleRights === \"edit\") {\r\n                    checkCheckboxChecked = data[moduleCode].edit;\r\n                } else {\r\n                    checkCheckboxChecked = data[moduleCode].approve;\r\n                }\r\n            }\r\n        });\r\n        return checkCheckboxChecked;\r\n    };\r\n\r\n    // Handler for add role button\r\n    const handeInputChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handler for checkbox change\r\n    const handleCheckboxChange = (event) => {\r\n        setRoleInputData((prevState) => ({\r\n            ...prevState,\r\n            rights: (() => {\r\n                return prevState.rights.map((data, index) => {\r\n                    const moduleCode = Object.keys(data)[0];\r\n                    const checkModuleCode = event.target.name.split(\" \")[0];\r\n                    const checkIfEditExist = event.target.name.split(\" \")[1] === \"edit\";\r\n                    if (moduleCode === checkModuleCode) {\r\n                        if (checkIfEditExist) {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: data[moduleCode].approve,\r\n                                    edit: !data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                [moduleCode]: {\r\n                                    approve: !data[moduleCode].approve,\r\n                                    edit: data[moduleCode].edit,\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                })\r\n            })()\r\n        }));\r\n    };\r\n\r\n    const handleSaveBtn = () => {\r\n        const formattedInsertData = {\r\n            ...roleInputData,\r\n            rights: (() => {\r\n                let tempRightsObj = {};\r\n                for (var i = 0; i < roleInputData.rights.length; i++) {\r\n                    const moduleCode = Object.keys(roleInputData.rights[i])[0];\r\n                    tempRightsObj[moduleCode] = {\r\n                        approve: roleInputData.rights[i][moduleCode].approve,\r\n                        edit: roleInputData.rights[i][moduleCode].edit,\r\n                    };\r\n                }\r\n                return tempRightsObj;\r\n            })()\r\n        };\r\n        console.log(formattedInsertData)\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/role/${roleID}`, formattedInsertData, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            toast.success(<>Success!<br />Message: <b>Role has been updated!</b></>);\r\n            window.scrollTo(0, 0);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Responsibility and Authority' activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Manage-role c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-role__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Role</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-role__Top c-Main__Top\">\r\n                        <h1>Manage Role</h1>\r\n                    </div>\r\n\r\n                    {/* Configurations section */}\r\n                    <div className=\"c-Manage-role__Configs\">\r\n                        {/* Left section */}\r\n                        <div className=\"l-Configs__Left\">\r\n                            <h1>Basic Details</h1>\r\n                            {/* Role name */}\r\n                            <div className=\"c-Configs__Role-name\">\r\n                                <label htmlFor=\"name\">Role Name</label>\r\n                                <input type=\"text\" name=\"name\" value={roleInputData.name} onChange={handeInputChange} />\r\n                            </div>\r\n                            {/* Description */}\r\n                            <div className=\"c-Configs__Description\">\r\n                                <label htmlFor=\"responsibility\">Responsibility</label>\r\n                                <textarea wrap=\"hard\" name=\"responsibility\" value={roleInputData.responsibility} onChange={handeInputChange} />\r\n                            </div>\r\n\r\n                            {/* User list */}\r\n                            {/* <div className=\"c-Configs__User-list\">\r\n                                <h2>Users</h2>\r\n                                <div className=\"c-User-list__Table\">\r\n                                    <ToolkitProvider\r\n                                        search\r\n                                    >\r\n                                        {\r\n                                            props => (\r\n                                                <div className=\"c-Table\">\r\n                                                    <div className=\"c-Table__Top\">\r\n                                                        <SearchBar {...props.searchProps} />\r\n                                                        <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                        <button type=\"button\" className=\"c-Btn c-Btn--link\" onClick={() => (history.push('/settings/manage-users'))}>Manage Users</button>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <BootstrapTable\r\n                                                        {...props.baseProps}\r\n                                                        bordered={false}\r\n                                                        keyField='serialNo'\r\n                                                        data={mockDocData}\r\n                                                        columns={manageRoleUserColumn}\r\n                                                        pagination={ paginationFactory() }\r\n                                                    />\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    </ToolkitProvider>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n\r\n                        {/* Vertical line */}\r\n                        <div className=\"l-Configs__VL\" >\r\n                            <span className=\"c-Configs__VL\"></span>\r\n                        </div>\r\n\r\n                        {/* Right section */}\r\n                        <div className=\"l-Configs__Right\">\r\n                            <div className=\"c-Configs-Permissions\">\r\n                                <h1>Permissions</h1>\r\n                                {/* TBC: do mapping of rules here */}\r\n                                {\r\n                                    normalPermissionListArr.map((data, index) => {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                {/* Edit */}\r\n                                                <div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                    <label htmlFor={data.moduleCode + \" edit\"}>{data.description.edit}</label>\r\n                                                    <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" edit\") || false} name={data.moduleCode + \" edit\"} value={`${data.moduleCode} edit`} />\r\n                                                </div>\r\n                                                {\r\n                                                    data.moduleCode === \"m05_03\" || data.moduleCode === \"m01_01\" || data.moduleCode === \"m02_01\" || data.moduleCode === \"m03_01\" ?\r\n                                                        null :\r\n\r\n                                                        < div className=\"c-Configs-Permissions__Checkbox\">\r\n                                                            <label htmlFor={data.moduleCode + \" approve\"}>{data.description.approve}</label>\r\n                                                            <input type=\"checkbox\" onChange={handleCheckboxChange} checked={checkCheckboxChecked(data.moduleCode + \" approve\") || false} name={data.moduleCode + \" approve\"} value={`${data.moduleCode} approve`} />\r\n                                                        </div>\r\n                                                }\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Button section */}\r\n                    <div className=\"c-Manage-role__Btns\">\r\n                        <button type=\"button\" onClick={handleSaveBtn} className=\"c-Btn c-Btn--primary\">Save</button>\r\n                        <button type=\"button\" onClick={() => (history.push(\"/responsibility-n-authority\"))} className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityManageRole;","import React, { useState, useRef } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getToken, getUserCompanyID } from '../../utilities/localStorageUtils';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityAddChart = () => {\r\n    const history = useHistory();\r\n    const fileRef = useRef();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [orgChartData, setOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        file: \"\"\r\n    });\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // Handle submit and cancel buttons\r\n    const handleBtn = (btnType) => {\r\n        if (btnType === \"submit\") {\r\n            if (orgChartData.title === \"\" || orgChartData.description === \"\" || orgChartData.file === \"\") {\r\n                toast.error(<>Error! Some fields are empty!</>);\r\n                return;\r\n            }\r\n            const formData = new FormData();\r\n\r\n            formData.append(\"title\", orgChartData.title);\r\n            formData.append(\"description\", orgChartData.description);\r\n            formData.append(\"display_order\", 1);\r\n            formData.append(\"chart\", orgChartData.file);\r\n\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-charts`, formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Chart has been added!</b></>);\r\n                    }, 0);\r\n                    history.push('/responsibility-n-authority');\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n\r\n\r\n        } else {\r\n            // Reset the data\r\n            setOrgChartData(() => ({\r\n                title: \"\",\r\n                description: \"\",\r\n                file: \"\"\r\n            }));\r\n            history.push(\"/responsibility-n-authority\");\r\n        }\r\n    };\r\n\r\n    // Handle file input change\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        setOrgChartData((prevState) => {\r\n            return {\r\n                ...prevState,\r\n                file: fileObj\r\n            }\r\n        })\r\n    };\r\n\r\n    // Handle input change \r\n    const handleInputChange = (event) => {\r\n        setOrgChartData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Upload Chart\" activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Add-chart c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Add-chart__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Organisation Chart</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Add-chart__Top c-Main__Top\">\r\n                        <h1>Add Organisation Chart</h1>\r\n                    </div>\r\n                    {/* Input */}\r\n                    <div className=\"c-Add-chart__Inputs\">\r\n                        <div className=\"c-Add-chart__Title c-Input\">\r\n                            <label htmlFor=\"title\">Title</label>\r\n                            <input onChange={handleInputChange} type=\"text\" value={orgChartData.title || \"\"} name=\"title\" placeholder=\"Enter title\" />\r\n                        </div>\r\n                        <div className=\"c-Add-chart__Description c-Input\">\r\n                            <label htmlFor=\"description\">Description</label>\r\n                            <input onChange={handleInputChange} type=\"text\" value={orgChartData.description || \"\"} name=\"description\" placeholder=\"Enter description\" />\r\n                        </div>\r\n                        <div className=\"c-Add-chart__Upload-file c-Input\">\r\n                            <label htmlFor=\"file\">File</label>\r\n                            <input onChange={handleFileInputChange} type=\"file\" name=\"file\" ref={fileRef} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"c-Add-chart__Btns\">\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"submit\")}>Submit</button>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleBtn(\"cancel\")}>Cancel</button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityAddChart;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getToken, getUserCompanyID } from '../../utilities/localStorageUtils';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport FileDownload from 'js-file-download';\r\nimport jwt_decode from 'jwt-decode';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RespNAuthorityManageChart = ({ match }) => {\r\n    const orgChartID = match.params.orgChartID;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [orgChartData, setOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        createdBy: \"\",\r\n        submittedOn: \"\",\r\n        fileName: \"\"\r\n    });\r\n    const [editableOrgChartData, setEditableOrgChartData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        createdBy: \"\",\r\n        submittedOn: \"\",\r\n        fileName: \"\"\r\n    })\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [rerender, setRerender] = useState(false);\r\n    const [isUploader, setIsUploader] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setOrgChartData(() => ({\r\n                    title: res.data.results.title,\r\n                    description: res.data.results.description,\r\n                    createdBy: res.data.results.author.account.username,\r\n                    submittedOn: dayjs(new Date(res.data.results.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    fileName: res.data.results.file.file_name,\r\n                    fileID: res.data.results.file_id\r\n                }));\r\n                setEditableOrgChartData(() => ({\r\n                    title: res.data.results.title,\r\n                    description: res.data.results.description,\r\n                    createdBy: res.data.results.author.account.username,\r\n                    submittedOn: dayjs(new Date(res.data.results.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    fileName: res.data.results.file.file_name\r\n                }))\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n        // Check if user can edit chart\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m05_03/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canEdit = false;\r\n                res.data.results.forEach((data, index) => {\r\n                    if (data.employee_id === userID) {\r\n                        canEdit = true;\r\n                    }\r\n                });\r\n                if (canEdit === true) {\r\n                    setIsUploader(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [rerender]);\r\n\r\n    // Handle submit and cancel buttons\r\n    const handleBtn = (btnType) => {\r\n        if (btnType === \"submit\") {\r\n\r\n            if (editableOrgChartData.title === \"\" || editableOrgChartData.description === \"\") {\r\n                toast.error(<>Error! Some fields are empty!</>);\r\n                return;\r\n            }\r\n\r\n            const axiosSubmitData = {\r\n                title: editableOrgChartData.title,\r\n                description: editableOrgChartData.description,\r\n                display_order: 1\r\n            };\r\n\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, axiosSubmitData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>Organisation chart details successfully updated!</b></>);\r\n                    setEditMode(() => false);\r\n                    setRerender((prevState) => !prevState);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        } else if (btnType === \"delete\") {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/org-chart/${orgChartID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Organisation chart has been deleted!</b></>);\r\n                    }, 0);\r\n                    setEditMode(() => false);\r\n                    history.push(\"/responsibility-n-authority\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        } else if (btnType === \"edit\") {\r\n            setEditMode(() => true);\r\n        } else {\r\n            // Reset the data\r\n            setEditableOrgChartData(() => (orgChartData));\r\n            setEditMode(() => false);\r\n        }\r\n    };\r\n\r\n    // Handle input change \r\n    const handleInputChange = (event) => {\r\n        setEditableOrgChartData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handle file download\r\n    const handleFileDownload = (fileID, fileName) => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${fileID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n            responseType: 'blob'\r\n        })\r\n            .then((res) => {\r\n                FileDownload(res.data, fileName);\r\n                toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    const renderEditMode = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Manage-chart__Inputs\">\r\n                    <div className=\"c-Manage-chart__Title c-Input\">\r\n                        <label htmlFor=\"title\">Title</label>\r\n                        <textarea onChange={handleInputChange} type=\"text\" value={editableOrgChartData.title || \"\"} name=\"title\" placeholder=\"Enter title\"></textarea>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Description c-Input\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <textarea onChange={handleInputChange} type=\"text\" value={editableOrgChartData.description || \"\"} name=\"description\" placeholder=\"Enter description\"></textarea>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Created-by c-Input\">\r\n                        <label htmlFor=\"createdBy\">Created By</label>\r\n                        <input type=\"text\" value={orgChartData.createdBy || \"Error\"} name=\"createdBy\" disabled />\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Submitted-on c-Input\">\r\n                        <label htmlFor=\"submittedOn\">Submitted On</label>\r\n                        <input type=\"text\" value={orgChartData.submittedOn || \"Error\"} name=\"submittedOn\" disabled />\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Details c-Input\">\r\n                        <label htmlFor=\"details\">Details</label>\r\n                        {\r\n                            orgChartData.fileName === \"\" ?\r\n                            \"Failed to load data\" :\r\n                            <button onClick={() => handleFileDownload(orgChartID, orgChartData.fileName)} className=\"c-Btn c-Btn--link\">Download</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n    const renderViewMode = () => {\r\n        return (\r\n            <>\r\n                <div className=\"c-Manage-chart__Inputs\">\r\n                    <div className=\"c-Manage-chart__Title c-Input\">\r\n                        <h1>Title</h1>\r\n                        <p>{orgChartData.title || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Description c-Input\">\r\n                        <h1>Description</h1>\r\n                        <p>{orgChartData.description || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Created-by c-Input\">\r\n                        <h1>Created By</h1>\r\n                        <p>{orgChartData.createdBy || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Submitted-on c-Input\">\r\n                        <h1>Submitted On</h1>\r\n                        <p>{orgChartData.submittedOn || \"Failed to load data\"}</p>\r\n                    </div>\r\n                    <div className=\"c-Manage-chart__Details c-Input\">\r\n                        <h1>Details</h1>\r\n                        {\r\n                            orgChartData.fileName === \"\" ?\r\n                            \"Failed to load data\" :\r\n                            <button onClick={() => handleFileDownload(orgChartID, orgChartData.fileName)} className=\"c-Btn c-Btn--link\">Download</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Upload Chart\" activeLink=\"/responsibility-n-authority\">\r\n                <div className=\"c-Manage-chart c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-chart__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/responsibility-n-authority\">Resp. & Authority</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Organisation Chart</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-chart__Top c-Main__Top\">\r\n                        <h1>Manage Organisation Chart</h1>\r\n                    </div>\r\n                    {/* Input */}\r\n                    {\r\n                        editMode ?\r\n                            renderEditMode() :\r\n                            renderViewMode()\r\n                    }\r\n                    {/* Buttons section */}\r\n                    {\r\n                        isUploader ?\r\n                        orgChartData.title === \"\" ?\r\n                            null :\r\n                            editMode ?\r\n                                <div className=\"c-Manage-chart__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"submit\")}>Submit</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleBtn(\"cancel\")}>Cancel</button>\r\n                                </div>\r\n                                :\r\n                                <div className=\"c-Manage-chart__Btns\">\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleBtn(\"edit\")}>Edit</button>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--alert\" onClick={() => handleBtn(\"delete\")}>Delete</button>\r\n                                </div>\r\n                            :\r\n                        null\r\n                    }\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RespNAuthorityManageChart;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport useCheckEditableAxios from '../../hooks/useCheckEditableAxios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport dayjs from 'dayjs';\r\nimport axios from 'axios';\r\nimport { historyRiskNOppColumns } from '../../config/tableColumns';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst RiskNOpp = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docHeaderData, setDocHeaderData] = useState([]);\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    }); // contains swot data and risk n opp data\r\n    const [docEditTableData, setDocEditTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active'); // Can either be 1 (active), 2 (pending), 3 (rejected), 4(archived), tracks which document the user is on\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analysis/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`,\r\n    }); // gets data about swot only, risk analysis done separately in useEffect\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    // These two const below are used for checking if user can edit\r\n    const [queryCheckEditableAxiosUrl, setQueryCheckEditableAxiosUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_01/employees`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/pending`,\r\n        thirdUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/swot/rejected`,\r\n    })\r\n    const [checkEditableAxiosResponse, checkEditableAxiosError] = useCheckEditableAxios(queryCheckEditableAxiosUrl);\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                // Format table data\r\n                const formattedDocTableData = {\r\n                    strength: axiosResponse.resultDocTable.results.strengths.map((strengthData, strengthIndex) => {\r\n                        return {\r\n                            serialNo: strengthIndex + 1,\r\n                            id: strengthData.fk_risks_analysis_id,\r\n                            swot_item_id: strengthData.fk_swot_item_id,\r\n                            content: strengthData.swot.content,\r\n                            type: strengthData.type,\r\n                            severity: strengthData.severity,\r\n                            likelihood: strengthData.likelihood,\r\n                            rpn: strengthData.rpn,\r\n                            action: strengthData.action,\r\n                            modified: dayjs(new Date(strengthData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    weakness: axiosResponse.resultDocTable.results.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                        return {\r\n                            serialNo: weaknessIndex + 1,\r\n                            id: weaknessData.fk_risks_analysis_id,\r\n                            swot_item_id: weaknessData.fk_swot_item_id,\r\n                            content: weaknessData.swot.content,\r\n                            type: weaknessData.type,\r\n                            severity: weaknessData.severity,\r\n                            likelihood: weaknessData.likelihood,\r\n                            rpn: weaknessData.rpn,\r\n                            action: weaknessData.action,\r\n                            modified: dayjs(new Date(weaknessData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    opp: axiosResponse.resultDocTable.results.opportunities.map((oppData, oppIndex) => {\r\n                        return {\r\n                            serialNo: oppIndex + 1,\r\n                            id: oppData.fk_risks_analysis_id,\r\n                            swot_item_id: oppData.fk_swot_item_id,\r\n                            content: oppData.swot.content,\r\n                            type: oppData.type,\r\n                            severity: oppData.severity,\r\n                            likelihood: oppData.likelihood,\r\n                            rpn: oppData.rpn,\r\n                            action: oppData.action,\r\n                            modified: dayjs(new Date(oppData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    }),\r\n                    threat: axiosResponse.resultDocTable.results.threats.map((threatData, threatIndex) => {\r\n                        return {\r\n                            serialNo: threatIndex + 1,\r\n                            id: threatData.fk_risks_analysis_id,\r\n                            swot_item_id: threatData.fk_swot_item_id,\r\n                            content: threatData.swot.content,\r\n                            type: threatData.type,\r\n                            severity: threatData.severity,\r\n                            likelihood: threatData.likelihood,\r\n                            rpn: threatData.rpn,\r\n                            action: threatData.action,\r\n                            modified: dayjs(new Date(threatData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        };\r\n                    })\r\n                };\r\n\r\n                if (docQueryEnum === 'active') {\r\n                    if (checkEditableAxiosResponse !== null) {\r\n                        // check if user can edit\r\n                        let canEdit = false;\r\n                        checkEditableAxiosResponse.checkIfEmployeeCanEdit.data.results.forEach((data, index) => {\r\n                            if (data.employee_id === userID) {\r\n                                canEdit = true;\r\n                            }\r\n                        });\r\n                        if (checkEditableAxiosResponse.checkIfPendingExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        if (checkEditableAxiosResponse.checkIfRejectedExist.result !== undefined) {\r\n                            canEdit = false;\r\n                        }\r\n                        console.log(checkEditableAxiosResponse)\r\n\r\n                        if (canEdit === true) {\r\n                            setIsEditor(() => (true));\r\n                        } else {\r\n                            setIsEditor(() => (false));\r\n                        }\r\n                    }\r\n\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n\r\n                    //  Active tab\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    }\r\n                    //  Pending tab\r\n                    else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.risks_analysis_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    }\r\n                    // Rejected tab\r\n                    else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.risks_analysis_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.NEW;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data (More refinements to be done)\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.risks_analysis_id,\r\n                        serialNo: index + 1,\r\n                        approved_by: `${archivedData.approver.firstname} ${archivedData.approver.lastname}`,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/risk-n-opportunity/archived/${archivedData.risks_analysis_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/${archivedData.risks_analysis_id}`\r\n                    });\r\n                })\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        } // end of if (axiosResponse != null)\r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m06_01/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse, checkEditableAxiosResponse]);\r\n\r\n    const historyRiskNOppDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                console.log(cell);\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"risks-analyses\"\r\n                        idName=\"risks_analysis_id\"\r\n                    />\r\n                )\r\n            }\r\n        }];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Risk and Opportunity' activeLink=\"/risk-n-opportunity\">\r\n                <div className=\"c-RNO c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-RNO__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Risk and Opportunity</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-RNO__Top c-Main__Top\">\r\n                        <h1>Risk and Opportunity</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"riskNOpp\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-RNO__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"riskNOpp\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docType=\"riskNOpp\"\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-RNO__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyRiskNOppDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyRiskNOppColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RiskNOpp;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport dayjs from 'dayjs';\r\nimport { historyObjAchivColumns } from '../../config/tableColumns';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ObjAchivProgram = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [startNewDoc, setStartNewDoc] = useState(false);\r\n    const [isNewDoc, setIsNewDoc] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [tabSettings, setTabSettings] = useState({}); // index starts from 0, 0 = firstTab, 1 = secondTab\r\n    const [isDocCollapsed, setIsDocCollapsed] = useState(false);\r\n    const [docTableData, setDocTableData] = useState([]);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docEditTableData, setDocEditTableData] = useState([]);\r\n    const [docEditHeaderData, setDocEditHeaderData] = useState({});\r\n    const [docPendingTableData, setDocPendingTableData] = useState([]);\r\n    const [docPendingHeaderData, setDocPendingHeaderData] = useState({});\r\n    const [docRejectedTableData, setDocRejectedTableData] = useState([]);\r\n    const [docRejectedHeaderData, setDocRejectedHeaderData] = useState({});\r\n    const [docQueryEnum, setDocQueryEnum] = useState('active');\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [queryUrl, setQueryUrl] = useState({\r\n        firstUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievement/active`,\r\n        secondUrl: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`,\r\n    });\r\n    const [isApproverOfPendingDoc, setIsApproverOfPendingDoc] = useState(false);    // Track if user is a approver for pending document\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [isApprover, setIsApprover] = useState(false); // Check if user can delete document\r\n\r\n    // Custom hook for making api call to endpoint to get data for document\r\n    const [axiosResponse, axiosError] = useDocAxios(queryUrl);\r\n    const [tempFileArr, setTempFileArr] = useState([]);\r\n\r\n    // Mock data, eventually you'll need to call endpoint and shift the columns to config/tableColumns.js\r\n\r\n\r\n    const mockDataColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'Id'\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#'\r\n        },\r\n        {\r\n            dataField: 'filename',\r\n            text: 'File Name'\r\n        },\r\n        {\r\n            dataField: 'status',\r\n            text: 'Status'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if (axiosResponse !== null) {\r\n            console.log(axiosResponse);\r\n            if (axiosResponse.resultDocTable.results !== undefined) {\r\n                setIsNewDoc(() => false);\r\n                console.log(axiosResponse.resultDocTable);\r\n\r\n                // Format table data\r\n                const formattedDocTableData = axiosResponse.resultDocTable.results.items.map((data, index) => {\r\n                    return ({\r\n                        ...data,\r\n                        id: data.achievement_item_id,\r\n                        serialNo: index + 1,\r\n                        parentItemID: data.parent_item_id,\r\n                        data: data.data.map((innerData, innerIndex) => ({\r\n                            ...innerData,\r\n                            serialNo: innerIndex + 1,\r\n                            file: {\r\n                                ...innerData.file,\r\n                                name: innerData.file_name\r\n                            }\r\n                        }))\r\n                    })\r\n                });\r\n                console.log(formattedDocTableData);\r\n                if (docQueryEnum === 'active') {\r\n                    // Check if user can edit the document\r\n                    axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m06_02/employees`, {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    })\r\n                        .then((res) => {\r\n                            let canEdit = false;\r\n                            res.data.results.forEach((data, index) => {\r\n                                if (data.employee_id === userID) {\r\n                                    canEdit = true;\r\n                                }\r\n                            });\r\n                            if (canEdit === true) {\r\n                                setIsEditor(() => (true));\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                        });\r\n                    setDocTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'pending') {\r\n                    setDocPendingTableData(() => (formattedDocTableData));\r\n                } else if (docQueryEnum === 'rejected') {\r\n                    // This is when user clicks on rejected edit button.\r\n                    if (tabSettings.secondTab === TAB.EDITING) {\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    } else {\r\n                        setDocRejectedTableData(() => (formattedDocTableData));\r\n                    }\r\n                }\r\n            }\r\n            if (axiosResponse.resultHeaderData.results !== undefined) {\r\n                // Set document header data\r\n                let docActive, docPending, docRejected = false; // these variables are for setting tab settings later on\r\n                axiosResponse.resultHeaderData.results.forEach((resObj) => {\r\n                    if (resObj.status === 'active') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n\r\n                        docActive = true;\r\n                    } else if (resObj.status === 'pending') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.achievement_id\r\n                        }\r\n\r\n                        // Check if user is the approver\r\n                        if (userID === resObj.approved_by) {\r\n                            setIsApproverOfPendingDoc(() => (true));\r\n                        } else {\r\n                            setIsApproverOfPendingDoc(() => (false));\r\n                        }\r\n                        setDocPendingHeaderData(() => (formattedData));\r\n                        docPending = true;\r\n                    } else if (resObj.status === 'rejected') {\r\n                        const formattedData = {\r\n                            title: resObj.title,\r\n                            created_by_id: resObj.author.employee_id,\r\n                            created_by: resObj.author.firstname + \" \" + resObj.author.lastname,\r\n                            approved_by: resObj.approver.firstname + \" \" + resObj.author.lastname,\r\n                            approved_on: dayjs(new Date(resObj.approved_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                            remarks: resObj.remarks,\r\n                            docID: resObj.achievement_id\r\n                        }\r\n                        // This is when user clicks on rejected edit button.\r\n                        if (tabSettings.secondTab === TAB.EDITING) {\r\n                            setDocHeaderData(() => (formattedData));\r\n                        } else {\r\n                            setDocRejectedHeaderData(() => (formattedData));\r\n                        }\r\n                        docRejected = true;\r\n                    }\r\n                });\r\n\r\n                // Set whether document is new\r\n                if (docActive) {\r\n                    setIsNewDoc(() => true);\r\n                } else {\r\n                    setIsNewDoc(() => false);\r\n                }\r\n\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: (() => {\r\n                        if (docActive !== true) {\r\n                            return TAB.INACTIVE;\r\n                        }\r\n                        return TAB.ACTIVE; // To be changed to an idle kind of tab\r\n                    })(),\r\n                    secondTab: (() => {\r\n                        if (docPending === true) {\r\n                            return TAB.PENDING;\r\n                        } else if (prevTabSettings.secondTab === TAB.EDITING && docRejected === true) {\r\n                            // This is when user clicks on rejected edit button.\r\n                            return TAB.EDITING;\r\n                        } else if (docRejected === true) {\r\n                            return TAB.REJECTED;\r\n                        } else {\r\n                            return TAB.NULL;\r\n                        }\r\n                    })(),\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n\r\n                // Set archives data\r\n                var filteredArchivedDocData = axiosResponse.resultHeaderData.results.filter((resObj) => {\r\n                    return resObj.status === 'archived';\r\n                });\r\n\r\n                var formattedArchivedDocData = filteredArchivedDocData.map((archivedData, index) => {\r\n                    return ({\r\n                        ...archivedData,\r\n                        id: archivedData.achievement_id,\r\n                        serialNo: index + 1,\r\n                        name: archivedData.title,\r\n                        approved_on: dayjs(new Date(archivedData.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        active_till: dayjs(new Date(archivedData.updated_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        action_view: `/objective-achievement-program/archived/${archivedData.achievement_id}`,\r\n                        action_delete: `${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/${archivedData.achievement_id}`\r\n                    });\r\n                });\r\n                setArchivedDocData(() => (formattedArchivedDocData));\r\n            } else {\r\n                // This is where new documents are configured if there are no existing documents\r\n                setIsNewDoc(() => true);\r\n                // Set current tab settings\r\n                setTabSettings((prevTabSettings) => ({\r\n                    firstTab: TAB.INACTIVE,\r\n                    secondTab: TAB.NULL,\r\n                    focusTabIndex: (() => {\r\n                        if (docQueryEnum === 'active') {\r\n                            return 0;\r\n                        }\r\n                        return 1;\r\n                    })()\r\n                }));\r\n            }\r\n        } \r\n\r\n        // Check if user can approve the document - for checking if user can delete document\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m04_02/employees`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                let canApprove = false;\r\n                if (res.data.results !== undefined) {\r\n                    res.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n                }\r\n                if (canApprove === true) {\r\n                    setIsApprover(() => (true));\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n\r\n    }, [axiosResponse]);\r\n\r\n    const historyObjAchivDeletableColumns = [\r\n        {\r\n            dataField: 'id',\r\n            text: 'id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n        },\r\n        {\r\n            dataField: 'name',\r\n            text: 'Title',\r\n        },\r\n        {\r\n            dataField: 'approved_on',\r\n            text: 'Active From'\r\n        },\r\n        {\r\n            dataField: 'active_till',\r\n            text: 'Active Till'\r\n        },\r\n        {\r\n            dataField: 'action_view',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return <a href={cell}>View</a>\r\n            }\r\n        },\r\n        {\r\n            dataField: 'action_delete',\r\n            text: '',\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <ManageDeleteArchivedDoc\r\n                        deleteUrl={cell}\r\n                        docHeaderUrl={`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements`}\r\n                        setArchivedDocData={setArchivedDocData}\r\n                        docType=\"objective-achievements\"\r\n                        idName=\"achievement_id\"\r\n                    />\r\n                )\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Objective Achievement Program' activeLink=\"/objective-achievement-program\">\r\n                <div className=\"c-Obj-Achiv-Program c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Objective Achivement Program</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Top c-Main__Top\">\r\n                        <h1>Objective Achievement Program</h1>\r\n                        <DocumentBtnSection\r\n                            setQueryUrl={setQueryUrl}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            docEditTableData={docEditTableData}\r\n                            docEditHeaderData={docEditHeaderData}\r\n                            docPendingTableData={docPendingTableData}\r\n                            docPendingHeaderData={docPendingHeaderData}\r\n                            docRejectedHeaderData={docRejectedHeaderData}\r\n                            pageType=\"objAchivProgram\"\r\n                            isApprover={isApproverOfPendingDoc}\r\n                            isEditor={isEditor}\r\n                            docQueryEnum={docQueryEnum}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            tempFileArr={tempFileArr}\r\n                            startNewDoc={startNewDoc}\r\n                            setStartNewDoc={setStartNewDoc}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Document section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Document c-Main__Document\">\r\n                        {/* Tabs */}\r\n                        <TabRow\r\n                            setIsDocCollapsed={setIsDocCollapsed}\r\n                            setDocQueryEnum={setDocQueryEnum}\r\n                            setTabSettings={setTabSettings}\r\n                            tabSettings={tabSettings}\r\n                            isDocCollapsed={isDocCollapsed}\r\n                            setQueryUrl={setQueryUrl}\r\n                            pageType=\"objAchivProgram\"\r\n                        />\r\n\r\n                        {/* Document */}\r\n                        <DocumentLayout isDocCollapsed={isDocCollapsed}>\r\n                            <RenderDocument\r\n                                tabSettings={tabSettings}\r\n                                docHeaderData={docHeaderData}\r\n                                docTableData={docTableData}\r\n                                docPendingHeaderData={docPendingHeaderData}\r\n                                docPendingTableData={docPendingTableData}\r\n                                setDocPendingTableData={setDocPendingTableData}\r\n                                docRejectedHeaderData={docRejectedHeaderData}\r\n                                docRejectedTableData={docRejectedTableData}\r\n                                docColumns={mockDataColumns}\r\n                                docType=\"objAchivProgram\"\r\n                                docEditTableData={docEditTableData}\r\n                                setDocEditTableData={setDocEditTableData}\r\n                                docEditHeaderData={docEditHeaderData}\r\n                                setDocEditHeaderData={setDocEditHeaderData}\r\n                                tempFileArr={tempFileArr}\r\n                                setTempFileArr={setTempFileArr}\r\n                                startNewDoc={startNewDoc}\r\n                                setStartNewDoc={setStartNewDoc}\r\n                            />\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                    {/* History/archives section */}\r\n                    <div className=\"c-Obj-Achiv-Program__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        {\r\n                            archivedDocData.length !== 0 ?\r\n                                isApprover ?\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyObjAchivDeletableColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                    :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={archivedDocData}\r\n                                        columns={historyObjAchivColumns}\r\n                                        pagination={paginationFactory()}\r\n                                    />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgram;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport ObjAchivProgramItem from '../../common/ObjAchivProgramItem';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ObjAchivProgramArchived = ({ match }) => {\r\n    const oapID = match.params.oapID;     // get id of company policy\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(oapID) && oapID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/objective-achievements/${oapID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    if (res.data.results !== undefined) {\r\n                        const formattedDocTableData = res.data.results.items.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                id: data.achievement_id,\r\n                            });\r\n                        });\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                        // Format document header data\r\n                        const formattedData = {\r\n                            title: res.data.results.title,\r\n                            created_by: res.data.results.author.firstname + \" \" + res.data.results.author.lastname,\r\n                            approved_by: res.data.results.approver.firstname + \" \" + res.data.results.author.lastname,\r\n                            approved_on: dayjs(new Date(res.data.results.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    } else {\r\n                        // Format dopcument table data\r\n                        const formattedDocTableData = res.data.items.map((data, index) => {\r\n                            return ({\r\n                                ...data,\r\n                                id: data.achievement_id,\r\n                            });\r\n                        });\r\n                        setDocTableData(() => (formattedDocTableData));\r\n                    \r\n                        // Format document header data\r\n                        const formattedData = {\r\n                            title: res.data.title,\r\n                            created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                            approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                            approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                        setDocHeaderData(() => (formattedData));\r\n                    }\r\n\r\n\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Objective Achievement Program' activeLink=\"/objective-achievement-program\">\r\n            <div className=\"c-Obj-Achiv-Program c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Obj-Achiv-Program__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/objective-achievement-program\">Objective Achivement Program</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                {/* Top section */}\r\n                <div className=\"c-Obj-Achiv-Program__Top c-Main__Top\">\r\n                    <h1>Objective Achievement Program</h1>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Obj-Achiv-Program__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout>\r\n                        <div className=\"c-Obj-Achiv-Program__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : \"Failed to load data!\"}</h1>\r\n                            {/* Document Header Info */}\r\n                            <div className=\"c-Obj-Achiv-Program__Document-header c-Document__Header\">\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-Obj-Achiv-Program__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Map through an array to display ObjAchivProgramItem */}\r\n                            {docTableData.map((data, index) => (\r\n                                <ObjAchivProgramItem\r\n                                    key={index}\r\n                                    docType=\"active\"\r\n                                    itemContent={data}\r\n                                />\r\n                            ))\r\n                            }\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ObjAchivProgramArchived;","import React from 'react'\r\n\r\nconst SettingsBentoBox = ({ type, link, linkDisplay, children }) => {\r\n    return (\r\n        <div className=\"l-Settings-Bento-Box\">\r\n            <div className=\"c-Settings-Bento-Box\">\r\n                {/* Main content */}\r\n                <div className={type === 'row' ? \"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--row\" : \"c-Settings-Bento-Box__Content c-Settings-Bento-Box__Content--column\"}>\r\n                    {children}\r\n                </div>\r\n                {/* Link to page */}\r\n                <div className=\"c-Settings-Bento-Box__Link\" >\r\n                    <a href={link}>{linkDisplay}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SettingsBentoBox;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport SettingsBentoBox from '../common/SettingsBentoBox';\r\nimport { getUserDisplayName, getUserEmail, getUserCompanyName, getUserJobTitle, getUserCompanyAlias, getUserCompanyID, getToken } from '../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst Settings = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const displayName =  decodedToken.display_name;\r\n    const jobTitle =  decodedToken.display_title;\r\n    const email =  decodedToken.email;\r\n    const companyName =  decodedToken.company_name;\r\n    const companyAlias =  decodedToken.company_alias;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [adminLevel, setAdminLevel] = useState(null);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setAdminLevel(() => res.data.results.admin_level);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Settings\" activeLink=\"/settings\">\r\n\r\n                <div className=\"c-Settings c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Settings__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Settings</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Page header */}\r\n                    <div className=\"c-Settings__Top c-Main__Top\">\r\n                        <h1>Settings</h1>\r\n                    </div>\r\n\r\n                    {/* Bento box section */}\r\n                    <div className=\"l-Settings__Bento-box\">\r\n                        {/* User settings */}\r\n                        <div className=\"l-Bento-box__User-settings l-Bento-box\">\r\n                            <h2 className=\"l-Bento-box__Header\">User Settings</h2>\r\n                            <SettingsBentoBox type=\"row\" link=\"/settings/manage-account\" linkDisplay=\"Manage your account settings\">\r\n                                <div className=\"c-Settings-Bento-Box__User-image\">\r\n                                    <img src={profilePic} alt=\"User pic\" />\r\n                                </div>\r\n                                <div className=\"c-Settings-Bento-Box__User-details\">\r\n                                    <p>{displayName ? displayName : \"Error\"}</p>\r\n                                    <p>{jobTitle ? jobTitle : \"Error\"}</p>\r\n                                    <p>{email ? email : \"Error\"}</p>\r\n                                    <p>{companyName ? companyName : \"Error\"}</p>\r\n                                </div>\r\n                            </SettingsBentoBox>\r\n                        </div>\r\n                        {/* Organisation settings */}\r\n                        {\r\n                            adminLevel === 2 || adminLevel === 3 ?\r\n                                <div className=\"l-Bento-box__Org-settings l-Bento-box\">\r\n                                    <h2 className=\"l-Bento-box__Header\">Organisation Settings</h2>\r\n                                    {\r\n                                        adminLevel === 2 ?\r\n                                            <>\r\n                                                {/* Manage organisation settings */}\r\n                                                <SettingsBentoBox type=\"column\" link=\"/settings/manage-organization\" linkDisplay=\"Manage your organization settings\">\r\n                                                    <div className=\"c-Settings-Bento-Box__Manage-org\">\r\n                                                        <h1>{companyAlias ? companyAlias : \"Error\"}</h1>\r\n                                                        <h2>{companyName ? companyName : \"Error\"}</h2>\r\n                                                    </div>\r\n                                                </SettingsBentoBox>\r\n                                                {/* Manage user settings  */}\r\n                                                <SettingsBentoBox type=\"column\" link=\"/settings/manage-users\" linkDisplay=\"Manage your users\">\r\n                                                    <div className=\"c-Settings-Bento-Box__Manage-users\">\r\n                                                        <h1>Manage users</h1>\r\n                                                        <h2>Click on the link to continue</h2>\r\n                                                    </div>\r\n                                                </SettingsBentoBox>\r\n                                            </>\r\n                                            :\r\n                                            null\r\n                                    }\r\n\r\n                                    {/* Manage invite settings */}\r\n                                    <SettingsBentoBox type=\"column\" link=\"/settings/manage-invites\" linkDisplay=\"Manage invites\">\r\n                                        <div className=\"c-Settings-Bento-Box__Manage-invites\">\r\n                                            <h1>Manage invites</h1>\r\n                                            <h2>Click on the link to continue</h2>\r\n                                        </div>\r\n                                    </SettingsBentoBox>\r\n                                </div>\r\n                                : null\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport * as IoIcons from 'react-icons/io5';\r\nimport { IconContext } from 'react-icons';\r\n\r\n\r\nconst RoleTags = ({ tagListing, deletable }) => {\r\n    return (\r\n        <div className=\"l-Role-tags\">\r\n            <div className=\"c-Role-tags\">\r\n                <h1>{tagListing}</h1>\r\n                {\r\n                    deletable ?\r\n                        <button type=\"button\">\r\n                            <IconContext.Provider value={{ color: \"white\", size: \"16px\" }}>\r\n                                <IoIcons.IoCloseOutline />\r\n                            </IconContext.Provider>\r\n                        </button>\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RoleTags;","import React from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nconst ErrorCard = ({ errMsg, errStatus, errStatusText }) => {\r\n    return (\r\n        <div className = \"l-Error-card\">\r\n<div className=\"c-Error-card\">\r\n            <Alert variant=\"danger\">\r\n                <Alert.Heading>Error Code: {errStatus || \"Unknown\"} {errStatusText || null} </Alert.Heading>\r\n                <p>{errMsg || \"An unknown error has occured, try accessing again later!\"}</p>\r\n            </Alert>\r\n        </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default ErrorCard;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport profilePic from '../assets/images/default-profile-pic.jpg';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport RoleTags from '../common/RoleTags';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport PasswordCriteria from '../common/PasswordCriteria';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageAccount = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userID = decodedToken.employee_id;\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [inputValues, setInputValues] = useState({\r\n        oldpassword: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [userData, setUserData] = useState({\r\n        fullName: 'Error',\r\n        username: 'Error',\r\n        jobTitle: 'Error',\r\n        email: 'Error',\r\n        emailDisplay: 'Error',\r\n        companyName: \"Error\",\r\n        firstName: 'Error',\r\n        lastName: 'Error',\r\n        address: {\r\n            line1: 'Error',\r\n            line2: 'Error',\r\n            city: 'Error',\r\n            state: 'Error',\r\n            country: 'Error',\r\n            postalCode: 'Error'\r\n        },\r\n        roles: []\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // Endpoint to retrieve details about user\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}?roles=true&address=true&company=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedUserData = {\r\n                    fullName: `${resDataResults.firstname} ${resDataResults.lastname}`,\r\n                    username: resDataResults.account.username,\r\n                    jobTitle: resDataResults.title,\r\n                    email: resDataResults.email,\r\n                    emailDisplay: resDataResults.email,\r\n                    companyName: resDataResults.company.name,\r\n                    firstName: resDataResults.firstname,\r\n                    lastName: resDataResults.lastname,\r\n                    address: {\r\n                        addressID: resDataResults.address_id,\r\n                        line1: resDataResults.address.address_line_one,\r\n                        line2: resDataResults.address.address_line_two,\r\n                        city: resDataResults.address.city,\r\n                        state: resDataResults.address.state,\r\n                        country: resDataResults.address.country,\r\n                        postalCode: resDataResults.address.postal_code\r\n                    },\r\n                    roles: resDataResults.roles,\r\n                };\r\n                setUserData(() => formattedUserData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                    console.log(\"this was ran\");\r\n                    // return unauthorised error component\r\n                    setRenderErrorCard((prevState) => ({\r\n                        ...prevState,\r\n                        render: true,\r\n                        errMsg: err.response.data.message,\r\n                        errStatus: err.response.status,\r\n                        errStatusText: err.response.statusText\r\n                    }));\r\n                }\r\n            });\r\n\r\n        // Update Password criteria\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for password input change\r\n    const handlePasswordInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const updateEmailDisplay = () => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            emailDisplay: userData.email\r\n        }));\r\n\r\n    }\r\n\r\n    const handleAddressInputChange = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            address: {\r\n                ...prevState.address,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    }\r\n\r\n    // Handler for buttons\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"editAccount\" || buttonType === \"editAccountCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"editAccountSave\") {\r\n            const message = `You are about to save account details. Click confirm to proceed.`;\r\n            const handler = (onClose) => editUserDetails(onClose);\r\n            const heading = `Confirm Save?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (buttonType === \"changePassword\" || buttonType === \"changePasswordCancel\") {\r\n            // Handler for change password button\r\n            setIsChangingPassword((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"changePasswordSave\") {\r\n            const message = `You are about to change password. Click confirm to proceed.`;\r\n            const handler = (onClose) => changePassword(onClose);\r\n            const heading = `Confirm Change Password?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Endpoint for changing password\r\n    const changePassword = (onClose) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/change`, {\r\n            old_password: inputValues.oldPassword,\r\n            new_password: inputValues.password,\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(\"Changed Password successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Changed Password successfully!</b></>);\r\n                }, 0);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // API call for edit user details\r\n    const editUserDetails = (onClose) => {\r\n        setLoading(() => (true));\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${userID}`, {\r\n            \"firstname\": userData.firstName,\r\n            \"lastname\": userData.lastName,\r\n            \"email\": userData.email,\r\n            \"address\": {\r\n                \"address_line_one\": userData.address.line1,\r\n                \"address_line_two\": userData.address.line2,\r\n                \"city\": userData.address.city,\r\n                \"state\": userData.address.state,\r\n                \"country\": userData.address.country,\r\n                \"postal_code\": userData.address.postalCode,\r\n            },\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }\r\n        )\r\n            .then((res) => {\r\n                console.log(\"Updated User Details successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                updateEmailDisplay();\r\n                setIsEditing(() => false);\r\n                toast.success(<>Success!<br />Message: <b>Updated User Details successfully!</b></>);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* First name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"firstName\" value={userData.firstName} />\r\n                    </Col>\r\n                    {/* Last name */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--edit\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"lastName\" value={userData.lastName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Email */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"email\" value={userData.email} />\r\n                    </Col>\r\n                    {/* Username */}\r\n                    <Col className=\"c-Input c-Input__Username c-Input--edit\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* Roles */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <p>Role(s)</p>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                    {/* Organisation */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <p>Organisation</p>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line1\" value={userData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line2\" value={userData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"city\" value={userData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"country\" value={userData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"postalCode\" value={userData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"state\" value={userData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-account__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editAccountSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editAccountCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* First name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input--read-only\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input readOnly type=\"text\" name=\"firstName\" value={userData.firstName} />\r\n                    </Col>\r\n                    {/* Last name */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--read-only\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input readOnly type=\"text\" name=\"lastName\" value={userData.lastName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Email */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input readOnly type=\"text\" name=\"email\" value={userData.email} />\r\n                    </Col>\r\n                    {/* Username */}\r\n                    <Col className=\"c-Input c-Input__Username c-Input--read-only\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input readOnly type=\"text\" name=\"username\" value={userData.username} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* Roles */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <p>Role(s)</p>\r\n                        {\r\n                            userData.roles.map((role, index) =>\r\n                                <RoleTags key={index} tagListing={`${role.name}`} deletable={false} />\r\n                            )\r\n                        }\r\n\r\n                    </Col>\r\n                    {/* Organisation */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"organisation\">Organisation</label>\r\n                        <input readOnly type=\"text\" name=\"organisation\" value={userData.companyName} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* address_line_one */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"address_line_one\">Address Line One</label>\r\n                        <input readOnly type=\"text\" name=\"address_line_one\" value={userData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* address_line_two */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"address_line_two\">Address Line Two</label>\r\n                        <input readOnly type=\"text\" name=\"address_line_two\" value={userData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input readOnly type=\"text\" name=\"city\" value={userData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input readOnly type=\"text\" name=\"country\" value={userData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postal_code */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"postal_code\">Postal Code</label>\r\n                        <input readOnly type=\"text\" name=\"postal_code\" value={userData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input readOnly type=\"text\" name=\"state\" value={userData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Account' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-account c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Account</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-account__Top c-Main__Top\">\r\n                        <h1>Manage Account</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"editAccount\"))}\r\n                                    type=\"button\"\r\n                                    className={isChangingPassword ? \"c-Btn c-Btn--primary c-Btn--disabled\" : \"c-Btn c-Btn--primary\"}\r\n                                    disabled={isChangingPassword ? true : false}\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Profile card section */}\r\n                                <div className=\"c-Manage-account__Profile-card c-Profile-card\">\r\n                                    <div className=\"l-Profile-card__Left\">\r\n                                        <img src={profilePic} alt=\"Profile img\" />\r\n                                        <span>Change profile picture</span>\r\n                                    </div>\r\n                                    <div className=\"l-Profile-card__Right\">\r\n                                        <h1>{userData.fullName}</h1>\r\n                                        <h2>@{userData.username}</h2>\r\n                                        <p>{userData.jobTitle}</p>\r\n                                        <p>{userData.emailDisplay}</p>\r\n                                        <p>{userData.companyName}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Profile input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n\r\n                                {/* Change password section */}\r\n                                <div className=\"l-Manage-account__Password\">\r\n                                    <h1>Password and Authentication</h1>\r\n                                    {\r\n                                        isChangingPassword ?\r\n                                            <div className=\"c-Change-Password\">\r\n                                                <p>Enter your current password and a new password</p>\r\n                                                {/* Current password */}\r\n                                                <div className=\"c-Change-Password__Current-password\">\r\n                                                    <label htmlFor=\"oldPassword\">Current Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"oldPassword\" />\r\n                                                </div>\r\n                                                {/* New password */}\r\n                                                <div className=\"c-Change-Password__New-password\">\r\n                                                    <label htmlFor=\"password\">New Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"password\" />\r\n                                                </div>\r\n                                                {/* New password */}\r\n                                                <div className=\"c-Change-Password__New-password\">\r\n                                                    <label htmlFor=\"confirmPassword\">Confirm New Password</label>\r\n                                                    <input onChange={handlePasswordInputChange} type=\"password\" name=\"confirmPassword\" />\r\n                                                </div>\r\n                                                {/* Password Criteria */}\r\n                                                <PasswordCriteria\r\n                                                    validity={passwordValidity}\r\n                                                />\r\n                                                {/* Save/Cancel Buttons */}\r\n                                                <div className=\"c-Change-Password__Btns\">\r\n                                                    {\r\n                                                        (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                                            passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                                            <button onClick={() => (handleBtn(\"changePasswordSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                                            :\r\n                                                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">Save</button>\r\n                                                    }\r\n\r\n                                                    <button onClick={() => (handleBtn(\"changePasswordCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                                                </div>\r\n                                            </div>\r\n                                            :\r\n                                            <div className=\"c-Change-Password__Btns\">\r\n                                                <button\r\n                                                    onClick={() => (handleBtn(\"changePassword\"))}\r\n                                                    type=\"button\"\r\n                                                    className={isEditing ? \"c-Btn c-Btn--primary c-Btn--disabled\" : \"c-Btn c-Btn--primary\"}\r\n                                                    disabled={isEditing ? true : false}\r\n                                                >\r\n                                                    Change Password\r\n                                                </button>\r\n                                            </div>\r\n                                    }\r\n\r\n                                </div>\r\n\r\n\r\n                            </>\r\n                    }\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageAccount;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport { useHistory } from 'react-router';\r\nimport jwt_decode from 'jwt-decode';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageUsers = () => {\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const adminLevel = decodedToken.admin_level;    // 0 = normal user, 1 = secondary admin, 2 = super admin\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [usersData, setUsersData] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // get all info about the user\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees?roles=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const formattedUsersData = res.data.results.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1,\r\n                    username: data.account.username,\r\n                    accountStatus: data.account.status\r\n                }));\r\n                console.log(formattedUsersData);\r\n                setUsersData(() => (formattedUsersData));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response) {\r\n                    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                        console.log(\"this was ran\");\r\n                        // return unauthorised error component\r\n                        setRenderErrorCard((prevState) => ({\r\n                            ...prevState,\r\n                            render: true,\r\n                            errMsg: err.response.data.message,\r\n                            errStatus: err.response.status,\r\n                            errStatusText: err.response.statusText\r\n                        }));\r\n                    }\r\n                }\r\n               \r\n            });\r\n\r\n    }, []);\r\n\r\n    const usersColumn = [\r\n        {\r\n            dataField: 'employee_id',\r\n            text: 'Id',\r\n            hidden: true\r\n        },\r\n        {\r\n            dataField: 'serialNo',\r\n            text: '#',\r\n            editable: false\r\n        },\r\n        {\r\n            dataField: 'admin_level',\r\n            text: 'Admin level',\r\n            formatter: (cell, row) => {\r\n                if (cell === 0) {\r\n                    return \"Normal user\";\r\n                } else if (cell === 1) {\r\n                    return \"Platform admin\";\r\n                } else if (cell === 2) {\r\n                    return \"System admin\";\r\n                } else if (cell === 3) {\r\n                    return \"Secondary Admin\";\r\n                }\r\n            }\r\n        },\r\n        {\r\n            dataField: 'email',\r\n            text: 'Email',\r\n            editable: false,\r\n        },\r\n        {\r\n            dataField: 'title',\r\n            text: 'Job Title'\r\n        },\r\n        {\r\n            dataField: 'username',\r\n            text: 'Username',\r\n            editable: false,\r\n        },\r\n        {\r\n            dataField: 'roles',\r\n            text: 'Role(s)',\r\n            editable: false,\r\n            formatter: (cell, row) => {\r\n                if (cell.length === 0) {\r\n                    return \"Nil\"\r\n                } else {\r\n                    return (\r\n                        cell.map((data, index) => {\r\n                            if (cell.length === index + 1) {\r\n                                return data.name\r\n                            }\r\n                            return (\r\n                                <div key={index}>{data.name + \",\"}<br /></div>\r\n                            )\r\n\r\n                        })\r\n\r\n                    );\r\n                }\r\n\r\n            }\r\n        },\r\n        {\r\n            dataField: 'accountStatus',\r\n            text: 'Status',\r\n            formatter: (cell, row) => {\r\n                // Capitalize first letter of the string\r\n                return cell.charAt(0).toUpperCase() + cell.slice(1);\r\n            }\r\n        },\r\n        {\r\n            dataField: 'account_action',\r\n            text: '',\r\n            hidden: (() => {\r\n                // If user is not super admin\r\n                if (adminLevel !== 2) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            })(),\r\n            isDummyField: true,\r\n            formatter: (cell, row) => {\r\n                return <a href={`/settings/manage-users/manage-user/${row.employee_id}`}>Manage</a>\r\n            }\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Users\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-users c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-users l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Users</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-users__Top c-Main__Top\">\r\n                    <h1>Manage Users</h1>\r\n                </div>\r\n                {\r\n                    renderErrorCard.render ?\r\n                        <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                        :\r\n                        <>\r\n                            {/* Table section */}\r\n                            <div className=\"c-Manage-users__Table\">\r\n                                <ToolkitProvider\r\n                                    keyField=\"employee_id\"\r\n                                    data={usersData}\r\n                                    columns={usersColumn}\r\n                                    search\r\n\r\n                                >\r\n                                    {\r\n                                        props => (\r\n                                            <div className=\"c-Table\">\r\n                                                <div className=\"c-Table__Top\">\r\n                                                    <SearchBar {...props.searchProps} />\r\n                                                    <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                                </div>\r\n                                                <hr />\r\n                                                <BootstrapTable\r\n                                                    {...props.baseProps}\r\n                                                    bordered={false}\r\n                                                    pagination={ paginationFactory() }\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </ToolkitProvider>\r\n\r\n                            </div>\r\n\r\n                        </>\r\n                }\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageUsers;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert.js';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageUser = ({ match }) => {\r\n    const employeeID = match.params.employeeID;\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [userData, setUserData] = useState({\r\n        roles: []\r\n    });\r\n    const [roleData, setRoleData] = useState([]);\r\n    const [editData, setEditData] = useState({\r\n        roles: '',\r\n        jobTitle: ''\r\n    });\r\n    const [editMode, setEditMode] = useState({\r\n        jobTitle: false\r\n    });\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [realAdminLevel, setRealAdminLevel] = useState(0);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}?roles=true&company=true`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedUserData = {\r\n                    fullName: `${resDataResults.firstname} ${resDataResults.lastname}`,\r\n                    username: resDataResults.account.username,\r\n                    jobTitle: resDataResults.title,\r\n                    email: resDataResults.email,\r\n                    companyName: resDataResults.company.name,\r\n                    firstName: resDataResults.firstname,\r\n                    lastName: resDataResults.lastname,\r\n                    roles: resDataResults.roles,\r\n                    accountStatus: resDataResults.account.status,\r\n                    adminLevel: resDataResults.admin_level\r\n                };\r\n                setRealAdminLevel(() => resDataResults.admin_level)\r\n                setUserData(() => formattedUserData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response) {\r\n                    if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                        console.log(\"this was ran\");\r\n                        // return unauthorised error component\r\n                        setRenderErrorCard((prevState) => ({\r\n                            ...prevState,\r\n                            render: true,\r\n                            errMsg: err.response.data.message,\r\n                            errStatus: err.response.status,\r\n                            errStatusText: err.response.statusText\r\n                        }));\r\n                    }\r\n                }\r\n\r\n            });\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/roles`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then((res) => {\r\n            console.log(res);\r\n            const formattedRoleData = res.data.results;\r\n            setRoleData(() => formattedRoleData);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n            if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                console.log(\"this was ran\");\r\n                // return unauthorised error component\r\n                setRenderErrorCard((prevState) => ({\r\n                    ...prevState,\r\n                    render: true,\r\n                    errMsg: err.response.data.message,\r\n                    errStatus: err.response.status,\r\n                    errStatusText: err.response.statusText\r\n                }));\r\n            }\r\n        });\r\n    }, [rerender]);\r\n\r\n    useEffect(() => {\r\n        setEditData(() => ({\r\n            role: '',\r\n            jobTitle: userData.jobTitle\r\n        }));\r\n    }, [userData]);\r\n\r\n    // Handler for adding / delete role\r\n    const handleEditRole = (handleType, roleID) => {\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${employeeID}/roles`, {\r\n            roles: (() => {\r\n                // handle add role\r\n                if (handleType === \"add\") {\r\n                    let tempRoleArrList = userData.roles.map((data, index) => {\r\n                        return data.role_id\r\n                    });\r\n                    tempRoleArrList.push(editData.roles);\r\n                    console.log(tempRoleArrList);\r\n                    return tempRoleArrList;\r\n                }\r\n                // handle delete role \r\n                if (handleType === \"delete\") {\r\n                    let tempRoleArrList = userData.roles.map((data, index) => {\r\n                        return data.role_id\r\n                    });\r\n                    const indexOfToBeDeletedRoleID = tempRoleArrList.indexOf(roleID);\r\n                    tempRoleArrList.splice(indexOfToBeDeletedRoleID, 1);\r\n                    console.log(tempRoleArrList);\r\n                    return tempRoleArrList;\r\n                }\r\n            })()\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRerender((prevState) => !prevState);\r\n                toast.success(<>Success!<br />Message: <b>Roles updated!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    // Handler for select input change\r\n    const handleSelectInputChange = (event) => {\r\n        let selectValue = parseInt(event.target.value);\r\n\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: selectValue\r\n        }));\r\n    };\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    // Handler for edit button\r\n    const handleEditBtn = (editType) => {\r\n        if (editType === \"jobTitle\") {\r\n            setEditMode((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: !prevState.jobTitle\r\n            }));\r\n            console.log(editData);\r\n        }\r\n    };\r\n\r\n    // Handler for save button\r\n    const handleSaveBtn = (saveType) => {\r\n        if (saveType === \"jobTitle\") {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, { title: editData.jobTitle }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setEditData((prevState) => ({\r\n                        ...prevState,\r\n                        jobTitle: userData.jobTitle\r\n                    }));\r\n                    setEditMode((prevState) => ({\r\n                        ...prevState,\r\n                        jobTitle: !prevState.jobTitle\r\n                    }));\r\n                    setRerender((prevState) => !prevState);\r\n                    toast.success(<>Success!<br />Message: <b>Job title has been updated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handler for cancel button\r\n    const handleCancelBtn = (cancelType) => {\r\n        if (cancelType === \"jobTitle\") {\r\n            setEditData((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: userData.jobTitle\r\n            }));\r\n            setEditMode((prevState) => ({\r\n                ...prevState,\r\n                jobTitle: !prevState.jobTitle\r\n            }))\r\n        }\r\n    };\r\n\r\n    // Handler for user activation \r\n    const handleUserActivation = (actionType) => {\r\n        let accountStatusType;\r\n        if (actionType === \"activated\") {\r\n            accountStatusType = \"active\";\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            accountStatusType = \"deactivated\";\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, {\r\n                account_status: accountStatusType\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>User has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handle admin level save button\r\n    const handleAdminLevelSaveBtn = () => {\r\n        if (realAdminLevel === 2) {\r\n            toast.error(<>Error! Message: <b>Super admin cannot change its own level</b></>);\r\n            return;\r\n        }\r\n        console.log(userData.adminLevel);\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employees/${employeeID}`, {\r\n            admin_level: userData.adminLevel\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                setRerender((prevState) => !prevState);\r\n                toast.success(<>Success!<br />Message: <b> Admin level has been updated!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n            });\r\n    };\r\n\r\n    // Handler for admin level select input\r\n    const handleAdminLevelSelect = (event) => {\r\n        setUserData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: [event.target.value]\r\n        }));\r\n    }\r\n\r\n    // Handler for rendering add role button section\r\n    const renderAddRoleBtnSection = () => {\r\n        let userHaveAllRoles = false;\r\n        const roleDataArr = roleData.map((data, index) => {\r\n            return data.role_id;\r\n        });\r\n\r\n        const userRoleDataArr = userData.roles.map((data, index) => {\r\n            return data.role_id;\r\n        });\r\n        // Stringify array to compare. Cannot compare objects\r\n        if (JSON.stringify(roleDataArr.sort()) === JSON.stringify(userRoleDataArr.sort())) {\r\n            userHaveAllRoles = true;\r\n        }\r\n\r\n        if (userHaveAllRoles) {\r\n            return (\r\n                <button className=\"c-Roles__Add c-Btn c-Btn--disabled\" disabled>Add</button>\r\n            );\r\n        } else {\r\n            return (\r\n                <button className=\"c-Roles__Add c-Btn c-Btn--primary\" onClick={() => handleEditRole(\"add\")}>Add</button>\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage User' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-user c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-user__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/manage-users\">Manage users</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage user</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-user__Top c-Main__Top\">\r\n                        <h1>Manage User</h1>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Input fields */}\r\n                                <h1 className=\"c-Manage-user__User-heading\">You are viewing settings for @{`${userData.username}`}</h1>\r\n                                {/* First row */}\r\n                                <div className=\"c-Manage-user__Inputs\">\r\n                                    <div className=\"c-Inputs__Left\">\r\n                                        <div className=\"c-Left__Admin-level\">\r\n                                            {/* Admin level */}\r\n                                            <label htmlFor=\"adminLevel\">Admin Level</label>\r\n                                            <select disabled={realAdminLevel === 2 ? true : false} name=\"adminLevel\" onChange={handleAdminLevelSelect} value={userData.adminLevel || 0}>\r\n                                                <option value=\"0\">Normal User</option>\r\n                                                {/* <option value=\"2\">System Admin</option> */}\r\n                                                <option value=\"3\">Secondary Admin</option>\r\n                                            </select>\r\n                                            <button disabled={realAdminLevel === 2 ? true : false} type=\"button\" className={realAdminLevel === 2 ? \"c-Btn c-Btn--disabled\" : \"c-Btn c-Btn--primary\"} onClick={handleAdminLevelSaveBtn}>Save</button>\r\n                                        </div>\r\n                                        <div className=\"c-Left__Job-title\">\r\n                                            <h2>Job Title</h2>\r\n                                            <div className=\"c-Job-title__Input\">\r\n\r\n                                                {\r\n                                                    editMode.jobTitle ?\r\n                                                        <>\r\n                                                            <input type=\"text\" name=\"jobTitle\" value={editData.jobTitle || ''} onChange={handleInputChange} />\r\n                                                            <div className=\"c-Input__Btn-section\">\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSaveBtn(\"jobTitle\")}>Save</button>\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => handleCancelBtn(\"jobTitle\")}>Cancel</button>\r\n                                                            </div>\r\n\r\n                                                        </>\r\n                                                        :\r\n                                                        <>\r\n                                                            <input type=\"text\" value={userData.jobTitle || ''} disabled />\r\n                                                            <div className=\"c-Input__Btn-section c-Btn-section--edit\">\r\n                                                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleEditBtn(\"jobTitle\")}>Edit</button>\r\n                                                            </div>\r\n                                                        </>\r\n                                                }\r\n\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"c-Inputs__Right\">\r\n                                        <label htmlFor=\"roles\">Current Role(s)</label>\r\n                                        {/* Select role input */}\r\n                                        <select name=\"roles\" onChange={handleSelectInputChange} value={editData.roles}>\r\n                                            <option value={''}>Please select a role</option>\r\n                                            {\r\n                                                roleData.map((data1, index1) => {\r\n                                                    let userHaveAlready = false;\r\n                                                    userData.roles.forEach((data2, index2) => {\r\n                                                        if (data1.role_id === data2.role_id) {\r\n                                                            userHaveAlready = true;\r\n                                                        }\r\n                                                    });\r\n                                                    if (!userHaveAlready) {\r\n                                                        return <option key={index1} value={data1.role_id}>{data1.name}</option>\r\n                                                    } else {\r\n                                                        return null;\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        </select>\r\n                                        {/* Current role list */}\r\n                                        {\r\n                                            userData.roles.map((data, index) => {\r\n                                                return (\r\n                                                    <div key={index} className=\"c-Roles__Data\">\r\n                                                        {data.name}\r\n                                                        <div className=\"c-Data__Delete-Btn\">\r\n                                                            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                                                <RiIcons.RiDeleteBin7Line onClick={() => handleEditRole(\"delete\", data.role_id)} />\r\n                                                            </IconContext.Provider>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        }\r\n\r\n                                        {/* render button */}\r\n                                        {renderAddRoleBtnSection()}\r\n\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                                {/* Second row */}\r\n                                <div className=\"c-Manage-user__Inputs\">\r\n\r\n                                </div>\r\n                                {\r\n                                    realAdminLevel === 2 ?\r\n                                        null :\r\n                                        <>\r\n                                            {/* Third row */}\r\n                                            < div className=\"c-Manage-user__Inputs\">\r\n                                                <div className=\"c-Inputs__Danger-zone\">\r\n\r\n                                                    <h2>Danger Zone</h2>\r\n                                                    <div className=\"c-Danger-zone__Row\">\r\n                                                        {\r\n                                                            userData.accountStatus === \"active\" ?\r\n                                                                <>\r\n                                                                    <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleUserActivation(\"deactivated\")}>Deactivate user</button>\r\n                                                                    <div className=\"c-Row__Info\">\r\n                                                                        <h3>Deactivate this user</h3>\r\n                                                                        <p>The user will not have access to the company's eISO system.</p>\r\n                                                                    </div>\r\n                                                                </> :\r\n                                                                <>\r\n                                                                    <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleUserActivation(\"activated\")}>Activate user</button>\r\n                                                                    <div className=\"c-Row__Info\">\r\n                                                                        <h3>Activate this user</h3>\r\n                                                                        <p>The user will regain access to the company's eISO system.</p>\r\n                                                                    </div>\r\n                                                                </>\r\n                                                        }\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n\r\n                                }\r\n\r\n                            </>\r\n                    }\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageUser;","import React, { useState } from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst PageNotFound = () => {\r\n    const [show, setShow] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const goBack = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div className=\"c-Page-not-found\">\r\n            <div className=\"c-Page-not-found__Alert-box\">\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n                    <p>This page doesn't exists :/ Would you like to go back?</p>\r\n                    <button className=\"c-Alert-box__Back-btn c-Btn c-Btn--cancel\" onClick={goBack}>Go back</button>\r\n                </Alert>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageNotFound;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport RiskNOppItem from '../../common/RiskNOppItem';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst RiskNOppArchived = ({ match }) => {\r\n    const rnoID = match.params.rnoID;     // get id of interested party\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [docHeaderData, setDocHeaderData] = useState({});\r\n    const [docTableData, setDocTableData] = useState({\r\n        strength: [],\r\n        weakness: [],\r\n        opp: [],\r\n        threat: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!isNaN(rnoID) && rnoID !== null) {\r\n            axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/risks-analyses/${rnoID}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    // Format dopcument table data\r\n                    const formattedDocTableData = {\r\n                        strength: res.data.strengths.map((strengthData, strengthIndex) => {\r\n                            return {\r\n                                serialNo: strengthIndex + 1,\r\n                                id: strengthData.fk_risks_analysis_id,\r\n                                swot_item_id: strengthData.fk_swot_item_id,\r\n                                content: strengthData.swot.content,\r\n                                type: strengthData.type,\r\n                                severity: strengthData.severity,\r\n                                likelihood: strengthData.likelihood,\r\n                                rpn: strengthData.rpn,\r\n                                action: strengthData.action,\r\n                                modified: dayjs(new Date(strengthData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        weakness: res.data.weaknesses.map((weaknessData, weaknessIndex) => {\r\n                            return {\r\n                                serialNo: weaknessIndex + 1,\r\n                                id: weaknessData.fk_risks_analysis_id,\r\n                                swot_item_id: weaknessData.fk_swot_item_id,\r\n                                content: weaknessData.swot.content,\r\n                                type: weaknessData.type,\r\n                                severity: weaknessData.severity,\r\n                                likelihood: weaknessData.likelihood,\r\n                                rpn: weaknessData.rpn,\r\n                                action: weaknessData.action,\r\n                                modified: dayjs(new Date(weaknessData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        opp: res.data.opportunities.map((oppData, oppIndex) => {\r\n                            return {\r\n                                serialNo: oppIndex + 1,\r\n                                id: oppData.fk_risks_analysis_id,\r\n                                swot_item_id: oppData.fk_swot_item_id,\r\n                                content: oppData.swot.content,\r\n                                type: oppData.type,\r\n                                severity: oppData.severity,\r\n                                likelihood: oppData.likelihood,\r\n                                rpn: oppData.rpn,\r\n                                action: oppData.action,\r\n                                modified: dayjs(new Date(oppData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        }),\r\n                        threat: res.data.threats.map((threatData, threatIndex) => {\r\n                            return {\r\n                                serialNo: threatIndex + 1,\r\n                                id: threatData.fk_risks_analysis_id,\r\n                                swot_item_id: threatData.fk_swot_item_id,\r\n                                content: threatData.swot.content,\r\n                                type: threatData.type,\r\n                                severity: threatData.severity,\r\n                                likelihood: threatData.likelihood,\r\n                                rpn: threatData.rpn,\r\n                                action: threatData.action,\r\n                                modified: dayjs(new Date(threatData.updated_at)).format(\"DD/MM/YYYY\"),\r\n                            };\r\n                        })\r\n                    };\r\n                    setDocTableData(() => (formattedDocTableData));\r\n\r\n                    // Format document header data\r\n                    const formattedData = {\r\n                        title: res.data.title,\r\n                        created_by: res.data.author.firstname + \" \" + res.data.author.lastname,\r\n                        approved_by: res.data.approver.firstname + \" \" + res.data.author.lastname,\r\n                        approved_on: dayjs(new Date(res.data.approved_on)).format(\"MMMM D, YYYY h:mm A\"),\r\n                    }\r\n                    console.log(formattedData);\r\n                    setDocHeaderData(() => (formattedData));\r\n\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Risk and Opportunity' activeLink=\"/risk-n-opportunity\">\r\n            <div className=\"c-RNO c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-RNO__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/risk-n-opportunity\">Risk and Opportunity</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>View Archived</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-RNO__Top c-Main__Top\">\r\n                    <h1>Risk and Opportunity (Archived)</h1>\r\n                </div>\r\n                {/* Document section */}\r\n                <div className=\"c-RNO__Document c-Main__Document\">\r\n                    {/* Document */}\r\n                    <DocumentLayout >\r\n                        <div className=\"c-RNO__Document-content c-Document\">\r\n                            {/* Title */}\r\n                            <h1 className=\"c-Document__Title\">{docHeaderData.title ? docHeaderData.title : null}</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-RNO__Document-header c-Document__Header\">\r\n                                <div className=\"c-RNO__Document-header--left c-Document__Header--left\">\r\n                                    <p>Approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Approved on:</p>\r\n                                </div>\r\n                                <div className=\"c-RNO__Document-header--right c-Document__Header--right\">\r\n                                    <p>{docHeaderData.approved_by ? docHeaderData.approved_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.created_by ? docHeaderData.created_by : \"Error\"}</p>\r\n                                    <p>{docHeaderData.approved_on ? docHeaderData.approved_on : \"Error\"}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* Table section */}\r\n                            <div className=\"c-RNO__Table\">\r\n                                <h1>Strengths</h1>\r\n                                {\r\n                                    docTableData.strength.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Weakness</h1>\r\n                                {\r\n                                    docTableData.weakness.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Opportunities</h1>\r\n                                {\r\n                                    docTableData.opp.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                <h1>Threats</h1>\r\n                                {\r\n                                    docTableData.threat.map((strengthData, index) => {\r\n                                        console.log(strengthData);\r\n                                        return (\r\n                                            <RiskNOppItem\r\n                                                key={index}\r\n                                                docType=\"active\"\r\n                                                rnoItemData={strengthData}\r\n                                                rnoItemIndex={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                    </DocumentLayout>\r\n                </div>\r\n            </div>\r\n        </PageLayout >\r\n    )\r\n}\r\n\r\nexport default RiskNOppArchived;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport { useHistory } from 'react-router';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\n\r\nconst ManageInvites = () => {\r\n    const { SearchBar, ClearSearchButton } = Search;\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [inviteListData, setInviteData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [sendInviteInputData, setSendInviteInputData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        title: \"\"\r\n    });\r\n\r\n    // const [rerender, setRerender] = useState(false);\r\n\r\n    // useEffect(() => {\r\n    //     axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/invites`, {\r\n    //         headers: {\r\n    //             'Authorization': `Bearer ${token}`\r\n    //         }\r\n    //     })\r\n    //         .then((res) => {\r\n    //             console.log(res);\r\n    //             if (res.data !== undefined) {\r\n    //                 const formattedUsersData = res.data.results.map((data, index) => ({\r\n    //                     ...data,\r\n    //                     serialNo: index + 1,\r\n    //                     created_at: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\")\r\n    //                 }))\r\n    //                 setInviteData(() => (formattedUsersData));\r\n    //             }\r\n\r\n    //         })\r\n    //         .catch((err) => {\r\n    //             console.log(err);\r\n    //         })\r\n    // }, [rerender]);\r\n\r\n    const handleSendInviteBtn = () => {\r\n        // Confirmation dialogue for sending invite link\r\n        const message = `You are about to send an invite link to ${sendInviteInputData.email} to the system. Click confirm to proceed.`;\r\n        const handler = (onClose) => handleSendInviteAxios(onClose);\r\n        const heading = `Confirm send invite?`;\r\n        const type = \"primary\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n        const handleSendInviteAxios = (onClose) => {\r\n            onClose();\r\n            setLoading(() => true);\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/invites/new/user`, sendInviteInputData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(<>Success!<br />Message: <b>Email has been sent to: {`${sendInviteInputData.email}`}!</b></>);\r\n                    setLoading(() => false);\r\n                    setSendInviteInputData(() => ({\r\n                        name: \"\",\r\n                        email: \"\",\r\n                        title: \"\"\r\n                    }));\r\n                    // setRerender((prevState) => !prevState);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    setLoading(() => false);\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        };\r\n\r\n    };\r\n\r\n    const handleInputChange = ((event) => {\r\n        console.log(sendInviteInputData);\r\n        console.log(event.target.name);\r\n        console.log(event.target.value);\r\n\r\n        setSendInviteInputData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    });\r\n\r\n    // const companiesColumn = [\r\n    //     {\r\n    //         dataField: 'employee_id',\r\n    //         text: 'Id',\r\n    //         hidden: true\r\n    //     },\r\n    //     {\r\n    //         dataField: 'serialNo',\r\n    //         text: '#'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'name',\r\n    //         text: 'Name'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'email',\r\n    //         text: 'Email'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'status',\r\n    //         text: 'Status'\r\n    //     },\r\n    //     {\r\n    //         dataField: 'created_at',\r\n    //         text: \"Sent on\"\r\n    //     },\r\n    // ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Invites\" activeLink=\"/settings\">\r\n                <div className=\"c-Manage-invites c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-invites l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Invites</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-invites__Top c-Main__Top\">\r\n                        <h1>Manage Invites</h1>\r\n                    </div>\r\n                    {/* Send invites section */}\r\n                    <div className=\"c-Manage-invites__Send-email\">\r\n                        <h2>Send Invite*</h2>\r\n                        {\r\n                            loading ?\r\n                                <>\r\n                                    <Spinner animation=\"border\" role=\"status\" />\r\n                                    <p>Loading...</p>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className=\"c-Send-email__Input\">\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"name\">Name</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"name\" placeholder=\"Name\" value={sendInviteInputData.name} />\r\n                                        </div>\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"title\">Job Title</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"title\" placeholder=\"Job Title\" value={sendInviteInputData.title} />\r\n                                        </div>\r\n                                        <div className=\"c-Input__Row\">\r\n                                            <label htmlFor=\"email\">Email</label>\r\n                                            <input type=\"text\" onChange={handleInputChange} name=\"email\" placeholder=\"Email\" value={sendInviteInputData.email} />\r\n                                        </div>\r\n                                        <div className = \"c-Input__Row\">\r\n                                            {/* To be continued */}\r\n                                            <label htmlFor=\"induction_template\">Induction Template</label>\r\n                                            <select name = \"induction_template\">\r\n                                                <option value = {null}>Assign an induction template</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p><b>*</b>Users who sign up through the invite link will have the role of 'Normal User'.</p>\r\n                                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={handleSendInviteBtn}>Send Invite</button>\r\n                                </>\r\n                        }\r\n\r\n                    </div>\r\n                    {/* Invite list Table section */}\r\n                    <div className=\"c-Manage-invites__Table\">\r\n                        <h2>Invites List</h2>\r\n                        <p>Coming soon...</p>\r\n                        {/* <ToolkitProvider\r\n                            keyField=\"id\"\r\n                            data={inviteListData}\r\n                            columns={companiesColumn}\r\n                            search\r\n\r\n                        >\r\n                            {\r\n                                props => (\r\n                                    <div className=\"c-Table\">\r\n                                        <div className=\"c-Table__Top\">\r\n                                            <SearchBar {...props.searchProps} />\r\n                                            <ClearSearchButton className=\"c-Table__Clear-btn\" {...props.searchProps} />\r\n                                        </div>\r\n                                        <hr />\r\n                                        <BootstrapTable\r\n                                            {...props.baseProps}\r\n                                            bordered={false}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        </ToolkitProvider> */}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageInvites;","import React, { useState, useEffect } from 'react';\r\nimport { getSideNavStatus } from '../utilities/sideNavUtils.js';\r\nimport PageLayout from '../layout/PageLayout';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport axios from 'axios';\r\nimport { getToken, getUserCompanyID } from '../utilities/localStorageUtils';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport dayjs from 'dayjs';\r\nimport ErrorCard from '../common/ErrorCard.js';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from '../common/CustomConfirmAlert';\r\nimport config from '../config/config';\r\nimport TokenManager from '../utilities/tokenManager';\r\n\r\nconst ManageOrganization = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [companyData, setCompanyData] = useState({\r\n        companyName: 'Error',\r\n        businessRegNum: 'Error',\r\n        companyAlias: 'Error',\r\n        createdOn: 'Error',\r\n        status: 'Error',\r\n        description: 'Error',\r\n        address: {\r\n            line1: 'Error',\r\n            line2: 'Error',\r\n            city: 'Error',\r\n            state: 'Error',\r\n            country: 'Error',\r\n            postalCode: 'Error'\r\n        },\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n\r\n    useEffect(() => {\r\n        // Endpoint to retrieve details about company\r\n        axios.get(`${process.env.REACT_APP_BASEURL}/companies/${userCompanyID}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res);\r\n                const resDataResults = res.data.results;\r\n                const formattedCompanyData = {\r\n                    companyName: resDataResults.name,\r\n                    businessRegNum: resDataResults.business_registration_number,\r\n                    companyAlias: resDataResults.alias,\r\n                    createdOn: resDataResults.created_at,\r\n                    status: resDataResults.status,\r\n                    description: resDataResults.description,\r\n                    address: {\r\n                        addressID: resDataResults.address_id,\r\n                        line1: resDataResults.address.address_line_one,\r\n                        line2: resDataResults.address.address_line_two,\r\n                        city: resDataResults.address.city,\r\n                        state: resDataResults.address.state,\r\n                        country: resDataResults.address.country,\r\n                        postalCode: resDataResults.address.postal_code\r\n                    },\r\n                };\r\n                setCompanyData(() => formattedCompanyData);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                if (err.response.status === 401 || err.response.status === 403 || err.response.status === 404) {\r\n                    console.log(\"this was ran\");\r\n                    // return unauthorised error component\r\n                    setRenderErrorCard((prevState) => ({\r\n                        ...prevState,\r\n                        render: true,\r\n                        errMsg: err.response.data.message,\r\n                        errStatus: err.response.status,\r\n                        errStatusText: err.response.statusText\r\n                    }));\r\n                }\r\n            });\r\n    }, [token, userCompanyID]);\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCompanyData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const handleAddressInputChange = (event) => {\r\n        setCompanyData((prevState) => ({\r\n            ...prevState,\r\n            address: {\r\n                ...prevState.address,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    }\r\n\r\n    // Handler for edit button\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"editCompany\" || buttonType === \"editCompanyCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing((prevState) => (!prevState));\r\n        }\r\n\r\n        if (buttonType === \"editCompanySave\") {\r\n            const message = `You are about to save new company details. Click confirm to proceed.`;\r\n            const handler = (onClose) => editCompanyDetails(onClose);\r\n            const heading = `Confirm Save?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n\r\n            // Confirmation dialogue for sending invite\r\n            return confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (buttonType === \"deleteCompany\") {\r\n            // Do api call here\r\n        }\r\n    }\r\n\r\n    // API call for edit user details\r\n    const editCompanyDetails = (onClose) => {\r\n        setLoading(() => (true));\r\n        axios.put(`${process.env.REACT_APP_BASEURL}/companies/${userCompanyID}`, {\r\n            name: companyData.companyName,\r\n            business_registration_number: companyData.businessRegNum,\r\n            alias: companyData.companyAlias,\r\n            status: companyData.status,\r\n            description: companyData.description,\r\n            address: {\r\n                \"address_line_one\": companyData.address.line1,\r\n                \"address_line_two\": companyData.address.line2,\r\n                \"city\": companyData.address.city,\r\n                \"state\": companyData.address.state,\r\n                \"country\": companyData.address.country,\r\n                \"postal_code\": companyData.address.postalCode,\r\n            },\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }\r\n        )\r\n            .then((res) => {\r\n                console.log(\"Updated Company Details successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setIsEditing(() => false);\r\n                toast.success(<>Success!<br />Message: <b>Updated Company Details successfully!</b></>);\r\n                onClose();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n                onClose();\r\n            })\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* Company Name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"companyName\">Company Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"companyName\" value={companyData.companyName} />\r\n                    </Col>\r\n                    {/* Business Registration Number */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--edit\">\r\n                        <label htmlFor=\"businessRegNum\">Business Registration Number</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"businessRegNum\" value={companyData.businessRegNum} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Company Alias */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"companyAlias\">Company Alias</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"companyAlias\" value={companyData.companyAlias} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--edit\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <p>Cannot be edited!</p>\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line1\" value={companyData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"line2\" value={companyData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"city\" value={companyData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"country\" value={companyData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"postalCode\" value={companyData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--edit\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleAddressInputChange} name=\"state\" value={companyData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* description */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--edit\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"description\" value={companyData.description} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-account__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editCompanySave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editCompanyCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n\r\n            <Container className=\"l-Manage-account__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-account__Inputs--row1 l-Manage-account__Inputs--row\">\r\n                    {/* Company Name */}\r\n                    <Col className=\"c-Input c-Input__First-name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"companyName\">Company Name</label>\r\n                        <input readOnly type=\"text\" name=\"companyName\" value={companyData.companyName} />\r\n                    </Col>\r\n                    {/* Business Registration Number */}\r\n                    <Col className=\"c-Input c-Input__Last-name c-Input--read-only\">\r\n                        <label htmlFor=\"businessRegNum\">Business Registration Number</label>\r\n                        <input readOnly type=\"text\" name=\"businessRegNum\" value={companyData.businessRegNum} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-account__Inputs--row2 l-Manage-account__Inputs--row\">\r\n                    {/* Company Alias */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"companyAlias\">Company Alias</label>\r\n                        <input readOnly type=\"text\" name=\"companyAlias\" value={companyData.companyAlias} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Email c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={dayjs(new Date(companyData.createdOn)).format(\"MMMM D, YYYY h:mm A\")} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 3 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* line1 */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"line1\">Address Line One</label>\r\n                        <input readOnly type=\"text\" name=\"line1\" value={companyData.address.line1} />\r\n                    </Col>\r\n\r\n                    {/* line2 */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"line2\">Address Line Two</label>\r\n                        <input readOnly type=\"text\" name=\"line2\" value={companyData.address.line2} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 4 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* city */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input readOnly type=\"text\" name=\"city\" value={companyData.address.city} />\r\n                    </Col>\r\n\r\n                    {/* country */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"country\">Country</label>\r\n                        <input readOnly type=\"text\" name=\"country\" value={companyData.address.country} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 5 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* postalCode */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input readOnly type=\"text\" name=\"postalCode\" value={companyData.address.postalCode} />\r\n                    </Col>\r\n\r\n                    {/* state */}\r\n                    <Col className=\"c-Input c-Input__Organisation c-Input--read-only\">\r\n                        <label htmlFor=\"state\">State</label>\r\n                        <input readOnly type=\"text\" name=\"state\" value={companyData.address.state} />\r\n                    </Col>\r\n                </Row>\r\n                {/* Row 6 */}\r\n                <Row className=\"l-Manage-account__Inputs--row3 l-Manage-account__Inputs--row\">\r\n                    {/* description */}\r\n                    <Col className=\"c-Input l-Manage-account__Roles c-Input--read-only\">\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <input readOnly type=\"text\" name=\"description\" value={companyData.description} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Account' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-account c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-IP__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Organization</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-account__Top c-Main__Top\">\r\n                        <h1>Manage Organization</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"editCompany\"))}\r\n                                    type=\"button\"\r\n                                    className=\"c-Btn c-Btn--primary\"\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Input fields section */}\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            isEditing ?\r\n                                renderInputFieldEditSection()\r\n                                :\r\n                                renderInputFieldSection()\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageOrganization;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Title from '../../common/Title';\r\nimport logo from '../../assets/images/eISO-logo.png';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport OtpInput from 'react-otp-input';\r\nimport { BiArrowBack } from 'react-icons/bi';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { IconContext } from 'react-icons';\r\nimport config from '../../config/config';\r\n\r\nconst ForgotPassword = () => {\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [otpFormFilled, setOtpFormFilled] = useState(false);\r\n    const [sentEmail, setSentEmail] = useState(false);\r\n    const [otp, setOtp] = useState(null);\r\n    const [inputValues, setInputValues] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const toastTiming = config.toastTiming;\r\n\r\n    useEffect(() => {\r\n        // Check if user touched send otp form\r\n        if (inputValues.username !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        // Check if user touched submit otp form\r\n        if (otp !== '') {\r\n            setOtpFormFilled(() => (true));\r\n        } else {\r\n            setOtpFormFilled(() => (false));\r\n        }\r\n    }, [inputValues, otp]);\r\n\r\n    // Handler for form submission\r\n    // Need change endpoint\r\n    const handleFormSubmit = (event) => {\r\n        let username = event.target.username.value;\r\n        console.log(username);\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/new`, {\r\n            username,\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Sent OTP successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setSentEmail(true);\r\n                toast.success(<>Success!<br />Message: <b>OTP has been sent!</b></>);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for OTP submission\r\n    const handleOtpSubmit = (event) => {\r\n        console.log(otp);\r\n        console.log(inputValues.username);\r\n\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        // If success redirect to change password form with username & otp as params\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/check`, {\r\n            username: inputValues.username,\r\n            otp\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Checked OTP successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                history.push(`/change-password/${inputValues.username}/${otp}`);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    // Handler for otp input change\r\n    const handleOtpChange = (otp) => {\r\n        setOtp(() => (otp));\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Title */}\r\n                            <Container>\r\n                                <Row>\r\n                                    <Col className=\"c-Card__Back-btn\" xs={1}>\r\n                                        <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                            <BiArrowBack onClick={() => history.goBack()}></BiArrowBack>\r\n                                        </IconContext.Provider>\r\n                                    </Col>\r\n                                    <Col xs={11}><h4>Forgot Password</h4></Col>\r\n                                </Row>\r\n                            </Container>\r\n                            {/* Username */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <input type=\"text\" name=\"username\" value={inputValues.username || ''} onChange={handleInputChange} placeholder=\"username\" />\r\n                                <p className=\"c-Username__Information-message text-muted\">We will send a one time password for verification to your email address</p>\r\n                            </div>\r\n                            {\r\n                                // Check if user has touched username input\r\n                                formFilled ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Send OTP\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Send OTP</button>\r\n                            }\r\n                        </form>\r\n\r\n                        {/* Form for OTP submission */}\r\n                        {sentEmail ?\r\n                            <form onSubmit={handleOtpSubmit}>\r\n                                {/* Email */}\r\n                                <div className=\"c-Card__Username\">\r\n                                    <label htmlFor=\"otp\">Key in OTP</label>\r\n                                </div>\r\n                                <OtpInput\r\n                                    value={otp}\r\n                                    onChange={handleOtpChange}\r\n                                    numInputs={6}\r\n                                    inputStyle={\"\"}\r\n                                    className=\"otpInput\"\r\n                                    name=\"otp\"\r\n                                />\r\n                                {\r\n                                    // Check if user has touched both inputs\r\n                                    otpFormFilled ?\r\n                                        <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Submit\"}</button> :\r\n                                        <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Submit</button>\r\n                                }\r\n                            </form> : \"\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { saveUserData } from '../../utilities/localStorageUtils';\r\nimport axios from 'axios';\r\nimport Title from '../../common/Title';\r\nimport logo from '../../assets/images/eISO-logo.png';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { BiArrowBack } from 'react-icons/bi';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { IconContext } from 'react-icons';\r\nimport PasswordCriteria from '../../common/PasswordCriteria';\r\nimport config from '../../config/config';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\n\r\nconst ChangePassword = ({ match }) => {\r\n    const username = match.params.username;\r\n    const otp = match.params.otp;\r\n    const isNumberRegx = /\\d/;\r\n    const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/;\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const [formFilled, setFormFilled] = useState(false);\r\n    const [passwordFocused, setPasswordFocused] = useState(false);\r\n    const [inputValues, setInputValues] = useState({\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [passwordValidity, setPasswordValidity] = useState({\r\n        minChar: false,\r\n        number: false,\r\n        specialChar: false,\r\n        match: false\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if user touched both form options\r\n        if (inputValues.password !== '' && inputValues.confirmPassword !== '') {\r\n            setFormFilled(() => (true));\r\n        } else {\r\n            setFormFilled(() => (false));\r\n        }\r\n        // Update Password criteria\r\n        setPasswordValidity(() => ({\r\n            minChar: inputValues.password.length >= 8 ? true : false,\r\n            number: isNumberRegx.test(inputValues.password) ? true : false,\r\n            specialChar: specialCharacterRegx.test(inputValues.password) ? true : false,\r\n            match: (inputValues.password === inputValues.confirmPassword) ? true : false,\r\n        }))\r\n    }, [inputValues]);\r\n\r\n    // Handler for form submission\r\n    const handleFormSubmit = (event) => {\r\n        let password = event.target.password.value;\r\n        event.preventDefault();\r\n        setLoading(() => (true));\r\n\r\n        // Endpoint for changing password\r\n        axios.post(`${process.env.REACT_APP_BASEURL}/forget-password/otp/change`, {\r\n            otp,\r\n            password,\r\n            username\r\n        }, {})\r\n            .then((res) => {\r\n                console.log(\"Changed Password successfully!\");\r\n                const data = res.data;\r\n                console.log(data);\r\n                setLoading(() => (false));\r\n                setTimeout(() => {\r\n                    toast.success(<>Success!<br />Message: <b>Changed Password successfully!</b></>);\r\n                }, 0);\r\n                history.push('/login');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.response);\r\n                let errCode = \"Error!\";\r\n                let errMsg = \"Error!\"\r\n                if (err.response !== undefined) {\r\n                    errCode = err.response.status;\r\n                    errMsg = err.response.data.message;\r\n                }\r\n                toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                setLoading(() => (false));\r\n            })\r\n    }\r\n\r\n    // Handler for input change\r\n    const handleInputChange = (event) => {\r\n        setInputValues((prevValues) => ({\r\n            ...prevValues,\r\n            [event.target.name]: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <Title title=\"Login\" />\r\n            <div className=\"c-Login\">\r\n                <div className=\"l-Login__Card\">\r\n                    <div className=\"c-Login__Card\">\r\n                        <form onSubmit={handleFormSubmit}>\r\n                            {/* Logo */}\r\n                            <div className=\"c-Card__Logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            {/* Title */}\r\n                            <Container>\r\n                                <Row>\r\n                                    <Col className=\"c-Card__Back-btn\" xs={1}>\r\n                                        <IconContext.Provider value={{ size: \"21px\" }}>\r\n                                            <BiArrowBack onClick={() => history.goBack()}></BiArrowBack>\r\n                                        </IconContext.Provider>\r\n                                    </Col>\r\n                                    <Col xs={11}><h4>Change Password</h4></Col>\r\n                                </Row>\r\n                            </Container>\r\n                            {/* New Password */}\r\n                            <div className=\"c-Card__Username\">\r\n                                <label htmlFor=\"password\">New Password</label>\r\n                                <input type=\"password\" onFocus={() => setPasswordFocused(true)} name=\"password\" value={inputValues.password || ''} onChange={handleInputChange} placeholder=\"Password\" />\r\n                            </div>\r\n                            {/* Confirm Password */}\r\n                            <div className=\"c-Card__Password\">\r\n                                <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                                <input type=\"password\" name=\"confirmPassword\" value={inputValues.confirmPassword || ''} onChange={handleInputChange} placeholder=\"Confirm Password\" />\r\n                            </div>\r\n                            {/* Password Criteria */}\r\n                            {passwordFocused && (\r\n                                <PasswordCriteria\r\n                                    validity={passwordValidity}\r\n                                />\r\n                            )}\r\n                            {\r\n                                // Check if user has touched both inputs\r\n                                formFilled && (passwordValidity.minChar === true && passwordValidity.number === true &&\r\n                                    passwordValidity.specialChar === true && passwordValidity.match === true) ?\r\n                                    <button className=\"c-Btn c-Btn--login\" type=\"submit\" value=\"submit\">{loading ? \"Loading...\" : \"Change Password\"}</button> :\r\n                                    <button className=\"c-Btn c-Btn--disabled\" type=\"button\" disabled={true}>Change Password</button>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ChangePassword;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { categoryColumns, equipmentMaintenanceColumns, historyEquipmentMaintenanceColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst EquipmentMaintenance = () => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State Declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [equipmentData, setEquipmentData] = useState([]);\r\n    const [categoryData, setCategoryData] = useState([]);\r\n    const [archivedEquipmentData, setArchivedEquipmentData] = useState([]);\r\n    const [filteredCategoryID, setFilteredCategoryID] = useState(null);\r\n    const [categoryFilterDisplayName, setCategoryFilterDisplayName] = useState('');\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Can approve people can create new equipment\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_01/employees`);\r\n                // Can edit people can upload new maintenance record\r\n                // More code next time \r\n                if (componentMounted) {\r\n                    let canApprove = false;\r\n                    // Check if user can create new equipment\r\n                    resClausePermission.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canApprove = true;\r\n                        }\r\n                    });\r\n\r\n                    let tempEquipmentData = [];\r\n                    let tempCategoryData = [];\r\n                    let tempArchivedEquimentData = [];\r\n\r\n                    if (canApprove) {\r\n                        // Check if user tries to filter equipment by category\r\n                        if (!filteredCategoryID) {\r\n                            // Get all equipment in use\r\n                            const resAllEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment`);\r\n                            console.log(resAllEquipments);\r\n                            tempEquipmentData = resAllEquipments.data.results;\r\n                            console.log(tempEquipmentData);\r\n                        } else {\r\n                            // Get all equipment of filtered category\r\n                            const resAllEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${filteredCategoryID}/all-equipment`);\r\n                            console.log(resAllEquipments);\r\n                            tempEquipmentData = resAllEquipments.data.results.equipment;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n\r\n                        // Get all equipment categories\r\n                        const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                        console.log(resAllCategories);\r\n                        tempCategoryData = resAllCategories.data.results;\r\n                        console.log(tempCategoryData);\r\n\r\n                        // Get all archived equipment\r\n                        const resArchivedEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment?archived=1`);\r\n                        console.log(resArchivedEquipments);\r\n                        tempArchivedEquimentData = resArchivedEquipments.data.results;\r\n                        console.log(tempArchivedEquimentData);\r\n                    }\r\n                    // need seperate into else if can edit then else in future\r\n                    else {\r\n                        if (!filteredCategoryID) {\r\n                            // Get all assigned equipment in use\r\n                            const resSpecificEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/assigned-equipment`);\r\n                            console.log(resSpecificEquipments);\r\n                            tempEquipmentData = resSpecificEquipments.data.results;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n                        else {\r\n                            // Get all assigned equipment of filtered category\r\n                            const resSpecificEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${filteredCategoryID}/assigned-equipment`);\r\n                            console.log(resSpecificEquipments);\r\n                            tempEquipmentData = resSpecificEquipments.data.results;\r\n                            console.log(tempEquipmentData);\r\n                        }\r\n                    }\r\n\r\n                    setCategoryData(() => {\r\n                        return tempCategoryData.map((data, index) => {\r\n                            return {\r\n                                id: data.category_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                createdOn: dayjs(new Date(data.created_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_manage: `/equipment-maintenance/manage-category/${data.category_id}`\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setEquipmentData(() => {\r\n                        return tempEquipmentData.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                category: (() => {\r\n                                    let categoryString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.categories.map((catData) => {\r\n                                        categoryString += catData.name + \", \";\r\n                                    });\r\n                                    return categoryString.slice(0, -2);\r\n                                })(),\r\n                                refNo: data.reference_number,\r\n                                model: data.model,\r\n                                action_manage: `/equipment-maintenance/manage-equipment/${data.equipment_id}`\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setArchivedEquipmentData(() => {\r\n                        return tempArchivedEquimentData.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                name: data.name,\r\n                                category: (() => {\r\n                                    let categoryString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.categories.map((catData) => {\r\n                                        categoryString += catData.name + \", \";\r\n                                    });\r\n                                    return categoryString.slice(0, -2);\r\n                                })(),\r\n                                refNo: data.reference_number,\r\n                                model: data.model,\r\n                                archived_on: dayjs(new Date(data.archived_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_view: `/equipment-maintenance/manage-equipment/${data.equipment_id}`\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n\r\n    }, [filteredCategoryID]);\r\n\r\n    // Handlers\r\n    const handleBtn = () => {\r\n        history.push(\"/equipment-maintenance/add-equipment\");\r\n    };\r\n\r\n    const handleBtnAddCategory = () => {\r\n        history.push(\"/equipment-maintenance/add-category\");\r\n    };\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setFilteredCategoryID(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Equipment Maintenance Program</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Equipment-maintenance__Top c-Main__Top\">\r\n                        <h1>Equipment Maintenance Programme</h1>\r\n                        {/* Add button section */}\r\n                        <button\r\n                            onClick={() => handleBtn()}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Add New Equipment\r\n                        </button>\r\n                    </div>\r\n                    {/* Filter */}\r\n                    <div className='c-Equipment-maintenance__Filter'>\r\n                        <h4>Filter (Category)</h4>\r\n                        <select type=\"text\" name=\"filterCategory\" onChange={handleInputChange} value={filteredCategoryID || 'Error'}>\r\n                            <option>{!categoryData ? \"No categories found!\" : \"All\"}</option>\r\n                            {!categoryData ? null : categoryData.map((category, index) => (\r\n                                <option key={index} value={category.id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={equipmentData}\r\n                            columns={equipmentMaintenanceColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Mid section */}\r\n                    <div className=\"c-Equipment-maintenance-category__Top c-Main__Top\">\r\n                        <h1>Equipment Categories</h1>\r\n                        {/* Edit button section */}\r\n                        <button\r\n                            onClick={() => handleBtnAddCategory()}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Add New Category\r\n                        </button>\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={categoryData}\r\n                            columns={categoryColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"c-Equipment-maintenance__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        <BootstrapTable\r\n                            wrapperClasses=\"c-Equipment-maintenance__Archives-table\"\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={archivedEquipmentData}\r\n                            columns={historyEquipmentMaintenanceColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EquipmentMaintenance;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport { maintenanceCycleColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageEquipmentMaintenance = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const history = useHistory();\r\n\r\n    // State declarations\r\n    const options = [\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ];\r\n    const [maintenanceCyclesData, setMaintenanceCyclesData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [editData, setEditData] = useState({\r\n        users: ''\r\n    });\r\n    const [allUsernameData, setallUsernameData] = useState({\r\n        username: []\r\n    });\r\n    const [equipmentData, setEquipmentData] = useState({\r\n        name: 'Error',\r\n        category: [],\r\n        refNo: 'Error',\r\n        regNo: 'Error',\r\n        model: 'Error',\r\n        serialNo: 'Error',\r\n        location: 'Error',\r\n        archivedAt: null,\r\n    });\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const equipmentID = match.params.emID;\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                let tempEquipmentData = [];\r\n                let tempCategoryData = [];\r\n\r\n                const resOneEquipment = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}`);\r\n                console.log(resOneEquipment);\r\n                tempEquipmentData = resOneEquipment.data.results;\r\n                console.log(tempEquipmentData);\r\n\r\n                // Get all equipment categories\r\n                const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                console.log(resAllCategories);\r\n                tempCategoryData = resAllCategories.data.results;\r\n                console.log(tempCategoryData);\r\n\r\n                setEquipmentData(() => {\r\n                    return {\r\n                        id: tempEquipmentData.equipment_id,\r\n                        name: tempEquipmentData.name,\r\n                        category: (() => {\r\n                            // eslint-disable-next-line array-callback-return\r\n                            return tempEquipmentData.categories.map((catData) => {\r\n                                return catData.name;\r\n                            });\r\n                            // return categoryString.slice(0, -2);\r\n                        })(),\r\n                        refNo: tempEquipmentData.reference_number,\r\n                        regNo: tempEquipmentData.register_number,\r\n                        model: tempEquipmentData.model,\r\n                        serialNo: tempEquipmentData.serial_number,\r\n                        location: tempEquipmentData.location,\r\n                        archivedAt: tempEquipmentData.archived_at\r\n                    }\r\n                });\r\n\r\n                setCategoryList(() => {\r\n                    return tempCategoryData.map((data) => {\r\n                        return {\r\n                            label: data.name,\r\n                            value: data.category_id\r\n                        }\r\n                    });\r\n                });\r\n\r\n                setMaintenanceCyclesData(() => {\r\n                    return tempEquipmentData.maintenance.map((data, index) => {\r\n                        return {\r\n                            id: data.maintenance_id,\r\n                            serialNo: index + 1,\r\n                            maintenanceType: data.type,\r\n                            responsible: (() => {\r\n                                let personArray = [];\r\n                                let personString = \"\"\r\n                                data.assignees.map((eachPerson) => {\r\n                                    personString += eachPerson.account.username + \", \";\r\n                                });\r\n                                personArray.push(personString.slice(0, -2));\r\n                                personString = \"\";\r\n                                return personArray;\r\n                            })(),\r\n                            maintenanceFrequency: (() => {\r\n                                if (data.freq_unit_time === 7) {\r\n                                    return `${data.freq_multiplier} weeks`\r\n                                }\r\n                                if (data.freq_unit_time === 30) {\r\n                                    return `${data.freq_multiplier} months`\r\n                                }\r\n                                if (data.freq_unit_time === 365) {\r\n                                    return `${data.freq_multiplier} years`\r\n                                }\r\n                            })(),\r\n                            lastServiceDate: data.last_service_at,\r\n                            status: `/equipment-maintenance/manage-equipment/${data.maintenance_id}`,\r\n                            action_manage: `/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${data.maintenance_id}`,\r\n                            action_delete: (() => {\r\n                                console.log(data.maintenance_id);\r\n                                return (\r\n                                    <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                                        <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDeleteCycle(data.maintenance_id))} />\r\n                                    </IconContext.Provider>\r\n                                )\r\n                            })(),\r\n                        }\r\n                    });\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [equipmentData.archivedAt]);\r\n\r\n    console.log(equipmentData);\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteCycle = (maintenanceID) => {\r\n        // Confirmation dialogue for deleting cycle\r\n        const message = `Are you sure you want to delete this maintenance cycle?`;\r\n        const handler = (onClose) => handleDelete(onClose, maintenanceID);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const handleDelete = (onClose, maintenanceID) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance cycle has been deleted!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"add\") {\r\n            // Handler for add button\r\n            history.push(`/equipment-maintenance/manage-equipment/${equipmentID}/add-cycle`);\r\n        }\r\n\r\n        if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for edit button\r\n            setIsEditing(false);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(equipmentData);\r\n                    const resUpdateEquipment = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentData.id}`,\r\n                        {\r\n                            name: equipmentData.name,\r\n                            reference_number: equipmentData.refNo,\r\n                            register_number: equipmentData.regNo,\r\n                            serial_number: equipmentData.serialNo,\r\n                            model: equipmentData.model,\r\n                            location: equipmentData.location,\r\n                            categories: equipmentData.category.map((data) => {\r\n                                return data.value;\r\n                            })\r\n                        },\r\n                        {\r\n                            headers: {\r\n                                \"Authorization\": `Bearer ${token}`\r\n                            }\r\n                        });\r\n                    console.log(resUpdateEquipment);\r\n                    toast.success(<>Success!<br />Message: <b>Updated equipment details!</b></>);\r\n                    setIsEditing(false);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for select input change\r\n    const handleSelectInputChange = (event) => {\r\n        let selectValue = parseInt(event.target.value);\r\n\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: selectValue\r\n        }));\r\n    };\r\n\r\n    // Handler for adding / delete role\r\n    const handleEditResponsibleUsers = (handleType, roleID) => {\r\n        // axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${employeeID}/roles`, {\r\n        //     roles: (() => {\r\n        //         // handle add role\r\n        //         if (handleType === \"add\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             tempRoleArrList.push(editData.roles);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //         // handle delete role \r\n        //         if (handleType === \"delete\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             const indexOfToBeDeletedRoleID = tempRoleArrList.indexOf(roleID);\r\n        //             tempRoleArrList.splice(indexOfToBeDeletedRoleID, 1);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //     })()\r\n        // }, {\r\n        //     headers: {\r\n        //         'Authorization': `Bearer ${token}`\r\n        //     }\r\n        // })\r\n        //     .then((res) => {\r\n        //         console.log(res);\r\n        //         setRerender((prevState) => !prevState);\r\n        //         toast.success(<>Success!<br />Message: <b>Roles updated!</b></>);\r\n        //     })\r\n        //     .catch((err) => {\r\n        //         console.log(err);\r\n        //         let errCode = \"Error!\";\r\n        //         let errMsg = \"Error!\"\r\n        //         if (err.response !== undefined) {\r\n        //             errCode = err.response.status;\r\n        //             errMsg = err.response.data.message;\r\n        //         }\r\n\r\n        //         toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        //     });\r\n    };\r\n\r\n    // Dynamic Search filter\r\n    const filterSearch = (option, inputValue) => {\r\n        const { label, value } = option;\r\n        // looking if other options with same username are matching inputValue\r\n        const otherKey = options.filter(\r\n            opt => {\r\n                return opt.name === label && opt.value.includes(inputValue)\r\n            }\r\n        );\r\n        return value.includes(inputValue) || otherKey.length > 0;\r\n    };\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            category: options\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"category\">Category</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={categoryList}\r\n                            placeholder=\"Select Category\"\r\n                            onChange={handleInputArrayChange}\r\n                            name=\"categories\"\r\n                        />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"refNo\">Ref. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"refNo\" value={equipmentData.refNo} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"regNo\">Reg. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"regNo\" value={equipmentData.regNo} />\r\n                    </Col>\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"serialNo\">Serial No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"serialNo\" value={equipmentData.serialNo} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input readOnly type=\"text\" name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"category\">Category</label>\r\n                        <input readOnly type=\"text\" name=\"category\" value={(() => {\r\n                            let catStr = \"\";\r\n                            equipmentData.category.forEach((data) => {\r\n                                catStr += data + \", \"\r\n                            });\r\n\r\n                            return catStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"refNo\">Ref. No.</label>\r\n                        <input readOnly type=\"text\" name=\"refNo\" value={equipmentData.refNo} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--read-only\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input readOnly type=\"text\" name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"regNo\">Reg. No.</label>\r\n                        <input readOnly type=\"text\" name=\"regNo\" value={equipmentData.regNo} />\r\n                    </Col>\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input readOnly type=\"text\" name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--read-only\">\r\n                        <label htmlFor=\"serialNo\">Serial No.</label>\r\n                        <input readOnly type=\"text\" name=\"serialNo\" value={equipmentData.serialNo} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n\r\n\r\n    // Handler for archiving equipment \r\n    const handleEquipmentArchive = (actionType) => {\r\n        let accountStatusType;\r\n        if (actionType === \"activated\") {\r\n            accountStatusType = \"active\";\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this account?`;\r\n            const handler = (onClose) => handleActivateAccount(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            accountStatusType = \"deactivated\";\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this account?`;\r\n            const handler = (onClose) => handleDeactivateAccount(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/activate`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setEquipmentData({\r\n                        ...equipmentData,\r\n                        archivedAt: null,\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>User has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n        const handleDeactivateAccount = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/archive`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setEquipmentData({\r\n                        ...equipmentData,\r\n                        archivedAt: \"refresh\",\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>User has been {actionType}!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Equipment</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Equipment</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"edit\"))}\r\n                                    type=\"button\"\r\n                                    className={\"c-Btn c-Btn--primary\"}\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                    <div className=\"c-Danger-zone__Row\">\r\n                        {\r\n                            equipmentData.archivedAt === null ?\r\n                                <>\r\n                                    <div className='c-Danger-zone__Item'>\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleEquipmentArchive(\"deactivated\")}>Archive Equipment</button>\r\n                                        <div className=\"c-Row__Info\">\r\n                                            <p>The equipment will be moved to archives.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </> :\r\n                                <>\r\n                                    <div className='c-Danger-zone__Item'>\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleEquipmentArchive(\"activated\")}>Unarchive Equipment</button>\r\n                                        <div className=\"c-Row__Info\">\r\n                                            <p>The equipment will be restored from archives.</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Maintenance Cycles */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-top c-Main__Top\">\r\n                        <h1>Maintenance Cycles</h1>\r\n                        {/* Add button section */}\r\n                        <button\r\n                            onClick={() => handleBtn('add')}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Add\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Maintenance Cycles Table section */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table\">\r\n                        {\r\n                            maintenanceCyclesData.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={maintenanceCyclesData}\r\n                                    columns={maintenanceCycleColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEquipmentMaintenance;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddEquipmentMaintenance = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [equipmentData, setEquipmentData] = useState({\r\n        name: '',\r\n        categories: [],\r\n        reference_number: '',\r\n        register_number: '',\r\n        model: '',\r\n        serial_number: '',\r\n        location: '',\r\n    });\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addEquipment\") {\r\n            // Handler for add button\r\n            console.log(equipmentData);\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to add this equipment?`;\r\n            const handler = (onClose) => handleAddEquipment(onClose);\r\n            const heading = `Confirm Add?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/equipment-maintenance\");\r\n        }\r\n\r\n        const handleAddEquipment = (onClose) => {\r\n            axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment`, {\r\n                ...equipmentData,\r\n                categories: equipmentData.categories.map((data) => {\r\n                    return data.value;\r\n                })\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>New equipment has been added!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/equipment-maintenance\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setEquipmentData((prevState) => ({\r\n            ...prevState,\r\n            categories: options\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={equipmentData.name} />\r\n                    </Col>\r\n                    {/* Category */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"categories\">Category</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={categoryList}\r\n                            placeholder=\"Select Category\"\r\n                            onChange={handleInputArrayChange}\r\n                            name=\"categories\"\r\n                        />\r\n                    </Col>\r\n                    {/* Ref. No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"reference_number\">Ref. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"reference_number\" value={equipmentData.reference_number} />\r\n                    </Col>\r\n                    {/* Reg. No. */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"register_number\">Reg. No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"register_number\" value={equipmentData.register_number} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Model/Brand */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"model\">Model/Brand</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"model\" value={equipmentData.model} />\r\n                    </Col>\r\n                    {/* Serial No. */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"serial_number\">Serial No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"serial_number\" value={equipmentData.serial_number} />\r\n                    </Col>\r\n                    {/* Location */}\r\n                    <Col className=\"c-Input c-Input__Serial-no c-Input--edit\">\r\n                        <label htmlFor=\"location\">Location</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"location\" value={equipmentData.location} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempCategoryData = [];\r\n                // Get all equipment categories\r\n                const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                console.log(resAllCategories);\r\n                tempCategoryData = resAllCategories.data.results;\r\n                console.log(tempCategoryData);\r\n\r\n                setCategoryList(() => {\r\n                    if (tempCategoryData.length === 0) {\r\n                        return null;\r\n                    }\r\n                    return tempCategoryData.map((data) => ({\r\n                        label: `${data.name}`,\r\n                        value: data.category_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Add Equipment' activeLink=\"/equipment-maintenance/add-equipment\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Equipment</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Equipment</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addEquipment\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddEquipmentMaintenance;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\nimport config from '../../config/config';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport { useHistory, NavLink } from 'react-router-dom';\r\n\r\nconst AddEquipmentCategory = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [categoryData, setCategoryData] = useState({\r\n        name: '',\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addCategory\") {\r\n            // Handler for add button\r\n            console.log(categoryData);\r\n            (async () => {\r\n                try {\r\n                    setLoading(true);\r\n                    const resInsertOneCategory = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`,\r\n                        categoryData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneCategory);\r\n                    setLoading(false);\r\n                    toast.success(<>Success!<br />Message: <b>Inserted new category!</b></>);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                    setLoading(false);\r\n                    toast.error(<>Error Code: <b>{error.response.status}</b><br />Message: <b>{error.response.data.message}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/equipment-maintenance\");\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCategoryData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance/add-category\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Category</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Category</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addCategory\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddEquipmentCategory;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageEquipmentCategory = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const categoryID = match.params.catID;\r\n\r\n    // State declarations\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [categoryData, setCategoryData] = useState({\r\n        name: '',\r\n        description: 'f'\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"save\") {\r\n            // Handler for save button\r\n            console.log(categoryData);\r\n            (async () => {\r\n                try {\r\n                    const resUpdateOneCategory = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}`,\r\n                        categoryData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUpdateOneCategory);\r\n                    toast.success(<>Success!<br />Message: <b>Updated category!</b></>);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                    toast.error(<>Error Code: <b>{error.response.status}</b><br />Message: <b>{error.response.data.message}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n        } else if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setCategoryData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input readOnly type=\"text\" name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={categoryData.createdOn} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Name */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"name\">Category Name</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"name\" value={categoryData.name} />\r\n                    </Col>\r\n                    {/* Created On */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--read-only\">\r\n                        <label htmlFor=\"createdOn\">Created On</label>\r\n                        <input readOnly type=\"text\" name=\"createdOn\" value={categoryData.createdOn} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for deleting maintenance cycle \r\n    const handleDeleteCategory = (actionType) => {\r\n        if (actionType === \"deleteCategory\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this Category?`;\r\n            const handler = (onClose) => handleDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Category has been deleted!</b></>);\r\n                    }, 0);\r\n                    history.push(\"/equipment-maintenance\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const resCategoryData = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories/${categoryID}/assigned-equipment`);\r\n                console.log(resCategoryData);\r\n                const dbName = resCategoryData.data.results.name;\r\n                const createdOn = resCategoryData.data.results.created_at;\r\n                if (!isEditing) {\r\n                    setCategoryData(() => {\r\n                        return {\r\n                            name: dbName,\r\n                            createdOn: dayjs(new Date(createdOn)).format(\"MMMM D, YYYY h:mm A\"),\r\n                        }\r\n                    });\r\n                }\r\n                // else {\r\n                //     setCategoryData(() => {\r\n                //         return {\r\n                //             name: \"\",\r\n                //             createdOn: createdOn\r\n                //         }\r\n                //     });\r\n                // }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance/manage-category\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Category</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Category</h1>\r\n                        {/* Save and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                isEditing ?\r\n                                    inputTouched ?\r\n                                        <button onClick={() => (handleBtn(\"save\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                                        :\r\n                                        <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                                    :\r\n                                    <button onClick={() => (handleBtn(\"edit\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Edit</button>\r\n                            }\r\n                            {\r\n                                isEditing ? <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        : renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                    <div className=\"c-Danger-zone__Row\">\r\n                        <div className='c-Danger-zone__Item'>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleDeleteCategory('deleteCategory')}>Delete Category</button>\r\n                            <div className=\"c-Row__Info\">\r\n                                <p>This action cannot be undone</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEquipmentCategory;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport TabRow from '../../common/TabRow';\r\nimport DocumentBtnSection from '../../common/DocumentBtnSection';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport { TAB } from '../../config/enums';\r\nimport useDocAxios from '../../hooks/useDocAxios';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport useCheckEditableAxios from '../../hooks/useCheckEditableAxios';\r\nimport ManageDeleteArchivedDoc from '../../common/ManageDeleteArchivedDoc';\r\nimport axios from 'axios';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport config from '../../config/config';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { useHistory, NavLink } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { historyLicenseColumns, licenseColumns } from '../../config/tableColumns';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst Licenses = () => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State Declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [licenseData, setLicenseData] = useState([]);\r\n    const [archivedLicenseData, setArchivedLicenseData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                if (componentMounted) {\r\n                    let canEdit = false;\r\n                    // Check if user can create new equipment\r\n                    resClausePermission.data.results.forEach((data, index) => {\r\n                        if (data.employee_id === userID) {\r\n                            canEdit = true;\r\n                        }\r\n                    });\r\n\r\n                    let tempLicenseData = [];\r\n                    let tempArchivedLicenseData = [];\r\n\r\n                    if (canEdit) {\r\n                        // Get all License in use\r\n                        const resAllLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences`);\r\n                        console.log(resAllLicenses);\r\n                        tempLicenseData = resAllLicenses.data.results;\r\n                        console.log(tempLicenseData);\r\n\r\n                        // Get all archived licenses\r\n                        const resArchivedLicenses = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences?archived=1`);\r\n                        console.log(resArchivedLicenses);\r\n                        tempArchivedLicenseData = resArchivedLicenses.data.results;\r\n                        console.log(tempArchivedLicenseData);\r\n                    } else {\r\n                        const resSpecificEquipments = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/equipment/assignments`);\r\n                        console.log(resSpecificEquipments);\r\n                        tempLicenseData = resSpecificEquipments.data.results;\r\n                    }\r\n\r\n                    setLicenseData(() => {\r\n                        return tempLicenseData.map((data, index) => {\r\n                            return {\r\n                                id: data.licence_id,\r\n                                serialNo: index + 1,\r\n                                license: data.licence_name,\r\n                                licenseNo: data.licence_number,\r\n                                expDate: (() => {\r\n                                    if (data.expires_at) {\r\n                                        return data.expires_at\r\n                                    } else {\r\n                                        return 'NA'\r\n                                    }\r\n                                })(),\r\n                                externalAgency: data.external_organisation,\r\n                                responsibleUser: (() => {\r\n                                    let userString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.assignees.map((userData, index) => {\r\n                                        userString += userData.account.username + \", \";\r\n                                    });\r\n                                    return userString.slice(0, -2);\r\n                                })(),\r\n                                status: '',\r\n                                action_manage: `/licenses/manage-license/${data.licence_id}`\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    setArchivedLicenseData(() => {\r\n                        return tempArchivedLicenseData.map((data, index) => {\r\n                            return {\r\n                                id: data.equipment_id,\r\n                                serialNo: index + 1,\r\n                                license: data.licence_name,\r\n                                licenseNo: data.licence_number,\r\n                                expDate: (() => {\r\n                                    if (data.expires_at) {\r\n                                        return data.expires_at\r\n                                    } else {\r\n                                        return 'N.A'\r\n                                    }\r\n                                })(),\r\n                                externalAgency: data.external_organisation,\r\n                                responsibleUser: (() => {\r\n                                    let userString = \"\"\r\n                                    // eslint-disable-next-line array-callback-return\r\n                                    data.assignees.map((userData, index) => {\r\n                                        userString += userData.account.username + \", \";\r\n                                    });\r\n                                    return userString.slice(0, -2);\r\n                                })(),\r\n                                archived_on: dayjs(new Date(data.archived_at)).format(\"MMMM D, YYYY h:mm A\"),\r\n                                action_manage: `/licenses/manage-license/${data.licence_id}`\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleBtn = () => {\r\n        history.push(\"/licenses/add-license\");\r\n    };\r\n\r\n    const handleBtnAddCategory = () => {\r\n        history.push(\"/equipment-maintenance/add-category\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Permits Licenses' activeLink=\"/licenses\">\r\n                <div className=\"c-Equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Equipment-maintenance__Top c-Main__Top\">\r\n                        <h1>Register of Permits, Licenses, Approvals & Certificates</h1>\r\n                        {/* Add button section */}\r\n                        <button\r\n                            onClick={() => handleBtn()}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Add\r\n                        </button>\r\n                    </div>\r\n                    {/* Table section */}\r\n                    <div className=\"c-Equipment-maintenance__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={licenseData}\r\n                            columns={licenseColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"c-Equipment-maintenance__Archives c-Main__Archives\">\r\n                        <h1>History (Archived)</h1>\r\n                        <BootstrapTable\r\n                            wrapperClasses=\"c-Equipment-maintenance__Archives-table\"\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={archivedLicenseData}\r\n                            columns={historyLicenseColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Licenses;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Select from \"react-select\";\r\n\r\nconst AddLicense = () => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [licenseData, setLicenseData] = useState({\r\n        name: '',\r\n        category: '',\r\n        reference_number: '',\r\n        register_number: '',\r\n        model: '',\r\n        serial_number: '',\r\n    });\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addLicence\") {\r\n            // Handler for add button\r\n            console.log(licenseData);\r\n            (async () => {\r\n                try {\r\n                    const resInsertOneLicence = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences`,\r\n                        licenseData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneLicence);\r\n                    toast.success(<>Success!<br />Message: <b>New License has been added!</b></>);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(\"/licenses\");\r\n\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            expDate: date\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={licenseData.expDate}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"externalAgency\">Responsible External Agency</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"externalAgency\" value={licenseData.externalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                // Get all users with permission to add license\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_02/employees`);\r\n                console.log(resClausePermission);\r\n\r\n                let tempUserData = [];\r\n                // Get all equipment categories\r\n                const resAllCategories = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/categories`);\r\n                console.log(resAllCategories);\r\n                tempUserData = resClausePermission.data.results;\r\n                console.log(tempUserData);\r\n\r\n                setUserList(() => {\r\n                    return tempUserData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Licenses' activeLink=\"/licenses/add-equipment\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/licenses\">Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add License/Permit/Certificate</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add License/Permit/Certificate</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addEquipment\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddLicense;","import React, { useState, useEffect, useRef } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport { manageInductionTemplatesColumns, historyInductionTemplatesColumns } from '../../config/tableColumns';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\n\r\nconst ManageInductionTemplates = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const newTemplateName = useRef(\"\");\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            template_name: \"IT Department Induction Template\",\r\n            action_manage: `/settings/induction-templates/induction-template/${1}`\r\n        }\r\n    ];\r\n\r\n    // Handlers\r\n    const handleAddTemplate = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--new-template'>\r\n                        <h1>Create new template</h1>\r\n                        <input placeholder=\"Enter template name\" name=\"newTemplateName\" ref={newTemplateName} />\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--primary\" onClick={() => (confirmAddTemplate(onClose))}>Create</button>\r\n                            <button className=\"c-Btn c-Btn--cancel\" onClick={onClose}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const confirmAddTemplate = (onClose) => {\r\n\r\n        };\r\n    };\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Induction Templates\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-templates c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-templates__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Induction Templates</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-templates__Top c-Main__Top\">\r\n                    <h1>Induction Templates</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleAddTemplate()}>Add Template</button>\r\n                </div>\r\n\r\n                {/* Table section */}\r\n                <div className=\"c-Manage-induction-templates__Table\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={fakeInductionTemplateData}\r\n                        columns={manageInductionTemplatesColumns}\r\n                    />\r\n\r\n                </div>\r\n\r\n                {/* History/Archives section */}\r\n                <div className='c-Manage-induction-templates c-Main__Archives'>\r\n                    <h1>History (Archived)</h1>\r\n                    {\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={fakeInductionTemplateData}\r\n                            columns={historyInductionTemplatesColumns}\r\n                            pagination={paginationFactory()}\r\n                        />\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionTemplates;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport { manageInductionTemplateColumns } from '../../config/tableColumns';\r\n\r\n\r\nconst ManageInductionVersions = ({ match }) => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const templateID = match.params.templateID;\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            form_name: \"AY2021 Induction Form for IT Department\",\r\n            version_label: \"IT2021.1\",\r\n            status: \"test\",\r\n            action_view: `/settings/manage-induction-templates/manage-induction-template/${1}/manage-induction-form/${1}`\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Induction Forms\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-versions c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-versions l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/induction-templates\">Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Induction Versions</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-versions__Top c-Main__Top\">\r\n                    <h1>Manage Induction Versions</h1>\r\n                    <div className=\"c-Manage-indudction-versions__Btns\">\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick = {() => history.push(`/settings/induction-templates/induction-template-versions/${1}/create`)}>Create New Form</button>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--alert\">Archive</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Table section */}\r\n                <div className=\"c-Manage-induction-versions__Table\">\r\n                    <BootstrapTable\r\n                        bordered={false}\r\n                        keyField='serialNo'\r\n                        data={fakeInductionTemplateData}\r\n                        columns={manageInductionTemplateColumns}\r\n                    />\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionVersions;","import React from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { manageInductionFormSectionColumns } from '../config/tableColumns';\r\n\r\nconst InductionFormSection = ({\r\n    sectionData,\r\n    formMode\r\n}) => {\r\n    console.log(sectionData);\r\n\r\n\r\n    if (formMode === \"edit\") {\r\n        return (\r\n            <div className=\"c-Induction-form-section c-Induction-form-section--view\">\r\n                {/* Header section */}\r\n                <div className='c-Induction-form-section__Header'>\r\n                    <p className=\"c-Induction-form-section__Text\">{sectionData?.section ? sectionData.section : \"Could not retrieve section name\"}</p>\r\n                </div>\r\n\r\n                {/* Tasks section */}\r\n                <div className=\"c-Induction-form-section__Tasks\">\r\n                    {\r\n                        sectionData?.tasks?.length !== 0 ?\r\n                            sectionData.tasks.map((taskData, index) => {\r\n                                console.log(\"ram thjis\")\r\n                                return (\r\n                                    <InductionFormTask\r\n                                        key={index}\r\n                                        taskMode=\"edit\"\r\n                                        taskData={taskData}\r\n                                    />\r\n                                )\r\n                            }\r\n\r\n                            )\r\n                            :\r\n                            \"No records found!\"\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"c-Induction-form-section c-Induction-form-section--view\">\r\n                {/* Header section */}\r\n                <div className='c-Induction-form-section__Header'>\r\n                    <p className=\"c-Induction-form-section__Text\">{sectionData?.section ? sectionData.section : \"Could not retrieve section name\"}</p>\r\n                </div>\r\n\r\n                {/* Tasks section */}\r\n                <div className=\"c-Induction-form-section__Tasks\">\r\n                    {\r\n                        sectionData?.tasks?.length !== 0 ?\r\n                            sectionData.tasks.map((taskData, index) =>\r\n                                <InductionFormTask\r\n                                    key={index}\r\n                                    taskData={taskData}\r\n                                />\r\n                            )\r\n                            :\r\n                            \"No records found!\"\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nconst InductionFormTask = ({\r\n    taskMode,\r\n    taskData\r\n}) => {\r\n    console.log(\"test\")\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"c-Induction-form-task c-Induction-form-task--view\">\r\n            {/* Header section */}\r\n            <div className='c-Induction-form-task__Header'>\r\n                <p className=\"c-Induction-form-task__Text\">Task: {taskData?.task ? taskData.task : \"Could not retrieve section name\"}</p>\r\n            </div>\r\n            {/* Table section */}\r\n            <div className=\"c-Induction-form-task__Table\">\r\n                {\r\n                    taskData?.length !== 0 ?\r\n                        <BootstrapTable keyField=\"order\" bordered={false} data={taskData.descriptions} columns={manageInductionFormSectionColumns} />\r\n                        :\r\n                        \"No records found!\"\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InductionFormSection;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport RenderDocument from '../../common/RenderDocument';\r\nimport InductionFormSection from '../../common/InductionFormSection';\r\n\r\nconst ManageInductionForm = ({ match }) => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const formID = match.params.formID;\r\n    const templateID = match.params.templateID;\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    const [sectionsData, setSectionsData] = useState([\r\n        {\r\n            order: 1,\r\n            section: 'Section A: Introduction',\r\n            tasks: [\r\n                {\r\n                    order: 1,\r\n                    task: 'Introduction',\r\n                    descriptions: [\r\n                        // when the template is cloned and done\r\n                        { order: 1, description: 'Dress code', file: 'dress code picture', done: false, done_at: '1234' },\r\n                        { order: 3, description: 'Staff indentification', file: 'staff id card', done: true, done_at: '1234' },\r\n                        { order: 2, description: 'Working hours', done: true, done_at: '1234' }\r\n                    ]\r\n                },\r\n                {\r\n                    order: 2,\r\n                    task: 'Rules',\r\n                    descriptions: [\r\n                        // template only\r\n                        { order: 1, description: 'Attendance', file: 'attendance' }, // with a file\r\n                        { order: 2, description: 'Regulations' } // without a file\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n    ]);\r\n\r\n    // Fake table data\r\n    const fakeInductionTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            template_name: \"IT Department Induction Template\",\r\n            action_manage: `/settings/manage-induction-templates/manage-induction-template/${1}`\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        // Obtain data for the induction form\r\n\r\n        // Do sorting of the tasks,sections and descriptions\r\n        // e.g. tasks.sort(function(a, b){return a-b});\r\n\r\n        \r\n    }, []);\r\n\r\n\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Manage Induction Templates\" activeLink=\"/settings\">\r\n            <div className=\"c-Manage-induction-form c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Manage-induction-form l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/manage-induction-templates\">Manage Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href={`/settings/manage-induction-templates/manage-induction-template/${1}`}>Manage Induction Template</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Manage Induction Form</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Manage-induction-form__Top c-Main__Top\">\r\n                    <h1>Manage Induction Form</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\">Change to Active</button>\r\n                </div>\r\n\r\n                {/* Document section */}\r\n                <div className=\"c-Manage-induction-form__Document c-Main__Document\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    {/* Document */}\r\n                    <DocumentLayout isDocCollapsed={false}>\r\n                        {/* TODO: Verify class naming is correct */}\r\n                        <div className=\"c-Manage-induction-form__Document-content\">\r\n                            {/* Title */}\r\n                            <h1>AY2021 Induction Form for IT Department</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Manage-induction-form__Document-header c-Document__Header\">\r\n                                <div className=\"c-Manage-indcution-form__Document-header--left c-Document__Header--left\">\r\n                                    <p>To bv approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Remarks</p>\r\n                                </div>\r\n                                <div className=\"c-IP__Document-header--right c-Document__Header--right\">\r\n                                    {/* <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"} */}\r\n                                </div>\r\n                            </div>\r\n                            {/* Induction sections */}\r\n                            {\r\n                                sectionsData.length !== 0 ?\r\n                                    sectionsData.map((sectionData, index) =>\r\n                                        <InductionFormSection\r\n                                            key={index}\r\n                                            sectionData={sectionData}\r\n                                        />\r\n                                    )\r\n                                    :\r\n                                    \"No records found!\"\r\n                            }\r\n                        </div>\r\n\r\n                    </DocumentLayout>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default ManageInductionForm;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst MyTraining = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [myTrainingRecords, setMyTrainingRecords] = useState([]);\r\n    const [myTrainingRequests, setMyTrainingRequests] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                // Get training requests of this user //TODO\r\n                const resMyTrainingRequests = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-requests`);\r\n\r\n                // Get training records of this user\r\n                const resMyTrainingRecords = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-records`);\r\n\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRequests = resMyTrainingRequests.data.results;\r\n                    const tempMyTrainingRecords = resMyTrainingRecords.data.results;\r\n                    console.log(resMyTrainingRequests);\r\n                    console.log(resMyTrainingRecords);\r\n                    setMyTrainingRequests(() => tempMyTrainingRequests.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: data.approved_at,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        action_manage: `/training/training-request/manage/${data.training_id}`\r\n                    })));\r\n\r\n                    setMyTrainingRecords(() => tempMyTrainingRecords.map((data, index) => ({\r\n                        id: data.training_id,\r\n                        serialNo: index + 1,\r\n                        course_title: data.title,\r\n                        approver: data.approved_at,\r\n                        start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (data.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                        request_status: data.status,\r\n                        supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: data.trainee_evaluation_done,\r\n                        action_manage: `/training/training-record/manage/${data.training_id}`\r\n                    })));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Training' activeLink=\"/training\">\r\n                <div className=\"c-Training c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Training__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Training</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Training__Top c-Main__Top\">\r\n                        <h1>Training</h1>\r\n                    </div>\r\n                    {/* Training records */}\r\n                    <div className=\"c-Training__Records\">\r\n                        <h2>My Training Records</h2>\r\n                        <div className=\"c-Training__Table\">\r\n                            {\r\n                                myTrainingRecords.length === 0 ?\r\n                                    \"No records found!\" :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={myTrainingRecords}\r\n                                        columns={myTrainingRecordsColumns}\r\n                                    // pagination={paginationFactory()}\r\n                                    />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Training request */}\r\n                    <div className=\"c-Training__Requests c-Requests\">\r\n                        <div className=\"c-Requests__Top\">\r\n                            <h2>My Training Requests</h2>\r\n                            <button onClick={() => history.push(\"/training/training-request/create\")} type=\"button\" className=\"c-Btn c-Btn--primary\">Create Training Request</button>\r\n                        </div>\r\n\r\n                        <div className=\"c-Training__Table\">\r\n                            {\r\n                                myTrainingRequests.length === 0 ?\r\n                                    \"No records found!\" :\r\n                                    <BootstrapTable\r\n                                        bordered={false}\r\n                                        keyField='serialNo'\r\n                                        data={myTrainingRequests}\r\n                                        columns={myTrainingRequestsColumns}\r\n                                    // pagination={paginationFactory()}\r\n                                    />\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MyTraining;","import React, { useRef } from 'react'\r\n\r\nconst FileSelect = ({text}) => {\r\n    const inputFile = useRef(null);\r\n\r\n    const handleFileSelectArea = () => {\r\n        inputFile.current.click();\r\n    };\r\n\r\n    return (\r\n        <div className = \"c-File-select\">\r\n            <span \r\n                className = \"c-File-select__Area\"\r\n                onClick={() => handleFileSelectArea()}\r\n            >\r\n                <p>{text ? text : \"Please click to select file\"}</p>\r\n            </span>\r\n            <input className = \"c-File-select__Raw\" type = \"file\" ref={inputFile} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileSelect;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport FileSelect from '../../common/FileSelect';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageMyTrainingRecord = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingRecordID = match.params.trainingRecordID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [boolCompletedTraining, setBoolCompletedTraining] = useState(false);\r\n    const [myTrainingRecord, setMyTrainingRecord] = useState({});\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resMyTrainingRequest = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRecord = resMyTrainingRequest.data.results;\r\n                    console.log(tempMyTrainingRecord);\r\n                    setMyTrainingRecord(() => ({\r\n                        id: tempMyTrainingRecord.training_id,\r\n                        organisation: tempMyTrainingRecord.training_institution,\r\n                        course_title: tempMyTrainingRecord.title,\r\n                        cost: tempMyTrainingRecord.training_cost,\r\n                        approver: tempMyTrainingRecord.approved_at,\r\n                        supervisor_evaluation_done: tempMyTrainingRecord.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: tempMyTrainingRecord.trainee_evaluation_done,\r\n                        start_date: dayjs(tempMyTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempMyTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (tempMyTrainingRecord.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n        setBoolCompletedTraining(() => true); // temporary\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleUploadFileBtn = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--training-record-file-upload'>\r\n                        <h1>Upload File</h1>\r\n                        <div className=\"c-Confirm-alert__File\">\r\n                            <FileSelect />\r\n                            <p>This training record's attendance will be updated to completed upon uploading the file</p>\r\n                        </div>\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--primary\" onClick={() => (confirmUploadFile(onClose))}>Upload</button>\r\n                            <button className=\"c-Btn c-Btn--cancel\" onClick={onClose}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const confirmUploadFile = (onClose) => {\r\n\r\n        };\r\n    };\r\n\r\n    const handleCompletePostEvaluation = () => {\r\n        history.push(`/training/training-record/manage/${trainingRecordID}/post-training-evaluation`);\r\n    };\r\n\r\n    const handleRemoveRecord = () => {\r\n        // Confirmation dialogue for deleting rejected document\r\n        const message = `Deleting this record will remove its respective request permanently. Click confirm to proceed.`;\r\n        const handler = (onClose) => confirmRemoveRecord(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const confirmRemoveRecord = () => {\r\n\r\n        };\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage My Training Record' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-my-training-record c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-my-training-record__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training\">Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage My Training Record</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-my-training-record__Top c-Main__Top\">\r\n                        <h1>Manage my Training Record</h1>\r\n                        {\r\n                            boolCompletedTraining ?\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleCompletePostEvaluation()}>Complete Post Evaluation</button> :\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleUploadFileBtn()}>Upload File</button>\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-my-training-record__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{myTrainingRecord.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{myTrainingRecord.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{myTrainingRecord.cost}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Trainee)</h2>\r\n                                {\r\n                                    !myTrainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        myTrainingRecord.trainee_evaluation_done ?\r\n                                            <StatusPill type=\"pending\" /> :\r\n                                            <StatusPill type=\"completed\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>File (Evidence for Attendance)</h2>\r\n                                <p>Na</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{myTrainingRecord.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{myTrainingRecord.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approver</h2>\r\n                                <p>@AppleKim</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Approver)</h2>\r\n                                {\r\n                                    !myTrainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        myTrainingRecord.supervisor_evaluation_done ?\r\n                                            <StatusPill type=\"pending\" /> :\r\n                                            <StatusPill type=\"completed\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Attendance Status</h2>\r\n                                {\r\n                                    myTrainingRecord.attendance ?\r\n                                        <StatusPill type=\"completed\" /> :\r\n                                        <StatusPill type=\"pending\" />\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    <div className=\"c-Manage-my-training-record__Danger c-Danger\">\r\n                        <div className=\"c-Danger__Top\">\r\n                            <h1>Danger Zone</h1>\r\n                        </div>\r\n                        <div className=\"c-Danger__Contents\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleRemoveRecord()}>Remove record & request</button>\r\n                            <p>Performing this action will remove the record and request permanently. This action cannot be undoned.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMyTrainingRecord;","import React, { useState, useEffect } from 'react'\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../config/enums';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst EvaluationQuestions = ({ mode, qns, qnsType, index, viewType, setQuestions, formType }) => {\r\n\r\n    // State declaration\r\n    const [type, setType] = useState(QUESTION_TYPE.DEFAULT);\r\n\r\n    useEffect(() => {\r\n        if (qnsType) {\r\n            setType(() => qnsType);\r\n        }\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleSelectQnsType = (event) => {\r\n        setType(() => event.target.value);\r\n    };\r\n\r\n    const handleDeleteQns = () => {\r\n        setQuestions((prevState) => {\r\n\r\n            let formTypeUsage = \"\";\r\n            if (formType === \"trainee\") {\r\n                formTypeUsage = \"trainee\";\r\n            }\r\n            else {\r\n                formTypeUsage = \"supervisor\";\r\n            }\r\n\r\n            // Remove to be deleted qns from data array\r\n            let newData = prevState[formTypeUsage].filter((data) => {\r\n                return data.serialNo !== index + 1;\r\n            });\r\n\r\n\r\n            // Update serial no in array\r\n            let formattedData = newData.map((data, index) => {\r\n                return ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })\r\n            });\r\n\r\n            if (formTypeUsage === \"trainee\") {\r\n                return {\r\n                    ...prevState,\r\n                    trainee: formattedData\r\n                }\r\n            }\r\n            else {\r\n                return {\r\n                    ...prevState,\r\n                    supervisor: formattedData\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleQnsInputChange = (event) => {\r\n        if (formType === \"trainee\") {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                trainee: prevState.trainee.map((data) => {\r\n                    if (data.serialNo === index) {\r\n                        return {\r\n                            ...data,\r\n                            question: event.target.value\r\n                        }\r\n                    }\r\n                    else {\r\n                        return data;\r\n                    }\r\n                })\r\n            }));\r\n        }\r\n        else {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                supervisor: prevState.supervisor.map((data) => {\r\n                    if (data.serialNo === index) {\r\n                        return {\r\n                            ...data,\r\n                            question: event.target.value\r\n                        }\r\n                    }\r\n                    else {\r\n                        return data;\r\n                    }\r\n                })\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    const renderEditQnsType = () => {\r\n        // YES OR NO\r\n        if (type === QUESTION_TYPE.BOOLEAN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' disabled/>\r\n                        <label htmlFor=\"boolean\">Yes</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' disabled/>\r\n                        <label htmlFor=\"boolean\">No</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // 1 - 5 Rating\r\n        else if (type === QUESTION_TYPE.RATING) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled/>\r\n                        <label htmlFor=\"rating\">Strongly Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled/>\r\n                        <label htmlFor=\"rating\">Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled/>\r\n                        <label htmlFor=\"rating\">Neutrel</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled/>\r\n                        <label htmlFor=\"rating\">Agree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' disabled/>\r\n                        <label htmlFor=\"rating\">Strongly Agree</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Open ended\r\n        else if (type === QUESTION_TYPE.OPEN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--open\">\r\n                    <textarea name=\"open\" disabled placeholder=\"Enter something\"></textarea>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--default\">\r\n                    <p>Please select a question type</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n    \r\n    const renderViewQnsType = () => {\r\n        // YES OR NO\r\n        if (viewType === QUESTION_TYPE.BOOLEAN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--boolean\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' value=\"yes\" />\r\n                        <label htmlFor=\"boolean\">Yes</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"boolean\" type='radio' value=\"no\" />\r\n                        <label htmlFor=\"boolean\">No</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // 1 - 5 Rating\r\n        else if (viewType === QUESTION_TYPE.RATING) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--rating\">\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' value=\"1\" />\r\n                        <label htmlFor=\"rating\">Strongly Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' value=\"2\" />\r\n                        <label htmlFor=\"rating\">Disagree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' value=\"3\" />\r\n                        <label htmlFor=\"rating\">Neutrel</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' value=\"4\" />\r\n                        <label htmlFor=\"rating\">Agree</label>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Option\">\r\n                        <input name=\"rating\" type='radio' value=\"5\" />\r\n                        <label htmlFor=\"rating\">Strongly Agree</label>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Open ended\r\n        else if (viewType === QUESTION_TYPE.OPEN) {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--open\">\r\n                    <textarea name=\"open\" placeholder=\"Enter something\"></textarea>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return (\r\n                <div className=\"c-Evaluation-qns__Type c-Evaluation-qns__Type--default\">\r\n                    <p>Error! Invalid Question type.</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderQuestionByMode = () => {\r\n        if (mode === TRAINING_EVALUATION_MODE.EDIT) {\r\n            return (\r\n                <div className = \"c-Evaluation-qns__Edit\">\r\n                    <div className=\"c-Evaluation-qns__Top c-Top\">\r\n                        <div className=\"c-Top__Left\">\r\n                            <label htmlFor=\"qns\">{index + 1}.</label>\r\n                            <input name=\"qns\" type=\"text\" placeholder=\"Enter question\" value={qns || ''} onChange={(event) => handleQnsInputChange(event)}/>\r\n                        </div>\r\n                        <div className=\"c-Top__Right\">\r\n                            <label htmlFor=\"qnsType\">Qns Type:</label>\r\n                            <select name=\"qnsType\" value={type} onChange={(event) => handleSelectQnsType(event)}>\r\n                                <option value={QUESTION_TYPE.DEFAULT}>Select a qns type</option>\r\n                                <option value={QUESTION_TYPE.OPEN}>Open Ended</option>\r\n                                <option value={QUESTION_TYPE.RATING}>1 - 5 Rating</option>\r\n                                <option value={QUESTION_TYPE.BOOLEAN}>Yes or No</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Types\">\r\n                        {renderEditQnsType()}\r\n                        <div className = \"c-Evaluation-qns__Del\">\r\n                        <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                            <RiIcons.RiDeleteBin7Line className = \"c-Delete\" onClick={() => (handleDeleteQns())} />\r\n                        </IconContext.Provider>\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (mode === TRAINING_EVALUATION_MODE.VIEW) {\r\n            return (\r\n                <div className = \"c-Evaluation-qns__View\">\r\n                    <div className=\"c-Evaluation-qns__Top c-Top\">\r\n                        <p>{index + 1}.</p>\r\n                        <p>{qns}</p>\r\n                    </div>\r\n                    <div className=\"c-Evaluation-qns__Types\">\r\n                        {renderViewQnsType()}\r\n                    </div>\r\n                    <hr/>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"c-Evaluation-qns\">\r\n            {renderQuestionByMode()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EvaluationQuestions;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\n\r\nconst PostEvaluationForm = ({ match }) => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const pathname = location.pathname;\r\n    const pathnameArr = pathname.split(\"/\");\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState([]);\r\n    const [formType, setFormType] = useState(null);\r\n\r\n    const trainingRecordID = match.params.trainingRecordID;\r\n\r\n    useEffect(() => {\r\n\r\n        if (pathnameArr[1] === \"training\") {\r\n            // As an approver\r\n            if (pathnameArr[2] === \"manage\") {\r\n                setFormType(() => \"approver\");\r\n            }\r\n            // As a trainee\r\n            else {\r\n                setFormType(() => \"trainee\");\r\n            }\r\n        } else {\r\n            history.push(\"/page-not-found\");\r\n        }\r\n\r\n    }, []);\r\n\r\n    const handleSubmitPostEvaluation = () => {\r\n        console.log(\"Clicked on submit\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Post Evaluation Form' activeLink=\"/training\">\r\n                <div className=\"c-Post-evaluation-form c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Post-evaluation-form__Breadcrumb l-Breadcrumb\">\r\n                        {\r\n                            formType === \"approver\" ?\r\n                                <>\r\n                                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href=\"/training\">Trainings</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href={`/training/training-record/manage/${trainingRecordID}`}>Manage My Training Record</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item active>Post Training Evaluation</Breadcrumb.Item>\r\n                                </> :\r\n                                <>\r\n                                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href=\"/training/manage\">Manage Trainings</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item href={`/training/manage/training-record/manage/${trainingRecordID}`}>Manage Training</Breadcrumb.Item>\r\n                                    <Breadcrumb.Item active>Post Training Evaluation</Breadcrumb.Item>\r\n                                </>\r\n                        }\r\n\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Post-evaluation-form__Top c-Main__Top\">\r\n                        <h1>Post Training Evaluation</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSubmitPostEvaluation()}>Submit</button>\r\n                    </div>\r\n\r\n                    {/* Form */}\r\n                    <div className=\"c-Post-evaluation-form__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Post-evaluation-form__Document-content\">\r\n                                {/* Title */}\r\n                                <h1>Post Training Evaluation Form 2022</h1>\r\n                                {/* Document header info */}\r\n                                <div className=\"c-Post-evaluation-form__Document-header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <p>Housekeeping Essentials Workshop</p>\r\n                                        <p>Samsung Asia Pte Ltd</p>\r\n                                        <p>S$1599.90</p>\r\n                                        <p>Completed</p>\r\n                                        <p>PTEF.2022.1</p>\r\n                                        <p>@bobSong</p>\r\n                                        <p>@appleKim</p>\r\n                                        <p>6/1/2022</p>\r\n                                        <p>7/1/2022</p>\r\n                                    </div>\r\n                                </div>\r\n                                {/* Form section - edit mode */}\r\n                                <div className=\"c-Post-evaluation-form__Document-form c-Document-form c-Document-form--edit\">\r\n                                    <div className=\"c-Document-form__Heading\">\r\n                                        <h1>{formType === \"approver\" ? \"Approver\" : \"Trainee\"} Section</h1>\r\n                                    </div>\r\n                                    <div className=\"c-Document-form__Fields\">\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PostEvaluationForm;","import axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst CreateTrainingRequest = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const token = TokenManager.getToken();\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [approverList, setApproverList] = useState([]);\r\n    const [newTrainingRequest, setNewTrainingRequest] = useState({\r\n        title: \"\",\r\n        training_start: new Date(),\r\n        training_end: new Date(),\r\n        training_institution: \"\",\r\n        training_cost: \"\",\r\n        justification_text: \"\",\r\n        approved_by: undefined\r\n    });\r\n    const [newJustificationFile, setNewJustificationFile] = useState(null);\r\n    const fileRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n\r\n                // Do axios call here to get approval list then set approved by who\r\n                const resApprover = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/approve/m07_03a/employees`);\r\n                if (componentMounted) {\r\n                    console.log(resApprover)\r\n                    const approverListData = resApprover.data.results;\r\n                    if (approverListData !== undefined) {\r\n                        setApproverList(() => {\r\n                            if (approverListData.length === 0) {\r\n                                return null;\r\n                            }\r\n                            return approverListData.map((acc) => ({\r\n                                displayName: `${acc.firstname} ${acc.lastname}`,\r\n                                username: `@${acc.account.username}`,\r\n                                approvalID: acc.employee_id\r\n                            }));\r\n                        });\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        });\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleSubmitTrainingRequest = async () => {\r\n        try {\r\n            const newTrainingRequestFormData = new FormData();\r\n            // Loop through a javascript object and append the fields to the form data variable\r\n            for (const property in newTrainingRequest) {\r\n                newTrainingRequestFormData.append(property, newTrainingRequest[property]);\r\n            }\r\n\r\n            newTrainingRequestFormData.append(\"justification\", newJustificationFile);\r\n            console.log(userCompanyID)\r\n            await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests`, newTrainingRequestFormData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'multipart/form-data',\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                toast.success(\"Success! Training requets has been submitted for approval!\");\r\n            }, 0);\r\n            history.push(\"/training\");\r\n\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setNewTrainingRequest((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    };\r\n\r\n    const handleDateChange = (date, name) => {\r\n        setNewTrainingRequest((prevState) => ({\r\n            ...prevState,\r\n            [name]: date\r\n        }));\r\n    };\r\n\r\n    const handleFileSelect = () => {\r\n        fileRef.current.click();\r\n    };\r\n\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        console.log(fileObj);\r\n        setNewJustificationFile(() => fileObj);\r\n    };\r\n\r\n    const handleDeleteFile = () => {\r\n        setNewJustificationFile(() => null);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Create Training Request' activeLink=\"/training\">\r\n                <div className=\"c-Create-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training\">Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-training-request__Top c-Main__Top\">\r\n                        <h1>Create Training Request</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleSubmitTrainingRequest()}>Create Training Request</button>\r\n                    </div>\r\n\r\n                    {/* Form */}\r\n                    <div className=\"c-Create-training-request__Form c-Form\">\r\n                        {/* Course Title & Start Date */}\r\n                        <div className=\"c-Form__Row\">\r\n                            <div className=\"c-Form__Left c-Form__Input\">\r\n                                <label htmlFor=\"title\">Course Title</label>\r\n                                <input name=\"title\" value={newTrainingRequest.title} type=\"text\" placeholder=\"Enter Course Title\" onChange={handleInputChange} />\r\n                            </div>\r\n                            <div className=\"c-Form__Right c-Form__Input\">\r\n                                <label htmlFor=\"startDate\">Start Date</label>\r\n                                <DateTimePicker\r\n                                    onChange={(date) => handleDateChange(date, \"training_start\")}\r\n                                    value={newTrainingRequest.training_start}\r\n                                    className=\"c-Form__Date\"\r\n                                    format=\"dd/MM/y\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        {/* Organisation/Institution & End Date */}\r\n                        <div className=\"c-Form__Row\">\r\n                            <div className=\"c-Form__Left c-Form__Input\">\r\n                                <label htmlFor=\"training_institution\">Organisation/Institution</label>\r\n                                <input name=\"training_institution\" value={newTrainingRequest.training_institution} type=\"text\" placeholder=\"Enter Organisation/Instition\" onChange={handleInputChange} />\r\n                            </div>\r\n                            <div className=\"c-Form__Right c-Form__Input\">\r\n                                <label htmlFor=\"endDate\">End Date</label>\r\n                                <DateTimePicker\r\n                                    onChange={(date) => handleDateChange(date, \"training_end\")}\r\n                                    value={newTrainingRequest.training_end}\r\n                                    className=\"c-Form__Date\"\r\n                                    format=\"dd/MM/y\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        {/* Cost & To be approved by */}\r\n                        <div className=\"c-Form__Row\">\r\n                            <div className=\"c-Form__Left c-Form__Input\">\r\n                                <label htmlFor=\"training_cost\">Cost</label>\r\n                                <input name=\"training_cost\" value={newTrainingRequest.training_cost} type=\"text\" placeholder=\"Enter training cost S$\" onChange={handleInputChange} />\r\n                            </div>\r\n                            <div className=\"c-Form__Right c-Form__Input\">\r\n                                <label htmlFor=\"approved_by\">To be approved by</label>\r\n                                <select name=\"approved_by\" className=\"c-Form__Approver\" value={newTrainingRequest.approved_by} onChange={handleInputChange}>\r\n                                    <option>{!approverList ? \"No approver found!\" : \"Please select an approver\"}</option>\r\n                                    {!approverList ? null : approverList.map((approver, index) => (\r\n                                        <option key={index} value={approver.approvalID}>\r\n                                            {approver.displayName}  {approver.username}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        {/* Justification & Recommendations */}\r\n                        <div className=\"c-Form__Row\">\r\n                            <div className=\"c-Form__Left c-Form__Input c-Form__Justification\">\r\n                                <label htmlFor=\"justification_text\">Justification</label>\r\n                                <textarea name=\"justification_text\" value={newTrainingRequest.justification_text} type=\"text\" placeholder=\"Enter Justification\" onChange={handleInputChange} />\r\n                            </div>\r\n                        </div>\r\n                        {/* File Upload (For justification) */}\r\n                        <div className=\"c-Form__Row\">\r\n                            <div className=\"c-Form__File-upload c-File-upload\">\r\n                                <h2>File (For Justification)</h2>\r\n                                <div className=\"c-File-upload__Display\">\r\n                                    {\r\n                                        newJustificationFile ?\r\n                                            <>\r\n                                                <p>{newJustificationFile.name}</p>\r\n                                                <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                                    <RiIcons.RiDeleteBin7Line className = \"c-File-upload__Bin\" onClick={() => handleDeleteFile()} />\r\n                                                </IconContext.Provider>\r\n                                            </>\r\n                                            : <p>No File Detected.</p>\r\n                                    }\r\n                                </div>\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleFileSelect()}>Upload File</button>\r\n                                <input className=\"c-File-select__Raw\" type=\"file\" ref={fileRef} onChange={handleFileInputChange} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateTrainingRequest;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { managePendingTrainingRequestsColumns, manageAllTrainingRequestsColumns, manageAllTrainingRecordsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageTrainings = () => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [trainingRequests, setTrainingRequests] = useState([]);\r\n    const [trainingRecords, setTrainingRecords] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                 // Get training requests of this user //TODO\r\n                 const resTrainingRequests = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-requests`);\r\n\r\n                 // Get training records of this user\r\n                 const resTrainingRecords = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${userID}/training-records`);\r\n \r\n                 if (componentMounted) {\r\n                     const tempTrainingRequests = resTrainingRequests.data.results;\r\n                     const tempTrainingRecords = resTrainingRecords.data.results;\r\n                     console.log(resTrainingRequests);\r\n                     console.log(resTrainingRecords);\r\n                     setTrainingRequests(() => tempTrainingRequests.map((data, index) => ({\r\n                         id: data.training_id,\r\n                         serialNo: index + 1,\r\n                         course_title: data.title,\r\n                         approver: data.approved_at,\r\n                         start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                         end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                         attendance: (() => {\r\n                             if (data.attendance_upload === null) {\r\n                                 return false;\r\n                             } else {\r\n                                 return true;\r\n                             }\r\n                         })(),\r\n                         request_status: data.status,\r\n                         supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                         trainee_evaluation_done: data.trainee_evaluation_done,\r\n                         action_manage: `/training/training-request/manage/${data.training_id}`\r\n                     })));\r\n \r\n                     setTrainingRecords(() => tempTrainingRecords.map((data, index) => ({\r\n                         id: data.training_id,\r\n                         serialNo: index + 1,\r\n                         course_title: data.title,\r\n                         approver: data.approved_at,\r\n                         start_date: dayjs(data.training_start).format(\"D MMM YYYY\"),\r\n                         end_date: dayjs(data.training_end).format(\"D MMM YYYY\"),\r\n                         attendance: (() => {\r\n                             if (data.attendance_upload === null) {\r\n                                 return false;\r\n                             } else {\r\n                                 return true;\r\n                             }\r\n                         })(),\r\n                         request_status: data.status,\r\n                         supervisor_evaluation_done: data.supervisor_evaluation_done,\r\n                         trainee_evaluation_done: data.trainee_evaluation_done,\r\n                         action_manage: `/training/training-record/manage/${data.training_id}`\r\n                     })));\r\n                 }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n    // Fake data\r\n    const fakeTrainingRecordsData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            course_title: \"Direct Integration Consultant Upskilling Workshop\",\r\n            approver: \"@AppleKim\",\r\n            start_date: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            end_date: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            evaluation: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return undefined;\r\n            })(),\r\n            attendance: (() => {\r\n                return undefined\r\n            })(),\r\n            action_manage: \"\"\r\n        },\r\n        {\r\n            id: 2,\r\n            serialNo: 2,\r\n            course_title: \"Human Quality Engineer Upskilling Workshop\",\r\n            approver: \"@AppleKim\",\r\n            start_date: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            end_date: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            evaluation: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return undefined;\r\n            })(),\r\n            attendance: (() => {\r\n                return undefined\r\n            })(),\r\n            action_manage: \"\"\r\n        },\r\n    ];\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Trainings' activeLink=\"/training\">\r\n                <div className=\"c-Manage-trainings c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-trainings__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Trainings</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-trainings__Top c-Main__Top\">\r\n                        <h1>Manage Trainings</h1>\r\n                        <button type = \"button\" className=\"c-Btn c-Btn--primary\" onClick={() => history.push(\"/settings/trainings/post-evaluation-templates\")}>Manage Post Evaluation Templates</button>\r\n                    </div>\r\n                    {/* Training requests pending for user's approval*/}\r\n                    <div className=\"c-Manage-trainings__Pending-requests\">\r\n                        <h2>Training Requests pending for your approval</h2>\r\n                        <div className=\"c-Manage-trainings__Table\">\r\n                            <BootstrapTable\r\n                                bordered={false}\r\n                                keyField='serialNo'\r\n                                data={fakeTrainingRecordsData}\r\n                                columns={managePendingTrainingRequestsColumns}\r\n                            // pagination={paginationFactory()}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* All Training requests */}\r\n                    <div className=\"c-Manage-trainings__Requests c-Requests\">\r\n                        <h2>All Training Requests</h2>\r\n                        <div className=\"c-Manage-trainings__Table\">\r\n                            <BootstrapTable\r\n                                bordered={false}\r\n                                keyField='serialNo'\r\n                                data={fakeTrainingRecordsData}\r\n                                columns={manageAllTrainingRequestsColumns}\r\n                            // pagination={paginationFactory()}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* All Training Records */}\r\n                    <div className=\"c-Manage-trainings__Records c-Requests\">\r\n                        <h2>All Training Records</h2>\r\n                        <div className=\"c-Manage-trainings__Table\">\r\n                            <BootstrapTable\r\n                                bordered={false}\r\n                                keyField='serialNo'\r\n                                data={fakeTrainingRecordsData}\r\n                                columns={manageAllTrainingRequestsColumns}\r\n                            // pagination={paginationFactory()}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ManageTrainings;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { managePETColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ManagePostEvaluationTemplates = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    // Fake data\r\n    const fakeEvaluationTemplateData = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            template_title: \"Post Evaluation Template 2022\",\r\n            version: \"PETF.2022.2\",\r\n            created_by: \"@AppleKim\",\r\n            created_on: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            status: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return undefined;\r\n            })(),\r\n            action_manage: \"\"\r\n        },\r\n        {\r\n            id: 2,\r\n            serialNo: 2,\r\n            template_title: \"Post Evaluation Template 2022\",\r\n            version: \"PETF.2022.1\",\r\n            created_by: \"@AppleKim\",\r\n            created_on: dayjs(new Date()).format(\"D MMM YYYY\"),\r\n            status: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return undefined;\r\n            })(),\r\n            action_manage: \"\"\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Post Evaluation Templates' activeLink=\"/training\">\r\n                <div className=\"c-Manage-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/trainings\">Manage Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-PET__Top c-Main__Top\">\r\n                        <h1>Manage Post Evaluation Templates</h1>\r\n                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => history.push(\"/settings/trainings/post-evaluation-templates/create-template\")}>Create New Template</button>\r\n                    </div>\r\n                    {/* Training requests pending for user's approval*/}\r\n                    <div className=\"c-Manage-PET__Table\">\r\n                        <BootstrapTable\r\n                            bordered={false}\r\n                            keyField='serialNo'\r\n                            data={fakeEvaluationTemplateData}\r\n                            columns={managePETColumns}\r\n                        // pagination={paginationFactory()}\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManagePostEvaluationTemplates;","import { QUESTION_TYPE } from './enums';\r\n\r\nexport const defaultTemplate = {\r\n    meta: {\r\n        template: {\r\n            name: 'Post training evaluation 20XX',\r\n            version: '20XX.X',\r\n            created_by: null,\r\n            created_at: null,\r\n            effective_at: null\r\n        },\r\n        // form: {\r\n        //     trainee_id: null,\r\n        //     supervisor_id: null,\r\n        //     created_at: '',\r\n        //     updated_at: '' // maybe\r\n        // }\r\n    },\r\n    evaluation: {\r\n        // we can include qns no and use array.sort(callback)\r\n        // prob more applicable in the frontend than in the backend\r\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#description\r\n        trainee: [\r\n            { order: 2, type: QUESTION_TYPE.RATING, question: 'Rating question' },\r\n            { order: 1, type: QUESTION_TYPE.OPEN, question: 'Open Ended question'},\r\n            { order: 3, type: QUESTION_TYPE.BOOLEAN, question: 'Yes or No Question' },\r\n        ],\r\n        supervisor: [\r\n            { order: 2, type: QUESTION_TYPE.RATING, question: 'Rating question' },\r\n            { order: 1, type: QUESTION_TYPE.OPEN, question: 'Open Ended question'},\r\n            { order: 3, type: QUESTION_TYPE.BOOLEAN, question: 'Yes or No Question' },\r\n        ]\r\n    }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { managePETColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { defaultTemplate } from '../../config/trainingEvaluation';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\n\r\n\r\nconst CreateEvaluationTemplate = () => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState({\r\n        trainee: [],\r\n        supervisor: []\r\n    });\r\n    const [meta, setMeta] = useState({});\r\n\r\n    useEffect(() => {\r\n        setQuestions(() => {\r\n   \r\n            const sortedTraineeQnsRaw = defaultTemplate.evaluation.trainee.sort((a, b) => a.order - b.order);\r\n           \r\n            const sortedSupervisorQnsRaw = defaultTemplate.evaluation.supervisor.sort((a, b) => a.order - b.order);\r\n\r\n            return {\r\n                trainee: sortedTraineeQnsRaw.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })),\r\n                supervisor: sortedSupervisorQnsRaw.map((data, index) => ({\r\n                    ...data,\r\n                    serialNo: index + 1\r\n                })),\r\n            };\r\n        });\r\n        setMeta(() => {\r\n            return defaultTemplate.meta;\r\n        });\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleAddQns = (type) => {\r\n        if (type === \"trainee\") {\r\n            setQuestions((prevState) => {\r\n                return ({\r\n                    ...prevState,\r\n                    trainee: [\r\n                        ...prevState.trainee,\r\n                        {\r\n                            serialNo: prevState.trainee.length + 1,\r\n                            question: '',\r\n                            answer: '',\r\n                            type: QUESTION_TYPE.DEFAULT\r\n                        }\r\n                    ]\r\n                })\r\n            }\r\n            );\r\n        }\r\n        else {\r\n            setQuestions((prevState) => ({\r\n                ...prevState,\r\n                supervisor: [\r\n                    ...prevState.supervisor,\r\n                    {\r\n                        serialNo: prevState.supervisor.length + 1,\r\n                        question: '',\r\n                        answer: '',\r\n                        type: QUESTION_TYPE.DEFAULT\r\n                    }\r\n                ]\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setMeta((prevState) => ({\r\n            ...prevState,\r\n            template: {\r\n                ...prevState.template,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Create Post Evaluation Template' activeLink=\"/settings\">\r\n                <div className=\"c-Create-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Create-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/trainings\">Manage Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/trainings/post-evaluation-templates\" >Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Create Post Evaluation Template</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Create-PET__Top c-Main__Top\">\r\n                        <h1>Create Post Evaluation Template</h1>\r\n                        <div className=\"c-Top__Btns\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--primary\">Create</button>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => history.push(\"/settings/trainings/post-evaluation-templates\")}>Cancel</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Document Section */}\r\n                    <div className=\"c-Create-PET__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Create-PET__Document-content\">\r\n                                {/* Title */}\r\n                                <div className=\"c-Create-PET__Document-title\">\r\n                                    <input type=\"text\" placeholder=\"Enter form title\" name=\"name\" value={meta.template?.name} onChange={(event) => handleInputChange(event)} />\r\n                                </div>\r\n\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Create-PET__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <input type=\"text\" name=\"version\" value={meta.template?.version} onChange={(event) => handleInputChange(event)} />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Form section */}\r\n                                <div className=\"c-Create-PET__Document-form c-Document-form\">\r\n                                    {/* Trainee section */}\r\n                                    <div className=\"c-Document-form__Trainee\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Trainee Section</h1>\r\n                                            <p>This section will only be shown to the trainee when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions?.trainee?.length > 0 ?\r\n                                                    questions.trainee.map((question, index) => {\r\n                                                        return (\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qnsType={question.type}\r\n                                                                qns={question.question}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                key={index}\r\n                                                                formType=\"trainee\"\r\n                                                            />\r\n                                                        );\r\n                                                    })\r\n                                                    :\r\n                                                    <p>No questions detected!</p>\r\n                                            }\r\n                                            {/* Add Question */}\r\n                                            <div className=\"c-Document-form__Add-qns\" onClick={() => handleAddQns(\"trainee\")}>\r\n                                                <p>Add New Row</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Approver/Supervisor section */}\r\n                                    <div className=\"c-Document-form__Approver\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Approver/Supervisor Section</h1>\r\n                                            <p>This section will only be shown to the approver/supervisor when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            {\r\n                                                questions?.supervisor?.length > 0 ?\r\n                                                    questions.supervisor.map((question, index) => {\r\n                                                        return (\r\n\r\n                                                            <EvaluationQuestions\r\n                                                                mode={TRAINING_EVALUATION_MODE.EDIT}\r\n                                                                qnsType={question.type}\r\n                                                                qns={question.question}\r\n                                                                index={index}\r\n                                                                setQuestions={setQuestions}\r\n                                                                key={index}\r\n                                                                formType=\"supervisor\"\r\n                                                            />\r\n\r\n                                                        );\r\n                                                    })\r\n                                                    :\r\n                                                    <p>No questions detected!</p>\r\n                                            }\r\n                                            {/* Add Question */}\r\n                                            <div className=\"c-Document-form__Add-qns\" onClick={() => handleAddQns(\"supervisor\")}>\r\n                                                <p>Add New Row</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateEvaluationTemplate;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport FileSelect from '../../common/FileSelect';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport FileDownload from 'js-file-download';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst ManageMyTrainingRequest = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingReqID = match.params.trainingReqID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [myTrainingRequest, setMyTrainingRequest] = useState({});\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resMyTrainingRequest = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingReqID}`);\r\n                if (componentMounted) {\r\n                    const tempMyTrainingRequest = resMyTrainingRequest.data.results;\r\n                    console.log(resMyTrainingRequest);\r\n                    setMyTrainingRequest(() => ({\r\n                        id: tempMyTrainingRequest.training_id,\r\n                        organisation: tempMyTrainingRequest.training_institution,\r\n                        course_title: tempMyTrainingRequest.title,\r\n                        cost: tempMyTrainingRequest.training_cost,\r\n                        approver: tempMyTrainingRequest.approved_at,\r\n                        approval_status: tempMyTrainingRequest.status,\r\n                        start_date: dayjs(tempMyTrainingRequest.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempMyTrainingRequest.training_end).format(\"D MMM YYYY\"),\r\n                        justification_text: tempMyTrainingRequest.justification_text,\r\n                        justification_upload: tempMyTrainingRequest.justification_upload,\r\n                        remarks: tempMyTrainingRequest.remarks\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n    // Handlers\r\n    const handleRemoveRecord = () => {\r\n        // Confirmation dialogue for deleting rejected document\r\n        const message = `Deleting this record will remove its respective record (if any) permanently. Click confirm to proceed.`;\r\n        const handler = (onClose) => confirmRemoveRecord(onClose);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const confirmRemoveRecord = () => {\r\n\r\n        };\r\n    };\r\n\r\n    const handleDownloadFile = async () => {\r\n\r\n        try {\r\n            const fileInfoRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/info/${myTrainingRequest.justification_upload}`);\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${myTrainingRequest.justification_upload}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileInfoRes);\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, fileInfoRes.data.results.file_name);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage My Training Record' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-my-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-my-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training\">Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage My Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-my-training-request__Top c-Main__Top\">\r\n                        <h1>Manage my Training Request</h1>\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-my-training-request__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{myTrainingRequest.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{myTrainingRequest.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{myTrainingRequest.cost}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Justification</h2>\r\n                                <p>{myTrainingRequest.justification_text}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Rejection Remarks</h2>\r\n                                <p>{myTrainingRequest.remarks ? myTrainingRequest.remarks : \"Na\"}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{myTrainingRequest.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{myTrainingRequest.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>To be Approved by</h2>\r\n                                <p>@AppleKim</p>\r\n                            </div>\r\n                            <div className=\"c-Field c-Field__File\">\r\n                                <h2>File (For Justification)</h2>\r\n                                {\r\n                                    myTrainingRequest.justification_upload ?\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick = {handleDownloadFile}>Download</button> :\r\n                                        <p>Na</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approval Status</h2>\r\n                                <StatusPill type={myTrainingRequest.approval_status} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    <div className=\"c-Manage-my-training-request__Danger c-Danger\">\r\n                        <div className=\"c-Danger__Top\">\r\n                            <h1>Danger Zone</h1>\r\n                        </div>\r\n                        <div className=\"c-Danger__Contents\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleRemoveRecord()}>Remove record & request</button>\r\n                            <p>Performing this action will remove the request and record (if any) permanently. This action cannot be undoned.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMyTrainingRequest;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport FileSelect from '../../common/FileSelect';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\n\r\nconst ManageTrainingRecord = ({ match }) => {\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingRecordID = match.params.trainingID;\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [boolCompletedTraining, setBoolCompletedTraining] = useState(false);\r\n    const [trainingRecord, setTrainingRecord] = useState({});\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resTrainingRecord = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingRecordID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempTrainingRecord = resTrainingRecord.data.results;\r\n                    console.log(tempTrainingRecord);\r\n                    setTrainingRecord(() => ({\r\n                        id: tempTrainingRecord.training_id,\r\n                        organisation: tempTrainingRecord.training_institution,\r\n                        course_title: tempTrainingRecord.title,\r\n                        cost: tempTrainingRecord.training_cost,\r\n                        approver: tempTrainingRecord.approved_at,\r\n                        supervisor_evaluation_done: tempTrainingRecord.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: tempTrainingRecord.trainee_evaluation_done,\r\n                        start_date: dayjs(tempTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (tempTrainingRecord.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n        setBoolCompletedTraining(() => true); // temporary\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n\r\n    const handleCompletePostEvaluation = () => {\r\n        history.push(\"/training/training-record/post-training-evaluation\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Record' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-record c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-record__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/manage\">Manage Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Record</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-record__Top c-Main__Top\">\r\n                        <h1>Manage Training Record</h1>\r\n                        {\r\n                            boolCompletedTraining ?\r\n                                <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => handleCompletePostEvaluation()}>Complete Post Evaluation</button> :\r\n                                null\r\n                        }\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-training-record__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{trainingRecord.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{trainingRecord.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{trainingRecord.cost}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Trainee)</h2>\r\n                                {\r\n                                    !trainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        trainingRecord.trainee_evaluation_done ?\r\n                                            <StatusPill type=\"pending\" /> :\r\n                                            <StatusPill type=\"completed\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>File (Evidence for Attendance)</h2>\r\n                                <p>Na</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{trainingRecord.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{trainingRecord.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approver</h2>\r\n                                <p>@AppleKim</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Evaluation Status (Approver)</h2>\r\n                                {\r\n                                    !trainingRecord.attendance ?\r\n                                        <p>Nil</p> :\r\n                                        trainingRecord.supervisor_evaluation_done ?\r\n                                            <StatusPill type=\"pending\" /> :\r\n                                            <StatusPill type=\"completed\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Attendance Status</h2>\r\n                                {\r\n                                    trainingRecord.attendance ?\r\n                                        <StatusPill type=\"completed\" /> :\r\n                                        <StatusPill type=\"pending\" />\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    <div className=\"c-Manage-training-record__Danger c-Danger\">\r\n                        <div className=\"c-Danger__Top\">\r\n                            <h1>Danger Zone</h1>\r\n                        </div>\r\n                        <div className=\"c-Danger__Contents\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\">Remove record & request</button>\r\n                            <p>Performing this action will remove the record and request permanently. This action cannot be undoned.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageTrainingRecord;","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { myTrainingRecordsColumns, myTrainingRequestsColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport FileSelect from '../../common/FileSelect';\r\nimport TokenManager from '../../utilities/tokenManager.js';\r\nimport FileDownload from 'js-file-download';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst ManageTrainingRequest = ({ match }) => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const trainingReqID = match.params.trainingReqID;\r\n    const rejectRemarks = useRef(\"\");\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const token = TokenManager.getToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [trainingRequest, setTrainingRequest] = useState({});\r\n\r\n\r\n    useEffect(() => {\r\n        let componentMounted = true;\r\n\r\n        (async () => {\r\n            try {\r\n                const resTrainingRecord = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/training/all-requests/${trainingReqID}`);\r\n\r\n                if (componentMounted) {\r\n                    const tempTrainingRecord = resTrainingRecord.data.results;\r\n                    console.log(tempTrainingRecord);\r\n                    setTrainingRequest(() => ({\r\n                        id: tempTrainingRecord.training_id,\r\n                        organisation: tempTrainingRecord.training_institution,\r\n                        course_title: tempTrainingRecord.title,\r\n                        cost: tempTrainingRecord.training_cost,\r\n                        approver: tempTrainingRecord.approved_at,\r\n                        supervisor_evaluation_done: tempTrainingRecord.supervisor_evaluation_done,\r\n                        trainee_evaluation_done: tempTrainingRecord.trainee_evaluation_done,\r\n                        start_date: dayjs(tempTrainingRecord.training_start).format(\"D MMM YYYY\"),\r\n                        end_date: dayjs(tempTrainingRecord.training_end).format(\"D MMM YYYY\"),\r\n                        attendance: (() => {\r\n                            if (tempTrainingRecord.attendance_upload === null) {\r\n                                return false;\r\n                            } else {\r\n                                return true;\r\n                            }\r\n                        })(),\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        return (() => {\r\n            componentMounted = false;\r\n        })\r\n    }, []);\r\n\r\n    // #region Handlers\r\n    const handleApprove = () => {\r\n\r\n    };\r\n\r\n\r\n    const handleReject = () => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return (\r\n                    <div className='c-Confirm-alert c-Confirm-alert--pending-reject'>\r\n                        <h1>Confirm Reject?</h1>\r\n                        <p>Please key in reason for rejection and click on confirm reject.</p>\r\n                        <div className=\"c-Confirm-alert__Remarks\">\r\n                            <h2>Remarks</h2>\r\n                            <textarea name=\"pendingReject\" ref={rejectRemarks}></textarea>\r\n                        </div>\r\n                        <div className='c-Confirm-alert__Buttons'>\r\n                            <button className=\"c-Btn c-Btn--alert\" onClick={() => (confirmReject(onClose))}>Confirm Reject</button>\r\n                            <button className=\"c-Btn c-Btn--dark\" onClick={onClose}> Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n        });\r\n\r\n        const confirmReject = (onClose) => {\r\n\r\n        };\r\n    };\r\n\r\n    const handleDownloadFile = async () => {\r\n\r\n        try {\r\n            const fileInfoRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/info/${trainingRequest.justification_upload}`);\r\n            const fileRes = await axios.get(`${process.env.REACT_APP_BASEURL}/file/download/${trainingRequest.justification_upload}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                responseType: 'blob'\r\n            });\r\n            console.log(fileInfoRes);\r\n            console.log(fileRes);\r\n            FileDownload(fileRes.data, fileInfoRes.data.results.file_name);\r\n            toast.success(<>Success!<br />Message: <b>Document has been downloaded successfully!</b></>);\r\n        } catch (err) {\r\n            console.log(err);\r\n            let errCode = \"Error!\";\r\n            let errMsg = \"Error!\"\r\n            if (err.response !== undefined) {\r\n                errCode = err.response.status;\r\n                errMsg = err.response.data.message;\r\n            }\r\n\r\n            toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        }\r\n\r\n    };\r\n\r\n    // #endregion\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Training Request' activeLink=\"/training\">\r\n                <div className=\"c-Manage-training-request c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-training-request__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/training/manage\">Manage Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Training Request</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-training-request__Top c-Main__Top\">\r\n                        <h1>Manage Training Request</h1>\r\n                        <div className=\"c-Top__Btns\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--ok\" onClick={() => handleApprove()}>Approve</button>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert\" onClick={() => handleReject()}>Reject</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Training records */}\r\n                    <div className=\"c-Manage-training-request__Fields c-Fields\">\r\n                        <div className=\"c-Fields__Left\">\r\n                            <div className=\"c-Field\">\r\n                                <h2>Course Title</h2>\r\n                                <p>{trainingRequest.course_title}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Organisation/Institution</h2>\r\n                                <p>{trainingRequest.organisation}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Cost</h2>\r\n                                <p>{trainingRequest.cost}</p>\r\n         \r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Justification</h2>\r\n                                <p>{trainingRequest.justification_text}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Rejection Remarks</h2>\r\n                                <p>{trainingRequest.remarks ? trainingRequest.remarks : \"Na\"}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Fields__Right\">\r\n                        <div className=\"c-Field\">\r\n                                <h2>Start Date</h2>\r\n                                <p>{trainingRequest.start_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>End Date</h2>\r\n                                <p>{trainingRequest.end_date}</p>\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>To be Approved by</h2>\r\n                                <p>@AppleKim</p>\r\n                            </div>\r\n                            <div className=\"c-Field c-Field__File\">\r\n                                <h2>File (For Justification)</h2>\r\n                                {\r\n                                    trainingRequest.justification_upload ?\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick = {handleDownloadFile}>Download</button> :\r\n                                        <p>Na</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"c-Field\">\r\n                                <h2>Approval Status</h2>\r\n                                <StatusPill type={trainingRequest.approval_status} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    <div className=\"c-Manage-training-request__Danger c-Danger\">\r\n                        <div className=\"c-Danger__Top\">\r\n                            <h1>Danger Zone</h1>\r\n                        </div>\r\n                        <div className=\"c-Danger__Contents\">\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\">Remove record & request</button>\r\n                            <p>Performing this action will remove the request and record (if any) permanently. This action cannot be undoned.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageTrainingRequest;","import React, { useState, useEffect } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport { getUserCompanyID, getToken } from '../../utilities/localStorageUtils';\r\nimport { managePETColumns } from '../../config/tableColumns';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport dayjs from 'dayjs';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport config from '../../config/config';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { defaultTemplate } from '../../config/trainingEvaluation';\r\nimport EvaluationQuestions from '../../common/EvaluationQuestions';\r\nimport { QUESTION_TYPE, TRAINING_EVALUATION_MODE } from '../../config/enums';\r\nimport StatusPill from '../../common/StatusPill';\r\n\r\nconst ManageEvaluationTemplate = ({ match }) => {\r\n\r\n    const toastTiming = config.toastTiming;\r\n    const history = useHistory();\r\n    const templateID = match.params.templateID;\r\n\r\n    // State declarations\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [questions, setQuestions] = useState({\r\n        trainee: [],\r\n        supervisor: []\r\n    }); // Includes answers\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Post Evaluation Template' activeLink=\"/settings\">\r\n                <div className=\"c-Manage-PET c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Manage-PET__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/trainings\">Manage Trainings</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/settings/trainings/post-evaluation-templates\" >Manage Post Evaluation Templates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Post Evaluation Template</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-PET__Top c-Top\">\r\n                        <div className=\"c-Top__Row\">\r\n                            <h1>Manage Post Evaluation Template</h1>\r\n                            <div className=\"c-Top__Btns\">\r\n                                {\r\n                                    editMode ?\r\n                                        <>\r\n                                            <button type=\"button\" className=\"c-Btn c-Btn--primary\">Create</button>\r\n                                            <button type=\"button\" className=\"c-Btn c-Btn--cancel\" onClick={() => setEditMode((prevState) => !prevState)}>Cancel</button>\r\n                                        </>\r\n                                        :\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary\" onClick={() => setEditMode((prevState) => !prevState)}>Edit</button>\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"c-Top__Row\">\r\n                            <h2>Status:</h2>\r\n                            <StatusPill type=\"active\" />\r\n                            <button type = \"button\" className = \"c-Btn c-Btn--link\">Change Status to Active</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Document Section */}\r\n                    <div className=\"c-Manage-PET__Document c-Main__Document\">\r\n                        <DocumentLayout isDocCollapsed={false}>\r\n                            <div className=\"c-Manage-PET__Document-content\">\r\n                                {/* Title */}\r\n                                <h1>Post Training Evaluation Form 2022</h1>\r\n                                {/* Document Header Info */}\r\n                                <div className=\"c-Manage-PET__Document-header c-Document__Header\">\r\n                                    <div className=\"c-Document-header__Key\">\r\n                                        <p>Course Title</p>\r\n                                        <p>Organisation</p>\r\n                                        <p>Cost</p>\r\n                                        <p>Status</p>\r\n                                        <p>Evaluation Form Version</p>\r\n                                        <p>Trainee</p>\r\n                                        <p>Approver</p>\r\n                                        <p>Start Date</p>\r\n                                        <p>End Date</p>\r\n                                    </div>\r\n                                    <div className=\"c-Document-header__Value\">\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <input type=\"text\" value=\"PTEF.2022.1\" disabled/>\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Form section */}\r\n                                <div className=\"c-Manage-PET__Document-form c-Document-form\">\r\n                                    {/* Trainee section */}\r\n                                    <div className=\"c-Document-form__Trainee\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Trainee Section</h1>\r\n                                            <p>This section will only be shown to the trainee when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            <EvaluationQuestions\r\n                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                qns=\"Boolean?\"\r\n                                                viewType={QUESTION_TYPE.OPEN}\r\n                                                index=\"1\"\r\n                                                setQuestions={setQuestions}\r\n                                                formType=\"trainee\"\r\n                                            />\r\n                                            <EvaluationQuestions\r\n                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                qns=\"Boolean?\"\r\n                                                viewType={QUESTION_TYPE.RATING}\r\n                                                index=\"1\"\r\n                                                setQuestions={setQuestions}\r\n                                                formType=\"trainee\"\r\n                                            />\r\n                                            <EvaluationQuestions\r\n                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                qns=\"Boolean?\"\r\n                                                viewType={QUESTION_TYPE.BOOLEAN}\r\n                                                index=\"1\"\r\n                                                setQuestions={setQuestions}\r\n                                                formType=\"trainee\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Approver/Supervisor section */}\r\n                                    <div className=\"c-Document-form__Approver\">\r\n                                        <div className=\"c-Document-form__Heading\">\r\n                                            <h1>Approver/Supervisor Section</h1>\r\n                                            <p>This section will only be shown to the approver/supervisor when doing the form</p>\r\n                                        </div>\r\n                                        <div className=\"c-Document-form__Fields\">\r\n                                            <EvaluationQuestions\r\n                                                mode={TRAINING_EVALUATION_MODE.VIEW}\r\n                                                qns=\"A question?\"\r\n                                                index=\"1\"\r\n                                                viewType={QUESTION_TYPE.OPEN}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </DocumentLayout>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageEvaluationTemplate;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst AddMaintenanceCycle = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const equipmentID = match.params.emID;\r\n\r\n    // State declarations\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [maintenanceData, setMaintenanceData] = useState({\r\n        type: '',\r\n        responsible: '',\r\n        freq_multiplier: '',\r\n        freq_unit_time: '',\r\n        freq_unit_time_UI: '',\r\n        last_service_at: new Date(),\r\n        assignees: []\r\n    });\r\n    const [userList, setUserList] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"addCycle\") {\r\n            // Handler for add button\r\n            console.log(maintenanceData);\r\n            (async () => {\r\n                try {\r\n                    const resInsertOneMaintenance = await axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance`,\r\n                        maintenanceData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resInsertOneMaintenance);\r\n                    toast.success(<>Success!<br />Message: <b>New equipment has been added!</b></>);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                }\r\n            })();\r\n        } else if (buttonType === \"cancel\") {\r\n            // Handler for cancel button\r\n            history.push(`/equipment-maintenance/manage-equipment/${equipmentID}`);\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for input \r\n    const handleTimeInputChange = (event) => {\r\n        let unitTime;\r\n        // if(event.target.value === \"Days\") unitTime = 1;\r\n        if (event.target.value === \"Weeks\") unitTime = \"week\";\r\n        if (event.target.value === \"Months\") unitTime = \"month\";\r\n        if (event.target.value === \"Years\") unitTime = \"year\";\r\n\r\n        // Set string value for backend endpoint\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: unitTime\r\n        }));\r\n\r\n        // Set string value for frontend\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            freq_unit_time_UI: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            last_service_at: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setMaintenanceData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Maintenance-type c-Input c-Input--edit\">\r\n                        <label htmlFor=\"type\">Maintenance Type</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"type\" value={maintenanceData.type} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Responsible c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsible\">Responsible Users</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                        />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Maintenance-frequency c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <div className='c-Input__Maintenance-frequency--input'>\r\n                            <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"freq_multiplier\" value={maintenanceData.freq_multiplier} />\r\n                            <select onFocus={() => setInputTouched(true)} type=\"text\" name=\"freq_unit_time\" onChange={handleTimeInputChange} value={maintenanceData.freq_unit_time_UI}>\r\n                                <option>Select Time Unit</option>\r\n                                {/* <option>Days</option> */}\r\n                                <option>Weeks</option>\r\n                                <option>Months</option>\r\n                                <option>Years</option>\r\n                            </select>\r\n                        </div>\r\n                    </Col>\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"last_service_at\">Last Service Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={maintenanceData.last_service_at}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let tempUsersData = [];\r\n                // Get all equipment categories\r\n                const resAllUsers = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                console.log(resAllUsers);\r\n                tempUsersData = resAllUsers.data.results;\r\n                console.log(tempUsersData);\r\n\r\n                setUserList(() => {\r\n                    return tempUsersData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Manage Maintenance Cycle' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}`}>Manage Equipment</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Add Maintenance Cycle</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Add Maintenance Cycle</h1>\r\n                        {/* Add and Cancel button section */}\r\n                        <div className='c-Manage-equipment__Btns'>\r\n                            {\r\n                                inputTouched ?\r\n                                    <button onClick={() => (handleBtn(\"addCycle\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Add</button>\r\n                                    :\r\n                                    <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Add\"}</button>\r\n                            }\r\n\r\n                            <button onClick={() => (handleBtn(\"cancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    renderInputFieldEditSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                </div>\r\n            </PageLayout>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddMaintenanceCycle;","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { IconContext } from 'react-icons';\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Select from \"react-select\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport { maintenanceRecordColumns } from '../../config/tableColumns';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\n\r\nconst ManageMaintenanceCycle = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n    let history = useHistory();\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n\r\n    // State declarations\r\n    const options = [\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ];\r\n    const [maintenanceRecordsData, setMaintenanceRecordsData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [editData, setEditData] = useState({\r\n        users: ''\r\n    });\r\n    const [allUsernameData, setallUsernameData] = useState({\r\n        username: []\r\n    });\r\n    const [userList, setUserList] = useState([]);\r\n    const [maintenanceCyclesData, setMaintenanceCyclesData] = useState([]);\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const equipmentID = match.params.emID;\r\n    const maintenanceID = match.params.maintenanceID;\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                let tempEquipmentData = [];\r\n                let tempPersonsData = [];\r\n\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_01/employees`);\r\n                console.log(resClausePermission);\r\n                tempPersonsData = resClausePermission.data.results;\r\n                console.log(tempPersonsData);\r\n\r\n                const resOneEquipment = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`);\r\n                console.log(resOneEquipment);\r\n                tempEquipmentData = resOneEquipment.data.results;\r\n                console.log(tempEquipmentData);\r\n\r\n                setMaintenanceCyclesData(() => {\r\n                    return {\r\n                        id: tempEquipmentData.maintenance_id,\r\n                        maintenanceType: tempEquipmentData.type,\r\n                        responsible: (() => {\r\n                            return tempEquipmentData.assignees.map((eachPerson) => {\r\n                                return {\r\n                                    label: eachPerson.account.username,\r\n                                    value: eachPerson.employee_id\r\n                                }\r\n                            });\r\n                        })(),\r\n                        freq_unit_time: tempEquipmentData.freq_unit_time,\r\n                        freq_multiplier: tempEquipmentData.freq_multiplier,\r\n                        maintenanceFrequency: (() => {\r\n                            if (tempEquipmentData.freq_unit_time === 7) {\r\n                                return `${tempEquipmentData.freq_multiplier} weeks`\r\n                            }\r\n                            if (tempEquipmentData.freq_unit_time === 30) {\r\n                                return `${tempEquipmentData.freq_multiplier} months`\r\n                            }\r\n                            if (tempEquipmentData.freq_unit_time === 365) {\r\n                                return `${tempEquipmentData.freq_multiplier} years`\r\n                            }\r\n                        })(),\r\n                        lastServiceDate: new Date(tempEquipmentData.last_service_at),\r\n                        status: (() => {\r\n                            let placeholder = '';\r\n                            if (placeholder === undefined) {\r\n                                return <p>Nil</p>\r\n                            }\r\n                            return <StatusPill type=\"active\" />\r\n                        })(),\r\n                    }\r\n                });\r\n\r\n                setUserList(() => {\r\n                    return tempPersonsData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n\r\n                setMaintenanceRecordsData(() => {\r\n                    return {\r\n                        id: tempEquipmentData.maintenance_id,\r\n                        serialNo: 1,\r\n                        fileName: tempEquipmentData.fileName,\r\n                        description: tempEquipmentData.last_service_at,\r\n                        uploader: (() => {\r\n                            let personArray = [];\r\n                            let personString = \"\"\r\n                            tempEquipmentData.assignees.map((eachPerson) => {\r\n                                personString += eachPerson.account.username + \", \";\r\n                            });\r\n                            personArray.push(personString.slice(0, -2));\r\n                            personString = \"\";\r\n                            return personArray;\r\n                        })(),\r\n                        uploadDate: tempEquipmentData.last_service_at,\r\n                        action_download: `/equipment-maintenance/manage-equipment/manage-cycle/${tempEquipmentData.maintenance_id}`,\r\n                        action_delete: (() => {\r\n                            return (\r\n                                <IconContext.Provider value={{ color: \"#DC3545\", size: \"16px\" }}>\r\n                                    <RiIcons.RiDeleteBin7Line className=\"c-Table-Btn--bin c-Table-Btn\" onClick={() => (handleDeleteRecord(tempEquipmentData.maintenance_record_id))} />\r\n                                </IconContext.Provider>\r\n                            )\r\n                        })(),\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n        }\r\n\r\n        if (buttonType === \"editEquipment\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(maintenanceCyclesData);\r\n                    const resUpdateCycle = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`,\r\n                        {\r\n                            title: maintenanceCyclesData.maintenanceType,\r\n                            freq_multiplier: maintenanceCyclesData.freq_multiplier,\r\n                            freq_unit_time: maintenanceCyclesData.freq_unit_time,\r\n                            last_service_at: maintenanceCyclesData.lastServiceDate,\r\n                            assignees: maintenanceCyclesData.assignees,\r\n                        },\r\n                        {\r\n                            headers: {\r\n                                \"Authorization\": `Bearer ${token}`\r\n                            }\r\n                        });\r\n                    console.log(resUpdateCycle);\r\n                    toast.success(<>Success!<br />Message: <b>Updated Maintenance Cycle!</b></>);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // Handler for select input change\r\n    const handleSelectInputChange = (event) => {\r\n        let selectValue = parseInt(event.target.value);\r\n\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: selectValue\r\n        }));\r\n    };\r\n\r\n    // Handler for adding / delete role\r\n    const handleEditResponsibleUsers = (handleType, roleID) => {\r\n        // axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${employeeID}/roles`, {\r\n        //     roles: (() => {\r\n        //         // handle add role\r\n        //         if (handleType === \"add\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             tempRoleArrList.push(editData.roles);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //         // handle delete role \r\n        //         if (handleType === \"delete\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             const indexOfToBeDeletedRoleID = tempRoleArrList.indexOf(roleID);\r\n        //             tempRoleArrList.splice(indexOfToBeDeletedRoleID, 1);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //     })()\r\n        // }, {\r\n        //     headers: {\r\n        //         'Authorization': `Bearer ${token}`\r\n        //     }\r\n        // })\r\n        //     .then((res) => {\r\n        //         console.log(res);\r\n        //         setRerender((prevState) => !prevState);\r\n        //         toast.success(<>Success!<br />Message: <b>Roles updated!</b></>);\r\n        //     })\r\n        //     .catch((err) => {\r\n        //         console.log(err);\r\n        //         let errCode = \"Error!\";\r\n        //         let errMsg = \"Error!\"\r\n        //         if (err.response !== undefined) {\r\n        //             errCode = err.response.status;\r\n        //             errMsg = err.response.data.message;\r\n        //         }\r\n\r\n        //         toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        //     });\r\n    };\r\n\r\n    // Dynamic Search filter\r\n    const filterSearch = (option, inputValue) => {\r\n        const { label, value } = option;\r\n        // looking if other options with same username are matching inputValue\r\n        const otherKey = options.filter(\r\n            opt => {\r\n                return opt.name === label && opt.value.includes(inputValue)\r\n            }\r\n        );\r\n        return value.includes(inputValue) || otherKey.length > 0;\r\n    };\r\n\r\n    // Handler for setting last service date \r\n    const setLastServiceDate = (date) => {\r\n        console.log(date);\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            lastServiceDate: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n    // Handler for input \r\n    const handleTimeInputChange = (event) => {\r\n        let unitTime;\r\n        // if(event.target.value === \"Days\") unitTime = 1;\r\n        if (event.target.value === \"Weeks\") unitTime = \"week\";\r\n        if (event.target.value === \"Months\") unitTime = \"month\";\r\n        if (event.target.value === \"Years\") unitTime = \"year\";\r\n\r\n        // Set string value for backend endpoint\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: unitTime\r\n        }));\r\n\r\n        // Set string value for frontend\r\n        setMaintenanceCyclesData((prevState) => ({\r\n            ...prevState,\r\n            freq_unit_time_UI: event.target.value\r\n        }));\r\n    }\r\n    console.log(maintenanceCyclesData.lastServiceDate);\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceType\">Maintenance Type</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"maintenanceType\" value={maintenanceCyclesData.maintenanceType} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"responsible\">Responsible</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                        />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <div className='c-Input__Maintenance-frequency--input'>\r\n                            <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"freq_multiplier\" value={maintenanceCyclesData.freq_multiplier} />\r\n                            <select onFocus={() => setInputTouched(true)} type=\"text\" name=\"freq_unit_time\" onChange={handleTimeInputChange} value={maintenanceCyclesData.freq_unit_time_UI}>\r\n                                <option>Select Time Unit</option>\r\n                                <option>Weeks</option>\r\n                                <option>Months</option>\r\n                                <option>Years</option>\r\n                            </select>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"lastServiceDate\">Last Service Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setLastServiceDate}\r\n                            value={maintenanceCyclesData.lastServiceDate}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                        />\r\n                    </Col>\r\n                    {/* Filler */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* Maintenance Type */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"maintenanceType\">Maintenance Type</label>\r\n                        <input readOnly type=\"text\" name=\"maintenanceType\" value={maintenanceCyclesData.maintenanceType} />\r\n                    </Col>\r\n                    {/* Responsible */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"responsible\">Responsible</label>\r\n                        <input readOnly type=\"text\" name=\"responsible\" value={(() => {\r\n                            let personStr = \"\";\r\n                            maintenanceCyclesData.responsible?.forEach((data) => {\r\n                                personStr += data.label + \", \"\r\n                            });\r\n                            return personStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Maintenance Frequency */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"maintenanceFrequency\">Maintenance Frequency</label>\r\n                        <input readOnly type=\"text\" name=\"maintenanceFrequency\" value={maintenanceCyclesData.maintenanceFrequency} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Last Service Date */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"lastServiceDate\">Last Service Date</label>\r\n                        <input readOnly type=\"text\" name=\"lastServiceDate\" value={maintenanceCyclesData.lastServiceDate} />\r\n                    </Col>\r\n                    {/* Status */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"status\">Status</label>\r\n                        {\r\n                            maintenanceCyclesData.status\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Handler for deleting maintenance cycle \r\n    const handleDeleteCycle = (actionType) => {\r\n        if (actionType === \"deleteCycle\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this maintenance cycle?`;\r\n            const handler = (onClose) => handleDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setTimeout(() => {\r\n                        toast.success(<>Success!<br />Message: <b>Maintenance Cycle has been deleted!</b></>);\r\n                    }, 0);\r\n                    history.push(`/equipment-maintenance/manage-equipment/${equipmentID}`);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteRecord = (actionType) => {\r\n        if (actionType === \"deleteRecord\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to delete this maintenance record?`;\r\n            const handler = (onClose) => handleDelete(onClose);\r\n            const heading = `Confirm Delete?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleDelete = (onClose) => {\r\n            // Wrong endpoint need edit\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${equipmentID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance cycle has been deleted!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const maintenanceCyclesDataPlaceholder = [\r\n        {\r\n            id: 1,\r\n            serialNo: 1,\r\n            maintenanceType: \"Preventive\",\r\n            responsible: \"HengHeng\",\r\n            maintenanceFrequency: \"1 Month\",\r\n            lastServiceDate: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            status: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return \"active\";\r\n            })(),\r\n            action_manage: \"\",\r\n            action_delete: \"\"\r\n        },\r\n        {\r\n            id: 2,\r\n            serialNo: 2,\r\n            maintenanceType: \"Corrective\",\r\n            responsible: \"HengHeng\",\r\n            maintenanceFrequency: \"1 Month\",\r\n            lastServiceDate: dayjs(new Date()).format(\"MMMM D, YYYY h:mm A\"),\r\n            status: (() => {\r\n                // if (new Date() < new Date()) {\r\n                //     return \"active\";\r\n                // } \r\n                // TODO: algorithm to determine status\r\n                return \"almostDue\";\r\n            })(),\r\n            action_manage: \"\",\r\n            action_delete: \"\"\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance Cycle' activeLink={`/equipment-maintenance/manage-equipment/${equipmentID}/manage-cycle/${maintenanceID}`}>\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/equipment-maintenance\">Equipment Maintenance Program</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href={`/equipment-maintenance/manage-equipment/${equipmentID}`}>Manage Equipment</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Maintenance Cycle</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Maintenance cycle</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"editEquipment\"))}\r\n                                    type=\"button\"\r\n                                    className={\"c-Btn c-Btn--primary\"}\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n\r\n                    {/* Danger Zone */}\r\n                    <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                    <div className=\"c-Danger-zone__Row\">\r\n                        <div className='c-Danger-zone__Item'>\r\n                            <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleDeleteCycle('deleteCycle')}>Delete Cycle</button>\r\n                            <div className=\"c-Row__Info\">\r\n                                <p>This action cannot be undone</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Maintenance Records */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-top c-Main__Top\">\r\n                        <h1>Maintenance Records</h1>\r\n                        {/* Edit button section */}\r\n                        <button\r\n                            onClick={() => handleBtn(\"upload\")}\r\n                            type=\"button\"\r\n                            className={\"c-Btn c-Btn--primary\"}\r\n                        >\r\n                            Upload\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Maintenance Records Table section */}\r\n                    <div className=\"c-Manage-equipment-maintenance__Cycles-table c-Main__Cycles-table\">\r\n                        {\r\n                            maintenanceCyclesDataPlaceholder.length !== 0 ?\r\n                                <BootstrapTable\r\n                                    bordered={false}\r\n                                    keyField='serialNo'\r\n                                    data={maintenanceRecordsData}\r\n                                    columns={maintenanceRecordColumns}\r\n                                    pagination={paginationFactory()}\r\n                                />\r\n                                :\r\n                                \"No records found!\"\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageMaintenanceCycle;","import React, { useState, useEffect, useRef } from 'react';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport DocumentLayout from '../../layout/DocumentLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport { manageInductionTemplatesColumns, historyInductionTemplatesColumns } from '../../config/tableColumns';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport InductionFormSection from '../../common/InductionFormSection';\r\n\r\n\r\nconst CreateInductionForm = () => {\r\n    const history = useHistory();\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n\r\n    const [sectionsData, setSectionsData] = useState([\r\n        {\r\n            order: 1,\r\n            section: 'Section A: Introduction',\r\n            tasks: [\r\n                {\r\n                    order: 1,\r\n                    task: 'Introduction',\r\n                    descriptions: [\r\n                        // when the template is cloned and done\r\n                        { order: 1, description: 'Dress code', file: 'dress code picture', done: false, done_at: '1234' },\r\n                        { order: 3, description: 'Staff indentification', file: 'staff id card', done: true, done_at: '1234' },\r\n                        { order: 2, description: 'Working hours', done: true, done_at: '1234' }\r\n                    ]\r\n                },\r\n                {\r\n                    order: 2,\r\n                    task: 'Rules',\r\n                    descriptions: [\r\n                        // template only\r\n                        { order: 1, description: 'Attendance', file: 'attendance' }, // with a file\r\n                        { order: 2, description: 'Regulations' } // without a file\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n    ]);\r\n\r\n\r\n    // State declaration\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus);\r\n    return (\r\n        <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title=\"Create Induction Template\" activeLink=\"/settings\">\r\n            <div className=\"c-Create-induction-form c-Main\">\r\n                {/* Breadcrumb */}\r\n                <Breadcrumb className=\"c-Create-induction-form__Breadcrumb l-Breadcrumb\">\r\n                    <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings\">Settings</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/settings/induction-templates\">Induction Templates</Breadcrumb.Item>\r\n                    <Breadcrumb.Item href={`/settings/induction-templates/induction-template-versions/${1}`}>Manage Induction Versions</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Create Induction Form</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                {/* Top section */}\r\n                <div className=\"c-Create-induction-form__Top c-Main__Top\">\r\n                    <h1>Create Induction Form</h1>\r\n                    <button type=\"button\" className=\"c-Btn c-Btn--primary\">Create</button>\r\n                </div>\r\n\r\n                {/* Form section */}\r\n                <div className=\"c-Create-induction-form__Document c-Main__Document\">\r\n                    <h2>Template: IT Department Induction Forms</h2>\r\n                    <DocumentLayout isDocCollapsed={false}>\r\n                        {/* TODO: Verify class naming is correct */}\r\n                        <div className=\"c-Create-induction-form__Document-content\">\r\n                            {/* Title */}\r\n                            <h1>AY2021 Induction Form for IT Department</h1>\r\n                            {/* Document Header info */}\r\n                            <div className=\"c-Create-induction-form__Document-header c-Document__Header\">\r\n                                <div className=\"c-Create-indcution-form__Document-header--left c-Document__Header--left\">\r\n                                    <p>To bv approved by:</p>\r\n                                    <p>Submitted by:</p>\r\n                                    <p>Remarks</p>\r\n                                </div>\r\n                                <div className=\"c-Create__Document-header--right c-Document__Header--right\">\r\n                                    {/* <p>{docRejectedHeaderData.approved_by ? docRejectedHeaderData.approved_by : \"Failed to load data!\"}</p>\r\n                                    <p>{docRejectedHeaderData.created_by ? docRejectedHeaderData.created_by : \"Failed to load data!\"}</p>\r\n                                    {docRejectedHeaderData ? <textarea readOnly value={docRejectedHeaderData.remarks || ''}></textarea> : \"No remarks found!\"} */}\r\n                                </div>\r\n                            </div>\r\n                            {/* Induction sections */}\r\n                            {\r\n                                sectionsData.length !== 0 ?\r\n                                    sectionsData.map((sectionData, index) =>\r\n                                        <InductionFormSection\r\n                                            key={index}\r\n                                            formMode=\"edit\"\r\n                                            sectionData={sectionData}\r\n                                        />\r\n                                    )\r\n                                    :\r\n                                    \"No records found!\"\r\n                            }\r\n                        </div>\r\n                    </DocumentLayout>\r\n                </div>\r\n\r\n            </div>\r\n        </PageLayout>\r\n    )\r\n}\r\n\r\nexport default CreateInductionForm;","import axios from 'axios';\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport CustomConfirmAlert from '../../common/CustomConfirmAlert';\r\nimport ErrorCard from '../../common/ErrorCard';\r\nimport StatusPill from '../../common/StatusPill';\r\nimport config from '../../config/config';\r\nimport PageLayout from '../../layout/PageLayout';\r\nimport { getSideNavStatus } from '../../utilities/sideNavUtils.js';\r\nimport TokenManager from '../../utilities/tokenManager';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Select from \"react-select\";\r\nimport * as RiIcons from 'react-icons/ri';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst ManageLicense = ({ match }) => {\r\n    const token = TokenManager.getToken();\r\n    const decodedToken = TokenManager.getDecodedToken();\r\n    const userCompanyID = decodedToken.company_id;\r\n    const userID = decodedToken.employee_id;\r\n    const toastTiming = config.toastTiming;\r\n    const [rerender, setRerender] = useState(false); // value of state doesnt matter, only using it to force useffect to execute\r\n    const history = useHistory();\r\n    const fileRef = useRef(null);\r\n    const licenseID = match.params.licenseID;\r\n\r\n    // State declarations\r\n    const [userList, setUserList] = useState([]);\r\n    const options = [\r\n        { label: 'Swedish', value: 'Swedish' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n        { label: 'English', value: 'English' },\r\n    ];\r\n    const [loading, setLoading] = useState(false);\r\n    const [inputTouched, setInputTouched] = useState(false);\r\n    const [editData, setEditData] = useState({\r\n        users: ''\r\n    });\r\n    const [allUsernameData, setallUsernameData] = useState({\r\n        username: []\r\n    });\r\n    const [licenseData, setLicenseData] = useState({\r\n        license: 'Error',\r\n        licenseNo: 'Error',\r\n        expDate: 'NA',\r\n        responsibleExternalAgency: 'Error',\r\n        responsibleUser: [],\r\n        archived_at: null\r\n    });\r\n    const [renderErrorCard, setRenderErrorCard] = useState({\r\n        render: false,\r\n        errMsg: null,\r\n        errStatus: null,\r\n        errStatusText: null\r\n    });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [sideNavStatus, setSideNavStatus] = useState(getSideNavStatus); // Tracks if sidenav is collapsed\r\n    const [isEditor, setIsEditor] = useState(false);        // Track if user has rights to edit\r\n    const [archivedDocData, setArchivedDocData] = useState([]);\r\n    const [licenseFile, setLicenseFile] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Set equipment maintenance cycle data\r\n        (async () => {\r\n            try {\r\n                let tempLicenseData = [];\r\n                let tempPersonsData = [];\r\n\r\n                const resClausePermission = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/edit/m07_02/employees`);\r\n                console.log(resClausePermission);\r\n                tempPersonsData = resClausePermission.data.results;\r\n                console.log(tempPersonsData);\r\n\r\n                const resOneLicense = await axios.get(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}`);\r\n                console.log(resOneLicense);\r\n                tempLicenseData = resOneLicense.data.results;\r\n                console.log(tempLicenseData);\r\n\r\n                setLicenseData(() => {\r\n                    return {\r\n                        id: tempLicenseData.licence_id,\r\n                        license: tempLicenseData.licence_name,\r\n                        licenseNo: tempLicenseData.licence_number,\r\n                        expDate: tempLicenseData.expires_at,\r\n                        responsibleExternalAgency: tempLicenseData.external_organisation,\r\n                        archived_at: tempLicenseData.archived_at,\r\n                        responsibleUser: (() => {\r\n                            // eslint-disable-next-line array-callback-return\r\n                            return tempLicenseData.assignees.map((personData) => {\r\n                                return {\r\n                                    value: personData.employee_id,\r\n                                    label: personData.account.username,\r\n                                }\r\n                            });\r\n                        })(),\r\n                        status: (() => {\r\n                            let placeholder = '';\r\n                            if (placeholder === undefined) {\r\n                                return <p>Nil</p>\r\n                            }\r\n                            return <StatusPill type=\"active\" />\r\n                        })(),\r\n                    }\r\n                });\r\n\r\n                setUserList(() => {\r\n                    return tempPersonsData.map((data) => ({\r\n                        label: data.account.username,\r\n                        value: data.employee_id\r\n                    }));\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [licenseData.archivedAt]);\r\n\r\n    // Handler for deleting maintenance record \r\n    const handleDeleteCycle = (maintenanceID) => {\r\n        // Confirmation dialogue for deleting cycle\r\n        const message = `Are you sure you want to delete this maintenance cycle?`;\r\n        const handler = (onClose) => handleDelete(onClose, maintenanceID);\r\n        const heading = `Confirm Delete?`;\r\n        const type = \"alert\"\r\n        const data = {\r\n            message,\r\n            handler,\r\n            heading,\r\n            type\r\n        };\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n                return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n            }\r\n        });\r\n\r\n        const handleDelete = (onClose, maintenanceID) => {\r\n            axios.delete(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/equipment-maintenance-program/all-equipment/${licenseID}/all-maintenance/${maintenanceID}`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    toast.success(<>Success!<br />Message: <b>Maintenance cycle has been deleted!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleBtn = (buttonType) => {\r\n        if (buttonType === \"upload\") {\r\n            // Handler for upload button\r\n            fileRef.current.click();\r\n        }\r\n\r\n        if (buttonType === \"edit\") {\r\n            // Handler for edit button\r\n            setIsEditing(true);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentCancel\") {\r\n            // Handler for cancel button\r\n            setIsEditing(false);\r\n        }\r\n\r\n        if (buttonType === \"editEquipmentSave\") {\r\n            // Handler for save button\r\n            (async () => {\r\n                try {\r\n                    console.log(licenseData);\r\n                    const resUpdateLicense = await axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}`,\r\n                        licenseData, {\r\n                        headers: {\r\n                            \"Authorization\": `Bearer ${token}`\r\n                        }\r\n                    });\r\n                    console.log(resUpdateLicense);\r\n                    toast.success(<>Success!<br />Message: <b>Updated License details!</b></>);\r\n                    setIsEditing(false);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        }\r\n    }\r\n\r\n    // Handler for input \r\n    const handleInputChange = (event) => {\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: event.target.value\r\n        }));\r\n    }\r\n\r\n    // For file input\r\n\r\n    const handleFileInputChange = (event) => {\r\n        const fileObj = event.target.files[0];\r\n        console.log(fileObj);\r\n        setLicenseFile(() => fileObj);\r\n    };\r\n\r\n    const handleDeleteFile = () => {\r\n        setLicenseFile(() => null);\r\n    };\r\n\r\n    // Handler for select input change\r\n    const handleSelectInputChange = (event) => {\r\n        let selectValue = parseInt(event.target.value);\r\n\r\n        setEditData((prevState) => ({\r\n            ...prevState,\r\n            [event.target.name]: selectValue\r\n        }));\r\n    };\r\n\r\n    // Handler for adding / delete role\r\n    const handleEditResponsibleUsers = (handleType, roleID) => {\r\n        // axios.post(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/employee/${employeeID}/roles`, {\r\n        //     roles: (() => {\r\n        //         // handle add role\r\n        //         if (handleType === \"add\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             tempRoleArrList.push(editData.roles);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //         // handle delete role \r\n        //         if (handleType === \"delete\") {\r\n        //             let tempRoleArrList = userData.roles.map((data, index) => {\r\n        //                 return data.role_id\r\n        //             });\r\n        //             const indexOfToBeDeletedRoleID = tempRoleArrList.indexOf(roleID);\r\n        //             tempRoleArrList.splice(indexOfToBeDeletedRoleID, 1);\r\n        //             console.log(tempRoleArrList);\r\n        //             return tempRoleArrList;\r\n        //         }\r\n        //     })()\r\n        // }, {\r\n        //     headers: {\r\n        //         'Authorization': `Bearer ${token}`\r\n        //     }\r\n        // })\r\n        //     .then((res) => {\r\n        //         console.log(res);\r\n        //         setRerender((prevState) => !prevState);\r\n        //         toast.success(<>Success!<br />Message: <b>Roles updated!</b></>);\r\n        //     })\r\n        //     .catch((err) => {\r\n        //         console.log(err);\r\n        //         let errCode = \"Error!\";\r\n        //         let errMsg = \"Error!\"\r\n        //         if (err.response !== undefined) {\r\n        //             errCode = err.response.status;\r\n        //             errMsg = err.response.data.message;\r\n        //         }\r\n\r\n        //         toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n        //     });\r\n    };\r\n\r\n    // Dynamic Search filter\r\n    const filterSearch = (option, inputValue) => {\r\n        const { label, value } = option;\r\n        // looking if other options with same username are matching inputValue\r\n        const otherKey = options.filter(\r\n            opt => {\r\n                return opt.name === label && opt.value.includes(inputValue)\r\n            }\r\n        );\r\n        return value.includes(inputValue) || otherKey.length > 0;\r\n    };\r\n\r\n    // Handler for setting last service date \r\n    const setExpDate = (date) => {\r\n        console.log(date);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            expDate: date\r\n        }));\r\n    }\r\n\r\n    // Handler for input array\r\n    const handleInputArrayChange = (options) => {\r\n        console.log(options);\r\n        setLicenseData((prevState) => ({\r\n            ...prevState,\r\n            assignees: options\r\n        }));\r\n    }\r\n\r\n    // Only rendered when document is in editing mode\r\n    const renderInputFieldEditSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License/Permit/Certificate */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input c-Input--edit\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input c-Input--edit\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--edit\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <DateTimePicker\r\n                            onChange={setExpDate}\r\n                            value={licenseData.expDate}\r\n                            className=\"c-Form__Date\"\r\n                            format=\"dd/MM/y\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--edit\">\r\n                        <label htmlFor=\"responsibleExternalAgency\">Responsible External Agency</label>\r\n                        <input onFocus={() => setInputTouched(true)} type=\"text\" onChange={handleInputChange} name=\"responsibleExternalAgency\" value={licenseData.responsibleExternalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--edit\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <Select\r\n                            isMulti\r\n                            options={userList}\r\n                            placeholder=\"Select Users\"\r\n                            onChange={handleInputArrayChange}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Save & Cancel Buttons */}\r\n                <Row className=\"c-Manage-equipment__Btns\">\r\n                    {\r\n                        inputTouched ?\r\n                            <button onClick={() => (handleBtn(\"editEquipmentSave\"))} type=\"button\" className=\"c-Btn c-Btn--primary\">Save</button>\r\n                            :\r\n                            <button type=\"button\" disabled={true} className=\"c-Btn c-Btn--disabled\">{loading ? \"Loading...\" : \"Save\"}</button>\r\n                    }\r\n\r\n                    <button onClick={() => (handleBtn(\"editEquipmentCancel\"))} type=\"button\" className=\"c-Btn c-Btn--cancel\">Cancel</button>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Rendered when document is not in editing mode\r\n    const renderInputFieldSection = () => {\r\n        return (\r\n            <Container className=\"l-Manage-equipment__Inputs\">\r\n                {/* Row 1 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row1 l-Manage-equipment__Inputs--row\">\r\n                    {/* License/Permit/Certificate */}\r\n                    <Col className=\"c-Input c-Input__Name c-Input--read-only\">\r\n                        <label htmlFor=\"license\">License/Permit/Certificate</label>\r\n                        <input readOnly type=\"text\" name=\"license\" value={licenseData.license} />\r\n                    </Col>\r\n                    {/* License No. */}\r\n                    <Col className=\"c-Input c-Input__Category c-Input--read-only\">\r\n                        <label htmlFor=\"licenseNo\">License No.</label>\r\n                        <input readOnly type=\"text\" name=\"licenseNo\" value={licenseData.licenseNo} />\r\n                    </Col>\r\n                    {/* Exp. Date */}\r\n                    <Col className=\"c-Input c-Input__Ref-no c-Input--read-only\">\r\n                        <label htmlFor=\"expDate\">Exp. Date</label>\r\n                        <input readOnly type=\"text\" name=\"expDate\" value={licenseData.expDate} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Row 2 */}\r\n                <Row className=\"l-Manage-equipment__Inputs--row2 l-Manage-equipment__Inputs--row\">\r\n                    {/* Responsible External Agency */}\r\n                    <Col className=\"c-Input c-Input__Reg-no c-Input--read-only\">\r\n                        <label htmlFor=\"responsibleExternalAgency\">Responsible External Agency</label>\r\n                        <input readOnly type=\"text\" name=\"responsibleExternalAgency\" value={licenseData.responsibleExternalAgency} />\r\n                    </Col>\r\n                    {/* Responsible User */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"responsibleUser\">Responsible User</label>\r\n                        <input readOnly type=\"text\" name=\"responsibleUser\" value={(() => {\r\n                            let personStr = \"\";\r\n                            licenseData.responsibleUser?.forEach((data) => {\r\n                                personStr += data.label + \", \"\r\n                            });\r\n                            return personStr.slice(0, -2);;\r\n                        })()} />\r\n                    </Col>\r\n                    {/* Status */}\r\n                    <Col className=\"c-Input c-Input__Model-brand c-Input--read-only\">\r\n                        <label htmlFor=\"status\">Status</label>\r\n                        {\r\n                            licenseData.status\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    // Archived deleteable table placed here because 'action_delete' requires setArchivedDocData\r\n\r\n\r\n    // Handler for archiving equipment \r\n    const handleLicenseArchive = (actionType) => {\r\n        if (actionType === \"activated\") {\r\n            // Confirmation dialogue for activating this account\r\n            const message = `Are you sure you want to activate this license?`;\r\n            const handler = (onClose) => handleActivateLicense(onClose);\r\n            const heading = `Confirm Activate?`;\r\n            const type = \"primary\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        } else {\r\n            // Confirmation dialogue for deactivating this account\r\n            const message = `Are you sure you want to deactivate this license?`;\r\n            const handler = (onClose) => handleDeactivateLicense(onClose);\r\n            const heading = `Confirm Dectivate?`;\r\n            const type = \"alert\"\r\n            const data = {\r\n                message,\r\n                handler,\r\n                heading,\r\n                type\r\n            };\r\n            confirmAlert({\r\n                customUI: ({ onClose }) => {\r\n                    return <CustomConfirmAlert {...data} onClose={onClose} />;\r\n                }\r\n            });\r\n        }\r\n\r\n        const handleActivateLicense = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}/activate`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setLicenseData({\r\n                        ...licenseData,\r\n                        archivedAt: null,\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>License has been reactivated!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n\r\n        const handleDeactivateLicense = (onClose) => {\r\n            axios.put(`${process.env.REACT_APP_BASEURL}/company/${userCompanyID}/licence-registry/all-licences/${licenseID}/archive`, {}, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    setRerender((prevState) => !prevState);\r\n                    onClose();\r\n                    setLicenseData({\r\n                        ...licenseData,\r\n                        archivedAt: \"refresh\",\r\n                    })\r\n                    toast.success(<>Success!<br />Message: <b>License has been archived!</b></>);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    console.log(err.response);\r\n                    let errCode = \"Error!\";\r\n                    let errMsg = \"Error!\"\r\n                    if (err.response !== undefined) {\r\n                        errCode = err.response.status;\r\n                        errMsg = err.response.data.message;\r\n                    }\r\n                    onClose();\r\n                    toast.error(<>Error Code: <b>{errCode}</b><br />Message: <b>{errMsg}</b></>);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={toastTiming}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <PageLayout sideNavStatus={sideNavStatus} setSideNavStatus={setSideNavStatus} title='Equipment Maintenance' activeLink=\"/equipment-maintenance\">\r\n                <div className=\"c-Manage-equipment-maintenance c-Main\">\r\n                    {/* Breadcrumb */}\r\n                    <Breadcrumb className=\"c-Equipment-maintenance__Breadcrumb l-Breadcrumb\">\r\n                        <Breadcrumb.Item href=\"/dashboard\">Dashboard</Breadcrumb.Item>\r\n                        <Breadcrumb.Item href=\"/licenses\">Register of Permits, Licenses, Approvals & Certificates</Breadcrumb.Item>\r\n                        <Breadcrumb.Item active>Manage Permits/Licenses/Certificates</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    {/* Top section */}\r\n                    <div className=\"c-Manage-equipment__Top c-Main__Top\">\r\n                        <h1>Manage Permits/Licenses/Certificates</h1>\r\n                        {/* Edit button section */}\r\n                        {\r\n                            isEditing || renderErrorCard.render ?\r\n                                null :\r\n                                <button\r\n                                    onClick={() => (handleBtn(\"edit\"))}\r\n                                    type=\"button\"\r\n                                    className={\"c-Btn c-Btn--primary\"}\r\n                                >\r\n                                    Edit\r\n                                </button>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        renderErrorCard.render ?\r\n                            <ErrorCard errMsg={renderErrorCard.errMsg} errStatus={renderErrorCard.errStatus} errStatusText={renderErrorCard.errStatusText} />\r\n                            :\r\n                            <>\r\n                                {/* Equipment input fields section */}\r\n                                {\r\n                                    isEditing ?\r\n                                        renderInputFieldEditSection()\r\n                                        :\r\n                                        renderInputFieldSection()\r\n                                }\r\n                            </>\r\n                    }\r\n                    {/* File Upload */}\r\n                        {/* Upload Button */}\r\n                        <div className=\"c-Manage-equipment__Mid c-Main__Top c-File-upload\">\r\n                            <div className=\"c-Manage-equipment__File\">\r\n                                {\r\n                                    licenseFile ?\r\n                                        <>\r\n                                            <p>{licenseFile.name}</p>\r\n                                            <IconContext.Provider value={{ color: \"#DC3545\", size: \"21px\" }}>\r\n                                                <RiIcons.RiDeleteBin7Line className=\"c-File-upload__Bin\" onClick={() => handleDeleteFile()} />\r\n                                            </IconContext.Provider>\r\n                                        </>\r\n                                        : <p>No File Detected.</p>\r\n                                }\r\n                            </div>\r\n                            <button\r\n                                onClick={() => (handleBtn(\"upload\"))}\r\n                                type=\"button\"\r\n                                className={\"c-Btn c-Btn--primary\"}\r\n                            >\r\n                                Upload\r\n                            </button>\r\n                            <input className=\"c-Manage-equipment__File-input c-File-select__Raw\" type=\"file\" ref={fileRef} onChange={handleFileInputChange} />\r\n                        </div>\r\n\r\n                    {/* Danger Zone */}\r\n                    <h2 className=\"c-Danger-zone__Title\">Danger Zone</h2>\r\n                    <div className=\"c-Danger-zone__Row\">\r\n                        {\r\n                            licenseData.archived_at === null ?\r\n                                <>\r\n                                    <div className='c-Danger-zone__Item'>\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--alert-border\" onClick={() => handleLicenseArchive(\"deactivated\")}>Archive Permits/Licenses/Certificates</button>\r\n                                        <div className=\"c-Row__Info\">\r\n                                            <p>Perfoming this action will archive this permit/license/certificate</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </> :\r\n                                <>\r\n                                    <div className='c-Danger-zone__Item'>\r\n                                        <button type=\"button\" className=\"c-Btn c-Btn--primary-border\" onClick={() => handleLicenseArchive(\"activated\")}>Unarchive Permits/Licenses/Certificates</button>\r\n                                        <div className=\"c-Row__Info\">\r\n                                            <p>Perfoming this action will unarchive this permit/license/certificate </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </PageLayout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageLicense;","// Imports\r\n// npm packages\r\nimport React from 'react';\r\nimport { Route, BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\n\r\n// React Components\r\nimport Login from './pages/Login';\r\nimport CreateAccount from './pages/CreateAccount';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Announcements from './pages/Announcements/Announcements';\r\nimport ViewAnnouncements from './pages/Announcements/ViewAnnouncements';\r\nimport CreateAnnouncements from './pages/Announcements/CreateAnnouncement';\r\nimport Swot from './pages/Swot/Swot';\r\nimport SwotArchived from './pages/Swot/SwotArchived';\r\nimport InterestedParty from './pages/InterestedParty/InterestedParty';\r\nimport InterestedPartyArchived from './pages/InterestedParty/InterestedPartyArchived';\r\nimport ScopeOfQMS from './pages/ScopeOfQMS/ScopeOfQMS';\r\nimport ScopeOfQMSArchived from './pages/ScopeOfQMS/ScopeOfQMSArchived';\r\nimport CompanyPolicy from './pages/CompanyPolicy/CompanyPolicy';\r\nimport CompanyPolicyArchived from './pages/CompanyPolicy/CompanyPolicyArchived';\r\nimport RespNAuthority from './pages/RespNAuthority/RespNAuthority';\r\nimport RespNAuthorityAddRole from './pages/RespNAuthority/RespNAuthorityAddRole';\r\nimport RespNAuthorityManageRole from './pages/RespNAuthority/RespNAuthorityManageRole';\r\nimport RespNAuthorityAddChart from './pages/RespNAuthority/RespNAuthorityAddChart';\r\nimport RespNAuthorityManageChart from './pages/RespNAuthority/RespNAuthorityManageChart';\r\nimport RiskNOpp from './pages/RiskNOpp/RiskNOpp';\r\nimport ObjAchivProgram from './pages/ObjAchivProgram/ObjAchivProgram';\r\nimport ObjAchivProgramArchived from './pages/ObjAchivProgram/ObjAchivProgramArchived';\r\nimport Settings from './pages/Settings';\r\nimport ManageAccount from './pages/ManageAccount';\r\nimport ManageUsers from './pages/ManageUsers';\r\nimport ManageUser from './pages/ManageUser';\r\nimport PageNotFound from './pages/PageNotFound';\r\nimport RiskNOppArchived from './pages/RiskNOpp/RiskNOppArchived';\r\nimport ManageInvites from './pages/ManageInvites';\r\nimport ManageOrganization from './pages/ManageOrganization';\r\nimport ForgotPassword from './pages/ForgotPassword/ForgotPassword';\r\nimport ChangePassword from './pages/ForgotPassword/ChangePassword';\r\nimport EquipmentMaintenance from './pages/EquipmentMaintenance/EquipmentMaintenance';\r\nimport ManageEquipmentMaintenance from './pages/EquipmentMaintenance/ManageEquipmentMaintenance';\r\nimport AddEquipmentMaintenance from './pages/EquipmentMaintenance/AddEquipmentMaintenance';\r\nimport AddEquipmentCategory from './pages/EquipmentMaintenance/AddEquipmentCategory';\r\nimport ManageEquipmentCategory from './pages/EquipmentMaintenance/ManageEquipmentCategory';\r\nimport Licenses from './pages/PermitLicenses/Licenses';\r\nimport AddLicense from './pages/PermitLicenses/AddLicense';\r\n\r\n// Other imports\r\nimport TokenManager from './utilities/tokenManager';\r\nimport ManageInductionTemplates from './pages/InductionForm/ManageInductionTemplates';\r\nimport ManageInductionVersions from './pages/InductionForm/ManageInductionVersions';\r\nimport ManageInductionForm from './pages/InductionForm/ManageInductionForm';\r\nimport MyTraining from './pages/Training/MyTraining';\r\nimport ManageMyTrainingRecord from './pages/Training/ManageMyTrainingRecord';\r\nimport PostEvaluationForm from './pages/Training/PostEvaluationForm';\r\nimport CreateTrainingRequest from './pages/Training/CreateTrainingRequest';\r\nimport ManageTrainings from './pages/Training/ManageTrainings';\r\nimport ManagePostEvaluationTemplates from './pages/Training/ManagePostEvaluationTemplates';\r\nimport CreateEvaluationTemplate from './pages/Training/CreateEvaluationTemplate';\r\nimport ManageMyTrainingRequest from './pages/Training/ManageMyTrainingRequest';\r\nimport ManageTrainingRecord from './pages/Training/ManageTrainingRecord';\r\nimport ManageTrainingRequest from './pages/Training/ManageTrainingRequest';\r\nimport ManageEvaluationTemplate from './pages/Training/ManageEvaluationTemplate';\r\nimport AddMaintenanceCycle from './pages/EquipmentMaintenance/AddMaintenanceCycle';\r\nimport ManageMaintenanceCycle from './pages/EquipmentMaintenance/ManageMaintenanceCycle';\r\nimport CreateInductionForm from './pages/InductionForm/CreateInductionForm';\r\nimport ManageLicense from './pages/PermitLicenses/ManageLicense';\r\n\r\n// Component\r\nconst Routes = () => {\r\n    // Guard to check if user has token\r\n    const authGuard = (Component) => (props) => {\r\n        const token = TokenManager.getToken();\r\n        if (!token) {\r\n            return (<Redirect to=\"/login\" {...props} />);\r\n        } else {\r\n            return (<Component {...props} />);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Router >\r\n            <Switch>\r\n                <Route path=\"/login\" render={() => <Login />} />\r\n                <Route path=\"/forgot-password\" render={() => <ForgotPassword />} />\r\n                <Route path=\"/change-password/:username/:otp\" render={(props) => <ChangePassword {...props} />} />\r\n                <Route path=\"/create-account/:token\" render={(props) => <CreateAccount {...props} />} />\r\n                <Route exact path=\"/\">\r\n                    <Redirect to=\"/dashboard\" />\r\n                </Route>\r\n                <Route path=\"/dashboard\" render={(props) => authGuard(Dashboard)(props)} />\r\n                <Route exact path=\"/announcements\" render={(props) => authGuard(Announcements)(props)} />\r\n                <Route path=\"/announcements/view/:aID\" render={(props) => authGuard(ViewAnnouncements)(props)} />\r\n                <Route path=\"/announcements/create\" render={(props) => authGuard(CreateAnnouncements)(props)} />\r\n                <Route exact path=\"/swot\" render={(props) => authGuard(Swot)(props)} />\r\n                <Route path=\"/swot/archived/:swotID\" render={(props) => authGuard(SwotArchived)(props)} />\r\n                <Route exact path=\"/interested-party\" render={(props) => authGuard(InterestedParty)(props)} />\r\n                <Route path=\"/interested-party/archived/:ipID\" render={(props) => authGuard(InterestedPartyArchived)(props)} />\r\n                <Route exact path=\"/scope-of-qms\" render={(props) => authGuard(ScopeOfQMS)(props)} />\r\n                <Route path=\"/scope-of-qms/archived/:scopeOfQMSID\" render={(props) => authGuard(ScopeOfQMSArchived)(props)} />\r\n                <Route exact path=\"/company-policy\" render={(props) => authGuard(CompanyPolicy)(props)} />\r\n                <Route path=\"/company-policy/archived/:companyPolicyID\" render={(props) => authGuard(CompanyPolicyArchived)(props)} />\r\n                <Route exact path=\"/responsibility-n-authority\" render={(props) => authGuard(RespNAuthority)(props)} />\r\n                <Route path=\"/responsibility-n-authority/add-org-chart\" render={(props) => authGuard(RespNAuthorityAddChart)(props)} />\r\n                <Route path=\"/responsibility-n-authority/manage-org-chart/:orgChartID\" render={(props) => authGuard(RespNAuthorityManageChart)(props)} />\r\n                <Route path=\"/responsibility-n-authority/add-role\" render={(props) => authGuard(RespNAuthorityAddRole)(props)} />\r\n                <Route path=\"/responsibility-n-authority/manage-role/:roleID\" render={(props) => authGuard(RespNAuthorityManageRole)(props)} />\r\n                <Route exact path=\"/risk-n-opportunity\" render={(props) => authGuard(RiskNOpp)(props)} />\r\n                <Route path=\"/risk-n-opportunity/archived/:rnoID\" render={(props) => authGuard(RiskNOppArchived)(props)} />\r\n                <Route exact path=\"/objective-achievement-program\" render={(props) => authGuard(ObjAchivProgram)(props)} />\r\n                <Route path=\"/objective-achievement-program/archived/:oapID\" render={(props) => authGuard(ObjAchivProgramArchived)(props)} />\r\n                <Route exact path=\"/equipment-maintenance\" render={(props) => authGuard(EquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID\" render={(props) => authGuard(ManageEquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/add-equipment\" render={(props) => authGuard(AddEquipmentMaintenance)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/add-category\" render={(props) => authGuard(AddEquipmentCategory)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID/add-cycle\" render={(props) => authGuard(AddMaintenanceCycle)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-equipment/:emID/manage-cycle/:maintenanceID\" render={(props) => authGuard(ManageMaintenanceCycle)(props)} />\r\n                <Route exact path=\"/equipment-maintenance/manage-category/:catID\" render={(props) => authGuard(ManageEquipmentCategory)(props)} />\r\n                <Route exact path=\"/licenses\" render={(props) => authGuard(Licenses)(props)} />\r\n                <Route exact path=\"/licenses/add-license\" render={(props) => authGuard(AddLicense)(props)} />\r\n                <Route exact path=\"/licenses/manage-license/:licenseID\" render={(props) => authGuard(ManageLicense)(props)} />\r\n                <Route exact path=\"/training\" render={(props) => authGuard(MyTraining)(props)} />\r\n                <Route exact path=\"/training/training-record/manage/:trainingRecordID\" render={(props) => authGuard(ManageMyTrainingRecord)(props)} />\r\n                <Route exact path=\"/training/training-request/manage/:trainingReqID\" render={(props) => authGuard(ManageMyTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/training-record/manage/:trainingRecordID/post-training-evaluation\" render={(props) => authGuard(PostEvaluationForm)(props)} />\r\n                <Route exact path=\"/training/training-request/create\" render={(props) => authGuard(CreateTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/manage\" render={(props) => authGuard(ManageTrainings)(props)}/>\r\n                <Route exact path=\"/training/manage/training-record/manage/:trainingID\" render={(props) => authGuard(ManageTrainingRecord)(props)} />\r\n                <Route exact path=\"/training/manage/training-record/manage/:trainingID/post-training-evaluation\" render={(props) => authGuard(PostEvaluationForm)(props)} />\r\n                <Route exact path=\"/training/manage/training-request/manage/:trainingID\" render={(props) => authGuard(ManageTrainingRequest)(props)} />\r\n                <Route exact path=\"/training/manage/post-evaluation-templates\" render={(props) => authGuard(ManagePostEvaluationTemplates)(props)} />\r\n                <Route exact path=\"/training/manage/post-evaluation-templates/manage/:templateID\" render={(props) => authGuard(ManageEvaluationTemplate)(props)} />\r\n                <Route exact path=\"/training/manage/post-evaluation-templates/create\" render={(props) => authGuard(CreateEvaluationTemplate)(props)} />\r\n                <Route exact path=\"/settings\" render={(props) => authGuard(Settings)(props)} />\r\n                <Route path=\"/settings/manage-account\" render={(props) => authGuard(ManageAccount)(props)} />\r\n                <Route exact path=\"/settings/manage-users\" render={(props) => authGuard(ManageUsers)(props)} />\r\n                <Route path=\"/settings/manage-users/manage-user/:employeeID\" render={(props) => authGuard(ManageUser)(props)} />\r\n                <Route path=\"/settings/manage-organization\" render={(props) => authGuard(ManageOrganization)(props)} />\r\n                <Route path=\"/settings/manage-invites\" render={(props) => authGuard(ManageInvites)(props)} />\r\n                <Route exact path=\"/settings/induction-templates\" render={(props) => authGuard(ManageInductionTemplates)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID\" render={(props) => authGuard(ManageInductionVersions)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID/create\" render={(props) => authGuard(CreateInductionForm)(props)} />\r\n                <Route exact path=\"/settings/induction-templates/induction-template-versions/:templateID/manage/:formID\" render={(props) => authGuard(ManageInductionForm)(props)} />\r\n                <Route path=\"*\" render={() => <PageNotFound />} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default Routes;\r\n","// import React from 'react';\r\n\r\n// // This class component can only be written in class format,\r\n// // purpose of this is to show a friendly message to users\r\n// // if there is an error with the app e.g. api call fail\r\n// // However, they do NOT catch all types of errors\r\n// // More information here: https://reactjs.org/docs/error-boundaries.html\r\n\r\nimport React from \"react\";\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    state = { hasError: false };\r\n\r\n  static getDerivedStateFromError(error) {\r\n    console.log(error);\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      \r\n      // You can render any custom fallback UI\r\n      return (\r\n        <div className=\"c-Page-not-found\">\r\n            <div className=\"c-Page-not-found__Alert-box\">\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n                    <p>Something went wrong, try again later!</p>\r\n                </Alert>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"c-Loading\">\r\n            <Spinner animation=\"border\" role=\"status\" variant=\"secondary\"/>\r\n            <p>Loading</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Routes from './Routes.js';\r\nimport ErrorBoundary from \"./pages/ErrorBoundary\";\r\nimport axios from 'axios';\r\nimport TokenManager from './utilities/tokenManager';\r\nimport ErrorCard from './common/ErrorCard.js';\r\nimport Loading from './common/Loading.js';\r\n\r\nconst App = () => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(false);\r\n\r\n    const verifyUser = useCallback(async () => {\r\n        setLoading(() => true);\r\n        await getRefreshToken();\r\n        setLoading(() => false);\r\n    }, []);\r\n\r\n    const getRefreshToken = async () => {\r\n        try {\r\n            console.log(\"attempted to refresh token again\");\r\n            axios.defaults.withCredentials = true;\r\n            const res = await axios.post(`${process.env.REACT_APP_BASEURL}/refresh`, {}, { withCredentials: true });\r\n            console.log(res);\r\n            if (res.status === 200) {\r\n                const accessToken = res.data.results.token;\r\n\r\n                TokenManager.setToken(accessToken);\r\n                axios.defaults.headers.common['Authorization'] = `bearer ${accessToken}`;\r\n\r\n                // call refreshToken every 30 minutes to renew the authentication token.\r\n                setTimeout(getRefreshToken, 30 * 60 * 1000);\r\n            } else {\r\n                TokenManager.logout();\r\n            }\r\n            setError(() => false);\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error.response?.status !== 401) {\r\n                setError(() => true);\r\n                TokenManager.logout();\r\n            }\r\n            TokenManager.setMessage(error.response?.data.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        verifyUser();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <ErrorBoundary>\r\n                {\r\n                    error ?\r\n                        <ErrorCard />\r\n                        :\r\n                        loading ?\r\n                            <Loading /> :\r\n                            <Routes />\r\n                }\r\n            </ErrorBoundary>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport './assets/scss/main.scss';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport '../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById('eISO-root')\r\n);"],"sourceRoot":""}